var oH=Object.defineProperty;var aH=(t,e,n)=>e in t?oH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D$=(t,e,n)=>(aH(t,typeof e!="symbol"?e+"":e,n),n),N$=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Nh=(t,e,n)=>(N$(t,e,"read from private field"),n?n.call(t):e.get(t)),Jm=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},H$=(t,e,n,o)=>(N$(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n);var D0=(t,e,n)=>(N$(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function sH(t,e){const n=Object.create(null),o=t.split(",");for(let a=0;a<o.length;a++)n[o[a]]=!0;return e?a=>!!n[a.toLowerCase()]:a=>!!n[a]}function w4(t){if(ea(t)){const e={};for(let n=0;n<t.length;n++){const o=t[n],a=Fd(o)?cH(o):w4(o);if(a)for(const s in a)e[s]=a[s]}return e}else{if(Fd(t))return t;if(Pc(t))return t}}const rH=/;(?![^(]*\))/g,iH=/:([^]+)/,lH=/\/\*.*?\*\//gs;function cH(t){const e={};return t.replace(lH,"").split(rH).forEach(n=>{if(n){const o=n.split(iH);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function b4(t){let e="";if(Fd(t))e=t;else if(ea(t))for(let n=0;n<t.length;n++){const o=b4(t[n]);o&&(e+=o+" ")}else if(Pc(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const uH={},dH=[],$4=()=>{},pH=()=>!1,hH=/^on[^a-z]/,fH=t=>hH.test(t),Pk=Object.assign,mH=Object.prototype.hasOwnProperty,B2=(t,e)=>mH.call(t,e),ea=Array.isArray,Rv=t=>L2(t)==="[object Map]",gH=t=>L2(t)==="[object Set]",Sc=t=>typeof t=="function",Fd=t=>typeof t=="string",x4=t=>typeof t=="symbol",Pc=t=>t!==null&&typeof t=="object",vH=t=>Pc(t)&&Sc(t.then)&&Sc(t.catch),yH=Object.prototype.toString,L2=t=>yH.call(t),wH=t=>L2(t).slice(8,-1),bH=t=>L2(t)==="[object Object]",_4=t=>Fd(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qv=(t,e)=>!Object.is(t,e),$H=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},xH=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Rr;class _H{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Rr,!e&&Rr&&(this.index=(Rr.scopes||(Rr.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Rr;try{return Rr=this,e()}finally{Rr=n}}}on(){Rr=this}off(){Rr=this.parent}stop(e){if(this.active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this.active=!1}}}function Ek(t){return new _H(t)}function VH(t,e=Rr){e&&e.active&&e.effects.push(t)}function CH(){return Rr}function SH(t){Rr&&Rr.cleanups.push(t)}const V4=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Tk=t=>(t.w&Dd)>0,Rk=t=>(t.n&Dd)>0,PH=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Dd},EH=t=>{const{deps:e}=t;if(e.length){let n=0;for(let o=0;o<e.length;o++){const a=e[o];Tk(a)&&!Rk(a)?a.delete(t):e[n++]=a,a.w&=~Dd,a.n&=~Dd}e.length=n}},KV=new WeakMap;let yv=0,Dd=1;const YV=30;let hl;const fh=Symbol(""),XV=Symbol("");class Ok{constructor(e,n=null,o){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,VH(this,o)}run(){if(!this.active)return this.fn();let e=hl,n=Od;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=hl,hl=this,Od=!0,Dd=1<<++yv,yv<=YV?PH(this):a8(this),this.fn()}finally{yv<=YV&&EH(this),Dd=1<<--yv,hl=this.parent,Od=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){hl===this?this.deferStop=!0:this.active&&(a8(this),this.onStop&&this.onStop(),this.active=!1)}}function a8(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Od=!0;const kk=[];function TH(){kk.push(Od),Od=!1}function RH(){const t=kk.pop();Od=t===void 0?!0:t}function $l(t,e,n){if(Od&&hl){let o=KV.get(t);o||KV.set(t,o=new Map);let a=o.get(n);a||o.set(n,a=V4()),Ak(a)}}function Ak(t,e){let n=!1;yv<=YV?Rk(t)||(t.n|=Dd,n=!Tk(t)):n=!t.has(hl),n&&(t.add(hl),hl.deps.push(t))}function Nd(t,e,n,o,a,s){const r=KV.get(t);if(!r)return;let i=[];if(e==="clear")i=[...r.values()];else if(n==="length"&&ea(t)){const l=xH(o);r.forEach((c,u)=>{(u==="length"||u>=l)&&i.push(c)})}else switch(n!==void 0&&i.push(r.get(n)),e){case"add":ea(t)?_4(n)&&i.push(r.get("length")):(i.push(r.get(fh)),Rv(t)&&i.push(r.get(XV)));break;case"delete":ea(t)||(i.push(r.get(fh)),Rv(t)&&i.push(r.get(XV)));break;case"set":Rv(t)&&i.push(r.get(fh));break}if(i.length===1)i[0]&&QV(i[0]);else{const l=[];for(const c of i)c&&l.push(...c);QV(V4(l))}}function QV(t,e){const n=ea(t)?t:[...t];for(const o of n)o.computed&&s8(o);for(const o of n)o.computed||s8(o)}function s8(t,e){(t!==hl||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const OH=sH("__proto__,__v_isRef,__isVue"),Ik=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(x4)),kH=Mk(),AH=Mk(!0),r8=IH();function IH(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const o=Tn(this);for(let s=0,r=this.length;s<r;s++)$l(o,"get",s+"");const a=o[e](...n);return a===-1||a===!1?o[e](...n.map(Tn)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){TH();const o=Tn(this)[e].apply(this,n);return RH(),o}}),t}function Mk(t=!1,e=!1){return function(o,a,s){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&s===(t?e?QH:Nk:e?XH:Dk).get(o))return o;const r=ea(o);if(!t&&r&&B2(r8,a))return Reflect.get(r8,a,s);const i=Reflect.get(o,a,s);return(x4(a)?Ik.has(a):OH(a))||(t||$l(o,"get",a),e)?i:ts(i)?r&&_4(a)?i:i.value:Pc(i)?t?Hk(i):S4(i):i}}const MH=FH();function FH(t=!1){return function(n,o,a,s){let r=n[o];if(Pm(r)&&ts(r)&&!ts(a))return!1;if(!t&&(!Ob(a)&&!Pm(a)&&(r=Tn(r),a=Tn(a)),!ea(n)&&ts(r)&&!ts(a)))return r.value=a,!0;const i=ea(n)&&_4(o)?Number(o)<n.length:B2(n,o),l=Reflect.set(n,o,a,s);return n===Tn(s)&&(i?qv(a,r)&&Nd(n,"set",o,a):Nd(n,"add",o,a)),l}}function DH(t,e){const n=B2(t,e);t[e];const o=Reflect.deleteProperty(t,e);return o&&n&&Nd(t,"delete",e,void 0),o}function NH(t,e){const n=Reflect.has(t,e);return(!x4(e)||!Ik.has(e))&&$l(t,"has",e),n}function HH(t){return $l(t,"iterate",ea(t)?"length":fh),Reflect.ownKeys(t)}const BH={get:kH,set:MH,deleteProperty:DH,has:NH,ownKeys:HH},LH={get:AH,set(t,e){return!0},deleteProperty(t,e){return!0}},C4=t=>t,U2=t=>Reflect.getPrototypeOf(t);function N0(t,e,n=!1,o=!1){t=t.__v_raw;const a=Tn(t),s=Tn(e);n||(e!==s&&$l(a,"get",e),$l(a,"get",s));const{has:r}=U2(a),i=o?C4:n?P4:e0;if(r.call(a,e))return i(t.get(e));if(r.call(a,s))return i(t.get(s));t!==a&&t.get(e)}function H0(t,e=!1){const n=this.__v_raw,o=Tn(n),a=Tn(t);return e||(t!==a&&$l(o,"has",t),$l(o,"has",a)),t===a?n.has(t):n.has(t)||n.has(a)}function B0(t,e=!1){return t=t.__v_raw,!e&&$l(Tn(t),"iterate",fh),Reflect.get(t,"size",t)}function i8(t){t=Tn(t);const e=Tn(this);return U2(e).has.call(e,t)||(e.add(t),Nd(e,"add",t,t)),this}function l8(t,e){e=Tn(e);const n=Tn(this),{has:o,get:a}=U2(n);let s=o.call(n,t);s||(t=Tn(t),s=o.call(n,t));const r=a.call(n,t);return n.set(t,e),s?qv(e,r)&&Nd(n,"set",t,e):Nd(n,"add",t,e),this}function c8(t){const e=Tn(this),{has:n,get:o}=U2(e);let a=n.call(e,t);a||(t=Tn(t),a=n.call(e,t)),o&&o.call(e,t);const s=e.delete(t);return a&&Nd(e,"delete",t,void 0),s}function u8(){const t=Tn(this),e=t.size!==0,n=t.clear();return e&&Nd(t,"clear",void 0,void 0),n}function L0(t,e){return function(o,a){const s=this,r=s.__v_raw,i=Tn(r),l=e?C4:t?P4:e0;return!t&&$l(i,"iterate",fh),r.forEach((c,u)=>o.call(a,l(c),l(u),s))}}function U0(t,e,n){return function(...o){const a=this.__v_raw,s=Tn(a),r=Rv(s),i=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,c=a[t](...o),u=n?C4:e?P4:e0;return!e&&$l(s,"iterate",l?XV:fh),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:i?[u(d[0]),u(d[1])]:u(d),done:p}},[Symbol.iterator](){return this}}}}function Uu(t){return function(...e){return t==="delete"?!1:this}}function UH(){const t={get(s){return N0(this,s)},get size(){return B0(this)},has:H0,add:i8,set:l8,delete:c8,clear:u8,forEach:L0(!1,!1)},e={get(s){return N0(this,s,!1,!0)},get size(){return B0(this)},has:H0,add:i8,set:l8,delete:c8,clear:u8,forEach:L0(!1,!0)},n={get(s){return N0(this,s,!0)},get size(){return B0(this,!0)},has(s){return H0.call(this,s,!0)},add:Uu("add"),set:Uu("set"),delete:Uu("delete"),clear:Uu("clear"),forEach:L0(!0,!1)},o={get(s){return N0(this,s,!0,!0)},get size(){return B0(this,!0)},has(s){return H0.call(this,s,!0)},add:Uu("add"),set:Uu("set"),delete:Uu("delete"),clear:Uu("clear"),forEach:L0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=U0(s,!1,!1),n[s]=U0(s,!0,!1),e[s]=U0(s,!1,!0),o[s]=U0(s,!0,!0)}),[t,n,e,o]}const[jH,zH,GH,WH]=UH();function Fk(t,e){const n=e?t?WH:GH:t?zH:jH;return(o,a,s)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?o:Reflect.get(B2(n,a)&&a in o?n:o,a,s)}const KH={get:Fk(!1,!1)},YH={get:Fk(!0,!1)},Dk=new WeakMap,XH=new WeakMap,Nk=new WeakMap,QH=new WeakMap;function ZH(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function JH(t){return t.__v_skip||!Object.isExtensible(t)?0:ZH(wH(t))}function S4(t){return Pm(t)?t:Bk(t,!1,BH,KH,Dk)}function Hk(t){return Bk(t,!0,LH,YH,Nk)}function Bk(t,e,n,o,a){if(!Pc(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=a.get(t);if(s)return s;const r=JH(t);if(r===0)return t;const i=new Proxy(t,r===2?o:n);return a.set(t,i),i}function kd(t){return Pm(t)?kd(t.__v_raw):!!(t&&t.__v_isReactive)}function Pm(t){return!!(t&&t.__v_isReadonly)}function Ob(t){return!!(t&&t.__v_isShallow)}function Lk(t){return kd(t)||Pm(t)}function Tn(t){const e=t&&t.__v_raw;return e?Tn(e):t}function kb(t){return $H(t,"__v_skip",!0),t}const e0=t=>Pc(t)?S4(t):t,P4=t=>Pc(t)?Hk(t):t;function Uk(t){Od&&hl&&(t=Tn(t),Ak(t.dep||(t.dep=V4())))}function jk(t,e){t=Tn(t),t.dep&&QV(t.dep)}function ts(t){return!!(t&&t.__v_isRef===!0)}function zk(t){return qH(t,!1)}function qH(t,e){return ts(t)?t:new eB(t,e)}class eB{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Tn(e),this._value=n?e:e0(e)}get value(){return Uk(this),this._value}set value(e){const n=this.__v_isShallow||Ob(e)||Pm(e);e=n?e:Tn(e),qv(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:e0(e),jk(this))}}function Gk(t){const e=ea(t)?new Array(t.length):{};for(const n in t)e[n]=Wk(t,n);return e}class tB{constructor(e,n,o){this._object=e,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Wk(t,e,n){const o=t[e];return ts(o)?o:new tB(t,e,n)}var Kk;class nB{constructor(e,n,o,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Kk]=!1,this._dirty=!0,this.effect=new Ok(e,()=>{this._dirty||(this._dirty=!0,jk(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=o}get value(){const e=Tn(this);return Uk(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Kk="__v_isReadonly";function oB(t,e,n=!1){let o,a;const s=Sc(t);return s?(o=t,a=$4):(o=t.get,a=t.set),new nB(o,a,s||!a,n)}function ym(t,e,n,o){let a;try{a=o?t(...o):t()}catch(s){Yk(s,e,n)}return a}function ZV(t,e,n,o){if(Sc(t)){const s=ym(t,e,n,o);return s&&vH(s)&&s.catch(r=>{Yk(r,e,n)}),s}const a=[];for(let s=0;s<t.length;s++)a.push(ZV(t[s],e,n,o));return a}function Yk(t,e,n,o=!0){const a=e?e.vnode:null;if(e){let s=e.parent;const r=e.proxy,i=n;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,r,i)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){ym(l,null,10,[t,r,i]);return}}aB(t,n,a,o)}function aB(t,e,n,o=!0){console.error(t)}let Ab=!1,JV=!1;const fl=[];let Vd=0;const wm=[];let xu=null,nh=0;const Xk=Promise.resolve();let E4=null;function sB(t){const e=E4||Xk;return t?e.then(this?t.bind(this):t):e}function rB(t){let e=Vd+1,n=fl.length;for(;e<n;){const o=e+n>>>1;t0(fl[o])<t?e=o+1:n=o}return e}function iB(t){(!fl.length||!fl.includes(t,Ab&&t.allowRecurse?Vd+1:Vd))&&(t.id==null?fl.push(t):fl.splice(rB(t.id),0,t),Qk())}function Qk(){!Ab&&!JV&&(JV=!0,E4=Xk.then(Zk))}function lB(t){ea(t)?wm.push(...t):(!xu||!xu.includes(t,t.allowRecurse?nh+1:nh))&&wm.push(t),Qk()}function cB(t){if(wm.length){const e=[...new Set(wm)];if(wm.length=0,xu){xu.push(...e);return}for(xu=e,xu.sort((n,o)=>t0(n)-t0(o)),nh=0;nh<xu.length;nh++)xu[nh]();xu=null,nh=0}}const t0=t=>t.id==null?1/0:t.id,uB=(t,e)=>{const n=t0(t)-t0(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Zk(t){JV=!1,Ab=!0,fl.sort(uB);const e=$4;try{for(Vd=0;Vd<fl.length;Vd++){const n=fl[Vd];n&&n.active!==!1&&ym(n,null,14)}}finally{Vd=0,fl.length=0,cB(),Ab=!1,E4=null,(fl.length||wm.length)&&Zk()}}let dh=null,dB=null;const pB=t=>t.__isSuspense;function hB(t,e){e&&e.pendingBranch?ea(t)?e.effects.push(...t):e.effects.push(t):lB(t)}const j0={};function fB(t,e,n){return mB(t,e,n)}function mB(t,e,{immediate:n,deep:o,flush:a,onTrack:s,onTrigger:r}=uH){const i=TB;let l,c=!1,u=!1;if(ts(t)?(l=()=>t.value,c=Ob(t)):kd(t)?(l=()=>t,o=!0):ea(t)?(u=!0,c=t.some(b=>kd(b)||Ob(b)),l=()=>t.map(b=>{if(ts(b))return b.value;if(kd(b))return mm(b);if(Sc(b))return ym(b,i,2)})):Sc(t)?e?l=()=>ym(t,i,2):l=()=>(d&&d(),ZV(t,i,3,[p])):l=$4,e&&o){const b=l;l=()=>mm(b())}let d,p=b=>{d=y.onStop=()=>{ym(b,i,4)}},f=u?new Array(t.length).fill(j0):j0;const g=()=>{if(y.active)if(e){const b=y.run();(o||c||(u?b.some((C,V)=>qv(C,f[V])):qv(b,f)))&&(d&&d(),ZV(e,i,3,[b,f===j0?void 0:u&&f[0]===j0?[]:f,p]),f=b)}else y.run()};g.allowRecurse=!!e;let v;a==="sync"?v=g:a==="post"?v=()=>d8(g,i):(g.pre=!0,v=()=>iB(g));const y=new Ok(l,v);return e?n?g():f=y.run():a==="post"?d8(y.run.bind(y),i):y.run(),()=>{y.stop()}}function mm(t,e){if(!Pc(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ts(t))mm(t.value,e);else if(ea(t))for(let n=0;n<t.length;n++)mm(t[n],e);else if(gH(t)||Rv(t))t.forEach(n=>{mm(n,e)});else if(bH(t))for(const n in t)mm(t[n],e);return t}const gB=Symbol();function vB(){return{app:null,config:{isNativeTag:pH,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}const d8=hB,yB=t=>t.__isTeleport,Jk=Symbol(void 0),wB=Symbol(void 0),bB=Symbol(void 0),$B=Symbol(void 0),cb=[];let gl=null;function wn(t=!1){cb.push(gl=t?null:[])}function xB(){cb.pop(),gl=cb[cb.length-1]||null}function _B(t){return t.dynamicChildren=gl||dH,xB(),gl&&gl.push(t),t}function bn(t,e,n,o,a,s){return _B(Ee(t,e,n,o,a,s,!0))}function VB(t){return t?t.__v_isVNode===!0:!1}const qk="__vInternal",eA=({key:t})=>t??null,ub=({ref:t,ref_key:e,ref_for:n})=>t!=null?Fd(t)||ts(t)||Sc(t)?{i:dh,r:t,k:e,f:!!n}:t:null;function Ee(t,e=null,n=null,o=0,a=null,s=t===Jk?0:1,r=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&eA(e),ref:e&&ub(e),scopeId:dB,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:dh};return i?(T4(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Fd(n)?8:16),!r&&gl&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&gl.push(l),l}const tA=CB;function CB(t,e=null,n=null,o=0,a=null,s=!1){if((!t||t===gB)&&(t=bB),VB(t)){const i=qV(t,e,!0);return n&&T4(i,n),!s&&gl&&(i.shapeFlag&6?gl[gl.indexOf(t)]=i:gl.push(i)),i.patchFlag|=-2,i}if(kB(t)&&(t=t.__vccOpts),e){e=SB(e);let{class:i,style:l}=e;i&&!Fd(i)&&(e.class=b4(i)),Pc(l)&&(Lk(l)&&!ea(l)&&(l=Pk({},l)),e.style=w4(l))}const r=Fd(t)?1:pB(t)?128:yB(t)?64:Pc(t)?4:Sc(t)?2:0;return Ee(t,e,n,o,a,r,s,!0)}function SB(t){return t?Lk(t)||qk in t?Pk({},t):t:null}function qV(t,e,n=!1){const{props:o,ref:a,patchFlag:s,children:r}=t,i=e?EB(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:i,key:i&&eA(i),ref:e&&e.ref?n&&a?ea(a)?a.concat(ub(e)):[a,ub(e)]:ub(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Jk?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qV(t.ssContent),ssFallback:t.ssFallback&&qV(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function PB(t=" ",e=0){return tA(wB,null,t,e)}function y0(t,e){const n=tA($B,null,t);return n.staticCount=e,n}function T4(t,e){let n=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(ea(e))n=16;else if(typeof e=="object")if(o&65){const a=e.default;a&&(a._c&&(a._d=!1),T4(t,a()),a._c&&(a._d=!0));return}else{n=32;const a=e._;!a&&!(qk in e)?e._ctx=dh:a===3&&dh&&(dh.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Sc(e)?(e={default:e,_ctx:dh},n=32):(e=String(e),o&64?(n=16,e=[PB(e)]):n=8);t.children=e,t.shapeFlag|=n}function EB(...t){const e={};for(let n=0;n<t.length;n++){const o=t[n];for(const a in o)if(a==="class")e.class!==o.class&&(e.class=b4([e.class,o.class]));else if(a==="style")e.style=w4([e.style,o.style]);else if(fH(a)){const s=e[a],r=o[a];r&&s!==r&&!(ea(s)&&s.includes(r))&&(e[a]=s?[].concat(s,r):r)}else a!==""&&(e[a]=o[a])}return e}vB();let TB=null;const RB=()=>dh;let OB=!1;function kB(t){return Sc(t)&&"__vccOpts"in t}const AB=(t,e)=>oB(t,e,OB);var nA=!1;/*!
  * pinia v2.0.26
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let oA;const j2=t=>oA=t,IB=Symbol();function eC(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ov;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ov||(Ov={}));function MB(){const t=Ek(!0),e=t.run(()=>zk({}));let n=[],o=[];const a=kb({install(s){j2(a),a._a=s,s.provide(IB,a),s.config.globalProperties.$pinia=a,o.forEach(r=>n.push(r)),o=[]},use(s){return!this._a&&!nA?o.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return a}const aA=()=>{};function p8(t,e,n,o=aA){t.push(e);const a=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),o())};return!n&&CH()&&SH(a),a}function Hh(t,...e){t.slice().forEach(n=>{n(...e)})}function tC(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,o)=>t.set(o,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n],a=t[n];eC(a)&&eC(o)&&t.hasOwnProperty(n)&&!ts(o)&&!kd(o)?t[n]=tC(a,o):t[n]=o}return t}const FB=Symbol();function DB(t){return!eC(t)||!t.hasOwnProperty(FB)}const{assign:gd}=Object;function NB(t){return!!(ts(t)&&t.effect)}function HB(t,e,n,o){const{state:a,actions:s,getters:r}=e,i=n.state.value[t];let l;function c(){i||(n.state.value[t]=a?a():{});const u=Gk(n.state.value[t]);return gd(u,s,Object.keys(r||{}).reduce((d,p)=>(d[p]=kb(AB(()=>{j2(n);const f=n._s.get(t);return r[p].call(f,f)})),d),{}))}return l=sA(t,c,e,n,o,!0),l.$reset=function(){const d=a?a():{};this.$patch(p=>{gd(p,d)})},l}function sA(t,e,n={},o,a,s){let r;const i=gd({actions:{}},n),l={deep:!0};let c,u,d=kb([]),p=kb([]),f;const g=o.state.value[t];!s&&!g&&(o.state.value[t]={}),zk({});let v;function y(S){let P;c=u=!1,typeof S=="function"?(S(o.state.value[t]),P={type:Ov.patchFunction,storeId:t,events:f}):(tC(o.state.value[t],S),P={type:Ov.patchObject,payload:S,storeId:t,events:f});const E=v=Symbol();sB().then(()=>{v===E&&(c=!0)}),u=!0,Hh(d,P,o.state.value[t])}const w=aA;function b(){r.stop(),d=[],p=[],o._s.delete(t)}function C(S,P){return function(){j2(o);const E=Array.from(arguments),O=[],I=[];function F(W){O.push(W)}function L(W){I.push(W)}Hh(p,{args:E,name:S,store:_,after:F,onError:L});let H;try{H=P.apply(this&&this.$id===t?this:_,E)}catch(W){throw Hh(I,W),W}return H instanceof Promise?H.then(W=>(Hh(O,W),W)).catch(W=>(Hh(I,W),Promise.reject(W))):(Hh(O,H),H)}}const V={_p:o,$id:t,$onAction:p8.bind(null,p),$patch:y,$reset:w,$subscribe(S,P={}){const E=p8(d,S,P.detached,()=>O()),O=r.run(()=>fB(()=>o.state.value[t],I=>{(P.flush==="sync"?u:c)&&S({storeId:t,type:Ov.direct,events:f},I)},gd({},l,P)));return E},$dispose:b},_=S4(V);o._s.set(t,_);const x=o._e.run(()=>(r=Ek(),r.run(()=>e())));for(const S in x){const P=x[S];if(ts(P)&&!NB(P)||kd(P))s||(g&&DB(P)&&(ts(P)?P.value=g[S]:tC(P,g[S])),o.state.value[t][S]=P);else if(typeof P=="function"){const E=C(S,P);x[S]=E,i.actions[S]=P}}return gd(_,x),gd(Tn(_),x),Object.defineProperty(_,"$state",{get:()=>o.state.value[t],set:S=>{y(P=>{gd(P,S)})}}),o._p.forEach(S=>{gd(_,r.run(()=>S({store:_,app:o._a,pinia:o,options:i})))}),g&&s&&n.hydrate&&n.hydrate(_.$state,g),c=!0,u=!0,_}function Um(t,e,n){let o,a;const s=typeof e=="function";typeof t=="string"?(o=t,a=s?n:e):(a=t,o=t.id);function r(i,l){const c=RB();return i=i||c&&void 0,i&&j2(i),i=oA,i._s.has(o)||(s?sA(o,e,a,i):HB(o,a,i)),i._s.get(o)}return r.$id=o,r}function z2(t){if(nA)return Gk(t);{t=Tn(t);const e={};for(const n in t){const o=t[n];(ts(o)||kd(o))&&(e[n]=Wk(t,n))}return e}}var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function o(){if(this instanceof o){var a=[null];a.push.apply(a,arguments);var s=Function.bind.apply(e,a);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),n}var nC={},BB={get exports(){return nC},set exports(t){nC=t}},Ib={},LB={get exports(){return Ib},set exports(t){Ib=t}},iA=function(e,n){return function(){for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];return e.apply(n,a)}},UB=iA,O4=Object.prototype.toString,k4=function(t){return function(e){var n=O4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Ph(t){return t=t.toLowerCase(),function(n){return k4(n)===t}}function A4(t){return Array.isArray(t)}function Mb(t){return typeof t>"u"}function jB(t){return t!==null&&!Mb(t)&&t.constructor!==null&&!Mb(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var lA=Ph("ArrayBuffer");function zB(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lA(t.buffer),e}function GB(t){return typeof t=="string"}function WB(t){return typeof t=="number"}function cA(t){return t!==null&&typeof t=="object"}function db(t){if(k4(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var KB=Ph("Date"),YB=Ph("File"),XB=Ph("Blob"),QB=Ph("FileList");function I4(t){return O4.call(t)==="[object Function]"}function ZB(t){return cA(t)&&I4(t.pipe)}function JB(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||O4.call(t)===e||I4(t.toString)&&t.toString()===e)}var qB=Ph("URLSearchParams");function eL(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function tL(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function M4(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),A4(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function oC(){var t={};function e(a,s){db(t[s])&&db(a)?t[s]=oC(t[s],a):db(a)?t[s]=oC({},a):A4(a)?t[s]=a.slice():t[s]=a}for(var n=0,o=arguments.length;n<o;n++)M4(arguments[n],e);return t}function nL(t,e,n){return M4(e,function(a,s){n&&typeof a=="function"?t[s]=UB(a,n):t[s]=a}),t}function oL(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function aL(t,e,n,o){t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function sL(t,e,n){var o,a,s,r={};e=e||{};do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)s=o[a],r[s]||(e[s]=t[s],r[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function rL(t,e,n){t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;var o=t.indexOf(e,n);return o!==-1&&o===n}function iL(t){if(!t)return null;var e=t.length;if(Mb(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n}var lL=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Ia={isArray:A4,isArrayBuffer:lA,isBuffer:jB,isFormData:JB,isArrayBufferView:zB,isString:GB,isNumber:WB,isObject:cA,isPlainObject:db,isUndefined:Mb,isDate:KB,isFile:YB,isBlob:XB,isFunction:I4,isStream:ZB,isURLSearchParams:qB,isStandardBrowserEnv:tL,forEach:M4,merge:oC,extend:nL,trim:eL,stripBOM:oL,inherits:aL,toFlatObject:sL,kindOf:k4,kindOfTest:Ph,endsWith:rL,toArray:iL,isTypedArray:lL,isFileList:QB},Bh=Ia;function h8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var uA=function(e,n,o){if(!n)return e;var a;if(o)a=o(n);else if(Bh.isURLSearchParams(n))a=n.toString();else{var s=[];Bh.forEach(n,function(l,c){l===null||typeof l>"u"||(Bh.isArray(l)?c=c+"[]":l=[l],Bh.forEach(l,function(d){Bh.isDate(d)?d=d.toISOString():Bh.isObject(d)&&(d=JSON.stringify(d)),s.push(h8(c)+"="+h8(d))}))}),a=s.join("&")}if(a){var r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e},cL=Ia;function G2(){this.handlers=[]}G2.prototype.use=function(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};G2.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};G2.prototype.forEach=function(e){cL.forEach(this.handlers,function(o){o!==null&&e(o)})};var uL=G2,dL=Ia,pL=function(e,n){dL.forEach(e,function(a,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=a,delete e[s])})},dA=Ia;function Em(t,e,n,o,a){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a)}dA.inherits(Em,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var pA=Em.prototype,hA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){hA[t]={value:t}});Object.defineProperties(Em,hA);Object.defineProperty(pA,"isAxiosError",{value:!0});Em.from=function(t,e,n,o,a,s){var r=Object.create(pA);return dA.toFlatObject(t,r,function(l){return l!==Error.prototype}),Em.call(r,t.message,e,n,o,a),r.name=t.name,s&&Object.assign(r,s),r};var jm=Em,fA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ji=Ia;function hL(t,e){e=e||new FormData;var n=[];function o(s){return s===null?"":ji.isDate(s)?s.toISOString():ji.isArrayBuffer(s)||ji.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function a(s,r){if(ji.isPlainObject(s)||ji.isArray(s)){if(n.indexOf(s)!==-1)throw Error("Circular reference detected in "+r);n.push(s),ji.forEach(s,function(l,c){if(!ji.isUndefined(l)){var u=r?r+"."+c:c,d;if(l&&!r&&typeof l=="object"){if(ji.endsWith(c,"{}"))l=JSON.stringify(l);else if(ji.endsWith(c,"[]")&&(d=ji.toArray(l))){d.forEach(function(p){!ji.isUndefined(p)&&e.append(u,o(p))});return}}a(l,u)}}),n.pop()}else e.append(r,o(s))}return a(t),e}var mA=hL,B$,f8;function fL(){if(f8)return B$;f8=1;var t=jm;return B$=function(n,o,a){var s=a.config.validateStatus;!a.status||!s||s(a.status)?n(a):o(new t("Request failed with status code "+a.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))},B$}var L$,m8;function mL(){if(m8)return L$;m8=1;var t=Ia;return L$=t.isStandardBrowserEnv()?function(){return{write:function(o,a,s,r,i,l){var c=[];c.push(o+"="+encodeURIComponent(a)),t.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),t.isString(r)&&c.push("path="+r),t.isString(i)&&c.push("domain="+i),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(o){var a=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),L$}var gL=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},vL=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},yL=gL,wL=vL,gA=function(e,n){return e&&!yL(n)?wL(e,n):n},U$,g8;function bL(){if(g8)return U$;g8=1;var t=Ia,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return U$=function(o){var a={},s,r,i;return o&&t.forEach(o.split(`
`),function(c){if(i=c.indexOf(":"),s=t.trim(c.substr(0,i)).toLowerCase(),r=t.trim(c.substr(i+1)),s){if(a[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?a[s]=(a[s]?a[s]:[]).concat([r]):a[s]=a[s]?a[s]+", "+r:r}}),a},U$}var j$,v8;function $L(){if(v8)return j$;v8=1;var t=Ia;return j$=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),a;function s(r){var i=r;return n&&(o.setAttribute("href",i),i=o.href),o.setAttribute("href",i),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return a=s(window.location.href),function(i){var l=t.isString(i)?s(i):i;return l.protocol===a.protocol&&l.host===a.host}}():function(){return function(){return!0}}(),j$}var z$,y8;function W2(){if(y8)return z$;y8=1;var t=jm,e=Ia;function n(o){t.call(this,o??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),z$=n,z$}var G$,w8;function xL(){return w8||(w8=1,G$=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),G$}var W$,b8;function $8(){if(b8)return W$;b8=1;var t=Ia,e=fL(),n=mL(),o=uA,a=gA,s=bL(),r=$L(),i=fA,l=jm,c=W2(),u=xL();return W$=function(p){return new Promise(function(g,v){var y=p.data,w=p.headers,b=p.responseType,C;function V(){p.cancelToken&&p.cancelToken.unsubscribe(C),p.signal&&p.signal.removeEventListener("abort",C)}t.isFormData(y)&&t.isStandardBrowserEnv()&&delete w["Content-Type"];var _=new XMLHttpRequest;if(p.auth){var x=p.auth.username||"",S=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";w.Authorization="Basic "+btoa(x+":"+S)}var P=a(p.baseURL,p.url);_.open(p.method.toUpperCase(),o(P,p.params,p.paramsSerializer),!0),_.timeout=p.timeout;function E(){if(_){var F="getAllResponseHeaders"in _?s(_.getAllResponseHeaders()):null,L=!b||b==="text"||b==="json"?_.responseText:_.response,H={data:L,status:_.status,statusText:_.statusText,headers:F,config:p,request:_};e(function(Y){g(Y),V()},function(Y){v(Y),V()},H),_=null}}if("onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(v(new l("Request aborted",l.ECONNABORTED,p,_)),_=null)},_.onerror=function(){v(new l("Network Error",l.ERR_NETWORK,p,_,_)),_=null},_.ontimeout=function(){var L=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",H=p.transitional||i;p.timeoutErrorMessage&&(L=p.timeoutErrorMessage),v(new l(L,H.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,p,_)),_=null},t.isStandardBrowserEnv()){var O=(p.withCredentials||r(P))&&p.xsrfCookieName?n.read(p.xsrfCookieName):void 0;O&&(w[p.xsrfHeaderName]=O)}"setRequestHeader"in _&&t.forEach(w,function(L,H){typeof y>"u"&&H.toLowerCase()==="content-type"?delete w[H]:_.setRequestHeader(H,L)}),t.isUndefined(p.withCredentials)||(_.withCredentials=!!p.withCredentials),b&&b!=="json"&&(_.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&_.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(C=function(F){_&&(v(!F||F&&F.type?new c:F),_.abort(),_=null)},p.cancelToken&&p.cancelToken.subscribe(C),p.signal&&(p.signal.aborted?C():p.signal.addEventListener("abort",C))),y||(y=null);var I=u(P);if(I&&["http","https","file"].indexOf(I)===-1){v(new l("Unsupported protocol "+I+":",l.ERR_BAD_REQUEST,p));return}_.send(y)})},W$}var K$,x8;function _L(){return x8||(x8=1,K$=null),K$}var pa=Ia,_8=pL,V8=jm,VL=fA,CL=mA,SL={"Content-Type":"application/x-www-form-urlencoded"};function C8(t,e){!pa.isUndefined(t)&&pa.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function PL(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=$8()),t}function EL(t,e,n){if(pa.isString(t))try{return(e||JSON.parse)(t),pa.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}var K2={transitional:VL,adapter:PL(),transformRequest:[function(e,n){if(_8(n,"Accept"),_8(n,"Content-Type"),pa.isFormData(e)||pa.isArrayBuffer(e)||pa.isBuffer(e)||pa.isStream(e)||pa.isFile(e)||pa.isBlob(e))return e;if(pa.isArrayBufferView(e))return e.buffer;if(pa.isURLSearchParams(e))return C8(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var o=pa.isObject(e),a=n&&n["Content-Type"],s;if((s=pa.isFileList(e))||o&&a==="multipart/form-data"){var r=this.env&&this.env.FormData;return CL(s?{"files[]":e}:e,r&&new r)}else if(o||a==="application/json")return C8(n,"application/json"),EL(e);return e}],transformResponse:[function(e){var n=this.transitional||K2.transitional,o=n&&n.silentJSONParsing,a=n&&n.forcedJSONParsing,s=!o&&this.responseType==="json";if(s||a&&pa.isString(e)&&e.length)try{return JSON.parse(e)}catch(r){if(s)throw r.name==="SyntaxError"?V8.from(r,V8.ERR_BAD_RESPONSE,this,null,this.response):r}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_L()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};pa.forEach(["delete","get","head"],function(e){K2.headers[e]={}});pa.forEach(["post","put","patch"],function(e){K2.headers[e]=pa.merge(SL)});var F4=K2,TL=Ia,RL=F4,OL=function(e,n,o){var a=this||RL;return TL.forEach(o,function(r){e=r.call(a,e,n)}),e},Y$,S8;function vA(){return S8||(S8=1,Y$=function(e){return!!(e&&e.__CANCEL__)}),Y$}var P8=Ia,X$=OL,kL=vA(),AL=F4,IL=W2();function Q$(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new IL}var ML=function(e){Q$(e),e.headers=e.headers||{},e.data=X$.call(e,e.data,e.headers,e.transformRequest),e.headers=P8.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),P8.forEach(["delete","get","head","post","put","patch","common"],function(a){delete e.headers[a]});var n=e.adapter||AL.adapter;return n(e).then(function(a){return Q$(e),a.data=X$.call(e,a.data,a.headers,e.transformResponse),a},function(a){return kL(a)||(Q$(e),a&&a.response&&(a.response.data=X$.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)})},mr=Ia,yA=function(e,n){n=n||{};var o={};function a(u,d){return mr.isPlainObject(u)&&mr.isPlainObject(d)?mr.merge(u,d):mr.isPlainObject(d)?mr.merge({},d):mr.isArray(d)?d.slice():d}function s(u){if(mr.isUndefined(n[u])){if(!mr.isUndefined(e[u]))return a(void 0,e[u])}else return a(e[u],n[u])}function r(u){if(!mr.isUndefined(n[u]))return a(void 0,n[u])}function i(u){if(mr.isUndefined(n[u])){if(!mr.isUndefined(e[u]))return a(void 0,e[u])}else return a(void 0,n[u])}function l(u){if(u in n)return a(e[u],n[u]);if(u in e)return a(void 0,e[u])}var c={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l};return mr.forEach(Object.keys(e).concat(Object.keys(n)),function(d){var p=c[d]||s,f=p(d);mr.isUndefined(f)&&p!==l||(o[d]=f)}),o},Z$,E8;function wA(){return E8||(E8=1,Z$={version:"0.27.2"}),Z$}var FL=wA().version,vd=jm,D4={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){D4[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});var T8={};D4.transitional=function(e,n,o){function a(s,r){return"[Axios v"+FL+"] Transitional option '"+s+"'"+r+(o?". "+o:"")}return function(s,r,i){if(e===!1)throw new vd(a(r," has been removed"+(n?" in "+n:"")),vd.ERR_DEPRECATED);return n&&!T8[r]&&(T8[r]=!0,console.warn(a(r," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,r,i):!0}};function DL(t,e,n){if(typeof t!="object")throw new vd("options must be an object",vd.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(t),a=o.length;a-- >0;){var s=o[a],r=e[s];if(r){var i=t[s],l=i===void 0||r(i,s,t);if(l!==!0)throw new vd("option "+s+" must be "+l,vd.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new vd("Unknown option "+s,vd.ERR_BAD_OPTION)}}var NL={assertOptions:DL,validators:D4},bA=Ia,HL=uA,R8=uL,O8=ML,Y2=yA,BL=gA,$A=NL,Lh=$A.validators;function Tm(t){this.defaults=t,this.interceptors={request:new R8,response:new R8}}Tm.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Y2(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var o=n.transitional;o!==void 0&&$A.assertOptions(o,{silentJSONParsing:Lh.transitional(Lh.boolean),forcedJSONParsing:Lh.transitional(Lh.boolean),clarifyTimeoutError:Lh.transitional(Lh.boolean)},!1);var a=[],s=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(s=s&&f.synchronous,a.unshift(f.fulfilled,f.rejected))});var r=[];this.interceptors.response.forEach(function(f){r.push(f.fulfilled,f.rejected)});var i;if(!s){var l=[O8,void 0];for(Array.prototype.unshift.apply(l,a),l=l.concat(r),i=Promise.resolve(n);l.length;)i=i.then(l.shift(),l.shift());return i}for(var c=n;a.length;){var u=a.shift(),d=a.shift();try{c=u(c)}catch(p){d(p);break}}try{i=O8(c)}catch(p){return Promise.reject(p)}for(;r.length;)i=i.then(r.shift(),r.shift());return i};Tm.prototype.getUri=function(e){e=Y2(this.defaults,e);var n=BL(e.baseURL,e.url);return HL(n,e.params,e.paramsSerializer)};bA.forEach(["delete","get","head","options"],function(e){Tm.prototype[e]=function(n,o){return this.request(Y2(o||{},{method:e,url:n,data:(o||{}).data}))}});bA.forEach(["post","put","patch"],function(e){function n(o){return function(s,r,i){return this.request(Y2(i||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:s,data:r}))}}Tm.prototype[e]=n(),Tm.prototype[e+"Form"]=n(!0)});var LL=Tm,J$,k8;function UL(){if(k8)return J$;k8=1;var t=W2();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(r){o=r});var a=this;this.promise.then(function(s){if(a._listeners){var r,i=a._listeners.length;for(r=0;r<i;r++)a._listeners[r](s);a._listeners=null}}),this.promise.then=function(s){var r,i=new Promise(function(l){a.subscribe(l),r=l}).then(s);return i.cancel=function(){a.unsubscribe(r)},i},n(function(r){a.reason||(a.reason=new t(r),o(a.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]},e.prototype.unsubscribe=function(o){if(this._listeners){var a=this._listeners.indexOf(o);a!==-1&&this._listeners.splice(a,1)}},e.source=function(){var o,a=new e(function(r){o=r});return{token:a,cancel:o}},J$=e,J$}var q$,A8;function jL(){return A8||(A8=1,q$=function(e){return function(o){return e.apply(null,o)}}),q$}var e5,I8;function zL(){if(I8)return e5;I8=1;var t=Ia;return e5=function(n){return t.isObject(n)&&n.isAxiosError===!0},e5}var M8=Ia,GL=iA,pb=LL,WL=yA,KL=F4;function xA(t){var e=new pb(t),n=GL(pb.prototype.request,e);return M8.extend(n,pb.prototype,e),M8.extend(n,e),n.create=function(a){return xA(WL(t,a))},n}var er=xA(KL);er.Axios=pb;er.CanceledError=W2();er.CancelToken=UL();er.isCancel=vA();er.VERSION=wA().version;er.toFormData=mA;er.AxiosError=jm;er.Cancel=er.CanceledError;er.all=function(e){return Promise.all(e)};er.spread=jL();er.isAxiosError=zL();LB.exports=er;Ib.default=er;(function(t){t.exports=Ib})(BB);const ae=R4(nC),se="http://localhost:8090".replace(/\/+$/,"");class dn{constructor(e,n=se,o=ae){this.basePath=n,this.axios=o,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}}class YL extends Error{constructor(e,n){super(n),this.field=e,this.name="RequiredError"}}const re="https://example.com",Ve=function(t,e,n){if(n==null)throw new YL(e,`Required parameter ${e} was null or undefined when calling ${t}.`)},ie=function(t,e){e&&(e.username||e.password)&&(t.auth={username:e.username,password:e.password})},le=async function(t,e){if(e&&e.accessToken){const n=typeof e.accessToken=="function"?await e.accessToken():await e.accessToken;t.Authorization="Bearer "+n}},ce=function(t,...e){const n=new URLSearchParams(t.search);for(const o of e)for(const a in o)if(Array.isArray(o[a])){n.delete(a);for(const s of o[a])n.append(a,s)}else n.set(a,o[a]);t.search=n.toString()},rt=function(t,e,n){const o=typeof t!="string";return(o&&n&&n.isJsonMime?n.isJsonMime(e.headers["Content-Type"]):o)?JSON.stringify(t!==void 0?t:{}):t||""},ue=function(t){return t.pathname+t.search+t.hash},de=function(t,e,n,o){return(a=e,s=n)=>{const r={...t.options,url:((o==null?void 0:o.basePath)||s)+t.url};return a.request(r)}},XL=function(t){return{searchAttachments:async(e,n,o,a,s,r,i,l,c,u,d={})=>{const p="/apis/api.console.halo.run/v1alpha1/attachments",f=new URL(p,re);let g;t&&(g=t.baseOptions);const v={method:"GET",...g,...d},y={},w={};ie(v,t),await le(y,t),e!==void 0&&(w.policy=e),n&&(w.sort=Array.from(n)),o!==void 0&&(w.displayName=o),a!==void 0&&(w.group=a),s!==void 0&&(w.ungrouped=s),r!==void 0&&(w.uploadedBy=r),i!==void 0&&(w.size=i),l!==void 0&&(w.page=l),c&&(w.fieldSelector=c),u&&(w.labelSelector=u),ce(f,w);let b=g&&g.headers?g.headers:{};return v.headers={...y,...b,...d.headers},{url:ue(f),options:v}},uploadAttachment:async(e,n,o,a={})=>{Ve("uploadAttachment","file",e),Ve("uploadAttachment","policyName",n);const s="/apis/api.console.halo.run/v1alpha1/attachments/upload",r=new URL(s,re);let i;t&&(i=t.baseOptions);const l={method:"POST",...i,...a},c={},u={},d=new(t&&t.formDataCtor||FormData);ie(l,t),await le(c,t),e!==void 0&&d.append("file",e),n!==void 0&&d.append("policyName",n),o!==void 0&&d.append("groupName",o),c["Content-Type"]="multipart/form-data",ce(r,u);let p=i&&i.headers?i.headers:{};return l.headers={...c,...p,...a.headers},l.data=d,{url:ue(r),options:l}}}},F8=function(t){const e=XL(t);return{async searchAttachments(n,o,a,s,r,i,l,c,u,d,p){const f=await e.searchAttachments(n,o,a,s,r,i,l,c,u,d,p);return de(f,ae,se,t)},async uploadAttachment(n,o,a,s){const r=await e.uploadAttachment(n,o,a,s);return de(r,ae,se,t)}}};class QL extends dn{searchAttachments(e={},n){return F8(this.configuration).searchAttachments(e.policy,e.sort,e.displayName,e.group,e.ungrouped,e.uploadedBy,e.size,e.page,e.fieldSelector,e.labelSelector,n).then(o=>o(this.axios,this.basePath))}uploadAttachment(e,n){return F8(this.configuration).uploadAttachment(e.file,e.policyName,e.groupName,n).then(o=>o(this.axios,this.basePath))}}const ZL=function(t){return{createComment:async(e,n={})=>{Ve("createComment","commentRequest",e);const o="/apis/api.console.halo.run/v1alpha1/comments",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},createReply:async(e,n,o={})=>{Ve("createReply","name",e),Ve("createReply","replyRequest",n);const a="/apis/api.console.halo.run/v1alpha1/comments/{name}/reply".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"POST",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}},listComments:async(e,n,o,a,s,r,i,l,c,u,d,p,f,g,v,y={})=>{const w="/apis/api.console.halo.run/v1alpha1/comments",b=new URL(w,re);let C;t&&(C=t.baseOptions);const V={method:"GET",...C,...y},_={},x={};ie(V,t),await le(_,t),e!==void 0&&(x.sort=e),n!==void 0&&(x.top=n),o!==void 0&&(x.hidden=o),a!==void 0&&(x.keyword=a),s!==void 0&&(x.approved=s),r!==void 0&&(x.allowNotification=r),i!==void 0&&(x.sortOrder=i),l!==void 0&&(x.ownerKind=l),c!==void 0&&(x.ownerName=c),u!==void 0&&(x.subjectKind=u),d!==void 0&&(x.subjectName=d),p!==void 0&&(x.size=p),f!==void 0&&(x.page=f),g&&(x.fieldSelector=g),v&&(x.labelSelector=v),ce(b,x);let S=C&&C.headers?C.headers:{};return V.headers={..._,...S,...y.headers},{url:ue(b),options:V}}}},t5=function(t){const e=ZL(t);return{async createComment(n,o){const a=await e.createComment(n,o);return de(a,ae,se,t)},async createReply(n,o,a){const s=await e.createReply(n,o,a);return de(s,ae,se,t)},async listComments(n,o,a,s,r,i,l,c,u,d,p,f,g,v,y,w){const b=await e.listComments(n,o,a,s,r,i,l,c,u,d,p,f,g,v,y,w);return de(b,ae,se,t)}}};class JL extends dn{createComment(e,n){return t5(this.configuration).createComment(e.commentRequest,n).then(o=>o(this.axios,this.basePath))}createReply(e,n){return t5(this.configuration).createReply(e.name,e.replyRequest,n).then(o=>o(this.axios,this.basePath))}listComments(e={},n){return t5(this.configuration).listComments(e.sort,e.top,e.hidden,e.keyword,e.approved,e.allowNotification,e.sortOrder,e.ownerKind,e.ownerName,e.subjectKind,e.subjectName,e.size,e.page,e.fieldSelector,e.labelSelector,n).then(o=>o(this.axios,this.basePath))}}const qL=function(t){return{draftSnapshotContent:async(e,n={})=>{Ve("draftSnapshotContent","contentRequest",e);const o="/apis/api.console.halo.run/v1alpha1/contents",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},obtainSnapshotContent:async(e,n={})=>{Ve("obtainSnapshotContent","snapshotName",e);const o="/apis/api.console.halo.run/v1alpha1/contents/{snapshotName}".replace("{snapshotName}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},updateSnapshotContent:async(e,n,o={})=>{Ve("updateSnapshotContent","snapshotName",e),Ve("updateSnapshotContent","contentRequest",n);const a="/apis/api.console.halo.run/v1alpha1/contents/{snapshotName}".replace("{snapshotName}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},n5=function(t){const e=qL(t);return{async draftSnapshotContent(n,o){const a=await e.draftSnapshotContent(n,o);return de(a,ae,se,t)},async obtainSnapshotContent(n,o){const a=await e.obtainSnapshotContent(n,o);return de(a,ae,se,t)},async updateSnapshotContent(n,o,a){const s=await e.updateSnapshotContent(n,o,a);return de(s,ae,se,t)}}};class eU extends dn{draftSnapshotContent(e,n){return n5(this.configuration).draftSnapshotContent(e.contentRequest,n).then(o=>o(this.axios,this.basePath))}obtainSnapshotContent(e,n){return n5(this.configuration).obtainSnapshotContent(e.snapshotName,n).then(o=>o(this.axios,this.basePath))}updateSnapshotContent(e,n){return n5(this.configuration).updateSnapshotContent(e.snapshotName,e.contentRequest,n).then(o=>o(this.axios,this.basePath))}}const tU=function(t){return{fetchPluginConfig:async(e,n={})=>{Ve("fetchPluginConfig","name",e);const o="/apis/api.console.halo.run/v1alpha1/plugins/{name}/config".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},fetchPluginSetting:async(e,n={})=>{Ve("fetchPluginSetting","name",e);const o="/apis/api.console.halo.run/v1alpha1/plugins/{name}/setting".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},installPlugin:async(e,n={})=>{Ve("installPlugin","file",e);const o="/apis/api.console.halo.run/v1alpha1/plugins/install",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={},c=new(t&&t.formDataCtor||FormData);ie(r,t),await le(i,t),e!==void 0&&c.append("file",e),i["Content-Type"]="multipart/form-data",ce(a,l);let u=s&&s.headers?s.headers:{};return r.headers={...i,...u,...n.headers},r.data=c,{url:ue(a),options:r}},listPlugins:async(e,n,o,a,s,r,i,l={})=>{const c="/apis/api.console.halo.run/v1alpha1/plugins",u=new URL(c,re);let d;t&&(d=t.baseOptions);const p={method:"GET",...d,...l},f={},g={};ie(p,t),await le(f,t),e&&(g.sort=Array.from(e)),n!==void 0&&(g.enabled=n),o!==void 0&&(g.keyword=o),a!==void 0&&(g.size=a),s!==void 0&&(g.page=s),r&&(g.fieldSelector=r),i&&(g.labelSelector=i),ce(u,g);let v=d&&d.headers?d.headers:{};return p.headers={...f,...v,...l.headers},{url:ue(u),options:p}},resetPluginConfig:async(e,n={})=>{Ve("resetPluginConfig","name",e);const o="/apis/api.console.halo.run/v1alpha1/plugins/{name}/reset-config".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"PUT",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},updatePluginConfig:async(e,n,o={})=>{Ve("updatePluginConfig","name",e),Ve("updatePluginConfig","configMap",n);const a="/apis/api.console.halo.run/v1alpha1/plugins/{name}/config".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}},upgradePlugin:async(e,n,o={})=>{Ve("upgradePlugin","name",e),Ve("upgradePlugin","file",n);const a="/apis/api.console.halo.run/v1alpha1/plugins/{name}/upgrade".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"POST",...r,...o},l={},c={},u=new(t&&t.formDataCtor||FormData);ie(i,t),await le(l,t),n!==void 0&&u.append("file",n),l["Content-Type"]="multipart/form-data",ce(s,c);let d=r&&r.headers?r.headers:{};return i.headers={...l,...d,...o.headers},i.data=u,{url:ue(s),options:i}}}},tp=function(t){const e=tU(t);return{async fetchPluginConfig(n,o){const a=await e.fetchPluginConfig(n,o);return de(a,ae,se,t)},async fetchPluginSetting(n,o){const a=await e.fetchPluginSetting(n,o);return de(a,ae,se,t)},async installPlugin(n,o){const a=await e.installPlugin(n,o);return de(a,ae,se,t)},async listPlugins(n,o,a,s,r,i,l,c){const u=await e.listPlugins(n,o,a,s,r,i,l,c);return de(u,ae,se,t)},async resetPluginConfig(n,o){const a=await e.resetPluginConfig(n,o);return de(a,ae,se,t)},async updatePluginConfig(n,o,a){const s=await e.updatePluginConfig(n,o,a);return de(s,ae,se,t)},async upgradePlugin(n,o,a){const s=await e.upgradePlugin(n,o,a);return de(s,ae,se,t)}}};class nU extends dn{fetchPluginConfig(e,n){return tp(this.configuration).fetchPluginConfig(e.name,n).then(o=>o(this.axios,this.basePath))}fetchPluginSetting(e,n){return tp(this.configuration).fetchPluginSetting(e.name,n).then(o=>o(this.axios,this.basePath))}installPlugin(e,n){return tp(this.configuration).installPlugin(e.file,n).then(o=>o(this.axios,this.basePath))}listPlugins(e={},n){return tp(this.configuration).listPlugins(e.sort,e.enabled,e.keyword,e.size,e.page,e.fieldSelector,e.labelSelector,n).then(o=>o(this.axios,this.basePath))}resetPluginConfig(e,n){return tp(this.configuration).resetPluginConfig(e.name,n).then(o=>o(this.axios,this.basePath))}updatePluginConfig(e,n){return tp(this.configuration).updatePluginConfig(e.name,e.configMap,n).then(o=>o(this.axios,this.basePath))}upgradePlugin(e,n){return tp(this.configuration).upgradePlugin(e.name,e.file,n).then(o=>o(this.axios,this.basePath))}}const oU=function(t){return{draftPost:async(e,n={})=>{Ve("draftPost","postRequest",e);const o="/apis/api.console.halo.run/v1alpha1/posts",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},listPosts:async(e,n,o,a,s,r,i,l,c,u,d,p,f={})=>{const g="/apis/api.console.halo.run/v1alpha1/posts",v=new URL(g,re);let y;t&&(y=t.baseOptions);const w={method:"GET",...y,...f},b={},C={};ie(w,t),await le(b,t),e!==void 0&&(C.sort=e),n!==void 0&&(C.visible=n),o&&(C.tag=Array.from(o)),a!==void 0&&(C.keyword=a),s!==void 0&&(C.publishPhase=s),r&&(C.category=Array.from(r)),i&&(C.contributor=Array.from(i)),l!==void 0&&(C.sortOrder=l),c!==void 0&&(C.size=c),u!==void 0&&(C.page=u),d&&(C.fieldSelector=d),p&&(C.labelSelector=p),ce(v,C);let V=y&&y.headers?y.headers:{};return w.headers={...b,...V,...f.headers},{url:ue(v),options:w}},publishPost:async(e,n,o={})=>{Ve("publishPost","name",e);const a="/apis/api.console.halo.run/v1alpha1/posts/{name}/publish".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),n!==void 0&&(c.headSnapshot=n),ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},{url:ue(s),options:i}},recyclePost:async(e,n={})=>{Ve("recyclePost","name",e);const o="/apis/api.console.halo.run/v1alpha1/posts/{name}/recycle".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"PUT",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},unpublishPost:async(e,n={})=>{Ve("unpublishPost","name",e);const o="/apis/api.console.halo.run/v1alpha1/posts/{name}/unpublish".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"PUT",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},updateDraftPost:async(e,n,o={})=>{Ve("updateDraftPost","name",e),Ve("updateDraftPost","postRequest",n);const a="/apis/api.console.halo.run/v1alpha1/posts/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}},updatePostContent:async(e,n,o={})=>{Ve("updatePostContent","name",e),Ve("updatePostContent","content",n);const a="/apis/api.console.halo.run/v1alpha1/posts/{name}/content".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},np=function(t){const e=oU(t);return{async draftPost(n,o){const a=await e.draftPost(n,o);return de(a,ae,se,t)},async listPosts(n,o,a,s,r,i,l,c,u,d,p,f,g){const v=await e.listPosts(n,o,a,s,r,i,l,c,u,d,p,f,g);return de(v,ae,se,t)},async publishPost(n,o,a){const s=await e.publishPost(n,o,a);return de(s,ae,se,t)},async recyclePost(n,o){const a=await e.recyclePost(n,o);return de(a,ae,se,t)},async unpublishPost(n,o){const a=await e.unpublishPost(n,o);return de(a,ae,se,t)},async updateDraftPost(n,o,a){const s=await e.updateDraftPost(n,o,a);return de(s,ae,se,t)},async updatePostContent(n,o,a){const s=await e.updatePostContent(n,o,a);return de(s,ae,se,t)}}};class aU extends dn{draftPost(e,n){return np(this.configuration).draftPost(e.postRequest,n).then(o=>o(this.axios,this.basePath))}listPosts(e={},n){return np(this.configuration).listPosts(e.sort,e.visible,e.tag,e.keyword,e.publishPhase,e.category,e.contributor,e.sortOrder,e.size,e.page,e.fieldSelector,e.labelSelector,n).then(o=>o(this.axios,this.basePath))}publishPost(e,n){return np(this.configuration).publishPost(e.name,e.headSnapshot,n).then(o=>o(this.axios,this.basePath))}recyclePost(e,n){return np(this.configuration).recyclePost(e.name,n).then(o=>o(this.axios,this.basePath))}unpublishPost(e,n){return np(this.configuration).unpublishPost(e.name,n).then(o=>o(this.axios,this.basePath))}updateDraftPost(e,n){return np(this.configuration).updateDraftPost(e.name,e.postRequest,n).then(o=>o(this.axios,this.basePath))}updatePostContent(e,n){return np(this.configuration).updatePostContent(e.name,e.content,n).then(o=>o(this.axios,this.basePath))}}const sU=function(t){return{listReplies:async(e,n,o,a,s,r={})=>{const i="/apis/api.console.halo.run/v1alpha1/replies",l=new URL(i,re);let c;t&&(c=t.baseOptions);const u={method:"GET",...c,...r},d={},p={};ie(u,t),await le(d,t),e!==void 0&&(p.commentName=e),n!==void 0&&(p.size=n),o!==void 0&&(p.page=o),a&&(p.fieldSelector=a),s&&(p.labelSelector=s),ce(l,p);let f=c&&c.headers?c.headers:{};return u.headers={...d,...f,...r.headers},{url:ue(l),options:u}}}},rU=function(t){const e=sU(t);return{async listReplies(n,o,a,s,r,i){const l=await e.listReplies(n,o,a,s,r,i);return de(l,ae,se,t)}}};class iU extends dn{listReplies(e={},n){return rU(this.configuration).listReplies(e.commentName,e.size,e.page,e.fieldSelector,e.labelSelector,n).then(o=>o(this.axios,this.basePath))}}const lU=function(t){return{draftSinglePage:async(e,n={})=>{Ve("draftSinglePage","singlePageRequest",e);const o="/apis/api.console.halo.run/v1alpha1/singlepages",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},listSinglePages:async(e,n,o,a,s,r,i,l,c,u,d={})=>{const p="/apis/api.console.halo.run/v1alpha1/singlepages",f=new URL(p,re);let g;t&&(g=t.baseOptions);const v={method:"GET",...g,...d},y={},w={};ie(v,t),await le(y,t),e!==void 0&&(w.sort=e),n!==void 0&&(w.visible=n),o!==void 0&&(w.keyword=o),a!==void 0&&(w.publishPhase=a),s&&(w.contributor=Array.from(s)),r!==void 0&&(w.sortOrder=r),i!==void 0&&(w.size=i),l!==void 0&&(w.page=l),c&&(w.fieldSelector=c),u&&(w.labelSelector=u),ce(f,w);let b=g&&g.headers?g.headers:{};return v.headers={...y,...b,...d.headers},{url:ue(f),options:v}},publishSinglePage:async(e,n={})=>{Ve("publishSinglePage","name",e);const o="/apis/api.console.halo.run/v1alpha1/singlepages/{name}/publish".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"PUT",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},updateDraftSinglePage:async(e,n,o={})=>{Ve("updateDraftSinglePage","name",e),Ve("updateDraftSinglePage","singlePageRequest",n);const a="/apis/api.console.halo.run/v1alpha1/singlepages/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}},updateSinglePageContent:async(e,n,o={})=>{Ve("updateSinglePageContent","name",e),Ve("updateSinglePageContent","content",n);const a="/apis/api.console.halo.run/v1alpha1/singlepages/{name}/content".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},qm=function(t){const e=lU(t);return{async draftSinglePage(n,o){const a=await e.draftSinglePage(n,o);return de(a,ae,se,t)},async listSinglePages(n,o,a,s,r,i,l,c,u,d,p){const f=await e.listSinglePages(n,o,a,s,r,i,l,c,u,d,p);return de(f,ae,se,t)},async publishSinglePage(n,o){const a=await e.publishSinglePage(n,o);return de(a,ae,se,t)},async updateDraftSinglePage(n,o,a){const s=await e.updateDraftSinglePage(n,o,a);return de(s,ae,se,t)},async updateSinglePageContent(n,o,a){const s=await e.updateSinglePageContent(n,o,a);return de(s,ae,se,t)}}};class cU extends dn{draftSinglePage(e,n){return qm(this.configuration).draftSinglePage(e.singlePageRequest,n).then(o=>o(this.axios,this.basePath))}listSinglePages(e={},n){return qm(this.configuration).listSinglePages(e.sort,e.visible,e.keyword,e.publishPhase,e.contributor,e.sortOrder,e.size,e.page,e.fieldSelector,e.labelSelector,n).then(o=>o(this.axios,this.basePath))}publishSinglePage(e,n){return qm(this.configuration).publishSinglePage(e.name,n).then(o=>o(this.axios,this.basePath))}updateDraftSinglePage(e,n){return qm(this.configuration).updateDraftSinglePage(e.name,e.singlePageRequest,n).then(o=>o(this.axios,this.basePath))}updateSinglePageContent(e,n){return qm(this.configuration).updateSinglePageContent(e.name,e.content,n).then(o=>o(this.axios,this.basePath))}}const uU=function(t){return{getStats:async(e={})=>{const n="/apis/api.console.halo.run/v1alpha1/stats",o=new URL(n,re);let a;t&&(a=t.baseOptions);const s={method:"GET",...a,...e},r={},i={};ie(s,t),await le(r,t),ce(o,i);let l=a&&a.headers?a.headers:{};return s.headers={...r,...l,...e.headers},{url:ue(o),options:s}}}},dU=function(t){const e=uU(t);return{async getStats(n){const o=await e.getStats(n);return de(o,ae,se,t)}}};class pU extends dn{getStats(e){return dU(this.configuration).getStats(e).then(n=>n(this.axios,this.basePath))}}const hU=function(t){return{activateTheme:async(e,n={})=>{Ve("activateTheme","name",e);const o="/apis/api.console.halo.run/v1alpha1/themes/{name}/activation".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"PUT",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},fetchActivatedTheme:async(e={})=>{const n="/apis/api.console.halo.run/v1alpha1/themes/-/activation",o=new URL(n,re);let a;t&&(a=t.baseOptions);const s={method:"GET",...a,...e},r={},i={};ie(s,t),await le(r,t),ce(o,i);let l=a&&a.headers?a.headers:{};return s.headers={...r,...l,...e.headers},{url:ue(o),options:s}},fetchThemeConfig:async(e,n={})=>{Ve("fetchThemeConfig","name",e);const o="/apis/api.console.halo.run/v1alpha1/themes/{name}/config".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},fetchThemeSetting:async(e,n={})=>{Ve("fetchThemeSetting","name",e);const o="/apis/api.console.halo.run/v1alpha1/themes/{name}/setting".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},installTheme:async(e,n={})=>{Ve("installTheme","file",e);const o="/apis/api.console.halo.run/v1alpha1/themes/install",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={},c=new(t&&t.formDataCtor||FormData);ie(r,t),await le(i,t),e!==void 0&&c.append("file",e),i["Content-Type"]="multipart/form-data",ce(a,l);let u=s&&s.headers?s.headers:{};return r.headers={...i,...u,...n.headers},r.data=c,{url:ue(a),options:r}},listThemes:async(e,n,o,a,s,r={})=>{Ve("listThemes","uninstalled",e);const i="/apis/api.console.halo.run/v1alpha1/themes",l=new URL(i,re);let c;t&&(c=t.baseOptions);const u={method:"GET",...c,...r},d={},p={};ie(u,t),await le(d,t),e!==void 0&&(p.uninstalled=e),n!==void 0&&(p.size=n),o!==void 0&&(p.page=o),a&&(p.fieldSelector=a),s&&(p.labelSelector=s),ce(l,p);let f=c&&c.headers?c.headers:{};return u.headers={...d,...f,...r.headers},{url:ue(l),options:u}},reload:async(e,n={})=>{Ve("reload","name",e);const o="/apis/api.console.halo.run/v1alpha1/themes/{name}/reload".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"PUT",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},resetThemeConfig:async(e,n={})=>{Ve("resetThemeConfig","name",e);const o="/apis/api.console.halo.run/v1alpha1/themes/{name}/reset-config".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"PUT",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},updateThemeConfig:async(e,n,o={})=>{Ve("updateThemeConfig","name",e),Ve("updateThemeConfig","configMap",n);const a="/apis/api.console.halo.run/v1alpha1/themes/{name}/config".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}},upgradeTheme:async(e,n,o={})=>{Ve("upgradeTheme","name",e),Ve("upgradeTheme","file",n);const a="/apis/api.console.halo.run/v1alpha1/themes/{name}/upgrade".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"POST",...r,...o},l={},c={},u=new(t&&t.formDataCtor||FormData);ie(i,t),await le(l,t),n!==void 0&&u.append("file",n),l["Content-Type"]="multipart/form-data",ce(s,c);let d=r&&r.headers?r.headers:{};return i.headers={...l,...d,...o.headers},i.data=u,{url:ue(s),options:i}}}},Ml=function(t){const e=hU(t);return{async activateTheme(n,o){const a=await e.activateTheme(n,o);return de(a,ae,se,t)},async fetchActivatedTheme(n){const o=await e.fetchActivatedTheme(n);return de(o,ae,se,t)},async fetchThemeConfig(n,o){const a=await e.fetchThemeConfig(n,o);return de(a,ae,se,t)},async fetchThemeSetting(n,o){const a=await e.fetchThemeSetting(n,o);return de(a,ae,se,t)},async installTheme(n,o){const a=await e.installTheme(n,o);return de(a,ae,se,t)},async listThemes(n,o,a,s,r,i){const l=await e.listThemes(n,o,a,s,r,i);return de(l,ae,se,t)},async reload(n,o){const a=await e.reload(n,o);return de(a,ae,se,t)},async resetThemeConfig(n,o){const a=await e.resetThemeConfig(n,o);return de(a,ae,se,t)},async updateThemeConfig(n,o,a){const s=await e.updateThemeConfig(n,o,a);return de(s,ae,se,t)},async upgradeTheme(n,o,a){const s=await e.upgradeTheme(n,o,a);return de(s,ae,se,t)}}};class fU extends dn{activateTheme(e,n){return Ml(this.configuration).activateTheme(e.name,n).then(o=>o(this.axios,this.basePath))}fetchActivatedTheme(e){return Ml(this.configuration).fetchActivatedTheme(e).then(n=>n(this.axios,this.basePath))}fetchThemeConfig(e,n){return Ml(this.configuration).fetchThemeConfig(e.name,n).then(o=>o(this.axios,this.basePath))}fetchThemeSetting(e,n){return Ml(this.configuration).fetchThemeSetting(e.name,n).then(o=>o(this.axios,this.basePath))}installTheme(e,n){return Ml(this.configuration).installTheme(e.file,n).then(o=>o(this.axios,this.basePath))}listThemes(e,n){return Ml(this.configuration).listThemes(e.uninstalled,e.size,e.page,e.fieldSelector,e.labelSelector,n).then(o=>o(this.axios,this.basePath))}reload(e,n){return Ml(this.configuration).reload(e.name,n).then(o=>o(this.axios,this.basePath))}resetThemeConfig(e,n){return Ml(this.configuration).resetThemeConfig(e.name,n).then(o=>o(this.axios,this.basePath))}updateThemeConfig(e,n){return Ml(this.configuration).updateThemeConfig(e.name,e.configMap,n).then(o=>o(this.axios,this.basePath))}upgradeTheme(e,n){return Ml(this.configuration).upgradeTheme(e.name,e.file,n).then(o=>o(this.axios,this.basePath))}}const mU=function(t){return{changePassword:async(e,n,o={})=>{Ve("changePassword","name",e),Ve("changePassword","changePasswordRequest",n);const a="/apis/api.console.halo.run/v1alpha1/users/{name}/password".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}},getCurrentUserDetail:async(e={})=>{const n="/apis/api.console.halo.run/v1alpha1/users/-",o=new URL(n,re);let a;t&&(a=t.baseOptions);const s={method:"GET",...a,...e},r={},i={};ie(s,t),await le(r,t),ce(o,i);let l=a&&a.headers?a.headers:{};return s.headers={...r,...l,...e.headers},{url:ue(o),options:s}},getPermissions:async(e,n={})=>{Ve("getPermissions","name",e);const o="/apis/api.console.halo.run/v1alpha1/users/{name}/permissions".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},grantPermission:async(e,n,o={})=>{Ve("grantPermission","name",e),Ve("grantPermission","grantRequest",n);const a="/apis/api.console.halo.run/v1alpha1/users/{name}/permissions".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"POST",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}},updateCurrentUser:async(e,n={})=>{Ve("updateCurrentUser","user",e);const o="/apis/api.console.halo.run/v1alpha1/users/-",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"PUT",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}}}},e1=function(t){const e=mU(t);return{async changePassword(n,o,a){const s=await e.changePassword(n,o,a);return de(s,ae,se,t)},async getCurrentUserDetail(n){const o=await e.getCurrentUserDetail(n);return de(o,ae,se,t)},async getPermissions(n,o){const a=await e.getPermissions(n,o);return de(a,ae,se,t)},async grantPermission(n,o,a){const s=await e.grantPermission(n,o,a);return de(s,ae,se,t)},async updateCurrentUser(n,o){const a=await e.updateCurrentUser(n,o);return de(a,ae,se,t)}}};class gU extends dn{changePassword(e,n){return e1(this.configuration).changePassword(e.name,e.changePasswordRequest,n).then(o=>o(this.axios,this.basePath))}getCurrentUserDetail(e){return e1(this.configuration).getCurrentUserDetail(e).then(n=>n(this.axios,this.basePath))}getPermissions(e,n){return e1(this.configuration).getPermissions(e.name,n).then(o=>o(this.axios,this.basePath))}grantPermission(e,n){return e1(this.configuration).grantPermission(e.name,e.grantRequest,n).then(o=>o(this.axios,this.basePath))}updateCurrentUser(e,n){return e1(this.configuration).updateCurrentUser(e.user,n).then(o=>o(this.axios,this.basePath))}}const vU=function(t){return{createcontentHaloRunV1alpha1Category:async(e,n={})=>{const o="/apis/content.halo.run/v1alpha1/categories",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletecontentHaloRunV1alpha1Category:async(e,n={})=>{Ve("deletecontentHaloRunV1alpha1Category","name",e);const o="/apis/content.halo.run/v1alpha1/categories/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getcontentHaloRunV1alpha1Category:async(e,n={})=>{Ve("getcontentHaloRunV1alpha1Category","name",e);const o="/apis/content.halo.run/v1alpha1/categories/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listcontentHaloRunV1alpha1Category:async(e,n,o,a,s={})=>{const r="/apis/content.halo.run/v1alpha1/categories",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatecontentHaloRunV1alpha1Category:async(e,n,o={})=>{Ve("updatecontentHaloRunV1alpha1Category","name",e);const a="/apis/content.halo.run/v1alpha1/categories/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},t1=function(t){const e=vU(t);return{async createcontentHaloRunV1alpha1Category(n,o){const a=await e.createcontentHaloRunV1alpha1Category(n,o);return de(a,ae,se,t)},async deletecontentHaloRunV1alpha1Category(n,o){const a=await e.deletecontentHaloRunV1alpha1Category(n,o);return de(a,ae,se,t)},async getcontentHaloRunV1alpha1Category(n,o){const a=await e.getcontentHaloRunV1alpha1Category(n,o);return de(a,ae,se,t)},async listcontentHaloRunV1alpha1Category(n,o,a,s,r){const i=await e.listcontentHaloRunV1alpha1Category(n,o,a,s,r);return de(i,ae,se,t)},async updatecontentHaloRunV1alpha1Category(n,o,a){const s=await e.updatecontentHaloRunV1alpha1Category(n,o,a);return de(s,ae,se,t)}}};class yU extends dn{createcontentHaloRunV1alpha1Category(e={},n){return t1(this.configuration).createcontentHaloRunV1alpha1Category(e.category,n).then(o=>o(this.axios,this.basePath))}deletecontentHaloRunV1alpha1Category(e,n){return t1(this.configuration).deletecontentHaloRunV1alpha1Category(e.name,n).then(o=>o(this.axios,this.basePath))}getcontentHaloRunV1alpha1Category(e,n){return t1(this.configuration).getcontentHaloRunV1alpha1Category(e.name,n).then(o=>o(this.axios,this.basePath))}listcontentHaloRunV1alpha1Category(e={},n){return t1(this.configuration).listcontentHaloRunV1alpha1Category(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatecontentHaloRunV1alpha1Category(e,n){return t1(this.configuration).updatecontentHaloRunV1alpha1Category(e.name,e.category,n).then(o=>o(this.axios,this.basePath))}}const wU=function(t){return{createcontentHaloRunV1alpha1Comment:async(e,n={})=>{const o="/apis/content.halo.run/v1alpha1/comments",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletecontentHaloRunV1alpha1Comment:async(e,n={})=>{Ve("deletecontentHaloRunV1alpha1Comment","name",e);const o="/apis/content.halo.run/v1alpha1/comments/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getcontentHaloRunV1alpha1Comment:async(e,n={})=>{Ve("getcontentHaloRunV1alpha1Comment","name",e);const o="/apis/content.halo.run/v1alpha1/comments/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listcontentHaloRunV1alpha1Comment:async(e,n,o,a,s={})=>{const r="/apis/content.halo.run/v1alpha1/comments",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatecontentHaloRunV1alpha1Comment:async(e,n,o={})=>{Ve("updatecontentHaloRunV1alpha1Comment","name",e);const a="/apis/content.halo.run/v1alpha1/comments/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},n1=function(t){const e=wU(t);return{async createcontentHaloRunV1alpha1Comment(n,o){const a=await e.createcontentHaloRunV1alpha1Comment(n,o);return de(a,ae,se,t)},async deletecontentHaloRunV1alpha1Comment(n,o){const a=await e.deletecontentHaloRunV1alpha1Comment(n,o);return de(a,ae,se,t)},async getcontentHaloRunV1alpha1Comment(n,o){const a=await e.getcontentHaloRunV1alpha1Comment(n,o);return de(a,ae,se,t)},async listcontentHaloRunV1alpha1Comment(n,o,a,s,r){const i=await e.listcontentHaloRunV1alpha1Comment(n,o,a,s,r);return de(i,ae,se,t)},async updatecontentHaloRunV1alpha1Comment(n,o,a){const s=await e.updatecontentHaloRunV1alpha1Comment(n,o,a);return de(s,ae,se,t)}}};class bU extends dn{createcontentHaloRunV1alpha1Comment(e={},n){return n1(this.configuration).createcontentHaloRunV1alpha1Comment(e.comment,n).then(o=>o(this.axios,this.basePath))}deletecontentHaloRunV1alpha1Comment(e,n){return n1(this.configuration).deletecontentHaloRunV1alpha1Comment(e.name,n).then(o=>o(this.axios,this.basePath))}getcontentHaloRunV1alpha1Comment(e,n){return n1(this.configuration).getcontentHaloRunV1alpha1Comment(e.name,n).then(o=>o(this.axios,this.basePath))}listcontentHaloRunV1alpha1Comment(e={},n){return n1(this.configuration).listcontentHaloRunV1alpha1Comment(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatecontentHaloRunV1alpha1Comment(e,n){return n1(this.configuration).updatecontentHaloRunV1alpha1Comment(e.name,e.comment,n).then(o=>o(this.axios,this.basePath))}}const $U=function(t){return{createcontentHaloRunV1alpha1Post:async(e,n={})=>{const o="/apis/content.halo.run/v1alpha1/posts",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletecontentHaloRunV1alpha1Post:async(e,n={})=>{Ve("deletecontentHaloRunV1alpha1Post","name",e);const o="/apis/content.halo.run/v1alpha1/posts/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getcontentHaloRunV1alpha1Post:async(e,n={})=>{Ve("getcontentHaloRunV1alpha1Post","name",e);const o="/apis/content.halo.run/v1alpha1/posts/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listcontentHaloRunV1alpha1Post:async(e,n,o,a,s={})=>{const r="/apis/content.halo.run/v1alpha1/posts",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatecontentHaloRunV1alpha1Post:async(e,n,o={})=>{Ve("updatecontentHaloRunV1alpha1Post","name",e);const a="/apis/content.halo.run/v1alpha1/posts/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},o1=function(t){const e=$U(t);return{async createcontentHaloRunV1alpha1Post(n,o){const a=await e.createcontentHaloRunV1alpha1Post(n,o);return de(a,ae,se,t)},async deletecontentHaloRunV1alpha1Post(n,o){const a=await e.deletecontentHaloRunV1alpha1Post(n,o);return de(a,ae,se,t)},async getcontentHaloRunV1alpha1Post(n,o){const a=await e.getcontentHaloRunV1alpha1Post(n,o);return de(a,ae,se,t)},async listcontentHaloRunV1alpha1Post(n,o,a,s,r){const i=await e.listcontentHaloRunV1alpha1Post(n,o,a,s,r);return de(i,ae,se,t)},async updatecontentHaloRunV1alpha1Post(n,o,a){const s=await e.updatecontentHaloRunV1alpha1Post(n,o,a);return de(s,ae,se,t)}}};class xU extends dn{createcontentHaloRunV1alpha1Post(e={},n){return o1(this.configuration).createcontentHaloRunV1alpha1Post(e.post,n).then(o=>o(this.axios,this.basePath))}deletecontentHaloRunV1alpha1Post(e,n){return o1(this.configuration).deletecontentHaloRunV1alpha1Post(e.name,n).then(o=>o(this.axios,this.basePath))}getcontentHaloRunV1alpha1Post(e,n){return o1(this.configuration).getcontentHaloRunV1alpha1Post(e.name,n).then(o=>o(this.axios,this.basePath))}listcontentHaloRunV1alpha1Post(e={},n){return o1(this.configuration).listcontentHaloRunV1alpha1Post(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatecontentHaloRunV1alpha1Post(e,n){return o1(this.configuration).updatecontentHaloRunV1alpha1Post(e.name,e.post,n).then(o=>o(this.axios,this.basePath))}}const _U=function(t){return{createcontentHaloRunV1alpha1Reply:async(e,n={})=>{const o="/apis/content.halo.run/v1alpha1/replies",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletecontentHaloRunV1alpha1Reply:async(e,n={})=>{Ve("deletecontentHaloRunV1alpha1Reply","name",e);const o="/apis/content.halo.run/v1alpha1/replies/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getcontentHaloRunV1alpha1Reply:async(e,n={})=>{Ve("getcontentHaloRunV1alpha1Reply","name",e);const o="/apis/content.halo.run/v1alpha1/replies/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listcontentHaloRunV1alpha1Reply:async(e,n,o,a,s={})=>{const r="/apis/content.halo.run/v1alpha1/replies",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatecontentHaloRunV1alpha1Reply:async(e,n,o={})=>{Ve("updatecontentHaloRunV1alpha1Reply","name",e);const a="/apis/content.halo.run/v1alpha1/replies/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},a1=function(t){const e=_U(t);return{async createcontentHaloRunV1alpha1Reply(n,o){const a=await e.createcontentHaloRunV1alpha1Reply(n,o);return de(a,ae,se,t)},async deletecontentHaloRunV1alpha1Reply(n,o){const a=await e.deletecontentHaloRunV1alpha1Reply(n,o);return de(a,ae,se,t)},async getcontentHaloRunV1alpha1Reply(n,o){const a=await e.getcontentHaloRunV1alpha1Reply(n,o);return de(a,ae,se,t)},async listcontentHaloRunV1alpha1Reply(n,o,a,s,r){const i=await e.listcontentHaloRunV1alpha1Reply(n,o,a,s,r);return de(i,ae,se,t)},async updatecontentHaloRunV1alpha1Reply(n,o,a){const s=await e.updatecontentHaloRunV1alpha1Reply(n,o,a);return de(s,ae,se,t)}}};class VU extends dn{createcontentHaloRunV1alpha1Reply(e={},n){return a1(this.configuration).createcontentHaloRunV1alpha1Reply(e.reply,n).then(o=>o(this.axios,this.basePath))}deletecontentHaloRunV1alpha1Reply(e,n){return a1(this.configuration).deletecontentHaloRunV1alpha1Reply(e.name,n).then(o=>o(this.axios,this.basePath))}getcontentHaloRunV1alpha1Reply(e,n){return a1(this.configuration).getcontentHaloRunV1alpha1Reply(e.name,n).then(o=>o(this.axios,this.basePath))}listcontentHaloRunV1alpha1Reply(e={},n){return a1(this.configuration).listcontentHaloRunV1alpha1Reply(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatecontentHaloRunV1alpha1Reply(e,n){return a1(this.configuration).updatecontentHaloRunV1alpha1Reply(e.name,e.reply,n).then(o=>o(this.axios,this.basePath))}}const CU=function(t){return{createcontentHaloRunV1alpha1SinglePage:async(e,n={})=>{const o="/apis/content.halo.run/v1alpha1/singlepages",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletecontentHaloRunV1alpha1SinglePage:async(e,n={})=>{Ve("deletecontentHaloRunV1alpha1SinglePage","name",e);const o="/apis/content.halo.run/v1alpha1/singlepages/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getcontentHaloRunV1alpha1SinglePage:async(e,n={})=>{Ve("getcontentHaloRunV1alpha1SinglePage","name",e);const o="/apis/content.halo.run/v1alpha1/singlepages/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listcontentHaloRunV1alpha1SinglePage:async(e,n,o,a,s={})=>{const r="/apis/content.halo.run/v1alpha1/singlepages",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatecontentHaloRunV1alpha1SinglePage:async(e,n,o={})=>{Ve("updatecontentHaloRunV1alpha1SinglePage","name",e);const a="/apis/content.halo.run/v1alpha1/singlepages/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},s1=function(t){const e=CU(t);return{async createcontentHaloRunV1alpha1SinglePage(n,o){const a=await e.createcontentHaloRunV1alpha1SinglePage(n,o);return de(a,ae,se,t)},async deletecontentHaloRunV1alpha1SinglePage(n,o){const a=await e.deletecontentHaloRunV1alpha1SinglePage(n,o);return de(a,ae,se,t)},async getcontentHaloRunV1alpha1SinglePage(n,o){const a=await e.getcontentHaloRunV1alpha1SinglePage(n,o);return de(a,ae,se,t)},async listcontentHaloRunV1alpha1SinglePage(n,o,a,s,r){const i=await e.listcontentHaloRunV1alpha1SinglePage(n,o,a,s,r);return de(i,ae,se,t)},async updatecontentHaloRunV1alpha1SinglePage(n,o,a){const s=await e.updatecontentHaloRunV1alpha1SinglePage(n,o,a);return de(s,ae,se,t)}}};class SU extends dn{createcontentHaloRunV1alpha1SinglePage(e={},n){return s1(this.configuration).createcontentHaloRunV1alpha1SinglePage(e.singlePage,n).then(o=>o(this.axios,this.basePath))}deletecontentHaloRunV1alpha1SinglePage(e,n){return s1(this.configuration).deletecontentHaloRunV1alpha1SinglePage(e.name,n).then(o=>o(this.axios,this.basePath))}getcontentHaloRunV1alpha1SinglePage(e,n){return s1(this.configuration).getcontentHaloRunV1alpha1SinglePage(e.name,n).then(o=>o(this.axios,this.basePath))}listcontentHaloRunV1alpha1SinglePage(e={},n){return s1(this.configuration).listcontentHaloRunV1alpha1SinglePage(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatecontentHaloRunV1alpha1SinglePage(e,n){return s1(this.configuration).updatecontentHaloRunV1alpha1SinglePage(e.name,e.singlePage,n).then(o=>o(this.axios,this.basePath))}}const PU=function(t){return{createcontentHaloRunV1alpha1Snapshot:async(e,n={})=>{const o="/apis/content.halo.run/v1alpha1/snapshots",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletecontentHaloRunV1alpha1Snapshot:async(e,n={})=>{Ve("deletecontentHaloRunV1alpha1Snapshot","name",e);const o="/apis/content.halo.run/v1alpha1/snapshots/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getcontentHaloRunV1alpha1Snapshot:async(e,n={})=>{Ve("getcontentHaloRunV1alpha1Snapshot","name",e);const o="/apis/content.halo.run/v1alpha1/snapshots/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listcontentHaloRunV1alpha1Snapshot:async(e,n,o,a,s={})=>{const r="/apis/content.halo.run/v1alpha1/snapshots",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatecontentHaloRunV1alpha1Snapshot:async(e,n,o={})=>{Ve("updatecontentHaloRunV1alpha1Snapshot","name",e);const a="/apis/content.halo.run/v1alpha1/snapshots/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},r1=function(t){const e=PU(t);return{async createcontentHaloRunV1alpha1Snapshot(n,o){const a=await e.createcontentHaloRunV1alpha1Snapshot(n,o);return de(a,ae,se,t)},async deletecontentHaloRunV1alpha1Snapshot(n,o){const a=await e.deletecontentHaloRunV1alpha1Snapshot(n,o);return de(a,ae,se,t)},async getcontentHaloRunV1alpha1Snapshot(n,o){const a=await e.getcontentHaloRunV1alpha1Snapshot(n,o);return de(a,ae,se,t)},async listcontentHaloRunV1alpha1Snapshot(n,o,a,s,r){const i=await e.listcontentHaloRunV1alpha1Snapshot(n,o,a,s,r);return de(i,ae,se,t)},async updatecontentHaloRunV1alpha1Snapshot(n,o,a){const s=await e.updatecontentHaloRunV1alpha1Snapshot(n,o,a);return de(s,ae,se,t)}}};class EU extends dn{createcontentHaloRunV1alpha1Snapshot(e={},n){return r1(this.configuration).createcontentHaloRunV1alpha1Snapshot(e.snapshot,n).then(o=>o(this.axios,this.basePath))}deletecontentHaloRunV1alpha1Snapshot(e,n){return r1(this.configuration).deletecontentHaloRunV1alpha1Snapshot(e.name,n).then(o=>o(this.axios,this.basePath))}getcontentHaloRunV1alpha1Snapshot(e,n){return r1(this.configuration).getcontentHaloRunV1alpha1Snapshot(e.name,n).then(o=>o(this.axios,this.basePath))}listcontentHaloRunV1alpha1Snapshot(e={},n){return r1(this.configuration).listcontentHaloRunV1alpha1Snapshot(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatecontentHaloRunV1alpha1Snapshot(e,n){return r1(this.configuration).updatecontentHaloRunV1alpha1Snapshot(e.name,e.snapshot,n).then(o=>o(this.axios,this.basePath))}}const TU=function(t){return{createcontentHaloRunV1alpha1Tag:async(e,n={})=>{const o="/apis/content.halo.run/v1alpha1/tags",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletecontentHaloRunV1alpha1Tag:async(e,n={})=>{Ve("deletecontentHaloRunV1alpha1Tag","name",e);const o="/apis/content.halo.run/v1alpha1/tags/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getcontentHaloRunV1alpha1Tag:async(e,n={})=>{Ve("getcontentHaloRunV1alpha1Tag","name",e);const o="/apis/content.halo.run/v1alpha1/tags/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listcontentHaloRunV1alpha1Tag:async(e,n,o,a,s={})=>{const r="/apis/content.halo.run/v1alpha1/tags",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatecontentHaloRunV1alpha1Tag:async(e,n,o={})=>{Ve("updatecontentHaloRunV1alpha1Tag","name",e);const a="/apis/content.halo.run/v1alpha1/tags/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},i1=function(t){const e=TU(t);return{async createcontentHaloRunV1alpha1Tag(n,o){const a=await e.createcontentHaloRunV1alpha1Tag(n,o);return de(a,ae,se,t)},async deletecontentHaloRunV1alpha1Tag(n,o){const a=await e.deletecontentHaloRunV1alpha1Tag(n,o);return de(a,ae,se,t)},async getcontentHaloRunV1alpha1Tag(n,o){const a=await e.getcontentHaloRunV1alpha1Tag(n,o);return de(a,ae,se,t)},async listcontentHaloRunV1alpha1Tag(n,o,a,s,r){const i=await e.listcontentHaloRunV1alpha1Tag(n,o,a,s,r);return de(i,ae,se,t)},async updatecontentHaloRunV1alpha1Tag(n,o,a){const s=await e.updatecontentHaloRunV1alpha1Tag(n,o,a);return de(s,ae,se,t)}}};class RU extends dn{createcontentHaloRunV1alpha1Tag(e={},n){return i1(this.configuration).createcontentHaloRunV1alpha1Tag(e.tag,n).then(o=>o(this.axios,this.basePath))}deletecontentHaloRunV1alpha1Tag(e,n){return i1(this.configuration).deletecontentHaloRunV1alpha1Tag(e.name,n).then(o=>o(this.axios,this.basePath))}getcontentHaloRunV1alpha1Tag(e,n){return i1(this.configuration).getcontentHaloRunV1alpha1Tag(e.name,n).then(o=>o(this.axios,this.basePath))}listcontentHaloRunV1alpha1Tag(e={},n){return i1(this.configuration).listcontentHaloRunV1alpha1Tag(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatecontentHaloRunV1alpha1Tag(e,n){return i1(this.configuration).updatecontentHaloRunV1alpha1Tag(e.name,e.tag,n).then(o=>o(this.axios,this.basePath))}}const OU=function(t){return{createpluginHaloRunV1alpha1Plugin:async(e,n={})=>{const o="/apis/plugin.halo.run/v1alpha1/plugins",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletepluginHaloRunV1alpha1Plugin:async(e,n={})=>{Ve("deletepluginHaloRunV1alpha1Plugin","name",e);const o="/apis/plugin.halo.run/v1alpha1/plugins/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getpluginHaloRunV1alpha1Plugin:async(e,n={})=>{Ve("getpluginHaloRunV1alpha1Plugin","name",e);const o="/apis/plugin.halo.run/v1alpha1/plugins/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listpluginHaloRunV1alpha1Plugin:async(e,n,o,a,s={})=>{const r="/apis/plugin.halo.run/v1alpha1/plugins",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatepluginHaloRunV1alpha1Plugin:async(e,n,o={})=>{Ve("updatepluginHaloRunV1alpha1Plugin","name",e);const a="/apis/plugin.halo.run/v1alpha1/plugins/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},l1=function(t){const e=OU(t);return{async createpluginHaloRunV1alpha1Plugin(n,o){const a=await e.createpluginHaloRunV1alpha1Plugin(n,o);return de(a,ae,se,t)},async deletepluginHaloRunV1alpha1Plugin(n,o){const a=await e.deletepluginHaloRunV1alpha1Plugin(n,o);return de(a,ae,se,t)},async getpluginHaloRunV1alpha1Plugin(n,o){const a=await e.getpluginHaloRunV1alpha1Plugin(n,o);return de(a,ae,se,t)},async listpluginHaloRunV1alpha1Plugin(n,o,a,s,r){const i=await e.listpluginHaloRunV1alpha1Plugin(n,o,a,s,r);return de(i,ae,se,t)},async updatepluginHaloRunV1alpha1Plugin(n,o,a){const s=await e.updatepluginHaloRunV1alpha1Plugin(n,o,a);return de(s,ae,se,t)}}};class kU extends dn{createpluginHaloRunV1alpha1Plugin(e={},n){return l1(this.configuration).createpluginHaloRunV1alpha1Plugin(e.plugin,n).then(o=>o(this.axios,this.basePath))}deletepluginHaloRunV1alpha1Plugin(e,n){return l1(this.configuration).deletepluginHaloRunV1alpha1Plugin(e.name,n).then(o=>o(this.axios,this.basePath))}getpluginHaloRunV1alpha1Plugin(e,n){return l1(this.configuration).getpluginHaloRunV1alpha1Plugin(e.name,n).then(o=>o(this.axios,this.basePath))}listpluginHaloRunV1alpha1Plugin(e={},n){return l1(this.configuration).listpluginHaloRunV1alpha1Plugin(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatepluginHaloRunV1alpha1Plugin(e,n){return l1(this.configuration).updatepluginHaloRunV1alpha1Plugin(e.name,e.plugin,n).then(o=>o(this.axios,this.basePath))}}const AU=function(t){return{createpluginHaloRunV1alpha1ReverseProxy:async(e,n={})=>{const o="/apis/plugin.halo.run/v1alpha1/reverseproxies",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletepluginHaloRunV1alpha1ReverseProxy:async(e,n={})=>{Ve("deletepluginHaloRunV1alpha1ReverseProxy","name",e);const o="/apis/plugin.halo.run/v1alpha1/reverseproxies/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getpluginHaloRunV1alpha1ReverseProxy:async(e,n={})=>{Ve("getpluginHaloRunV1alpha1ReverseProxy","name",e);const o="/apis/plugin.halo.run/v1alpha1/reverseproxies/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listpluginHaloRunV1alpha1ReverseProxy:async(e,n,o,a,s={})=>{const r="/apis/plugin.halo.run/v1alpha1/reverseproxies",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatepluginHaloRunV1alpha1ReverseProxy:async(e,n,o={})=>{Ve("updatepluginHaloRunV1alpha1ReverseProxy","name",e);const a="/apis/plugin.halo.run/v1alpha1/reverseproxies/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},c1=function(t){const e=AU(t);return{async createpluginHaloRunV1alpha1ReverseProxy(n,o){const a=await e.createpluginHaloRunV1alpha1ReverseProxy(n,o);return de(a,ae,se,t)},async deletepluginHaloRunV1alpha1ReverseProxy(n,o){const a=await e.deletepluginHaloRunV1alpha1ReverseProxy(n,o);return de(a,ae,se,t)},async getpluginHaloRunV1alpha1ReverseProxy(n,o){const a=await e.getpluginHaloRunV1alpha1ReverseProxy(n,o);return de(a,ae,se,t)},async listpluginHaloRunV1alpha1ReverseProxy(n,o,a,s,r){const i=await e.listpluginHaloRunV1alpha1ReverseProxy(n,o,a,s,r);return de(i,ae,se,t)},async updatepluginHaloRunV1alpha1ReverseProxy(n,o,a){const s=await e.updatepluginHaloRunV1alpha1ReverseProxy(n,o,a);return de(s,ae,se,t)}}};class IU extends dn{createpluginHaloRunV1alpha1ReverseProxy(e={},n){return c1(this.configuration).createpluginHaloRunV1alpha1ReverseProxy(e.reverseProxy,n).then(o=>o(this.axios,this.basePath))}deletepluginHaloRunV1alpha1ReverseProxy(e,n){return c1(this.configuration).deletepluginHaloRunV1alpha1ReverseProxy(e.name,n).then(o=>o(this.axios,this.basePath))}getpluginHaloRunV1alpha1ReverseProxy(e,n){return c1(this.configuration).getpluginHaloRunV1alpha1ReverseProxy(e.name,n).then(o=>o(this.axios,this.basePath))}listpluginHaloRunV1alpha1ReverseProxy(e={},n){return c1(this.configuration).listpluginHaloRunV1alpha1ReverseProxy(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatepluginHaloRunV1alpha1ReverseProxy(e,n){return c1(this.configuration).updatepluginHaloRunV1alpha1ReverseProxy(e.name,e.reverseProxy,n).then(o=>o(this.axios,this.basePath))}}const MU=function(t){return{createstorageHaloRunV1alpha1Attachment:async(e,n={})=>{const o="/apis/storage.halo.run/v1alpha1/attachments",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletestorageHaloRunV1alpha1Attachment:async(e,n={})=>{Ve("deletestorageHaloRunV1alpha1Attachment","name",e);const o="/apis/storage.halo.run/v1alpha1/attachments/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getstorageHaloRunV1alpha1Attachment:async(e,n={})=>{Ve("getstorageHaloRunV1alpha1Attachment","name",e);const o="/apis/storage.halo.run/v1alpha1/attachments/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},liststorageHaloRunV1alpha1Attachment:async(e,n,o,a,s={})=>{const r="/apis/storage.halo.run/v1alpha1/attachments",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatestorageHaloRunV1alpha1Attachment:async(e,n,o={})=>{Ve("updatestorageHaloRunV1alpha1Attachment","name",e);const a="/apis/storage.halo.run/v1alpha1/attachments/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},u1=function(t){const e=MU(t);return{async createstorageHaloRunV1alpha1Attachment(n,o){const a=await e.createstorageHaloRunV1alpha1Attachment(n,o);return de(a,ae,se,t)},async deletestorageHaloRunV1alpha1Attachment(n,o){const a=await e.deletestorageHaloRunV1alpha1Attachment(n,o);return de(a,ae,se,t)},async getstorageHaloRunV1alpha1Attachment(n,o){const a=await e.getstorageHaloRunV1alpha1Attachment(n,o);return de(a,ae,se,t)},async liststorageHaloRunV1alpha1Attachment(n,o,a,s,r){const i=await e.liststorageHaloRunV1alpha1Attachment(n,o,a,s,r);return de(i,ae,se,t)},async updatestorageHaloRunV1alpha1Attachment(n,o,a){const s=await e.updatestorageHaloRunV1alpha1Attachment(n,o,a);return de(s,ae,se,t)}}};class FU extends dn{createstorageHaloRunV1alpha1Attachment(e={},n){return u1(this.configuration).createstorageHaloRunV1alpha1Attachment(e.attachment,n).then(o=>o(this.axios,this.basePath))}deletestorageHaloRunV1alpha1Attachment(e,n){return u1(this.configuration).deletestorageHaloRunV1alpha1Attachment(e.name,n).then(o=>o(this.axios,this.basePath))}getstorageHaloRunV1alpha1Attachment(e,n){return u1(this.configuration).getstorageHaloRunV1alpha1Attachment(e.name,n).then(o=>o(this.axios,this.basePath))}liststorageHaloRunV1alpha1Attachment(e={},n){return u1(this.configuration).liststorageHaloRunV1alpha1Attachment(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatestorageHaloRunV1alpha1Attachment(e,n){return u1(this.configuration).updatestorageHaloRunV1alpha1Attachment(e.name,e.attachment,n).then(o=>o(this.axios,this.basePath))}}const DU=function(t){return{createstorageHaloRunV1alpha1Group:async(e,n={})=>{const o="/apis/storage.halo.run/v1alpha1/groups",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletestorageHaloRunV1alpha1Group:async(e,n={})=>{Ve("deletestorageHaloRunV1alpha1Group","name",e);const o="/apis/storage.halo.run/v1alpha1/groups/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getstorageHaloRunV1alpha1Group:async(e,n={})=>{Ve("getstorageHaloRunV1alpha1Group","name",e);const o="/apis/storage.halo.run/v1alpha1/groups/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},liststorageHaloRunV1alpha1Group:async(e,n,o,a,s={})=>{const r="/apis/storage.halo.run/v1alpha1/groups",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatestorageHaloRunV1alpha1Group:async(e,n,o={})=>{Ve("updatestorageHaloRunV1alpha1Group","name",e);const a="/apis/storage.halo.run/v1alpha1/groups/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},d1=function(t){const e=DU(t);return{async createstorageHaloRunV1alpha1Group(n,o){const a=await e.createstorageHaloRunV1alpha1Group(n,o);return de(a,ae,se,t)},async deletestorageHaloRunV1alpha1Group(n,o){const a=await e.deletestorageHaloRunV1alpha1Group(n,o);return de(a,ae,se,t)},async getstorageHaloRunV1alpha1Group(n,o){const a=await e.getstorageHaloRunV1alpha1Group(n,o);return de(a,ae,se,t)},async liststorageHaloRunV1alpha1Group(n,o,a,s,r){const i=await e.liststorageHaloRunV1alpha1Group(n,o,a,s,r);return de(i,ae,se,t)},async updatestorageHaloRunV1alpha1Group(n,o,a){const s=await e.updatestorageHaloRunV1alpha1Group(n,o,a);return de(s,ae,se,t)}}};class NU extends dn{createstorageHaloRunV1alpha1Group(e={},n){return d1(this.configuration).createstorageHaloRunV1alpha1Group(e.group,n).then(o=>o(this.axios,this.basePath))}deletestorageHaloRunV1alpha1Group(e,n){return d1(this.configuration).deletestorageHaloRunV1alpha1Group(e.name,n).then(o=>o(this.axios,this.basePath))}getstorageHaloRunV1alpha1Group(e,n){return d1(this.configuration).getstorageHaloRunV1alpha1Group(e.name,n).then(o=>o(this.axios,this.basePath))}liststorageHaloRunV1alpha1Group(e={},n){return d1(this.configuration).liststorageHaloRunV1alpha1Group(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatestorageHaloRunV1alpha1Group(e,n){return d1(this.configuration).updatestorageHaloRunV1alpha1Group(e.name,e.group,n).then(o=>o(this.axios,this.basePath))}}const HU=function(t){return{createstorageHaloRunV1alpha1Policy:async(e,n={})=>{const o="/apis/storage.halo.run/v1alpha1/policies",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletestorageHaloRunV1alpha1Policy:async(e,n={})=>{Ve("deletestorageHaloRunV1alpha1Policy","name",e);const o="/apis/storage.halo.run/v1alpha1/policies/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getstorageHaloRunV1alpha1Policy:async(e,n={})=>{Ve("getstorageHaloRunV1alpha1Policy","name",e);const o="/apis/storage.halo.run/v1alpha1/policies/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},liststorageHaloRunV1alpha1Policy:async(e,n,o,a,s={})=>{const r="/apis/storage.halo.run/v1alpha1/policies",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatestorageHaloRunV1alpha1Policy:async(e,n,o={})=>{Ve("updatestorageHaloRunV1alpha1Policy","name",e);const a="/apis/storage.halo.run/v1alpha1/policies/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},p1=function(t){const e=HU(t);return{async createstorageHaloRunV1alpha1Policy(n,o){const a=await e.createstorageHaloRunV1alpha1Policy(n,o);return de(a,ae,se,t)},async deletestorageHaloRunV1alpha1Policy(n,o){const a=await e.deletestorageHaloRunV1alpha1Policy(n,o);return de(a,ae,se,t)},async getstorageHaloRunV1alpha1Policy(n,o){const a=await e.getstorageHaloRunV1alpha1Policy(n,o);return de(a,ae,se,t)},async liststorageHaloRunV1alpha1Policy(n,o,a,s,r){const i=await e.liststorageHaloRunV1alpha1Policy(n,o,a,s,r);return de(i,ae,se,t)},async updatestorageHaloRunV1alpha1Policy(n,o,a){const s=await e.updatestorageHaloRunV1alpha1Policy(n,o,a);return de(s,ae,se,t)}}};class BU extends dn{createstorageHaloRunV1alpha1Policy(e={},n){return p1(this.configuration).createstorageHaloRunV1alpha1Policy(e.policy,n).then(o=>o(this.axios,this.basePath))}deletestorageHaloRunV1alpha1Policy(e,n){return p1(this.configuration).deletestorageHaloRunV1alpha1Policy(e.name,n).then(o=>o(this.axios,this.basePath))}getstorageHaloRunV1alpha1Policy(e,n){return p1(this.configuration).getstorageHaloRunV1alpha1Policy(e.name,n).then(o=>o(this.axios,this.basePath))}liststorageHaloRunV1alpha1Policy(e={},n){return p1(this.configuration).liststorageHaloRunV1alpha1Policy(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatestorageHaloRunV1alpha1Policy(e,n){return p1(this.configuration).updatestorageHaloRunV1alpha1Policy(e.name,e.policy,n).then(o=>o(this.axios,this.basePath))}}const LU=function(t){return{createstorageHaloRunV1alpha1PolicyTemplate:async(e,n={})=>{const o="/apis/storage.halo.run/v1alpha1/policytemplates",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletestorageHaloRunV1alpha1PolicyTemplate:async(e,n={})=>{Ve("deletestorageHaloRunV1alpha1PolicyTemplate","name",e);const o="/apis/storage.halo.run/v1alpha1/policytemplates/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getstorageHaloRunV1alpha1PolicyTemplate:async(e,n={})=>{Ve("getstorageHaloRunV1alpha1PolicyTemplate","name",e);const o="/apis/storage.halo.run/v1alpha1/policytemplates/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},liststorageHaloRunV1alpha1PolicyTemplate:async(e,n,o,a,s={})=>{const r="/apis/storage.halo.run/v1alpha1/policytemplates",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatestorageHaloRunV1alpha1PolicyTemplate:async(e,n,o={})=>{Ve("updatestorageHaloRunV1alpha1PolicyTemplate","name",e);const a="/apis/storage.halo.run/v1alpha1/policytemplates/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},h1=function(t){const e=LU(t);return{async createstorageHaloRunV1alpha1PolicyTemplate(n,o){const a=await e.createstorageHaloRunV1alpha1PolicyTemplate(n,o);return de(a,ae,se,t)},async deletestorageHaloRunV1alpha1PolicyTemplate(n,o){const a=await e.deletestorageHaloRunV1alpha1PolicyTemplate(n,o);return de(a,ae,se,t)},async getstorageHaloRunV1alpha1PolicyTemplate(n,o){const a=await e.getstorageHaloRunV1alpha1PolicyTemplate(n,o);return de(a,ae,se,t)},async liststorageHaloRunV1alpha1PolicyTemplate(n,o,a,s,r){const i=await e.liststorageHaloRunV1alpha1PolicyTemplate(n,o,a,s,r);return de(i,ae,se,t)},async updatestorageHaloRunV1alpha1PolicyTemplate(n,o,a){const s=await e.updatestorageHaloRunV1alpha1PolicyTemplate(n,o,a);return de(s,ae,se,t)}}};class UU extends dn{createstorageHaloRunV1alpha1PolicyTemplate(e={},n){return h1(this.configuration).createstorageHaloRunV1alpha1PolicyTemplate(e.policyTemplate,n).then(o=>o(this.axios,this.basePath))}deletestorageHaloRunV1alpha1PolicyTemplate(e,n){return h1(this.configuration).deletestorageHaloRunV1alpha1PolicyTemplate(e.name,n).then(o=>o(this.axios,this.basePath))}getstorageHaloRunV1alpha1PolicyTemplate(e,n){return h1(this.configuration).getstorageHaloRunV1alpha1PolicyTemplate(e.name,n).then(o=>o(this.axios,this.basePath))}liststorageHaloRunV1alpha1PolicyTemplate(e={},n){return h1(this.configuration).liststorageHaloRunV1alpha1PolicyTemplate(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatestorageHaloRunV1alpha1PolicyTemplate(e,n){return h1(this.configuration).updatestorageHaloRunV1alpha1PolicyTemplate(e.name,e.policyTemplate,n).then(o=>o(this.axios,this.basePath))}}const jU=function(t){return{createthemeHaloRunV1alpha1Theme:async(e,n={})=>{const o="/apis/theme.halo.run/v1alpha1/themes",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletethemeHaloRunV1alpha1Theme:async(e,n={})=>{Ve("deletethemeHaloRunV1alpha1Theme","name",e);const o="/apis/theme.halo.run/v1alpha1/themes/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getthemeHaloRunV1alpha1Theme:async(e,n={})=>{Ve("getthemeHaloRunV1alpha1Theme","name",e);const o="/apis/theme.halo.run/v1alpha1/themes/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listthemeHaloRunV1alpha1Theme:async(e,n,o,a,s={})=>{const r="/apis/theme.halo.run/v1alpha1/themes",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatethemeHaloRunV1alpha1Theme:async(e,n,o={})=>{Ve("updatethemeHaloRunV1alpha1Theme","name",e);const a="/apis/theme.halo.run/v1alpha1/themes/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},f1=function(t){const e=jU(t);return{async createthemeHaloRunV1alpha1Theme(n,o){const a=await e.createthemeHaloRunV1alpha1Theme(n,o);return de(a,ae,se,t)},async deletethemeHaloRunV1alpha1Theme(n,o){const a=await e.deletethemeHaloRunV1alpha1Theme(n,o);return de(a,ae,se,t)},async getthemeHaloRunV1alpha1Theme(n,o){const a=await e.getthemeHaloRunV1alpha1Theme(n,o);return de(a,ae,se,t)},async listthemeHaloRunV1alpha1Theme(n,o,a,s,r){const i=await e.listthemeHaloRunV1alpha1Theme(n,o,a,s,r);return de(i,ae,se,t)},async updatethemeHaloRunV1alpha1Theme(n,o,a){const s=await e.updatethemeHaloRunV1alpha1Theme(n,o,a);return de(s,ae,se,t)}}};class zU extends dn{createthemeHaloRunV1alpha1Theme(e={},n){return f1(this.configuration).createthemeHaloRunV1alpha1Theme(e.theme,n).then(o=>o(this.axios,this.basePath))}deletethemeHaloRunV1alpha1Theme(e,n){return f1(this.configuration).deletethemeHaloRunV1alpha1Theme(e.name,n).then(o=>o(this.axios,this.basePath))}getthemeHaloRunV1alpha1Theme(e,n){return f1(this.configuration).getthemeHaloRunV1alpha1Theme(e.name,n).then(o=>o(this.axios,this.basePath))}listthemeHaloRunV1alpha1Theme(e={},n){return f1(this.configuration).listthemeHaloRunV1alpha1Theme(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatethemeHaloRunV1alpha1Theme(e,n){return f1(this.configuration).updatethemeHaloRunV1alpha1Theme(e.name,e.theme,n).then(o=>o(this.axios,this.basePath))}}const GU=function(t){return{createv1alpha1AnnotationSetting:async(e,n={})=>{const o="/api/v1alpha1/annotationsettings",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1AnnotationSetting:async(e,n={})=>{Ve("deletev1alpha1AnnotationSetting","name",e);const o="/api/v1alpha1/annotationsettings/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1AnnotationSetting:async(e,n={})=>{Ve("getv1alpha1AnnotationSetting","name",e);const o="/api/v1alpha1/annotationsettings/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1AnnotationSetting:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/annotationsettings",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1AnnotationSetting:async(e,n,o={})=>{Ve("updatev1alpha1AnnotationSetting","name",e);const a="/api/v1alpha1/annotationsettings/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},m1=function(t){const e=GU(t);return{async createv1alpha1AnnotationSetting(n,o){const a=await e.createv1alpha1AnnotationSetting(n,o);return de(a,ae,se,t)},async deletev1alpha1AnnotationSetting(n,o){const a=await e.deletev1alpha1AnnotationSetting(n,o);return de(a,ae,se,t)},async getv1alpha1AnnotationSetting(n,o){const a=await e.getv1alpha1AnnotationSetting(n,o);return de(a,ae,se,t)},async listv1alpha1AnnotationSetting(n,o,a,s,r){const i=await e.listv1alpha1AnnotationSetting(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1AnnotationSetting(n,o,a){const s=await e.updatev1alpha1AnnotationSetting(n,o,a);return de(s,ae,se,t)}}};class WU extends dn{createv1alpha1AnnotationSetting(e={},n){return m1(this.configuration).createv1alpha1AnnotationSetting(e.annotationSetting,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1AnnotationSetting(e,n){return m1(this.configuration).deletev1alpha1AnnotationSetting(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1AnnotationSetting(e,n){return m1(this.configuration).getv1alpha1AnnotationSetting(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1AnnotationSetting(e={},n){return m1(this.configuration).listv1alpha1AnnotationSetting(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1AnnotationSetting(e,n){return m1(this.configuration).updatev1alpha1AnnotationSetting(e.name,e.annotationSetting,n).then(o=>o(this.axios,this.basePath))}}const KU=function(t){return{createv1alpha1ConfigMap:async(e,n={})=>{const o="/api/v1alpha1/configmaps",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1ConfigMap:async(e,n={})=>{Ve("deletev1alpha1ConfigMap","name",e);const o="/api/v1alpha1/configmaps/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1ConfigMap:async(e,n={})=>{Ve("getv1alpha1ConfigMap","name",e);const o="/api/v1alpha1/configmaps/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1ConfigMap:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/configmaps",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1ConfigMap:async(e,n,o={})=>{Ve("updatev1alpha1ConfigMap","name",e);const a="/api/v1alpha1/configmaps/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},g1=function(t){const e=KU(t);return{async createv1alpha1ConfigMap(n,o){const a=await e.createv1alpha1ConfigMap(n,o);return de(a,ae,se,t)},async deletev1alpha1ConfigMap(n,o){const a=await e.deletev1alpha1ConfigMap(n,o);return de(a,ae,se,t)},async getv1alpha1ConfigMap(n,o){const a=await e.getv1alpha1ConfigMap(n,o);return de(a,ae,se,t)},async listv1alpha1ConfigMap(n,o,a,s,r){const i=await e.listv1alpha1ConfigMap(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1ConfigMap(n,o,a){const s=await e.updatev1alpha1ConfigMap(n,o,a);return de(s,ae,se,t)}}};class YU extends dn{createv1alpha1ConfigMap(e={},n){return g1(this.configuration).createv1alpha1ConfigMap(e.configMap,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1ConfigMap(e,n){return g1(this.configuration).deletev1alpha1ConfigMap(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1ConfigMap(e,n){return g1(this.configuration).getv1alpha1ConfigMap(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1ConfigMap(e={},n){return g1(this.configuration).listv1alpha1ConfigMap(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1ConfigMap(e,n){return g1(this.configuration).updatev1alpha1ConfigMap(e.name,e.configMap,n).then(o=>o(this.axios,this.basePath))}}const XU=function(t){return{createv1alpha1Menu:async(e,n={})=>{const o="/api/v1alpha1/menus",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1Menu:async(e,n={})=>{Ve("deletev1alpha1Menu","name",e);const o="/api/v1alpha1/menus/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1Menu:async(e,n={})=>{Ve("getv1alpha1Menu","name",e);const o="/api/v1alpha1/menus/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1Menu:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/menus",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1Menu:async(e,n,o={})=>{Ve("updatev1alpha1Menu","name",e);const a="/api/v1alpha1/menus/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},v1=function(t){const e=XU(t);return{async createv1alpha1Menu(n,o){const a=await e.createv1alpha1Menu(n,o);return de(a,ae,se,t)},async deletev1alpha1Menu(n,o){const a=await e.deletev1alpha1Menu(n,o);return de(a,ae,se,t)},async getv1alpha1Menu(n,o){const a=await e.getv1alpha1Menu(n,o);return de(a,ae,se,t)},async listv1alpha1Menu(n,o,a,s,r){const i=await e.listv1alpha1Menu(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1Menu(n,o,a){const s=await e.updatev1alpha1Menu(n,o,a);return de(s,ae,se,t)}}};class QU extends dn{createv1alpha1Menu(e={},n){return v1(this.configuration).createv1alpha1Menu(e.menu,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1Menu(e,n){return v1(this.configuration).deletev1alpha1Menu(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1Menu(e,n){return v1(this.configuration).getv1alpha1Menu(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1Menu(e={},n){return v1(this.configuration).listv1alpha1Menu(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1Menu(e,n){return v1(this.configuration).updatev1alpha1Menu(e.name,e.menu,n).then(o=>o(this.axios,this.basePath))}}const ZU=function(t){return{createv1alpha1MenuItem:async(e,n={})=>{const o="/api/v1alpha1/menuitems",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1MenuItem:async(e,n={})=>{Ve("deletev1alpha1MenuItem","name",e);const o="/api/v1alpha1/menuitems/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1MenuItem:async(e,n={})=>{Ve("getv1alpha1MenuItem","name",e);const o="/api/v1alpha1/menuitems/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1MenuItem:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/menuitems",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1MenuItem:async(e,n,o={})=>{Ve("updatev1alpha1MenuItem","name",e);const a="/api/v1alpha1/menuitems/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},y1=function(t){const e=ZU(t);return{async createv1alpha1MenuItem(n,o){const a=await e.createv1alpha1MenuItem(n,o);return de(a,ae,se,t)},async deletev1alpha1MenuItem(n,o){const a=await e.deletev1alpha1MenuItem(n,o);return de(a,ae,se,t)},async getv1alpha1MenuItem(n,o){const a=await e.getv1alpha1MenuItem(n,o);return de(a,ae,se,t)},async listv1alpha1MenuItem(n,o,a,s,r){const i=await e.listv1alpha1MenuItem(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1MenuItem(n,o,a){const s=await e.updatev1alpha1MenuItem(n,o,a);return de(s,ae,se,t)}}};class JU extends dn{createv1alpha1MenuItem(e={},n){return y1(this.configuration).createv1alpha1MenuItem(e.menuItem,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1MenuItem(e,n){return y1(this.configuration).deletev1alpha1MenuItem(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1MenuItem(e,n){return y1(this.configuration).getv1alpha1MenuItem(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1MenuItem(e={},n){return y1(this.configuration).listv1alpha1MenuItem(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1MenuItem(e,n){return y1(this.configuration).updatev1alpha1MenuItem(e.name,e.menuItem,n).then(o=>o(this.axios,this.basePath))}}const qU=function(t){return{createv1alpha1PersonalAccessToken:async(e,n={})=>{const o="/api/v1alpha1/personalaccesstokens",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1PersonalAccessToken:async(e,n={})=>{Ve("deletev1alpha1PersonalAccessToken","name",e);const o="/api/v1alpha1/personalaccesstokens/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1PersonalAccessToken:async(e,n={})=>{Ve("getv1alpha1PersonalAccessToken","name",e);const o="/api/v1alpha1/personalaccesstokens/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1PersonalAccessToken:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/personalaccesstokens",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1PersonalAccessToken:async(e,n,o={})=>{Ve("updatev1alpha1PersonalAccessToken","name",e);const a="/api/v1alpha1/personalaccesstokens/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},w1=function(t){const e=qU(t);return{async createv1alpha1PersonalAccessToken(n,o){const a=await e.createv1alpha1PersonalAccessToken(n,o);return de(a,ae,se,t)},async deletev1alpha1PersonalAccessToken(n,o){const a=await e.deletev1alpha1PersonalAccessToken(n,o);return de(a,ae,se,t)},async getv1alpha1PersonalAccessToken(n,o){const a=await e.getv1alpha1PersonalAccessToken(n,o);return de(a,ae,se,t)},async listv1alpha1PersonalAccessToken(n,o,a,s,r){const i=await e.listv1alpha1PersonalAccessToken(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1PersonalAccessToken(n,o,a){const s=await e.updatev1alpha1PersonalAccessToken(n,o,a);return de(s,ae,se,t)}}};class ej extends dn{createv1alpha1PersonalAccessToken(e={},n){return w1(this.configuration).createv1alpha1PersonalAccessToken(e.personalAccessToken,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1PersonalAccessToken(e,n){return w1(this.configuration).deletev1alpha1PersonalAccessToken(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1PersonalAccessToken(e,n){return w1(this.configuration).getv1alpha1PersonalAccessToken(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1PersonalAccessToken(e={},n){return w1(this.configuration).listv1alpha1PersonalAccessToken(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1PersonalAccessToken(e,n){return w1(this.configuration).updatev1alpha1PersonalAccessToken(e.name,e.personalAccessToken,n).then(o=>o(this.axios,this.basePath))}}const tj=function(t){return{createv1alpha1Role:async(e,n={})=>{const o="/api/v1alpha1/roles",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1Role:async(e,n={})=>{Ve("deletev1alpha1Role","name",e);const o="/api/v1alpha1/roles/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1Role:async(e,n={})=>{Ve("getv1alpha1Role","name",e);const o="/api/v1alpha1/roles/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1Role:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/roles",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1Role:async(e,n,o={})=>{Ve("updatev1alpha1Role","name",e);const a="/api/v1alpha1/roles/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},b1=function(t){const e=tj(t);return{async createv1alpha1Role(n,o){const a=await e.createv1alpha1Role(n,o);return de(a,ae,se,t)},async deletev1alpha1Role(n,o){const a=await e.deletev1alpha1Role(n,o);return de(a,ae,se,t)},async getv1alpha1Role(n,o){const a=await e.getv1alpha1Role(n,o);return de(a,ae,se,t)},async listv1alpha1Role(n,o,a,s,r){const i=await e.listv1alpha1Role(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1Role(n,o,a){const s=await e.updatev1alpha1Role(n,o,a);return de(s,ae,se,t)}}};class nj extends dn{createv1alpha1Role(e={},n){return b1(this.configuration).createv1alpha1Role(e.role,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1Role(e,n){return b1(this.configuration).deletev1alpha1Role(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1Role(e,n){return b1(this.configuration).getv1alpha1Role(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1Role(e={},n){return b1(this.configuration).listv1alpha1Role(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1Role(e,n){return b1(this.configuration).updatev1alpha1Role(e.name,e.role,n).then(o=>o(this.axios,this.basePath))}}const oj=function(t){return{createv1alpha1RoleBinding:async(e,n={})=>{const o="/api/v1alpha1/rolebindings",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1RoleBinding:async(e,n={})=>{Ve("deletev1alpha1RoleBinding","name",e);const o="/api/v1alpha1/rolebindings/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1RoleBinding:async(e,n={})=>{Ve("getv1alpha1RoleBinding","name",e);const o="/api/v1alpha1/rolebindings/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1RoleBinding:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/rolebindings",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1RoleBinding:async(e,n,o={})=>{Ve("updatev1alpha1RoleBinding","name",e);const a="/api/v1alpha1/rolebindings/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},$1=function(t){const e=oj(t);return{async createv1alpha1RoleBinding(n,o){const a=await e.createv1alpha1RoleBinding(n,o);return de(a,ae,se,t)},async deletev1alpha1RoleBinding(n,o){const a=await e.deletev1alpha1RoleBinding(n,o);return de(a,ae,se,t)},async getv1alpha1RoleBinding(n,o){const a=await e.getv1alpha1RoleBinding(n,o);return de(a,ae,se,t)},async listv1alpha1RoleBinding(n,o,a,s,r){const i=await e.listv1alpha1RoleBinding(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1RoleBinding(n,o,a){const s=await e.updatev1alpha1RoleBinding(n,o,a);return de(s,ae,se,t)}}};class aj extends dn{createv1alpha1RoleBinding(e={},n){return $1(this.configuration).createv1alpha1RoleBinding(e.roleBinding,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1RoleBinding(e,n){return $1(this.configuration).deletev1alpha1RoleBinding(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1RoleBinding(e,n){return $1(this.configuration).getv1alpha1RoleBinding(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1RoleBinding(e={},n){return $1(this.configuration).listv1alpha1RoleBinding(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1RoleBinding(e,n){return $1(this.configuration).updatev1alpha1RoleBinding(e.name,e.roleBinding,n).then(o=>o(this.axios,this.basePath))}}const sj=function(t){return{createv1alpha1Setting:async(e,n={})=>{const o="/api/v1alpha1/settings",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1Setting:async(e,n={})=>{Ve("deletev1alpha1Setting","name",e);const o="/api/v1alpha1/settings/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1Setting:async(e,n={})=>{Ve("getv1alpha1Setting","name",e);const o="/api/v1alpha1/settings/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1Setting:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/settings",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1Setting:async(e,n,o={})=>{Ve("updatev1alpha1Setting","name",e);const a="/api/v1alpha1/settings/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},x1=function(t){const e=sj(t);return{async createv1alpha1Setting(n,o){const a=await e.createv1alpha1Setting(n,o);return de(a,ae,se,t)},async deletev1alpha1Setting(n,o){const a=await e.deletev1alpha1Setting(n,o);return de(a,ae,se,t)},async getv1alpha1Setting(n,o){const a=await e.getv1alpha1Setting(n,o);return de(a,ae,se,t)},async listv1alpha1Setting(n,o,a,s,r){const i=await e.listv1alpha1Setting(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1Setting(n,o,a){const s=await e.updatev1alpha1Setting(n,o,a);return de(s,ae,se,t)}}};class rj extends dn{createv1alpha1Setting(e={},n){return x1(this.configuration).createv1alpha1Setting(e.setting,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1Setting(e,n){return x1(this.configuration).deletev1alpha1Setting(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1Setting(e,n){return x1(this.configuration).getv1alpha1Setting(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1Setting(e={},n){return x1(this.configuration).listv1alpha1Setting(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1Setting(e,n){return x1(this.configuration).updatev1alpha1Setting(e.name,e.setting,n).then(o=>o(this.axios,this.basePath))}}const ij=function(t){return{createv1alpha1User:async(e,n={})=>{const o="/api/v1alpha1/users",a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"POST",...s,...n},i={},l={};ie(r,t),await le(i,t),i["Content-Type"]="application/json",ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},r.data=rt(e,r,t),{url:ue(a),options:r}},deletev1alpha1User:async(e,n={})=>{Ve("deletev1alpha1User","name",e);const o="/api/v1alpha1/users/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"DELETE",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},getv1alpha1User:async(e,n={})=>{Ve("getv1alpha1User","name",e);const o="/api/v1alpha1/users/{name}".replace("{name}",encodeURIComponent(String(e))),a=new URL(o,re);let s;t&&(s=t.baseOptions);const r={method:"GET",...s,...n},i={},l={};ie(r,t),await le(i,t),ce(a,l);let c=s&&s.headers?s.headers:{};return r.headers={...i,...c,...n.headers},{url:ue(a),options:r}},listv1alpha1User:async(e,n,o,a,s={})=>{const r="/api/v1alpha1/users",i=new URL(r,re);let l;t&&(l=t.baseOptions);const c={method:"GET",...l,...s},u={},d={};ie(c,t),await le(u,t),e!==void 0&&(d.page=e),n!==void 0&&(d.size=n),o&&(d.labelSelector=o),a&&(d.fieldSelector=a),ce(i,d);let p=l&&l.headers?l.headers:{};return c.headers={...u,...p,...s.headers},{url:ue(i),options:c}},updatev1alpha1User:async(e,n,o={})=>{Ve("updatev1alpha1User","name",e);const a="/api/v1alpha1/users/{name}".replace("{name}",encodeURIComponent(String(e))),s=new URL(a,re);let r;t&&(r=t.baseOptions);const i={method:"PUT",...r,...o},l={},c={};ie(i,t),await le(l,t),l["Content-Type"]="application/json",ce(s,c);let u=r&&r.headers?r.headers:{};return i.headers={...l,...u,...o.headers},i.data=rt(n,i,t),{url:ue(s),options:i}}}},_1=function(t){const e=ij(t);return{async createv1alpha1User(n,o){const a=await e.createv1alpha1User(n,o);return de(a,ae,se,t)},async deletev1alpha1User(n,o){const a=await e.deletev1alpha1User(n,o);return de(a,ae,se,t)},async getv1alpha1User(n,o){const a=await e.getv1alpha1User(n,o);return de(a,ae,se,t)},async listv1alpha1User(n,o,a,s,r){const i=await e.listv1alpha1User(n,o,a,s,r);return de(i,ae,se,t)},async updatev1alpha1User(n,o,a){const s=await e.updatev1alpha1User(n,o,a);return de(s,ae,se,t)}}};class lj extends dn{createv1alpha1User(e={},n){return _1(this.configuration).createv1alpha1User(e.user,n).then(o=>o(this.axios,this.basePath))}deletev1alpha1User(e,n){return _1(this.configuration).deletev1alpha1User(e.name,n).then(o=>o(this.axios,this.basePath))}getv1alpha1User(e,n){return _1(this.configuration).getv1alpha1User(e.name,n).then(o=>o(this.axios,this.basePath))}listv1alpha1User(e={},n){return _1(this.configuration).listv1alpha1User(e.page,e.size,e.labelSelector,e.fieldSelector,n).then(o=>o(this.axios,this.basePath))}updatev1alpha1User(e,n){return _1(this.configuration).updatev1alpha1User(e.name,e.user,n).then(o=>o(this.axios,this.basePath))}}const xl=Um("user",{state:()=>({currentUser:void 0,isAnonymous:!0,loginModalVisible:!1}),actions:{async fetchCurrentUser(){try{const{data:t}=await X.user.getCurrentUserDetail();this.currentUser=t,this.isAnonymous=t.metadata.name==="anonymousUser"}catch(t){console.error("Failed to fetch current user",t)}}}}),ju=window.HaloComponents.Toast,an="",_A=ae.create({baseURL:an,withCredentials:!0});_A.interceptors.response.use(t=>t,async t=>{if(/Network Error/.test(t.message))return ju.error("网络错误，请检查网络连接"),Promise.reject(t);const e=t.response;if(!e)return ju.error("网络错误，请检查网络连接"),Promise.reject(t);const{status:n}=e,{title:o}=e.data;if(e.config.mute)return Promise.reject(t);if(n===400)ju.error(`请求参数错误：${o}`);else if(n===401){const a=xl();a.loginModalVisible=!0,ju.warning("登录已过期，请重新登录"),localStorage.removeItem("logged_in")}else n===403?ju.error("无权限访问"):n===404?ju.error("资源不存在"):n===500?ju.error(`服务器内部错误：${o}`):ju.error(`未知错误：${o}`);return Promise.reject(t)});const X=cj(_A);function cj(t){return{extension:{configMap:new YU(void 0,an,t),personalAccessToken:new ej(void 0,an,t),roleBinding:new aj(void 0,an,t),role:new nj(void 0,an,t),setting:new rj(void 0,an,t),reverseProxy:new IU(void 0,an,t),plugin:new kU(void 0,an,t),user:new lj(void 0,an,t),theme:new zU(void 0,an,t),menu:new QU(void 0,an,t),menuItem:new JU(void 0,an,t),post:new xU(void 0,an,t),singlePage:new SU(void 0,an,t),category:new yU(void 0,an,t),tag:new RU(void 0,an,t),snapshot:new EU(void 0,an,t),comment:new bU(void 0,an,t),reply:new VU(void 0,an,t),storage:{group:new NU(void 0,an,t),attachment:new FU(void 0,an,t),policy:new BU(void 0,an,t),policyTemplate:new UU(void 0,an,t)},annotationSetting:new WU(void 0,an,t)},user:new gU(void 0,an,t),plugin:new nU(void 0,an,t),theme:new fU(void 0,an,t),post:new aU(void 0,an,t),singlePage:new cU(void 0,an,t),content:new eU(void 0,an,t),comment:new JL(void 0,an,t),reply:new iU(void 0,an,t),stats:new pU(void 0,an,t),attachment:new QL(void 0,an,t)}}const N4=Um({id:"system-configmap",state:()=>({configMap:void 0}),actions:{async fetchSystemConfigMap(){try{const{data:t}=await X.extension.configMap.getv1alpha1ConfigMap({name:"system"},{mute:!0});this.configMap=t}catch(t){console.error("Failed to fetch system configMap",t)}}}}),uj=window.Vue.defineComponent,dj=window.Vue.unref,pj=window.Vue.openBlock,hj=window.Vue.createBlock,fj=window.VueRouter.RouterView,mj=window.VueRouter.useRoute,gj=window.Vue.computed,vj=window.Vue.watch,yj=window.VueUse.useTitle,wj=window.VueUse.useFavicon,bj=uj({__name:"App",setup(t){const{configMap:e}=z2(N4()),n="Halo",o=mj(),a=yj();vj(()=>o.name,()=>{const{title:i}=o.meta;if(i){a.value=`${i} - ${n}`;return}a.value=n});const s="/console/favicon.ico",r=gj(()=>{var l,c;if(!((c=(l=e==null?void 0:e.value)==null?void 0:l.data)!=null&&c.basic))return s;const i=JSON.parse(e.value.data.basic);return i.favicon?i.favicon:s});return wj(r),(i,l)=>(pj(),hj(dj(fj)))}});const $j=window.Vue.defineComponent,o5=window.Vue.toDisplayString,V1=window.Vue.createElementVNode,D8=window.Vue.createTextVNode,z0=window.Vue.unref,a5=window.Vue.withCtx,s5=window.Vue.createVNode,xj=window.Vue.openBlock,_j=window.Vue.createElementBlock,Vj={class:"grid h-screen place-content-center bg-white px-4"},Cj={class:"text-center"},Sj={class:"text-8xl font-black text-gray-200"},Pj={class:"text-2xl font-bold tracking-tight text-gray-900 sm:text-4xl"},Ej={class:"mt-4 text-gray-500"},Tj={class:"mt-4"},N8=window.HaloComponents.VButton,Rj=window.HaloComponents.VSpace,Oj=window.VueRouter.useRouter,VA=$j({__name:"Exception",props:{code:null,title:{default:void 0},message:{default:void 0}},setup(t){const e=Oj();return(n,o)=>(xj(),_j("div",Vj,[V1("div",Cj,[V1("h1",Sj,o5(t.code),1),V1("p",Pj,o5(t.title),1),V1("p",Ej,o5(t.message),1),V1("div",Tj,[s5(z0(Rj),null,{default:a5(()=>[s5(z0(N8),{onClick:o[0]||(o[0]=a=>z0(e).back())},{default:a5(()=>[D8(" 返回 ")]),_:1}),s5(z0(N8),{type:"secondary",route:{name:"Dashboard"}},{default:a5(()=>[D8(" 仪表盘 ")]),_:1})]),_:1})])])]))}}),kj=window.Vue.defineComponent,Aj=window.Vue.openBlock,Ij=window.Vue.createBlock,Mj=kj({__name:"NotFound",setup(t){return(e,n)=>(Aj(),Ij(VA,{code:"404",message:"没有找到该页面"}))}}),Fj=window.Vue.defineComponent,Dj=window.Vue.openBlock,Nj=window.Vue.createBlock,Hj=Fj({__name:"Forbidden",setup(t){return(e,n)=>(Dj(),Nj(VA,{code:"403",message:"没有权限访问此页面"}))}});window.Vue.resolveDirective;const H8=window.Vue.Fragment,op=window.Vue.createVNode,Bj=window.Vue.computed,Lj=window.Vue.defineComponent,Uj=window.HaloComponents.VMenu,B8=window.HaloComponents.VMenuItem,jj=window.HaloComponents.VMenuLabel,zj=window.VueRouter.useRoute,Gj=window.VueRouter.useRouter,L8=Lj({name:"RoutesMenu",props:{menus:{type:Object,required:!0}},emits:["select"],setup(t,{emit:e}){const n=zj(),{push:o}=Gj(),a=Bj(()=>n.matched.map(l=>l.path));async function s(l){e("select",l),await o(l)}function r(l){if(l)return op(l,{height:"20px",width:"20px"},null)}function i(l){return l==null?void 0:l.map(c=>{var u;return op(H8,null,[(u=c.children)!=null&&u.length?op(B8,{key:c.path,id:c.path,title:c.name},{default:()=>[i(c.children)],icon:()=>r(c.icon)}):op(B8,{key:c.path,id:c.path,title:c.name,onSelect:s,active:a.value.includes(c.path)},{icon:()=>r(c.icon)})])})}return()=>op(Uj,{openIds:a.value},{default:()=>{var l;return[(l=t.menus)==null?void 0:l.map(c=>{var u;return op(H8,null,[c.name&&op(jj,null,{default:()=>[c.name]}),((u=c.items)==null?void 0:u.length)&&i(c.items)])})]}})}}),Wj={width:"5rem",height:"2rem","clip-rule":"evenodd","fill-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",viewBox:"0 0 2144 877",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Kj=["id"],Yj=Ee("stop",{offset:"0","stop-color":"#0050b5"},null,-1),Xj=Ee("stop",{offset:"1","stop-color":"#0b87fd"},null,-1),Qj=[Yj,Xj],Zj=["id"],Jj=Ee("stop",{offset:"0","stop-color":"#0048af"},null,-1),qj=Ee("stop",{offset:"1","stop-color":"#003580"},null,-1),ez=[Jj,qj],tz=["id"],nz=Ee("stop",{offset:"0","stop-color":"#0b89ff"},null,-1),oz=Ee("stop",{offset:"1","stop-color":"#004eb2"},null,-1),az=[nz,oz],sz=["fill"],rz=Ee("path",{d:"m1028.16 339.331c148.249 0 268.609 120.36 268.609 268.609s-120.36 268.608-268.609 268.608-268.608-120.359-268.608-268.608 120.359-268.609 268.608-268.609zm0 119.152c82.488 0 149.457 66.969 149.457 149.457 0 82.487-66.969 149.456-149.457 149.456-82.487 0-149.456-66.969-149.456-149.456 0-82.488 66.969-149.457 149.456-149.457z"},null,-1),iz=Ee("path",{d:"m1874.58 339.331c148.249 0 268.608 120.36 268.608 268.609s-120.359 268.608-268.608 268.608-268.609-120.359-268.609-268.608 120.36-268.609 268.609-268.609zm0 119.152c82.487 0 149.456 66.969 149.456 149.457 0 82.487-66.969 149.456-149.456 149.456-82.488 0-149.457-66.969-149.457-149.456 0-82.488 66.969-149.457 149.457-149.457z"},null,-1),lz=Ee("path",{d:"m1309.27 377.585c0-10.083-7.222-18.719-17.146-20.504-19.618-3.528-51.9-9.334-74.172-13.34-6.073-1.092-12.318.564-17.052 4.522-4.734 3.959-7.469 9.812-7.469 15.983v491.469c0 5.525 2.195 10.824 6.102 14.731s9.206 6.102 14.731 6.102h74.173c5.525 0 10.824-2.195 14.731-6.102s6.102-9.206 6.102-14.731c0-84.425 0-400.286 0-478.13z"},null,-1),cz=Ee("path",{d:"m1542.59 72.033c0-8.288-3.292-16.237-9.153-22.097-5.86-5.861-13.809-9.153-22.097-9.153-23.867 0-56.609 0-80.477 0-8.288 0-16.236 3.292-22.097 9.153-5.86 5.86-9.153 13.809-9.153 22.097v773.265c0 8.288 3.293 16.237 9.153 22.097 5.861 5.861 13.809 9.153 22.097 9.153h80.477c8.288 0 16.237-3.292 22.097-9.153 5.861-5.86 9.153-13.809 9.153-22.097 0-131.79 0-641.475 0-773.265z","fill-rule":"nonzero"},null,-1),uz=[rz,iz,lz,cz],dz=["fill"],pz=Ee("path",{d:"m616.746 322.662c13.813 0 27.061 5.487 36.829 15.255 9.767 9.768 15.254 23.015 15.254 36.829v447.062c0 13.814-5.487 27.061-15.254 36.829-9.768 9.767-23.016 15.255-36.829 15.255-18.632 0-39.622 0-58.254 0-13.813 0-27.061-5.488-36.828-15.255-9.768-9.768-15.255-23.015-15.255-36.829 0-68.223 0-187.159 0-255.383 0-13.813-5.487-27.061-15.255-36.828-9.767-9.768-23.015-15.255-36.828-15.255-129.249 0-454.326 0-454.326 0v-191.68z",fill:"#0051b0","fill-rule":"nonzero"},null,-1),hz=["fill"];function fz(t,e){return wn(),bn("svg",Wj,[Ee("linearGradient",{id:t.idMap.a,gradientTransform:"matrix(0 -848.921 848.921 0 1308.8 875.397)",gradientUnits:"userSpaceOnUse",x1:"0",x2:"1",y1:"0",y2:"0"},Qj,8,Kj),Ee("linearGradient",{id:t.idMap.b,gradientTransform:"matrix(0 472.459 -473.895 0 587.619 -.861651)",gradientUnits:"userSpaceOnUse",x1:"0",x2:"1",y1:"0",y2:"0"},ez,8,Zj),Ee("linearGradient",{id:t.idMap.c,gradientTransform:"matrix(0 898.506 -901.236 0 162.421 -12.1337)",gradientUnits:"userSpaceOnUse",x1:"0",x2:"1",y1:"0",y2:"0"},az,8,tz),Ee("g",{fill:"url(#"+t.idMap.a+")"},uz,8,sz),Ee("path",{d:"m506.409 822.063c0 13.815 5.494 27.062 15.271 36.821 9.777 9.76 23.034 15.23 36.848 15.206 18.674-.034 39.711-.072 58.369-.105 28.696-.052 51.932-23.329 51.932-52.026v-769.586c0-13.798-5.481-27.031-15.238-36.788-9.756-9.757-22.99-15.238-36.788-15.238h-58.368c-13.798 0-27.031 5.481-36.788 15.238s-15.238 22.99-15.238 36.788z",fill:"url(#"+t.idMap.b+")","fill-rule":"nonzero"},null,8,dz),pz,Ee("path",{d:"m0 822.101c0 13.817 5.497 27.067 15.277 36.827 9.781 9.76 23.043 15.229 36.86 15.199 18.675-.04 39.713-.085 58.368-.124 28.69-.062 51.916-23.337 51.916-52.027 0-155.205 0-614.509 0-769.714 0-28.69-23.226-51.965-51.916-52.026-18.655-.04-39.693-.085-58.368-.125-13.817-.029-27.079 5.439-36.86 15.199-9.78 9.76-15.277 23.01-15.277 36.827v769.964z",fill:"url(#"+t.idMap.c+")","fill-rule":"nonzero"},null,8,hz)])}const H4={name:"core-logo",render:fz,data(){const t=()=>Math.random().toString(36).substr(2,10);return{idMap:{a:"uicons-"+t(),b:"uicons-"+t(),c:"uicons-"+t()}}}};function Mu(t){return Array.isArray?Array.isArray(t):PA(t)==="[object Array]"}const mz=1/0;function gz(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-mz?"-0":e}function vz(t){return t==null?"":gz(t)}function wc(t){return typeof t=="string"}function CA(t){return typeof t=="number"}function yz(t){return t===!0||t===!1||wz(t)&&PA(t)=="[object Boolean]"}function SA(t){return typeof t=="object"}function wz(t){return SA(t)&&t!==null}function Ar(t){return t!=null}function r5(t){return!t.trim().length}function PA(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const bz="Incorrect 'index' type",$z=t=>`Invalid value for key ${t}`,xz=t=>`Pattern length exceeds max of ${t}.`,_z=t=>`Missing ${t} property in key`,Vz=t=>`Property 'weight' in key '${t}' must be a positive integer`,U8=Object.prototype.hasOwnProperty;class Cz{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(o=>{let a=EA(o);n+=a.weight,this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(o=>{o.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function EA(t){let e=null,n=null,o=null,a=1,s=null;if(wc(t)||Mu(t))o=t,e=j8(t),n=aC(t);else{if(!U8.call(t,"name"))throw new Error(_z("name"));const r=t.name;if(o=r,U8.call(t,"weight")&&(a=t.weight,a<=0))throw new Error(Vz(r));e=j8(r),n=aC(r),s=t.getFn}return{path:e,id:n,weight:a,src:o,getFn:s}}function j8(t){return Mu(t)?t:t.split(".")}function aC(t){return Mu(t)?t.join("."):t}function Sz(t,e){let n=[],o=!1;const a=(s,r,i)=>{if(Ar(s))if(!r[i])n.push(s);else{let l=r[i];const c=s[l];if(!Ar(c))return;if(i===r.length-1&&(wc(c)||CA(c)||yz(c)))n.push(vz(c));else if(Mu(c)){o=!0;for(let u=0,d=c.length;u<d;u+=1)a(c[u],r,i+1)}else r.length&&a(c,r,i+1)}};return a(t,wc(e)?e.split("."):e,0),o?n:n[0]}const Pz={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ez={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Tz={location:0,threshold:.6,distance:100},Rz={useExtendedSearch:!1,getFn:Sz,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ot={...Ez,...Pz,...Tz,...Rz};const Oz=/[^ ]+/g;function kz(t=1,e=3){const n=new Map,o=Math.pow(10,e);return{get(a){const s=a.match(Oz).length;if(n.has(s))return n.get(s);const r=1/Math.pow(s,.5*t),i=parseFloat(Math.round(r*o)/o);return n.set(s,i),i},clear(){n.clear()}}}class B4{constructor({getFn:e=Ot.getFn,fieldNormWeight:n=Ot.fieldNormWeight}={}){this.norm=kz(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,o)=>{this._keysMap[n.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,wc(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();wc(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,o=this.size();n<o;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Ar(e)||r5(e))return;let o={v:e,i:n,n:this.norm.get(e)};this.records.push(o)}_addObject(e,n){let o={i:n,$:{}};this.keys.forEach((a,s)=>{let r=a.getFn?a.getFn(e):this.getFn(e,a.path);if(Ar(r)){if(Mu(r)){let i=[];const l=[{nestedArrIndex:-1,value:r}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(Ar(u))if(wc(u)&&!r5(u)){let d={v:u,i:c,n:this.norm.get(u)};i.push(d)}else Mu(u)&&u.forEach((d,p)=>{l.push({nestedArrIndex:p,value:d})})}o.$[s]=i}else if(wc(r)&&!r5(r)){let i={v:r,n:this.norm.get(r)};o.$[s]=i}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function TA(t,e,{getFn:n=Ot.getFn,fieldNormWeight:o=Ot.fieldNormWeight}={}){const a=new B4({getFn:n,fieldNormWeight:o});return a.setKeys(t.map(EA)),a.setSources(e),a.create(),a}function Az(t,{getFn:e=Ot.getFn,fieldNormWeight:n=Ot.fieldNormWeight}={}){const{keys:o,records:a}=t,s=new B4({getFn:e,fieldNormWeight:n});return s.setKeys(o),s.setIndexRecords(a),s}function G0(t,{errors:e=0,currentLocation:n=0,expectedLocation:o=0,distance:a=Ot.distance,ignoreLocation:s=Ot.ignoreLocation}={}){const r=e/t.length;if(s)return r;const i=Math.abs(o-n);return a?r+i/a:i?1:r}function Iz(t=[],e=Ot.minMatchCharLength){let n=[],o=-1,a=-1,s=0;for(let r=t.length;s<r;s+=1){let i=t[s];i&&o===-1?o=s:!i&&o!==-1&&(a=s-1,a-o+1>=e&&n.push([o,a]),o=-1)}return t[s-1]&&s-o>=e&&n.push([o,s-1]),n}const oh=32;function Mz(t,e,n,{location:o=Ot.location,distance:a=Ot.distance,threshold:s=Ot.threshold,findAllMatches:r=Ot.findAllMatches,minMatchCharLength:i=Ot.minMatchCharLength,includeMatches:l=Ot.includeMatches,ignoreLocation:c=Ot.ignoreLocation}={}){if(e.length>oh)throw new Error(xz(oh));const u=e.length,d=t.length,p=Math.max(0,Math.min(o,d));let f=s,g=p;const v=i>1||l,y=v?Array(d):[];let w;for(;(w=t.indexOf(e,g))>-1;){let S=G0(e,{currentLocation:w,expectedLocation:p,distance:a,ignoreLocation:c});if(f=Math.min(S,f),g=w+u,v){let P=0;for(;P<u;)y[w+P]=1,P+=1}}g=-1;let b=[],C=1,V=u+d;const _=1<<u-1;for(let S=0;S<u;S+=1){let P=0,E=V;for(;P<E;)G0(e,{errors:S,currentLocation:p+E,expectedLocation:p,distance:a,ignoreLocation:c})<=f?P=E:V=E,E=Math.floor((V-P)/2+P);V=E;let O=Math.max(1,p-E+1),I=r?d:Math.min(p+E,d)+u,F=Array(I+2);F[I+1]=(1<<S)-1;for(let H=I;H>=O;H-=1){let W=H-1,Y=n[t.charAt(W)];if(v&&(y[W]=+!!Y),F[H]=(F[H+1]<<1|1)&Y,S&&(F[H]|=(b[H+1]|b[H])<<1|1|b[H+1]),F[H]&_&&(C=G0(e,{errors:S,currentLocation:W,expectedLocation:p,distance:a,ignoreLocation:c}),C<=f)){if(f=C,g=W,g<=p)break;O=Math.max(1,2*p-g)}}if(G0(e,{errors:S+1,currentLocation:p,expectedLocation:p,distance:a,ignoreLocation:c})>f)break;b=F}const x={isMatch:g>=0,score:Math.max(.001,C)};if(v){const S=Iz(y,i);S.length?l&&(x.indices=S):x.isMatch=!1}return x}function Fz(t){let e={};for(let n=0,o=t.length;n<o;n+=1){const a=t.charAt(n);e[a]=(e[a]||0)|1<<o-n-1}return e}class RA{constructor(e,{location:n=Ot.location,threshold:o=Ot.threshold,distance:a=Ot.distance,includeMatches:s=Ot.includeMatches,findAllMatches:r=Ot.findAllMatches,minMatchCharLength:i=Ot.minMatchCharLength,isCaseSensitive:l=Ot.isCaseSensitive,ignoreLocation:c=Ot.ignoreLocation}={}){if(this.options={location:n,threshold:o,distance:a,includeMatches:s,findAllMatches:r,minMatchCharLength:i,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(p,f)=>{this.chunks.push({pattern:p,alphabet:Fz(p),startIndex:f})},d=this.pattern.length;if(d>oh){let p=0;const f=d%oh,g=d-f;for(;p<g;)u(this.pattern.substr(p,oh),p),p+=oh;if(f){const v=d-oh;u(this.pattern.substr(v),v)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:o}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return o&&(g.indices=[[0,e.length-1]]),g}const{location:a,distance:s,threshold:r,findAllMatches:i,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],d=0,p=!1;this.chunks.forEach(({pattern:g,alphabet:v,startIndex:y})=>{const{isMatch:w,score:b,indices:C}=Mz(e,g,v,{location:a+y,distance:s,threshold:r,findAllMatches:i,minMatchCharLength:l,includeMatches:o,ignoreLocation:c});w&&(p=!0),d+=b,w&&C&&(u=[...u,...C])});let f={isMatch:p,score:p?d/this.chunks.length:1};return p&&o&&(f.indices=u),f}}class jd{constructor(e){this.pattern=e}static isMultiMatch(e){return z8(e,this.multiRegex)}static isSingleMatch(e){return z8(e,this.singleRegex)}search(){}}function z8(t,e){const n=t.match(e);return n?n[1]:null}class Dz extends jd{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Nz extends jd{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const o=e.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,e.length-1]}}}class Hz extends jd{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Bz extends jd{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Lz extends jd{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Uz extends jd{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class OA extends jd{constructor(e,{location:n=Ot.location,threshold:o=Ot.threshold,distance:a=Ot.distance,includeMatches:s=Ot.includeMatches,findAllMatches:r=Ot.findAllMatches,minMatchCharLength:i=Ot.minMatchCharLength,isCaseSensitive:l=Ot.isCaseSensitive,ignoreLocation:c=Ot.ignoreLocation}={}){super(e),this._bitapSearch=new RA(e,{location:n,threshold:o,distance:a,includeMatches:s,findAllMatches:r,minMatchCharLength:i,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class kA extends jd{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,o;const a=[],s=this.pattern.length;for(;(o=e.indexOf(this.pattern,n))>-1;)n=o+s,a.push([o,n-1]);const r=!!a.length;return{isMatch:r,score:r?0:1,indices:a}}}const sC=[Dz,kA,Hz,Bz,Uz,Lz,Nz,OA],G8=sC.length,jz=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,zz="|";function Gz(t,e={}){return t.split(zz).map(n=>{let o=n.trim().split(jz).filter(s=>s&&!!s.trim()),a=[];for(let s=0,r=o.length;s<r;s+=1){const i=o[s];let l=!1,c=-1;for(;!l&&++c<G8;){const u=sC[c];let d=u.isMultiMatch(i);d&&(a.push(new u(d,e)),l=!0)}if(!l)for(c=-1;++c<G8;){const u=sC[c];let d=u.isSingleMatch(i);if(d){a.push(new u(d,e));break}}}return a})}const Wz=new Set([OA.type,kA.type]);class Kz{constructor(e,{isCaseSensitive:n=Ot.isCaseSensitive,includeMatches:o=Ot.includeMatches,minMatchCharLength:a=Ot.minMatchCharLength,ignoreLocation:s=Ot.ignoreLocation,findAllMatches:r=Ot.findAllMatches,location:i=Ot.location,threshold:l=Ot.threshold,distance:c=Ot.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:o,minMatchCharLength:a,findAllMatches:r,ignoreLocation:s,location:i,threshold:l,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=Gz(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:a}=this.options;e=a?e:e.toLowerCase();let s=0,r=[],i=0;for(let l=0,c=n.length;l<c;l+=1){const u=n[l];r.length=0,s=0;for(let d=0,p=u.length;d<p;d+=1){const f=u[d],{isMatch:g,indices:v,score:y}=f.search(e);if(g){if(s+=1,i+=y,o){const w=f.constructor.type;Wz.has(w)?r=[...r,...v]:r.push(v)}}else{i=0,s=0,r.length=0;break}}if(s){let d={isMatch:!0,score:i/s};return o&&(d.indices=r),d}}return{isMatch:!1,score:1}}}const rC=[];function Yz(...t){rC.push(...t)}function iC(t,e){for(let n=0,o=rC.length;n<o;n+=1){let a=rC[n];if(a.condition(t,e))return new a(t,e)}return new RA(t,e)}const Fb={AND:"$and",OR:"$or"},lC={PATH:"$path",PATTERN:"$val"},cC=t=>!!(t[Fb.AND]||t[Fb.OR]),Xz=t=>!!t[lC.PATH],Qz=t=>!Mu(t)&&SA(t)&&!cC(t),W8=t=>({[Fb.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function AA(t,e,{auto:n=!0}={}){const o=a=>{let s=Object.keys(a);const r=Xz(a);if(!r&&s.length>1&&!cC(a))return o(W8(a));if(Qz(a)){const l=r?a[lC.PATH]:s[0],c=r?a[lC.PATTERN]:a[l];if(!wc(c))throw new Error($z(l));const u={keyId:aC(l),pattern:c};return n&&(u.searcher=iC(c,e)),u}let i={children:[],operator:s[0]};return s.forEach(l=>{const c=a[l];Mu(c)&&c.forEach(u=>{i.children.push(o(u))})}),i};return cC(t)||(t=W8(t)),o(t)}function Zz(t,{ignoreFieldNorm:e=Ot.ignoreFieldNorm}){t.forEach(n=>{let o=1;n.matches.forEach(({key:a,norm:s,score:r})=>{const i=a?a.weight:null;o*=Math.pow(r===0&&i?Number.EPSILON:r,(i||1)*(e?1:s))}),n.score=o})}function Jz(t,e){const n=t.matches;e.matches=[],Ar(n)&&n.forEach(o=>{if(!Ar(o.indices)||!o.indices.length)return;const{indices:a,value:s}=o;let r={indices:a,value:s};o.key&&(r.key=o.key.src),o.idx>-1&&(r.refIndex=o.idx),e.matches.push(r)})}function qz(t,e){e.score=t.score}function eG(t,e,{includeMatches:n=Ot.includeMatches,includeScore:o=Ot.includeScore}={}){const a=[];return n&&a.push(Jz),o&&a.push(qz),t.map(s=>{const{idx:r}=s,i={item:e[r],refIndex:r};return a.length&&a.forEach(l=>{l(s,i)}),i})}class Wr{constructor(e,n={},o){this.options={...Ot,...n},this.options.useExtendedSearch,this._keyStore=new Cz(this.options.keys),this.setCollection(e,o)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof B4))throw new Error(bz);this._myIndex=n||TA(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ar(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let o=0,a=this._docs.length;o<a;o+=1){const s=this._docs[o];e(s,o)&&(this.removeAt(o),o-=1,a-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:o,includeScore:a,shouldSort:s,sortFn:r,ignoreFieldNorm:i}=this.options;let l=wc(e)?wc(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Zz(l,{ignoreFieldNorm:i}),s&&l.sort(r),CA(n)&&n>-1&&(l=l.slice(0,n)),eG(l,this._docs,{includeMatches:o,includeScore:a})}_searchStringList(e){const n=iC(e,this.options),{records:o}=this._myIndex,a=[];return o.forEach(({v:s,i:r,n:i})=>{if(!Ar(s))return;const{isMatch:l,score:c,indices:u}=n.searchIn(s);l&&a.push({item:s,idx:r,matches:[{score:c,value:s,norm:i,indices:u}]})}),a}_searchLogical(e){const n=AA(e,this.options),o=(i,l,c)=>{if(!i.children){const{keyId:d,searcher:p}=i,f=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:p});return f&&f.length?[{idx:c,item:l,matches:f}]:[]}const u=[];for(let d=0,p=i.children.length;d<p;d+=1){const f=i.children[d],g=o(f,l,c);if(g.length)u.push(...g);else if(i.operator===Fb.AND)return[]}return u},a=this._myIndex.records,s={},r=[];return a.forEach(({$:i,i:l})=>{if(Ar(i)){let c=o(n,i,l);c.length&&(s[l]||(s[l]={idx:l,item:i,matches:[]},r.push(s[l])),c.forEach(({matches:u})=>{s[l].matches.push(...u)}))}}),r}_searchObjectList(e){const n=iC(e,this.options),{keys:o,records:a}=this._myIndex,s=[];return a.forEach(({$:r,i})=>{if(!Ar(r))return;let l=[];o.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:r[u],searcher:n}))}),l.length&&s.push({idx:i,item:r,matches:l})}),s}_findMatches({key:e,value:n,searcher:o}){if(!Ar(n))return[];let a=[];if(Mu(n))n.forEach(({v:s,i:r,n:i})=>{if(!Ar(s))return;const{isMatch:l,score:c,indices:u}=o.searchIn(s);l&&a.push({score:c,key:e,value:s,idx:r,norm:i,indices:u})});else{const{v:s,n:r}=n,{isMatch:i,score:l,indices:c}=o.searchIn(s);i&&a.push({score:l,key:e,value:s,norm:r,indices:c})}return a}}Wr.version="6.6.2";Wr.createIndex=TA;Wr.parseIndex=Az;Wr.config=Ot;Wr.parseQuery=AA;Yz(Kz);const X2=Um({id:"role",state:()=>({roles:[],permissions:{roles:[],uiPermissions:[]}})});var Db={},tG={get exports(){return Db},set exports(t){Db=t}};(function(t,e){var n=200,o="__lodash_hash_undefined__",a=1,s=2,r=9007199254740991,i="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",w="[object Null]",b="[object Object]",C="[object Promise]",V="[object Proxy]",_="[object RegExp]",x="[object Set]",S="[object String]",P="[object Symbol]",E="[object Undefined]",O="[object WeakMap]",I="[object ArrayBuffer]",F="[object DataView]",L="[object Float32Array]",H="[object Float64Array]",W="[object Int8Array]",Y="[object Int16Array]",U="[object Int32Array]",q="[object Uint8Array]",ye="[object Uint8ClampedArray]",we="[object Uint16Array]",oe="[object Uint32Array]",pe=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,Ne=/^(?:0|[1-9]\d*)$/,Se={};Se[L]=Se[H]=Se[W]=Se[Y]=Se[U]=Se[q]=Se[ye]=Se[we]=Se[oe]=!0,Se[i]=Se[l]=Se[I]=Se[u]=Se[F]=Se[d]=Se[p]=Se[f]=Se[v]=Se[y]=Se[b]=Se[_]=Se[x]=Se[S]=Se[O]=!1;var qe=typeof En=="object"&&En&&En.Object===Object&&En,Ke=typeof self=="object"&&self&&self.Object===Object&&self,Z=qe||Ke||Function("return this")(),me=e&&!e.nodeType&&e,He=me&&!0&&t&&!t.nodeType&&t,Ie=He&&He.exports===me,Ge=Ie&&qe.process,Fe=function(){try{return Ge&&Ge.binding&&Ge.binding("util")}catch{}}(),fe=Fe&&Fe.isTypedArray;function Ue(R,D){for(var k=-1,B=R==null?0:R.length,Q=0,be=[];++k<B;){var Ye=R[k];D(Ye,k,R)&&(be[Q++]=Ye)}return be}function _e(R,D){for(var k=-1,B=D.length,Q=R.length;++k<B;)R[Q+k]=D[k];return R}function Et(R,D){for(var k=-1,B=R==null?0:R.length;++k<B;)if(D(R[k],k,R))return!0;return!1}function dt(R,D){for(var k=-1,B=Array(R);++k<R;)B[k]=D(k);return B}function Ut(R){return function(D){return R(D)}}function ft(R,D){return R.has(D)}function xe(R,D){return R==null?void 0:R[D]}function tt(R){var D=-1,k=Array(R.size);return R.forEach(function(B,Q){k[++D]=[Q,B]}),k}function ct(R,D){return function(k){return R(D(k))}}function pn(R){var D=-1,k=Array(R.size);return R.forEach(function(B){k[++D]=B}),k}var Vn=Array.prototype,Ce=Function.prototype,jt=Object.prototype,Zn=Z["__core-js_shared__"],ee=Ce.toString,te=jt.hasOwnProperty,ge=function(){var R=/[^.]+$/.exec(Zn&&Zn.keys&&Zn.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),Pe=jt.toString,Ae=RegExp("^"+ee.call(te).replace(pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=Ie?Z.Buffer:void 0,et=Z.Symbol,Re=Z.Uint8Array,Vt=jt.propertyIsEnumerable,je=Vn.splice,Me=et?et.toStringTag:void 0,Je=Object.getOwnPropertySymbols,mt=Qe?Qe.isBuffer:void 0,lt=ct(Object.keys,Object),Dn=oa(Z,"DataView"),Wn=oa(Z,"Map"),Rs=oa(Z,"Promise"),to=oa(Z,"Set"),Os=oa(Z,"WeakMap"),Kn=oa(Object,"create"),na=no(Dn),Nn=no(Wn),Xr=no(Rs),ar=no(to),Cl=no(Os),Qr=et?et.prototype:void 0,Zr=Qr?Qr.valueOf:void 0;function On(R){var D=-1,k=R==null?0:R.length;for(this.clear();++D<k;){var B=R[D];this.set(B[0],B[1])}}function sr(){this.__data__=Kn?Kn(null):{},this.size=0}function os(R){var D=this.has(R)&&delete this.__data__[R];return this.size-=D?1:0,D}function Ri(R){var D=this.__data__;if(Kn){var k=D[R];return k===o?void 0:k}return te.call(D,R)?D[R]:void 0}function Oi(R){var D=this.__data__;return Kn?D[R]!==void 0:te.call(D,R)}function fa(R,D){var k=this.__data__;return this.size+=this.has(R)?0:1,k[R]=Kn&&D===void 0?o:D,this}On.prototype.clear=sr,On.prototype.delete=os,On.prototype.get=Ri,On.prototype.has=Oi,On.prototype.set=fa;function Cn(R){var D=-1,k=R==null?0:R.length;for(this.clear();++D<k;){var B=R[D];this.set(B[0],B[1])}}function Jr(){this.__data__=[],this.size=0}function Sl(R){var D=this.__data__,k=ei(D,R);if(k<0)return!1;var B=D.length-1;return k==B?D.pop():je.call(D,k,1),--this.size,!0}function Pl(R){var D=this.__data__,k=ei(D,R);return k<0?void 0:D[k][1]}function ki(R){return ei(this.__data__,R)>-1}function Bo(R,D){var k=this.__data__,B=ei(k,R);return B<0?(++this.size,k.push([R,D])):k[B][1]=D,this}Cn.prototype.clear=Jr,Cn.prototype.delete=Sl,Cn.prototype.get=Pl,Cn.prototype.has=ki,Cn.prototype.set=Bo;function Ro(R){var D=-1,k=R==null?0:R.length;for(this.clear();++D<k;){var B=R[D];this.set(B[0],B[1])}}function Ai(){this.size=0,this.__data__={hash:new On,map:new(Wn||Cn),string:new On}}function Ii(R){var D=jo(this,R).delete(R);return this.size-=D?1:0,D}function rr(R){return jo(this,R).get(R)}function ir(R){return jo(this,R).has(R)}function ma(R,D){var k=jo(this,R),B=k.size;return k.set(R,D),this.size+=k.size==B?0:1,this}Ro.prototype.clear=Ai,Ro.prototype.delete=Ii,Ro.prototype.get=rr,Ro.prototype.has=ir,Ro.prototype.set=ma;function as(R){var D=-1,k=R==null?0:R.length;for(this.__data__=new Ro;++D<k;)this.add(R[D])}function Mi(R){return this.__data__.set(R,o),this}function lr(R){return this.__data__.has(R)}as.prototype.add=as.prototype.push=Mi,as.prototype.has=lr;function Lo(R){var D=this.__data__=new Cn(R);this.size=D.size}function Fi(){this.__data__=new Cn,this.size=0}function cr(R){var D=this.__data__,k=D.delete(R);return this.size=D.size,k}function qr(R){return this.__data__.get(R)}function Oc(R){return this.__data__.has(R)}function Uo(R,D){var k=this.__data__;if(k instanceof Cn){var B=k.__data__;if(!Wn||B.length<n-1)return B.push([R,D]),this.size=++k.size,this;k=this.__data__=new Ro(B)}return k.set(R,D),this.size=k.size,this}Lo.prototype.clear=Fi,Lo.prototype.delete=cr,Lo.prototype.get=qr,Lo.prototype.has=Oc,Lo.prototype.set=Uo;function El(R,D){var k=oi(R),B=!k&&fr(R),Q=!k&&!B&&Is(R),be=!k&&!B&&!Q&&kl(R),Ye=k||B||Q||be,nt=Ye?dt(R.length,String):[],wt=nt.length;for(var Ze in R)(D||te.call(R,Ze))&&!(Ye&&(Ze=="length"||Q&&(Ze=="offset"||Ze=="parent")||be&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||Bi(Ze,wt)))&&nt.push(Ze);return nt}function ei(R,D){for(var k=R.length;k--;)if(ks(R[k][0],D))return k;return-1}function Di(R,D,k){var B=D(R);return oi(R)?B:_e(B,k(R))}function ur(R){return R==null?R===void 0?E:w:Me&&Me in Object(R)?ga(R):hr(R)}function Tl(R){return wa(R)&&ur(R)==i}function Ni(R,D,k,B,Q){return R===D?!0:R==null||D==null||!wa(R)&&!wa(D)?R!==R&&D!==D:Fa(R,D,k,B,Ni,Q)}function Fa(R,D,k,B,Q,be){var Ye=oi(R),nt=oi(D),wt=Ye?l:Da(R),Ze=nt?l:Da(D);wt=wt==i?b:wt,Ze=Ze==i?b:Ze;var Rt=wt==b,vn=Ze==b,Nt=wt==Ze;if(Nt&&Is(R)){if(!Is(D))return!1;Ye=!0,Rt=!1}if(Nt&&!Rt)return be||(be=new Lo),Ye||kl(R)?Hi(R,D,k,B,Q,be):ss(R,D,wt,k,B,Q,be);if(!(k&a)){var rn=Rt&&te.call(R,"__wrapped__"),Yn=vn&&te.call(D,"__wrapped__");if(rn||Yn){var zo=rn?R.value():R,Go=Yn?D.value():D;return be||(be=new Lo),Q(zo,Go,k,B,be)}}return Nt?(be||(be=new Lo),Rl(R,D,k,B,Q,be)):!1}function ti(R){if(!Ol(R)||Ic(R))return!1;var D=va(R)?Ae:he;return D.test(no(R))}function ni(R){return wa(R)&&ya(R.length)&&!!Se[ur(R)]}function dr(R){if(!Mc(R))return lt(R);var D=[];for(var k in Object(R))te.call(R,k)&&k!="constructor"&&D.push(k);return D}function Hi(R,D,k,B,Q,be){var Ye=k&a,nt=R.length,wt=D.length;if(nt!=wt&&!(Ye&&wt>nt))return!1;var Ze=be.get(R);if(Ze&&be.get(D))return Ze==D;var Rt=-1,vn=!0,Nt=k&s?new as:void 0;for(be.set(R,D),be.set(D,R);++Rt<nt;){var rn=R[Rt],Yn=D[Rt];if(B)var zo=Ye?B(Yn,rn,Rt,D,R,be):B(rn,Yn,Rt,R,D,be);if(zo!==void 0){if(zo)continue;vn=!1;break}if(Nt){if(!Et(D,function(Go,Na){if(!ft(Nt,Na)&&(rn===Go||Q(rn,Go,k,B,be)))return Nt.push(Na)})){vn=!1;break}}else if(!(rn===Yn||Q(rn,Yn,k,B,be))){vn=!1;break}}return be.delete(R),be.delete(D),vn}function ss(R,D,k,B,Q,be,Ye){switch(k){case F:if(R.byteLength!=D.byteLength||R.byteOffset!=D.byteOffset)return!1;R=R.buffer,D=D.buffer;case I:return!(R.byteLength!=D.byteLength||!be(new Re(R),new Re(D)));case u:case d:case y:return ks(+R,+D);case p:return R.name==D.name&&R.message==D.message;case _:case S:return R==D+"";case v:var nt=tt;case x:var wt=B&a;if(nt||(nt=pn),R.size!=D.size&&!wt)return!1;var Ze=Ye.get(R);if(Ze)return Ze==D;B|=s,Ye.set(R,D);var Rt=Hi(nt(R),nt(D),B,Q,be,Ye);return Ye.delete(R),Rt;case P:if(Zr)return Zr.call(R)==Zr.call(D)}return!1}function Rl(R,D,k,B,Q,be){var Ye=k&a,nt=pr(R),wt=nt.length,Ze=pr(D),Rt=Ze.length;if(wt!=Rt&&!Ye)return!1;for(var vn=wt;vn--;){var Nt=nt[vn];if(!(Ye?Nt in D:te.call(D,Nt)))return!1}var rn=be.get(R);if(rn&&be.get(D))return rn==D;var Yn=!0;be.set(R,D),be.set(D,R);for(var zo=Ye;++vn<wt;){Nt=nt[vn];var Go=R[Nt],Na=D[Nt];if(B)var Ms=Ye?B(Na,Go,Nt,D,R,be):B(Go,Na,Nt,R,D,be);if(!(Ms===void 0?Go===Na||Q(Go,Na,k,B,be):Ms)){Yn=!1;break}zo||(zo=Nt=="constructor")}if(Yn&&!zo){var Fs=R.constructor,Fc=D.constructor;Fs!=Fc&&"constructor"in R&&"constructor"in D&&!(typeof Fs=="function"&&Fs instanceof Fs&&typeof Fc=="function"&&Fc instanceof Fc)&&(Yn=!1)}return be.delete(R),be.delete(D),Yn}function pr(R){return Di(R,rs,kc)}function jo(R,D){var k=R.__data__;return Ac(D)?k[typeof D=="string"?"string":"hash"]:k.map}function oa(R,D){var k=xe(R,D);return ti(k)?k:void 0}function ga(R){var D=te.call(R,Me),k=R[Me];try{R[Me]=void 0;var B=!0}catch{}var Q=Pe.call(R);return B&&(D?R[Me]=k:delete R[Me]),Q}var kc=Je?function(R){return R==null?[]:(R=Object(R),Ue(Je(R),function(D){return Vt.call(R,D)}))}:Al,Da=ur;(Dn&&Da(new Dn(new ArrayBuffer(1)))!=F||Wn&&Da(new Wn)!=v||Rs&&Da(Rs.resolve())!=C||to&&Da(new to)!=x||Os&&Da(new Os)!=O)&&(Da=function(R){var D=ur(R),k=D==b?R.constructor:void 0,B=k?no(k):"";if(B)switch(B){case na:return F;case Nn:return v;case Xr:return C;case ar:return x;case Cl:return O}return D});function Bi(R,D){return D=D??r,!!D&&(typeof R=="number"||Ne.test(R))&&R>-1&&R%1==0&&R<D}function Ac(R){var D=typeof R;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?R!=="__proto__":R===null}function Ic(R){return!!ge&&ge in R}function Mc(R){var D=R&&R.constructor,k=typeof D=="function"&&D.prototype||jt;return R===k}function hr(R){return Pe.call(R)}function no(R){if(R!=null){try{return ee.call(R)}catch{}try{return R+""}catch{}}return""}function ks(R,D){return R===D||R!==R&&D!==D}var fr=Tl(function(){return arguments}())?Tl:function(R){return wa(R)&&te.call(R,"callee")&&!Vt.call(R,"callee")},oi=Array.isArray;function As(R){return R!=null&&ya(R.length)&&!va(R)}var Is=mt||is;function Li(R,D){return Ni(R,D)}function va(R){if(!Ol(R))return!1;var D=ur(R);return D==f||D==g||D==c||D==V}function ya(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=r}function Ol(R){var D=typeof R;return R!=null&&(D=="object"||D=="function")}function wa(R){return R!=null&&typeof R=="object"}var kl=fe?Ut(fe):ni;function rs(R){return As(R)?El(R):dr(R)}function Al(){return[]}function is(){return!1}t.exports=Li})(tG,Db);const nG=Db;function Q2(t,e,n){if(t.includes("*")||!e||!e.length)return!0;const o=t.filter(a=>e.includes(a));return n&&o.length?!0:!!(!n&&nG(o,e))}function To(){const t=X2(),{uiPermissions:e}=t.permissions;return{currentUserHasPermission:o=>Q2(e,o,!0)}}const oG=window.Vue.defineComponent,aG=window.Vue.vModelText,qs=window.Vue.createElementVNode,sG=window.Vue.withDirectives,zu=window.Vue.unref,ap=window.Vue.openBlock,C1=window.Vue.createElementBlock,W0=window.Vue.createCommentVNode,rG=window.Vue.renderList,iG=window.Vue.Fragment,lG=window.Vue.resolveDynamicComponent,K8=window.Vue.createBlock,K0=window.Vue.withCtx,Y0=window.Vue.createVNode,cG=window.Vue.normalizeClass,uG={id:"search-input",class:"border-b border-gray-100 px-4 py-2.5"},dG={class:"px-2 py-2.5"},pG={key:0,class:"flex items-center justify-center text-sm text-gray-500"},hG=qs("span",null,"没有搜索结果",-1),fG=[hG],mG={key:1,class:"box-border flex h-full w-full flex-col gap-0.5",role:"list"},gG=["id","onClick"],vG={class:"h-5 w-5 rounded border p-0.5"},yG=["src"],wG=qs("div",{class:"border-t border-gray-100 px-4 py-2.5"},[qs("div",{class:"flex items-center justify-end"},[qs("span",{class:"mr-1 text-xs text-gray-600"},"选择"),qs("kbd",{class:"mr-1 w-5 rounded border p-0.5 text-center text-[10px] text-gray-600 shadow-sm"}," ↑ "),qs("kbd",{class:"mr-5 w-5 rounded border p-0.5 text-center text-[10px] text-gray-600 shadow-sm"}," ↓ "),qs("span",{class:"mr-1 text-xs text-gray-600"},"确认"),qs("kbd",{class:"mr-5 rounded border p-0.5 text-[10px] text-gray-600 shadow-sm"}," Enter "),qs("span",{class:"mr-1 text-xs text-gray-600"},"关闭"),qs("kbd",{class:"rounded border p-0.5 text-[10px] text-gray-600 shadow-sm"}," Esc ")])],-1),bG=window.VueRouter.useRoute,$G=window.VueRouter.useRouter,xG=window.HaloComponents.VModal,_G=window.HaloComponents.VEntity,i5=window.HaloComponents.VEntityField,VG=window.HaloComponents.IconLink,l5=window.HaloComponents.IconBookRead,CG=window.HaloComponents.IconFolder,SG=window.HaloComponents.IconSettings,PG=window.HaloComponents.IconPalette,EG=window.HaloComponents.IconPages,TG=window.HaloComponents.IconUserSettings,RG=window.Vue.computed,Nc=window.Vue.markRaw,c5=window.Vue.ref,u5=window.Vue.watch,OG=oG({__name:"GlobalSearchModal",props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(t,{emit:e}){const n=t,o=$G(),a=bG(),{currentUserHasPermission:s}=To(),r=c5(null),i=c5(""),l=[],c=c5(0),u=new Wr(l,{keys:["title","group","route.path","route.name"],useExtendedSearch:!0}),d=RG(()=>u.search(i.value,{limit:20}).map(y=>y.item)),p=()=>{u.remove(()=>!0),o.getRoutes().filter(w=>{var b,C;return!!((b=w.meta)!=null&&b.title)&&((C=w.meta)==null?void 0:C.searchable)}).forEach(w=>{var b;u.add({title:(b=w.meta)==null?void 0:b.title,icon:{component:Nc(VG)},group:"后台页面",route:w})}),s(["system:users:view"])&&X.extension.user.listv1alpha1User().then(w=>{w.data.items.forEach(b=>{u.add({title:b.spec.displayName,icon:{component:Nc(TG)},group:"用户",route:{name:"UserDetail",params:{name:b.metadata.name}}})})}),s(["system:plugins:view"])&&X.extension.plugin.listpluginHaloRunV1alpha1Plugin().then(w=>{w.data.items.forEach(b=>{var C;u.add({title:b.spec.displayName,icon:{src:(C=b.status)==null?void 0:C.logo},group:"插件",route:{name:"PluginDetail",params:{name:b.metadata.name}}})})}),s(["system:posts:view"])&&(X.extension.post.listcontentHaloRunV1alpha1Post().then(w=>{w.data.items.forEach(b=>{u.add({title:b.spec.title,icon:{component:Nc(l5)},group:"文章",route:{name:"PostEditor",query:{name:b.metadata.name}}})})}),X.extension.category.listcontentHaloRunV1alpha1Category().then(w=>{w.data.items.forEach(b=>{u.add({title:b.spec.displayName,icon:{component:Nc(l5)},group:"分类",route:{name:"Categories",query:{name:b.metadata.name}}})})}),X.extension.tag.listcontentHaloRunV1alpha1Tag().then(w=>{w.data.items.forEach(b=>{u.add({title:b.spec.displayName,icon:{component:Nc(l5)},group:"标签",route:{name:"Tags",query:{name:b.metadata.name}}})})})),s(["system:singlepages:view"])&&X.extension.singlePage.listcontentHaloRunV1alpha1SinglePage().then(w=>{w.data.items.forEach(b=>{u.add({title:b.spec.title,icon:{component:Nc(EG)},group:"自定义页面",route:{name:"SinglePageEditor",query:{name:b.metadata.name}}})})}),s(["system:attachments:view"])&&X.extension.storage.attachment.liststorageHaloRunV1alpha1Attachment().then(w=>{w.data.items.forEach(b=>{u.add({title:b.spec.displayName,icon:{component:Nc(CG)},group:"附件",route:{name:"Attachments",query:{name:b.metadata.name}}})})}),s(["system:settings:view"])&&s(["system:configmaps:view"])&&(X.extension.setting.getv1alpha1Setting({name:"system"}).then(w=>{w.data.spec.forms.forEach(b=>{u.add({title:b.label,icon:{component:Nc(SG)},group:"设置",route:{name:"SystemSetting",params:{group:b.group}}})})}),X.extension.configMap.getv1alpha1ConfigMap({name:"system"}).then(({data:w})=>{var b;if((b=w.data)!=null&&b.theme){const C=JSON.parse(w.data.theme);X.extension.theme.getthemeHaloRunV1alpha1Theme({name:C.active}).then(({data:V})=>{V&&V.spec.settingName&&X.extension.setting.getv1alpha1Setting({name:V.spec.settingName}).then(({data:_})=>{_.spec.forms.forEach(x=>{u.add({title:`${V.spec.displayName} / ${x.label}`,icon:{component:Nc(PG)},group:"主题设置",route:{name:"ThemeSetting",params:{group:x.group}}})})})})}}))},f=y=>{if(!n.visible)return;const{key:w,ctrlKey:b}=y;if((w==="ArrowUp"||w==="k"&&b)&&(c.value=Math.max(0,c.value-1),y.preventDefault()),(w==="ArrowDown"||w==="j"&&b)&&(c.value=Math.min(d.value.length-1,c.value+1),y.preventDefault()),w==="Enter"){const C=d.value[c.value];g(C)}w==="Escape"&&(v(!1),y.preventDefault())},g=async y=>{if(typeof y.route!="string"&&"query"in y.route&&"name"in y.route&&a.name===y.route.name){await o.push(y.route),o.go(0);return}o.push(y.route),e("update:visible",!1)};u5(()=>c.value,y=>{var w,b;if(y>0){(w=document.getElementById(`search-item-${y}`))==null||w.scrollIntoView();return}(b=document.getElementById("search-input"))==null||b.scrollIntoView()}),u5(()=>i.value,()=>{c.value=0}),u5(()=>n.visible,y=>{y?(p(),setTimeout(()=>{var w;(w=r.value)==null||w.focus()},100),document.addEventListener("keydown",f)):(document.removeEventListener("keydown",f),i.value="",c.value=0)});const v=y=>{e("update:visible",y)};return(y,w)=>(ap(),K8(zu(xG),{visible:t.visible,"body-class":["!p-0"],"mount-to-body":!0,width:650,centered:!1,"onUpdate:visible":v},{default:K0(()=>[qs("div",uG,[sG(qs("input",{ref_key:"globalSearchInput",ref:r,"onUpdate:modelValue":w[0]||(w[0]=b=>i.value=b),placeholder:"输入关键词以搜索",class:"w-full py-1 text-base outline-none",autocomplete:"off",autocorrect:"off",spellcheck:"false"},null,512),[[aG,i.value]])]),qs("div",dG,[zu(d).length?W0("",!0):(ap(),C1("div",pG,fG)),zu(d).length>0?(ap(),C1("ul",mG,[(ap(!0),C1(iG,null,rG(zu(d),(b,C)=>(ap(),C1("li",{id:`search-item-${C}`,key:C,onClick:V=>g(b)},[Y0(zu(_G),{class:cG(["rounded-md px-2 py-2.5 hover:bg-gray-100",{"bg-gray-100":c.value===C}])},{start:K0(()=>[Y0(zu(i5),null,{description:K0(()=>[qs("div",vG,["component"in b.icon?(ap(),K8(lG(b.icon.component),{key:0,class:"h-full w-full"})):W0("",!0),"src"in b.icon?(ap(),C1("img",{key:1,src:b.icon.src,class:"h-full w-full object-cover"},null,8,yG)):W0("",!0)])]),_:2},1024),Y0(zu(i5),{title:b.title},null,8,["title"])]),end:K0(()=>[Y0(zu(i5),{description:b.group},null,8,["description"])]),_:2},1032,["class"])],8,gG))),128))])):W0("",!0)]),wG]),_:1},8,["visible"]))}});function Ps(t){const e=document.getElementById(t);if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){const n=setTimeout(()=>{const o=e.value.length;e.setSelectionRange(o,o),e==null||e.focus(),clearTimeout(n)},0)}}function w0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}var kG=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var a=42;e[n]=a;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var r=Object.getOwnPropertyDescriptor(e,n);if(r.value!==a||r.enumerable!==!0)return!1}return!0},Y8=typeof Symbol<"u"&&Symbol,AG=kG,IG=function(){return typeof Y8!="function"||typeof Symbol!="function"||typeof Y8("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:AG()},MG="Function.prototype.bind called on incompatible ",d5=Array.prototype.slice,FG=Object.prototype.toString,DG="[object Function]",NG=function(e){var n=this;if(typeof n!="function"||FG.call(n)!==DG)throw new TypeError(MG+n);for(var o=d5.call(arguments,1),a,s=function(){if(this instanceof a){var u=n.apply(this,o.concat(d5.call(arguments)));return Object(u)===u?u:this}else return n.apply(e,o.concat(d5.call(arguments)))},r=Math.max(0,n.length-o.length),i=[],l=0;l<r;l++)i.push("$"+l);if(a=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var c=function(){};c.prototype=n.prototype,a.prototype=new c,c.prototype=null}return a},HG=NG,L4=Function.prototype.bind||HG,BG=L4,LG=BG.call(Function.call,Object.prototype.hasOwnProperty),sn,Rm=SyntaxError,IA=Function,bm=TypeError,p5=function(t){try{return IA('"use strict"; return ('+t+").constructor;")()}catch{}},mh=Object.getOwnPropertyDescriptor;if(mh)try{mh({},"")}catch{mh=null}var h5=function(){throw new bm},UG=mh?function(){try{return arguments.callee,h5}catch{try{return mh(arguments,"callee").get}catch{return h5}}}():h5,Uh=IG(),yd=Object.getPrototypeOf||function(t){return t.__proto__},im={},jG=typeof Uint8Array>"u"?sn:yd(Uint8Array),$m={"%AggregateError%":typeof AggregateError>"u"?sn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?sn:ArrayBuffer,"%ArrayIteratorPrototype%":Uh?yd([][Symbol.iterator]()):sn,"%AsyncFromSyncIteratorPrototype%":sn,"%AsyncFunction%":im,"%AsyncGenerator%":im,"%AsyncGeneratorFunction%":im,"%AsyncIteratorPrototype%":im,"%Atomics%":typeof Atomics>"u"?sn:Atomics,"%BigInt%":typeof BigInt>"u"?sn:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?sn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?sn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?sn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?sn:FinalizationRegistry,"%Function%":IA,"%GeneratorFunction%":im,"%Int8Array%":typeof Int8Array>"u"?sn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?sn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?sn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Uh?yd(yd([][Symbol.iterator]())):sn,"%JSON%":typeof JSON=="object"?JSON:sn,"%Map%":typeof Map>"u"?sn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Uh?sn:yd(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?sn:Promise,"%Proxy%":typeof Proxy>"u"?sn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?sn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?sn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Uh?sn:yd(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?sn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Uh?yd(""[Symbol.iterator]()):sn,"%Symbol%":Uh?Symbol:sn,"%SyntaxError%":Rm,"%ThrowTypeError%":UG,"%TypedArray%":jG,"%TypeError%":bm,"%Uint8Array%":typeof Uint8Array>"u"?sn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?sn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?sn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?sn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?sn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?sn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?sn:WeakSet},zG=function t(e){var n;if(e==="%AsyncFunction%")n=p5("async function () {}");else if(e==="%GeneratorFunction%")n=p5("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=p5("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&(n=yd(a.prototype))}return $m[e]=n,n},X8={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b0=L4,Nb=LG,GG=b0.call(Function.call,Array.prototype.concat),WG=b0.call(Function.apply,Array.prototype.splice),Q8=b0.call(Function.call,String.prototype.replace),Hb=b0.call(Function.call,String.prototype.slice),KG=b0.call(Function.call,RegExp.prototype.exec),YG=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,XG=/\\(\\)?/g,QG=function(e){var n=Hb(e,0,1),o=Hb(e,-1);if(n==="%"&&o!=="%")throw new Rm("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&n!=="%")throw new Rm("invalid intrinsic syntax, expected opening `%`");var a=[];return Q8(e,YG,function(s,r,i,l){a[a.length]=i?Q8(l,XG,"$1"):r||s}),a},ZG=function(e,n){var o=e,a;if(Nb(X8,o)&&(a=X8[o],o="%"+a[0]+"%"),Nb($m,o)){var s=$m[o];if(s===im&&(s=zG(o)),typeof s>"u"&&!n)throw new bm("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:o,value:s}}throw new Rm("intrinsic "+e+" does not exist!")},U4=function(e,n){if(typeof e!="string"||e.length===0)throw new bm("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new bm('"allowMissing" argument must be a boolean');if(KG(/^%?[^%]*%?$/,e)===null)throw new Rm("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=QG(e),a=o.length>0?o[0]:"",s=ZG("%"+a+"%",n),r=s.name,i=s.value,l=!1,c=s.alias;c&&(a=c[0],WG(o,GG([0,1],c)));for(var u=1,d=!0;u<o.length;u+=1){var p=o[u],f=Hb(p,0,1),g=Hb(p,-1);if((f==='"'||f==="'"||f==="`"||g==='"'||g==="'"||g==="`")&&f!==g)throw new Rm("property names with quotes must have matching quotes");if((p==="constructor"||!d)&&(l=!0),a+="."+p,r="%"+a+"%",Nb($m,r))i=$m[r];else if(i!=null){if(!(p in i)){if(!n)throw new bm("base intrinsic for "+e+" exists, but the property is not available.");return}if(mh&&u+1>=o.length){var v=mh(i,p);d=!!v,d&&"get"in v&&!("originalValue"in v.get)?i=v.get:i=i[p]}else d=Nb(i,p),i=i[p];d&&!l&&($m[r]=i)}}return i},uC={},JG={get exports(){return uC},set exports(t){uC=t}};(function(t){var e=L4,n=U4,o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||e.call(a,o),r=n("%Object.getOwnPropertyDescriptor%",!0),i=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(i)try{i({},"a",{value:1})}catch{i=null}t.exports=function(d){var p=s(e,a,arguments);if(r&&i){var f=r(p,"length");f.configurable&&i(p,"length",{value:1+l(0,d.length-(arguments.length-1))})}return p};var c=function(){return s(e,o,arguments)};i?i(t.exports,"apply",{value:c}):t.exports.apply=c})(JG);var MA=U4,FA=uC,qG=FA(MA("String.prototype.indexOf")),eW=function(e,n){var o=MA(e,!!n);return typeof o=="function"&&qG(e,".prototype.")>-1?FA(o):o};const tW={},nW=Object.freeze(Object.defineProperty({__proto__:null,default:tW},Symbol.toStringTag,{value:"Module"})),oW=rA(nW);var j4=typeof Map=="function"&&Map.prototype,f5=Object.getOwnPropertyDescriptor&&j4?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Bb=j4&&f5&&typeof f5.get=="function"?f5.get:null,aW=j4&&Map.prototype.forEach,z4=typeof Set=="function"&&Set.prototype,m5=Object.getOwnPropertyDescriptor&&z4?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Lb=z4&&m5&&typeof m5.get=="function"?m5.get:null,sW=z4&&Set.prototype.forEach,rW=typeof WeakMap=="function"&&WeakMap.prototype,kv=rW?WeakMap.prototype.has:null,iW=typeof WeakSet=="function"&&WeakSet.prototype,Av=iW?WeakSet.prototype.has:null,lW=typeof WeakRef=="function"&&WeakRef.prototype,Z8=lW?WeakRef.prototype.deref:null,cW=Boolean.prototype.valueOf,uW=Object.prototype.toString,dW=Function.prototype.toString,pW=String.prototype.match,G4=String.prototype.slice,Sd=String.prototype.replace,hW=String.prototype.toUpperCase,J8=String.prototype.toLowerCase,DA=RegExp.prototype.test,q8=Array.prototype.concat,gc=Array.prototype.join,fW=Array.prototype.slice,e6=Math.floor,dC=typeof BigInt=="function"?BigInt.prototype.valueOf:null,g5=Object.getOwnPropertySymbols,pC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Om=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ns=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Om||"symbol")?Symbol.toStringTag:null,NA=Object.prototype.propertyIsEnumerable,t6=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function n6(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||DA.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var o=t<0?-e6(-t):e6(t);if(o!==t){var a=String(o),s=G4.call(e,a.length+1);return Sd.call(a,n,"$&_")+"."+Sd.call(Sd.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Sd.call(e,n,"$&_")}var hC=oW,o6=hC.custom,a6=BA(o6)?o6:null,mW=function t(e,n,o,a){var s=n||{};if(wd(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(wd(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var r=wd(s,"customInspect")?s.customInspect:!0;if(typeof r!="boolean"&&r!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(wd(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(wd(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var i=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return UA(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return i?n6(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return i?n6(e,c):c}var u=typeof s.depth>"u"?5:s.depth;if(typeof o>"u"&&(o=0),o>=u&&u>0&&typeof e=="object")return fC(e)?"[Array]":"[Object]";var d=AW(s,o);if(typeof a>"u")a=[];else if(LA(a,e)>=0)return"[Circular]";function p(L,H,W){if(H&&(a=fW.call(a),a.push(H)),W){var Y={depth:s.depth};return wd(s,"quoteStyle")&&(Y.quoteStyle=s.quoteStyle),t(L,Y,o+1,a)}return t(L,s,o+1,a)}if(typeof e=="function"&&!s6(e)){var f=VW(e),g=X0(e,p);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(g.length>0?" { "+gc.call(g,", ")+" }":"")}if(BA(e)){var v=Om?Sd.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):pC.call(e);return typeof e=="object"&&!Om?S1(v):v}if(RW(e)){for(var y="<"+J8.call(String(e.nodeName)),w=e.attributes||[],b=0;b<w.length;b++)y+=" "+w[b].name+"="+HA(gW(w[b].value),"double",s);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+J8.call(String(e.nodeName))+">",y}if(fC(e)){if(e.length===0)return"[]";var C=X0(e,p);return d&&!kW(C)?"["+mC(C,d)+"]":"[ "+gc.call(C,", ")+" ]"}if(yW(e)){var V=X0(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!NA.call(e,"cause")?"{ ["+String(e)+"] "+gc.call(q8.call("[cause]: "+p(e.cause),V),", ")+" }":V.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+gc.call(V,", ")+" }"}if(typeof e=="object"&&r){if(a6&&typeof e[a6]=="function"&&hC)return hC(e,{depth:u-o});if(r!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(CW(e)){var _=[];return aW.call(e,function(L,H){_.push(p(H,e,!0)+" => "+p(L,e))}),r6("Map",Bb.call(e),_,d)}if(EW(e)){var x=[];return sW.call(e,function(L){x.push(p(L,e))}),r6("Set",Lb.call(e),x,d)}if(SW(e))return v5("WeakMap");if(TW(e))return v5("WeakSet");if(PW(e))return v5("WeakRef");if(bW(e))return S1(p(Number(e)));if(xW(e))return S1(p(dC.call(e)));if($W(e))return S1(cW.call(e));if(wW(e))return S1(p(String(e)));if(!vW(e)&&!s6(e)){var S=X0(e,p),P=t6?t6(e)===Object.prototype:e instanceof Object||e.constructor===Object,E=e instanceof Object?"":"null prototype",O=!P&&ns&&Object(e)===e&&ns in e?G4.call(zd(e),8,-1):E?"Object":"",I=P||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=I+(O||E?"["+gc.call(q8.call([],O||[],E||[]),": ")+"] ":"");return S.length===0?F+"{}":d?F+"{"+mC(S,d)+"}":F+"{ "+gc.call(S,", ")+" }"}return String(e)};function HA(t,e,n){var o=(n.quoteStyle||e)==="double"?'"':"'";return o+t+o}function gW(t){return Sd.call(String(t),/"/g,"&quot;")}function fC(t){return zd(t)==="[object Array]"&&(!ns||!(typeof t=="object"&&ns in t))}function vW(t){return zd(t)==="[object Date]"&&(!ns||!(typeof t=="object"&&ns in t))}function s6(t){return zd(t)==="[object RegExp]"&&(!ns||!(typeof t=="object"&&ns in t))}function yW(t){return zd(t)==="[object Error]"&&(!ns||!(typeof t=="object"&&ns in t))}function wW(t){return zd(t)==="[object String]"&&(!ns||!(typeof t=="object"&&ns in t))}function bW(t){return zd(t)==="[object Number]"&&(!ns||!(typeof t=="object"&&ns in t))}function $W(t){return zd(t)==="[object Boolean]"&&(!ns||!(typeof t=="object"&&ns in t))}function BA(t){if(Om)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!pC)return!1;try{return pC.call(t),!0}catch{}return!1}function xW(t){if(!t||typeof t!="object"||!dC)return!1;try{return dC.call(t),!0}catch{}return!1}var _W=Object.prototype.hasOwnProperty||function(t){return t in this};function wd(t,e){return _W.call(t,e)}function zd(t){return uW.call(t)}function VW(t){if(t.name)return t.name;var e=pW.call(dW.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function LA(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1}function CW(t){if(!Bb||!t||typeof t!="object")return!1;try{Bb.call(t);try{Lb.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function SW(t){if(!kv||!t||typeof t!="object")return!1;try{kv.call(t,kv);try{Av.call(t,Av)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function PW(t){if(!Z8||!t||typeof t!="object")return!1;try{return Z8.call(t),!0}catch{}return!1}function EW(t){if(!Lb||!t||typeof t!="object")return!1;try{Lb.call(t);try{Bb.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function TW(t){if(!Av||!t||typeof t!="object")return!1;try{Av.call(t,Av);try{kv.call(t,kv)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function RW(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function UA(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return UA(G4.call(t,0,e.maxStringLength),e)+o}var a=Sd.call(Sd.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,OW);return HA(a,"single",e)}function OW(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+hW.call(e.toString(16))}function S1(t){return"Object("+t+")"}function v5(t){return t+" { ? }"}function r6(t,e,n,o){var a=o?mC(n,o):gc.call(n,", ");return t+" ("+e+") {"+a+"}"}function kW(t){for(var e=0;e<t.length;e++)if(LA(t[e],`
`)>=0)return!1;return!0}function AW(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=gc.call(Array(t.indent+1)," ");else return null;return{base:n,prev:gc.call(Array(e+1),n)}}function mC(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+gc.call(t,","+n)+`
`+e.prev}function X0(t,e){var n=fC(t),o=[];if(n){o.length=t.length;for(var a=0;a<t.length;a++)o[a]=wd(t,a)?e(t[a],t):""}var s=typeof g5=="function"?g5(t):[],r;if(Om){r={};for(var i=0;i<s.length;i++)r["$"+s[i]]=s[i]}for(var l in t)wd(t,l)&&(n&&String(Number(l))===l&&l<t.length||Om&&r["$"+l]instanceof Symbol||(DA.call(/[^\w$]/,l)?o.push(e(l,t)+": "+e(t[l],t)):o.push(l+": "+e(t[l],t))));if(typeof g5=="function")for(var c=0;c<s.length;c++)NA.call(t,s[c])&&o.push("["+e(s[c])+"]: "+e(t[s[c]],t));return o}var W4=U4,zm=eW,IW=mW,MW=W4("%TypeError%"),Q0=W4("%WeakMap%",!0),Z0=W4("%Map%",!0),FW=zm("WeakMap.prototype.get",!0),DW=zm("WeakMap.prototype.set",!0),NW=zm("WeakMap.prototype.has",!0),HW=zm("Map.prototype.get",!0),BW=zm("Map.prototype.set",!0),LW=zm("Map.prototype.has",!0),K4=function(t,e){for(var n=t,o;(o=n.next)!==null;n=o)if(o.key===e)return n.next=o.next,o.next=t.next,t.next=o,o},UW=function(t,e){var n=K4(t,e);return n&&n.value},jW=function(t,e,n){var o=K4(t,e);o?o.value=n:t.next={key:e,next:t.next,value:n}},zW=function(t,e){return!!K4(t,e)},GW=function(){var e,n,o,a={assert:function(s){if(!a.has(s))throw new MW("Side channel does not contain "+IW(s))},get:function(s){if(Q0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return FW(e,s)}else if(Z0){if(n)return HW(n,s)}else if(o)return UW(o,s)},has:function(s){if(Q0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return NW(e,s)}else if(Z0){if(n)return LW(n,s)}else if(o)return zW(o,s);return!1},set:function(s,r){Q0&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Q0),DW(e,s,r)):Z0?(n||(n=new Z0),BW(n,s,r)):(o||(o={key:{},next:null}),jW(o,s,r))}};return a},WW=String.prototype.replace,KW=/%20/g,y5={RFC1738:"RFC1738",RFC3986:"RFC3986"},Y4={default:y5.RFC3986,formatters:{RFC1738:function(t){return WW.call(t,KW,"+")},RFC3986:function(t){return String(t)}},RFC1738:y5.RFC1738,RFC3986:y5.RFC3986},YW=Y4,w5=Object.prototype.hasOwnProperty,ah=Array.isArray,Fl=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),XW=function(e){for(;e.length>1;){var n=e.pop(),o=n.obj[n.prop];if(ah(o)){for(var a=[],s=0;s<o.length;++s)typeof o[s]<"u"&&a.push(o[s]);n.obj[n.prop]=a}}},jA=function(e,n){for(var o=n&&n.plainObjects?Object.create(null):{},a=0;a<e.length;++a)typeof e[a]<"u"&&(o[a]=e[a]);return o},QW=function t(e,n,o){if(!n)return e;if(typeof n!="object"){if(ah(e))e.push(n);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!w5.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var a=e;return ah(e)&&!ah(n)&&(a=jA(e,o)),ah(e)&&ah(n)?(n.forEach(function(s,r){if(w5.call(e,r)){var i=e[r];i&&typeof i=="object"&&s&&typeof s=="object"?e[r]=t(i,s,o):e.push(s)}else e[r]=s}),e):Object.keys(n).reduce(function(s,r){var i=n[r];return w5.call(s,r)?s[r]=t(s[r],i,o):s[r]=i,s},a)},ZW=function(e,n){return Object.keys(n).reduce(function(o,a){return o[a]=n[a],o},e)},JW=function(t,e,n){var o=t.replace(/\+/g," ");if(n==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},qW=function(e,n,o,a,s){if(e.length===0)return e;var r=e;if(typeof e=="symbol"?r=Symbol.prototype.toString.call(e):typeof e!="string"&&(r=String(e)),o==="iso-8859-1")return escape(r).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var i="",l=0;l<r.length;++l){var c=r.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===YW.RFC1738&&(c===40||c===41)){i+=r.charAt(l);continue}if(c<128){i=i+Fl[c];continue}if(c<2048){i=i+(Fl[192|c>>6]+Fl[128|c&63]);continue}if(c<55296||c>=57344){i=i+(Fl[224|c>>12]+Fl[128|c>>6&63]+Fl[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|r.charCodeAt(l)&1023),i+=Fl[240|c>>18]+Fl[128|c>>12&63]+Fl[128|c>>6&63]+Fl[128|c&63]}return i},eK=function(e){for(var n=[{obj:{o:e},prop:"o"}],o=[],a=0;a<n.length;++a)for(var s=n[a],r=s.obj[s.prop],i=Object.keys(r),l=0;l<i.length;++l){var c=i[l],u=r[c];typeof u=="object"&&u!==null&&o.indexOf(u)===-1&&(n.push({obj:r,prop:c}),o.push(u))}return XW(n),e},tK=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},nK=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},oK=function(e,n){return[].concat(e,n)},aK=function(e,n){if(ah(e)){for(var o=[],a=0;a<e.length;a+=1)o.push(n(e[a]));return o}return n(e)},zA={arrayToObject:jA,assign:ZW,combine:oK,compact:eK,decode:JW,encode:qW,isBuffer:nK,isRegExp:tK,maybeMap:aK,merge:QW},GA=GW,gC=zA,Iv=Y4,sK=Object.prototype.hasOwnProperty,i6={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Vu=Array.isArray,rK=String.prototype.split,iK=Array.prototype.push,WA=function(t,e){iK.apply(t,Vu(e)?e:[e])},lK=Date.prototype.toISOString,l6=Iv.default,ka={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:gC.encode,encodeValuesOnly:!1,format:l6,formatter:Iv.formatters[l6],indices:!1,serializeDate:function(e){return lK.call(e)},skipNulls:!1,strictNullHandling:!1},cK=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},b5={},uK=function t(e,n,o,a,s,r,i,l,c,u,d,p,f,g,v,y){for(var w=e,b=y,C=0,V=!1;(b=b.get(b5))!==void 0&&!V;){var _=b.get(e);if(C+=1,typeof _<"u"){if(_===C)throw new RangeError("Cyclic object value");V=!0}typeof b.get(b5)>"u"&&(C=0)}if(typeof l=="function"?w=l(n,w):w instanceof Date?w=d(w):o==="comma"&&Vu(w)&&(w=gC.maybeMap(w,function(ye){return ye instanceof Date?d(ye):ye})),w===null){if(s)return i&&!g?i(n,ka.encoder,v,"key",p):n;w=""}if(cK(w)||gC.isBuffer(w)){if(i){var x=g?n:i(n,ka.encoder,v,"key",p);if(o==="comma"&&g){for(var S=rK.call(String(w),","),P="",E=0;E<S.length;++E)P+=(E===0?"":",")+f(i(S[E],ka.encoder,v,"value",p));return[f(x)+(a&&Vu(w)&&S.length===1?"[]":"")+"="+P]}return[f(x)+"="+f(i(w,ka.encoder,v,"value",p))]}return[f(n)+"="+f(String(w))]}var O=[];if(typeof w>"u")return O;var I;if(o==="comma"&&Vu(w))I=[{value:w.length>0?w.join(",")||null:void 0}];else if(Vu(l))I=l;else{var F=Object.keys(w);I=c?F.sort(c):F}for(var L=a&&Vu(w)&&w.length===1?n+"[]":n,H=0;H<I.length;++H){var W=I[H],Y=typeof W=="object"&&typeof W.value<"u"?W.value:w[W];if(!(r&&Y===null)){var U=Vu(w)?typeof o=="function"?o(L,W):L:L+(u?"."+W:"["+W+"]");y.set(e,C);var q=GA();q.set(b5,y),WA(O,t(Y,U,o,a,s,r,i,l,c,u,d,p,f,g,v,q))}}return O},dK=function(e){if(!e)return ka;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||ka.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=Iv.default;if(typeof e.format<"u"){if(!sK.call(Iv.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var a=Iv.formatters[o],s=ka.filter;return(typeof e.filter=="function"||Vu(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ka.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ka.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ka.charsetSentinel,delimiter:typeof e.delimiter>"u"?ka.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ka.encode,encoder:typeof e.encoder=="function"?e.encoder:ka.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ka.encodeValuesOnly,filter:s,format:o,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ka.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ka.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ka.strictNullHandling}},pK=function(t,e){var n=t,o=dK(e),a,s;typeof o.filter=="function"?(s=o.filter,n=s("",n)):Vu(o.filter)&&(s=o.filter,a=s);var r=[];if(typeof n!="object"||n===null)return"";var i;e&&e.arrayFormat in i6?i=e.arrayFormat:e&&"indices"in e?i=e.indices?"indices":"repeat":i="indices";var l=i6[i];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;a||(a=Object.keys(n)),o.sort&&a.sort(o.sort);for(var u=GA(),d=0;d<a.length;++d){var p=a[d];o.skipNulls&&n[p]===null||WA(r,uK(n[p],p,l,c,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,u))}var f=r.join(o.delimiter),g=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),f.length>0?g+f:""},km=zA,vC=Object.prototype.hasOwnProperty,hK=Array.isArray,ca={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:km.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},fK=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},KA=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},mK="utf8=%26%2310003%3B",gK="utf8=%E2%9C%93",vK=function(e,n){var o={},a=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,r=a.split(n.delimiter,s),i=-1,l,c=n.charset;if(n.charsetSentinel)for(l=0;l<r.length;++l)r[l].indexOf("utf8=")===0&&(r[l]===gK?c="utf-8":r[l]===mK&&(c="iso-8859-1"),i=l,l=r.length);for(l=0;l<r.length;++l)if(l!==i){var u=r[l],d=u.indexOf("]="),p=d===-1?u.indexOf("="):d+1,f,g;p===-1?(f=n.decoder(u,ca.decoder,c,"key"),g=n.strictNullHandling?null:""):(f=n.decoder(u.slice(0,p),ca.decoder,c,"key"),g=km.maybeMap(KA(u.slice(p+1),n),function(v){return n.decoder(v,ca.decoder,c,"value")})),g&&n.interpretNumericEntities&&c==="iso-8859-1"&&(g=fK(g)),u.indexOf("[]=")>-1&&(g=hK(g)?[g]:g),vC.call(o,f)?o[f]=km.combine(o[f],g):o[f]=g}return o},yK=function(t,e,n,o){for(var a=o?e:KA(e,n),s=t.length-1;s>=0;--s){var r,i=t[s];if(i==="[]"&&n.parseArrays)r=[].concat(a);else{r=n.plainObjects?Object.create(null):{};var l=i.charAt(0)==="["&&i.charAt(i.length-1)==="]"?i.slice(1,-1):i,c=parseInt(l,10);!n.parseArrays&&l===""?r={0:a}:!isNaN(c)&&i!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(r=[],r[c]=a):l!=="__proto__"&&(r[l]=a)}a=r}return a},wK=function(e,n,o,a){if(e){var s=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,l=o.depth>0&&r.exec(s),c=l?s.slice(0,l.index):s,u=[];if(c){if(!o.plainObjects&&vC.call(Object.prototype,c)&&!o.allowPrototypes)return;u.push(c)}for(var d=0;o.depth>0&&(l=i.exec(s))!==null&&d<o.depth;){if(d+=1,!o.plainObjects&&vC.call(Object.prototype,l[1].slice(1,-1))&&!o.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+s.slice(l.index)+"]"),yK(u,n,o,a)}},bK=function(e){if(!e)return ca;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?ca.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ca.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ca.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ca.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ca.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ca.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ca.comma,decoder:typeof e.decoder=="function"?e.decoder:ca.decoder,delimiter:typeof e.delimiter=="string"||km.isRegExp(e.delimiter)?e.delimiter:ca.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ca.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ca.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ca.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ca.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ca.strictNullHandling}},$K=function(t,e){var n=bK(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var o=typeof t=="string"?vK(t,n):t,a=n.plainObjects?Object.create(null):{},s=Object.keys(o),r=0;r<s.length;++r){var i=s[r],l=wK(i,o[i],n,typeof t=="string");a=km.merge(a,l,n)}return n.allowSparse===!0?a:km.compact(a)},xK=pK,_K=$K,VK=Y4,CK={formats:VK,parse:_K,stringify:xK};const YA=["__key","__init","__shim","__original","__index","__prevKey"];function Z2(){return Math.random().toString(36).substring(2,15)}function SK(t,e){const n=t instanceof Set?t:new Set(t);return e&&e.forEach(o=>n.add(o)),[...n]}function Bt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xc(t,e,n=!0,o=["__key"]){if(t===e)return!0;if(typeof e=="object"&&typeof t=="object"){if(t instanceof Map||t instanceof Set||t instanceof Date||t===null||e===null||Object.keys(t).length!==Object.keys(e).length)return!1;for(const a of o)if((a in t||a in e)&&t[a]!==e[a])return!1;for(const a in t)if(!(a in e)||t[a]!==e[a]&&!n||n&&!xc(t[a],e[a],n,o))return!1;return!0}return!1}function n0(t){const e=typeof t;if(e==="number")return!1;if(t===void 0)return!0;if(e==="string")return t==="";if(e==="object"){if(t===null)return!0;for(const n in t)return!1;return!(t instanceof RegExp||t instanceof Date)}return!1}function PK(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function EK(t){const e=`^${PK(t)}$`,n={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[0-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"},o=Object.keys(n);return new RegExp(o.reduce((a,s)=>a.replace(s,n[s]),e))}function yC(t){return Object.prototype.toString.call(t)==="[object Object]"}function wC(t){return yC(t)||Array.isArray(t)}function bh(t){if(yC(t)===!1||t.__FKNode__||t.__POJO__===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(yC(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}function $h(t,e,n=!1,o=!1){if(e===null)return null;const a={};if(typeof e=="string")return e;for(const s in t)if(Bt(e,s)&&(e[s]!==void 0||!o)){if(n&&Array.isArray(t[s])&&Array.isArray(e[s])){a[s]=t[s].concat(e[s]);continue}if(e[s]===void 0)continue;bh(t[s])&&bh(e[s])?a[s]=$h(t[s],e[s],n,o):a[s]=e[s]}else a[s]=t[s];for(const s in e)!Bt(a,s)&&e[s]!==void 0&&(a[s]=e[s]);return a}function TK(t){if(t[0]!=='"'&&t[0]!=="'"||t[0]!==t[t.length-1])return!1;const e=t[0];for(let n=1;n<t.length;n++)if(t[n]===e&&(n===1||t[n-1]!=="\\")&&n!==t.length-1)return!1;return!0}function RK(t){if(!t.length)return"";let e="",n="";for(let o=0;o<t.length;o++){const a=t.charAt(o);(a!=="\\"||n==="\\")&&(e+=a),n=a}return e}function jh(...t){return t.reduce((e,n)=>{const{value:o,name:a,modelValue:s,config:r,plugins:i,...l}=n;return Object.assign(e,l)},{})}function OK(t){const e=[];let n="",o=0,a="",s="";for(let r=0;r<t.length;r++){const i=t.charAt(r);i===a&&s!=="\\"?a="":(i==="'"||i==='"')&&!a&&s!=="\\"?a=i:i==="("&&!a?o++:i===")"&&!a&&o--,i===","&&!a&&o===0?(e.push(n),n=""):(i!==" "||a)&&(n+=i),s=i}return n&&e.push(n),e}function c6(t,e){const n={},o=e.filter(s=>s instanceof RegExp),a=new Set(e);for(const s in t)!a.has(s)&&!o.some(r=>r.test(s))&&(n[s]=t[s]);return n}function u6(t,e){const n={},o=e.filter(a=>a instanceof RegExp);return e.forEach(a=>{a instanceof RegExp||(n[a]=t[a])}),Object.keys(t).forEach(a=>{o.some(s=>s.test(a))&&(n[a]=t[a])}),n}function xm(t){return t.replace(/-([a-z0-9])/gi,(e,n)=>n.toUpperCase())}function X4(t){return t.replace(/([a-z0-9])([A-Z])/g,(e,n,o)=>n+"-"+o.toLowerCase()).replace(" ","-").toLowerCase()}function d6(t,e=YA){if(t!==null&&typeof t=="object"){let n;if(Array.isArray(t)?n=[...t]:bh(t)&&(n={...t}),n)return AK(t,n,e),n}return t}function Am(t,e=YA){if(t===null||t instanceof RegExp||t instanceof Date||t instanceof Map||t instanceof Set||typeof File=="function"&&t instanceof File)return t;let n;Array.isArray(t)?n=t.map(o=>typeof o=="object"?Am(o,e):o):n=Object.keys(t).reduce((o,a)=>(o[a]=typeof t[a]=="object"?Am(t[a],e):t[a],o),{});for(const o of e)o in t&&Object.defineProperty(n,o,{enumerable:!1,value:t[o]});return n}function _c(t){return typeof t=="object"?Am(t):t}function kK(t,e){if(!t||typeof t!="object")return null;const n=e.split(".");let o=t;for(const a in n){const s=n[a];if(Bt(o,s)&&(o=o[s]),+a===n.length-1)return o;if(!o||typeof o!="object")return null}return null}function Ru(t){return t!==void 0&&t!=="false"&&t!==!1?!0:void 0}function o0(t){return Object.isFrozen(t)?t:Object.defineProperty(t,"__init",{enumerable:!1,value:!0})}function XA(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function AK(t,e,n){for(const o of n)o in t&&Object.defineProperty(e,o,{enumerable:!1,value:t[o]});return e}function Q4(){const t=[];let e=0;const n=a=>t.push(a),o=a=>{const s=t[e];return typeof s=="function"?s(a,r=>(e++,o(r===void 0?a:r))):(e=0,a)};return n.dispatch=o,n.unshift=a=>t.unshift(a),n.remove=a=>{const s=t.indexOf(a);s>-1&&t.splice(s,1)},n}function QA(){const t=new Map,e=new Map;let n;const o=(a,s)=>{if(n){n.set(s.name,[a,s]);return}t.has(s.name)&&t.get(s.name).forEach(r=>{(s.origin===a||r.modifiers.includes("deep"))&&r.listener(s)}),s.bubble&&a.bubble(s)};return o.on=(a,s)=>{const[r,...i]=a.split("."),l=s.receipt||Z2(),c={modifiers:i,event:r,listener:s,receipt:l};return t.has(r)?t.get(r).push(c):t.set(r,[c]),e.has(l)?e.get(l).push(r):e.set(l,[r]),l},o.off=a=>{var s;e.has(a)&&((s=e.get(a))===null||s===void 0||s.forEach(r=>{const i=t.get(r);Array.isArray(i)&&t.set(r,i.filter(l=>l.receipt!==a))}),e.delete(a))},o.pause=a=>{n||(n=new Map),a&&a.walk(s=>s._e.pause())},o.play=a=>{if(!n)return;const s=n;n=void 0,s.forEach(([r,i])=>o(r,i)),a&&a.walk(r=>r._e.play())},o}function IK(t,e,n,o,a=!0){return e._e(t,{payload:o,name:n,bubble:a,origin:t}),t}function MK(t,e,n){return $0(t.parent)&&t.parent._e(t.parent,n),t}function FK(t,e,n,o){return e._e.on(n,o)}function DK(t,e,n){return e._e.off(n),t}const Z4=Q4();Z4((t,e)=>(t.message||(t.message=String(`E${t.code}`)),e(t)));const J4=Q4();J4((t,e)=>{t.message||(t.message=String(`W${t.code}`));const n=e(t);return console&&typeof console.warn=="function"&&console.warn(n.message),n});function Eh(t,e={}){J4.dispatch({code:t,data:e})}function Br(t,e={}){throw Error(Z4.dispatch({code:t,data:e}).message)}function wl(t,e){const n={blocking:!1,key:Z2(),meta:{},type:"state",visible:!0,...t};return e&&n.value&&n.meta.localize!==!1&&(n.value=e.t(n),n.meta.locale=e.config.locale),n}const p6={apply:jK,set:HK,remove:ZA,filter:LK,reduce:UK,release:WK,touch:BK};function NK(t=!1){const e={};let n,o=t,a=[];const s=new Map;let r;const i=new Proxy(e,{get(...l){const[c,u]=l;return u==="buffer"?o:u==="_b"?a:u==="_m"?s:u==="_r"?r:Bt(p6,u)?p6[u].bind(null,e,i,n):Reflect.get(...l)},set(l,c,u){return c==="_n"?(n=u,r==="__n"&&JA(n,i),!0):c==="_b"?(a=u,!0):c==="buffer"?(o=u,!0):c==="_r"?(r=u,!0):(Br(101,n),!1)}});return i}function HK(t,e,n,o){if(e.buffer)return e._b.push([[o]]),e;if(t[o.key]!==o){if(typeof o.value=="string"&&o.meta.localize!==!1){const s=o.value;o.value=n.t(o),o.value!==s&&(o.meta.locale=n.props.locale)}const a=`message-${Bt(t,o.key)?"updated":"added"}`;t[o.key]=Object.freeze(n.hook.message.dispatch(o)),n.emit(a,o)}return e}function BK(t,e){for(const n in t){const o={...t[n]};e.set(o)}}function ZA(t,e,n,o){if(Bt(t,o)){const a=t[o];delete t[o],n.emit("message-removed",a)}return e.buffer===!0&&(e._b=e._b.filter(a=>(a[0]=a[0].filter(s=>s.key!==o),a[1]||a[0].length))),e}function LK(t,e,n,o,a){for(const s in t){const r=t[s];(!a||r.type===a)&&!o(r)&&ZA(t,e,n,s)}}function UK(t,e,n,o,a){for(const s in t){const r=t[s];a=o(a,r)}return a}function jK(t,e,n,o,a){if(Array.isArray(o)){if(e.buffer){e._b.push([o,a]);return}const s=new Set(o.map(r=>(e.set(r),r.key)));typeof a=="string"?e.filter(r=>r.type!==a||s.has(r.key)):typeof a=="function"&&e.filter(r=>!a(r)||s.has(r.key))}else for(const s in o){const r=n.at(s);r?r.store.apply(o[s],a):GK(n,e,s,o[s],a)}}function zK(t,...e){const n=`${t.name}-set`,o=a=>wl({key:XA(a),type:"error",value:a,meta:{source:n,autoClear:!0}});return e.filter(a=>!!a).map(a=>{if(typeof a=="string"&&(a=[a]),Array.isArray(a))return a.map(s=>o(s));{const s={};for(const r in a)Array.isArray(a[r])?s[r]=a[r].map(i=>o(i)):s[r]=[o(a[r])];return s}})}function GK(t,e,n,o,a){var s;const r=e._m;r.has(n)||r.set(n,[]),e._r||(e._r=JA(t,e)),(s=r.get(n))===null||s===void 0||s.push([o,a])}function JA(t,e){return t.on("child.deep",({payload:n})=>{e._m.forEach((o,a)=>{t.at(a)===n&&(o.forEach(([s,r])=>{n.store.apply(s,r)}),e._m.delete(a))}),e._m.size===0&&e._r&&(t.off(e._r),e._r=void 0)})}function WK(t,e){e.buffer=!1,e._b.forEach(([n,o])=>e.apply(n,o)),e._b=[]}function KK(){const t={};let e;return{count:(...n)=>YK(e,t,...n),init(n){e=n,n.on("message-added.deep",h6(t,1)),n.on("message-removed.deep",h6(t,-1))},merge:n=>f6(e,t,n),settled(n){return Bt(t,n)?t[n].promise:Promise.resolve()},unmerge:n=>f6(e,t,n,!0),value(n){return Bt(t,n)?t[n].count:0}}}function YK(t,e,n,o,a=0){if(o=XK(o||n),!Bt(e,n)){const s={condition:o,count:0,name:n,node:t,promise:Promise.resolve(),resolve:()=>{}};e[n]=s,a=t.store.reduce((r,i)=>r+s.condition(i)*1,a),t.each(r=>{r.ledger.count(s.name,s.condition),a+=r.ledger.value(s.name)})}return qA(e[n],a).promise}function XK(t){return typeof t=="function"?t:e=>e.type===t}function qA(t,e){const n=t.count,o=t.count+e;return t.count=o,n===0&&o!==0?(t.node.emit(`unsettled:${t.name}`,t.count,!1),t.promise=new Promise(a=>t.resolve=a)):n!==0&&o===0&&(t.node.emit(`settled:${t.name}`,t.count,!1),t.resolve()),t.node.emit(`count:${t.name}`,t.count,!1),t}function h6(t,e){return n=>{for(const o in t){const a=t[o];a.condition(n.payload)&&qA(a,e)}}}function f6(t,e,n,o=!1){for(const a in e){const s=e[a].condition;o||n.ledger.count(a,s);const r=n.ledger.value(a)*(o?-1:1);if(t)do t.ledger.count(a,s,r),t=t.parent;while(t)}}const q4=new Map,hb=new Map,eS=QA(),QK=[];function ZK(t){t.props.id&&(q4.set(t.props.id,t),hb.set(t,t.props.id),eS(t,{payload:t,name:t.props.id,bubble:!1,origin:t}))}function JK(t){if(hb.has(t)){const e=hb.get(t);hb.delete(t),q4.delete(e),eS(t,{payload:null,name:e,bubble:!1,origin:t})}}function Ti(t){return q4.get(t)}function qK(t,e){QK.push(eS.on(t,e))}function bC(t,e,n){let o=!0;return e in t.config._t?o=!1:t.emit(`config:${e}`,n,!1),e in t.props||(t.emit("prop",{prop:e,value:n}),t.emit(`prop:${e}`,n)),o}function eY(t={}){const e=new Set,n={...t,_add:a=>e.add(a),_rm:a=>e.delete(a)};return new Proxy(n,{set(a,s,r,i){return typeof s=="string"&&e.forEach(l=>bC(l,s,r)),Reflect.set(a,s,r,i)}})}function Ec(t){const e=document.getElementById(t);if(e instanceof HTMLFormElement){const n=new Event("submit",{cancelable:!0,bubbles:!0});e.dispatchEvent(n);return}Eh(151,t)}function tY(t){const e=n=>{for(const o in n.store){const a=n.store[o];a.type==="error"||a.type==="ui"&&o==="incomplete"?n.store.remove(o):a.type==="state"&&n.store.set({...a,value:!1})}};e(t),t.walk(e)}function tr(t,e){const n=typeof t=="string"?Ti(t):t;if(n){const o=s=>_c(s.props.initial)||(s.type==="group"?{}:s.type==="list"?[]:void 0);n._e.pause(n),n.input(_c(e)||o(n),!1),n.walk(s=>s.input(o(s),!1));const a=o(n);return n.input(typeof a=="object"?_c(e)||o0(a):a,!1),n._e.play(n),tY(n),n.emit("reset",n),n}Eh(152,t)}const nY={delimiter:".",delay:0,locale:"en",rootClasses:t=>({[`formkit-${X4(t)}`]:!0})},eI=Symbol("index"),$C=Symbol("removed"),xC=Symbol("moved"),tI=Symbol("inserted");function oY(t){return t.type==="list"&&Array.isArray(t._value)}function $0(t){return t&&typeof t=="object"&&t.__FKNode__===!0}const fb=(t,e,n)=>{Br(102,[t,n])},aY={_c:hn(CY,fb,!1),add:hn(vY),addProps:hn(gY),address:hn(PY,fb,!1),at:hn(EY),bubble:hn(MK),clearErrors:hn(FY),calm:hn(hY),config:hn(!1),define:hn(mY),disturb:hn(pY),destroy:hn(fY),hydrate:hn(dY),index:hn(VY,_Y,!1),input:hn(oI),each:hn(bY),emit:hn(IK),find:hn(RY),on:hn(FK),off:hn(DK),parent:hn(!1,yY),plugins:hn(!1),remove:hn(wY),root:hn(kY,fb,!1),reset:hn(MY),resetConfig:hn(xY),setErrors:hn(rI),submit:hn(IY),t:hn(AY),use:hn(tS),name:hn(SY,!1,!1),walk:hn($Y)};function sY(){return new Map(Object.entries(aY))}function hn(t,e,n=!0){return{get:t?(o,a)=>n?(...s)=>t(o,a,...s):t(o,a):!1,set:e!==void 0?e:fb.bind(null)}}function rY(){const t=new Map;return new Proxy(t,{get(e,n){return t.has(n)||t.set(n,Q4()),t.get(n)}})}let iY=0,lY=0;function cY(t){var e,n;return((e=t.parent)===null||e===void 0?void 0:e.type)==="list"?eI:t.name||`${((n=t.props)===null||n===void 0?void 0:n.type)||"input"}_${++iY}`}function nI(t){return t.type==="group"?o0(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)?t.value:{}):t.type==="list"?o0(Array.isArray(t.value)?t.value:[]):t.value}function oI(t,e,n,o=!0){return e._value=uY(t,t.hook.input.dispatch(n)),t.emit("input",e._value),e.isSettled&&t.disturb(),o?(e._tmo&&clearTimeout(e._tmo),e._tmo=setTimeout(Ub,t.props.delay,t,e)):Ub(t,e),e.settled}function uY(t,e){switch(t.type){case"input":break;case"group":(!e||typeof e!="object")&&Br(107,[t,e]);break;case"list":Array.isArray(e)||Br(108,[t,e]);break}return e}function Ub(t,e,n=!0,o=!0){e._value=e.value=t.hook.commit.dispatch(e._value),t.type!=="input"&&o&&t.hydrate(),t.emit("commit",e.value),n&&t.calm()}function aI(t,{name:e,value:n,from:o}){if(!Object.isFrozen(t._value)){if(oY(t)){const a=n===$C?[]:n===xC&&typeof o=="number"?t._value.splice(o,1):[n];t._value.splice(e,n===xC||o===tI?0:1,...a);return}n!==$C?t._value[e]=n:delete t._value[e]}}function dY(t,e){const n=e._value;return e.children.forEach(o=>{if(typeof n=="object")if(o.name in n){const a=o.type!=="input"||n[o.name]&&typeof n[o.name]=="object"?o0(n[o.name]):n[o.name];o.input(a,!1)}else(t.type!=="list"||typeof o.name=="number")&&aI(e,{name:o.name,value:o.value}),n.__init||(o.type==="group"?o.input({},!1):o.type==="list"?o.input([],!1):o.input(void 0,!1))}),t}function pY(t,e){var n;return e._d<=0&&(e.isSettled=!1,t.emit("settled",!1,!1),e.settled=new Promise(o=>{e._resolve=o}),t.parent&&((n=t.parent)===null||n===void 0||n.disturb())),e._d++,t}function hY(t,e,n){var o;if(n!==void 0&&t.type!=="input")return aI(e,n),Ub(t,e,!0,!1);e._d>0&&e._d--,e._d===0&&(e.isSettled=!0,t.emit("settled",!0,!1),t.parent&&((o=t.parent)===null||o===void 0||o.calm({name:t.name,value:e.value})),e._resolve&&e._resolve(e.value))}function fY(t,e){t.emit("destroying",t),t.store.filter(()=>!1),t.parent&&t.parent.remove(t),JK(t),e._value=e.value=void 0,t.emit("destroyed",t)}function mY(t,e,n){e.type=n.type,e.props.definition=Am(n),e.value=e._value=nI({type:t.type,value:e.value}),n.forceTypeProp&&(t.props.type&&(t.props.originalType=t.props.type),e.props.type=n.forceTypeProp),n.family&&(e.props.family=n.family),n.features&&n.features.forEach(o=>o(t)),n.props&&t.addProps(n.props),t.emit("defined",n)}function gY(t,e,n){var o;if(t.props.attrs){const a={...t.props.attrs};t.props._emit=!1;for(const r in a){const i=xm(r);n.includes(i)&&(t.props[i]=a[r],delete a[r])}const s=_c(e._value);t.props.initial=t.type!=="input"?o0(s):s,t.props._emit=!0,t.props.attrs=a,t.props.definition&&(t.props.definition.props=[...((o=t.props.definition)===null||o===void 0?void 0:o.props)||[],...n])}return t.emit("added-props",n),t}function vY(t,e,n,o){if(t.type==="input"&&Br(100,t),n.parent&&n.parent!==t&&n.parent.remove(n),e.children.includes(n)||(o!==void 0&&t.type==="list"?(e.children.splice(o,0,n),Array.isArray(t.value)&&t.value.length<e.children.length&&t.disturb().calm({name:o,value:n.value,from:tI})):e.children.push(n),n.isSettled||t.disturb()),n.parent!==t){if(n.parent=t,n.parent!==t)return t.remove(n),n.parent.add(n),t}else n.use(t.plugins);return Ub(t,e,!1),t.ledger.merge(n),t.emit("child",n),t}function yY(t,e,n,o){return $0(o)?(t.parent&&t.parent!==o&&t.parent.remove(t),e.parent=o,t.resetConfig(),o.children.includes(t)?t.use(o.plugins):o.add(t),!0):o===null?(e.parent=null,!0):!1}function wY(t,e,n){const o=e.children.indexOf(n);if(o!==-1){n.isSettled&&t.disturb(),e.children.splice(o,1);let a=Ru(n.props.preserve),s=n.parent;for(;a===void 0&&s;)a=Ru(s.props.preserve),s=s.parent;a?t.calm():t.calm({name:t.type==="list"?o:n.name,value:$C}),n.parent=null,n.config._rmn=n}return t.ledger.unmerge(n),t}function bY(t,e,n){e.children.forEach(o=>n(o))}function $Y(t,e,n,o=!1){e.children.forEach(a=>{(n(a)!==!1||!o)&&a.walk(n,o)})}function xY(t,e){const n=t.parent||void 0;e.config=sI(t.config._t,n),t.walk(o=>o.resetConfig())}function tS(t,e,n,o=!0,a=!0){return Array.isArray(n)||n instanceof Set?(n.forEach(s=>tS(t,e,s)),t):(e.plugins.has(n)||(a&&typeof n.library=="function"&&n.library(t),o&&n(t)!==!1&&(e.plugins.add(n),t.children.forEach(s=>s.use(n)))),t)}function _Y(t,e,n,o){if($0(t.parent)){const a=t.parent.children,s=o>=a.length?a.length-1:o<0?0:o,r=a.indexOf(t);return r===-1?!1:(a.splice(r,1),a.splice(s,0,t),t.parent.children=a,t.parent.type==="list"&&t.parent.disturb().calm({name:s,value:xC,from:r}),!0)}return!1}function VY(t){if(t.parent){const e=[...t.parent.children].indexOf(t);return e===-1?t.parent.children.length:e}return-1}function CY(t,e){return e}function SY(t,e){var n;return((n=t.parent)===null||n===void 0?void 0:n.type)==="list"?t.index:e.name!==eI?e.name:t.index}function PY(t,e){return e.parent?e.parent.address.concat([t.name]):[t.name]}function EY(t,e,n){const o=typeof n=="string"?n.split(t.config.delimiter):n;if(!o.length)return;const a=o[0];let s=t.parent;for(s||(String(o[0])===String(t.name)&&o.shift(),s=t),a==="$parent"&&o.shift();s&&o.length;){const r=o.shift();switch(r){case"$root":s=t.root;break;case"$parent":s=s.parent;break;case"$self":s=t;break;default:s=s.children.find(i=>String(i.name)===String(r))||TY(s,r)}}return s||void 0}function TY(t,e){const n=String(e).match(/^(find)\((.*)\)$/);if(n){const[,o,a]=n,s=a.split(",").map(r=>r.trim());switch(o){case"find":return t.find(s[0],s[1]);default:return}}}function RY(t,e,n,o){return OY(t,n,o)}function OY(t,e,n="name"){const o=typeof n=="string"?s=>s[n]==e:n,a=[t];for(;a.length;){const s=a.shift();if(o(s,e))return s;a.push(...s.children)}}function kY(t){let e=t;for(;e.parent;)e=e.parent;return e}function sI(t={},e){let n;return new Proxy(t,{get(...o){const a=o[1];if(a==="_t")return t;const s=Reflect.get(...o);if(s!==void 0)return s;if(e){const r=e.config[a];if(r!==void 0)return r}if(t.rootConfig&&typeof a=="string"){const r=t.rootConfig[a];if(r!==void 0)return r}return a==="delay"&&(n==null?void 0:n.type)==="input"?20:nY[a]},set(...o){const a=o[1],s=o[2];if(a==="_n")return n=s,t.rootConfig&&t.rootConfig._add(n),!0;if(a==="_rmn")return t.rootConfig&&t.rootConfig._rm(n),n=void 0,!0;if(!xc(t[a],s,!1)){const r=Reflect.set(...o);return n&&(n.emit(`config:${a}`,s,!1),bC(n,a,s),n.walk(i=>bC(i,a,s),!0)),r}return!0}})}function AY(t,e,n,o="ui"){const a=typeof n=="string"?{key:n,value:n,type:o}:n,s=t.hook.text.dispatch(a);return t.emit("text",s,!1),s.value}function IY(t){const e=t.name;do{if(t.props.isForm===!0)break;t.parent||Br(106,e),t=t.parent}while(t);t.props.id&&Ec(t.props.id)}function MY(t,e,n){return tr(t,n)}function rI(t,e,n,o){const a=`${t.name}-set`,s=t.hook.setErrors.dispatch({localErrors:n,childErrors:o});return zK(t,s.localErrors,s.childErrors).forEach(r=>{t.store.apply(r,i=>i.meta.source===a)}),t}function FY(t,e,n=!0,o){return rI(t,e,[]),n&&(o=o||`${t.name}-set`,t.walk(a=>{a.store.filter(s=>!(s.type==="error"&&s.meta&&s.meta.source===o))})),t}function DY(t){return Bt(t.props,"id")||(t.props.id=`input_${lY++}`),t}function NY(t){const e={initial:typeof t=="object"?_c(t):t};let n,o=!0;return new Proxy(e,{get(...a){const[s,r]=a;if(Bt(e,r))return Reflect.get(...a);if(n&&typeof r=="string"&&n.config[r]!==void 0)return n.config[r]},set(a,s,r,i){if(s==="_n")return n=r,!0;if(s==="_emit")return o=r,!0;const{prop:l,value:c}=n.hook.prop.dispatch({prop:s,value:r});if(!xc(e[l],c,!1)||typeof c=="object"){const u=Reflect.set(a,l,c,i);return o&&(n.emit("prop",{prop:l,value:c}),typeof l=="string"&&n.emit(`prop:${l}`,c)),u}return!0}})}function HY(t,e){if(t.props.definition)return t.define(t.props.definition);for(const n of e){if(t.props.definition)return;typeof n.library=="function"&&n.library(t)}}function BY(t){const e=nI(t),n=sI(t.config||{},t.parent);return{_d:0,_e:QA(),_resolve:!1,_tmo:!1,_value:e,children:SK(t.children||[]),config:n,hook:rY(),isCreated:!1,isSettled:!0,ledger:KK(),name:cY(t),parent:t.parent||null,plugins:new Set,props:NY(e),settled:Promise.resolve(e),store:NK(!0),traps:sY(),type:t.type||"input",value:e}}function LY(t,e){var n;if(t.ledger.init(t.store._n=t.props._n=t.config._n=t),t.props._emit=!1,e.props&&Object.assign(t.props,e.props),t.props._emit=!0,HY(t,new Set([...e.plugins||[],...t.parent?t.parent.plugins:[]])),e.plugins)for(const o of e.plugins)tS(t,t._c,o,!0,!1);return DY(t),t.each(o=>t.add(o)),t.parent&&t.parent.add(t,e.index),t.type==="input"&&t.children.length&&Br(100,t),oI(t,t._c,t._value,!1),t.store.release(),!((n=e.props)===null||n===void 0)&&n.id&&ZK(t),t.emit("created",t),t.isCreated=!0,t}function UY(t){const e=t||{},n=BY(e),o=new Proxy(n,{get(...a){const[,s]=a;if(s==="__FKNode__")return!0;const r=n.traps.get(s);return r&&r.get?r.get(o,n):Reflect.get(...a)},set(...a){const[,s,r]=a,i=n.traps.get(s);return i&&i.set?i.set(o,n,s,r):Reflect.set(...a)}});return LY(o,e)}function _C(t){return typeof t!="string"&&Bt(t,"$el")}function VC(t){return typeof t!="string"&&Bt(t,"$cmp")}function lm(t){return!t||typeof t=="string"?!1:Bt(t,"if")&&Bt(t,"then")}function jY(t){return typeof t!="string"&&"$formkit"in t}function zY(t){if(typeof t=="string")return{$el:"text",children:t};if(jY(t)){const{$formkit:e,for:n,if:o,children:a,bind:s,...r}=t;return Object.assign({$cmp:"FormKit",props:{...r,type:e}},o?{if:o}:{},n?{for:n}:{},a?{children:a}:{},s?{bind:s}:{})}return t}function al(t){let e;const n=new Set,o=function(y,w){return typeof y=="function"?y(w):y},a=[{"&&":(v,y,w)=>o(v,w)&&o(y,w),"||":(v,y,w)=>o(v,w)||o(y,w)},{"===":(v,y,w)=>o(v,w)===o(y,w),"!==":(v,y,w)=>o(v,w)!==o(y,w),"==":(v,y,w)=>o(v,w)==o(y,w),"!=":(v,y,w)=>o(v,w)!=o(y,w),">=":(v,y,w)=>o(v,w)>=o(y,w),"<=":(v,y,w)=>o(v,w)<=o(y,w),">":(v,y,w)=>o(v,w)>o(y,w),"<":(v,y,w)=>o(v,w)<o(y,w)},{"+":(v,y,w)=>o(v,w)+o(y,w),"-":(v,y,w)=>o(v,w)-o(y,w)},{"*":(v,y,w)=>o(v,w)*o(y,w),"/":(v,y,w)=>o(v,w)/o(y,w),"%":(v,y,w)=>o(v,w)%o(y,w)}],s=a.reduce((v,y)=>v.concat(Object.keys(y)),[]),r=new Set(s.map(v=>v.charAt(0)));function i(v,y,w,b){const C=v.filter(V=>V.startsWith(y));return C.length?C.find(V=>b.length>=w+V.length&&b.substring(w,w+V.length)===V?V:!1):!1}function l(v,y,w=1){let b=w?y.substring(v+1).trim():y.substring(0,v).trim();if(!b.length)return-1;if(!w){const V=b.split("").reverse(),_=V.findIndex(x=>r.has(x));b=V.slice(_).join("")}const C=b[0];return a.findIndex(V=>{const _=Object.keys(V);return!!i(_,C,0,b)})}function c(v,y){let w="";const b=y.length;let C=0;for(let V=v;V<b;V++){const _=y.charAt(V);if(_==="(")C++;else if(_===")")C--;else if(C===0&&_===" ")continue;if(C===0&&i(s,_,V,y))return[w,V-1];w+=_}return[w,y.length-1]}function u(v,y=0){const w=a[y],b=v.length,C=Object.keys(w);let V=0,_=!1,x=null,S="",P=null,E,O="",I="",F="",L="",H=0;const W=(Y,U)=>{Y?F+=U:S+=U};for(let Y=0;Y<b;Y++)if(O=I,I=v.charAt(Y),(I==="'"||I==='"')&&O!=="\\"&&(V===0&&!_||V&&!L)){V?L=I:_=I,W(V,I);continue}else if(_&&(I!==_||O==="\\")||L&&(I!==L||O==="\\")){W(V,I);continue}else if(_===I){_=!1,W(V,I);continue}else if(L===I){L=!1,W(V,I);continue}else{if(I===" ")continue;if(I==="(")V===0?H=Y:F+=I,V++;else if(I===")")if(V--,V===0){const U=typeof S=="string"&&S.startsWith("$")?S:void 0,q=U&&v.charAt(Y+1)===".";let ye="";q&&([ye,Y]=c(Y+2,v));const we=x?y:l(H,v,0),oe=l(Y,v);we===-1&&oe===-1?S=d(F,-1,U,ye):x&&(we>=oe||oe===-1)&&y===we?(P=x.bind(null,d(F,-1,U,ye)),x=null,S=""):oe>we&&y===oe?S=d(F,-1,U,ye):S+=`(${F})${q?`.${ye}`:""}`,F=""}else F+=I;else if(V===0&&(E=i(C,I,Y,v))){Y===0&&Br(103,[E,v]),Y+=E.length-1,Y===v.length-1&&Br(104,[E,v]),x?S&&(P=x.bind(null,d(S,y)),x=w[E].bind(null,P),S=""):P?(x=w[E].bind(null,d(P,y)),P=null):(x=w[E].bind(null,d(S,y)),S="");continue}else W(V,I)}return S&&x&&(x=x.bind(null,d(S,y))),x=!x&&P?P:x,!x&&S&&(x=(Y,U)=>typeof Y=="function"?Y(U):Y,x=x.bind(null,d(S,y))),!x&&!S&&Br(105,v),x}function d(v,y,w,b){if(w){const C=d(w,a.length);let V,_=b?al(`$${b}`):!1;if(typeof C=="function"){const x=OK(String(v)).map(S=>d(S,-1));return S=>{const P=C(S);return typeof P!="function"?(Eh(150,w),P):(V=P(...x.map(E=>typeof E=="function"?E(S):E)),_&&(_=_.provide(E=>{const O=e(E);return E.reduce((F,L)=>{if(L===b||(b==null?void 0:b.startsWith(`${L}(`))){const W=kK(V,L);F[L]=()=>W}else F[L]=O[L];return F},{})})),_?_():V)}}}else if(typeof v=="string"){if(v==="true")return!0;if(v==="false")return!1;if(v==="undefined")return;if(TK(v))return RK(v.substring(1,v.length-1));if(!isNaN(+v))return Number(v);if(y<a.length-1)return u(v,y+1);if(v.startsWith("$")){const C=v.substring(1);return n.add(C),function(_){return C in _?_[C]():void 0}}return v}return v}const p=u(t.startsWith("$:")?t.substring(2):t),f=Array.from(n);function g(v){return e=v,Object.assign(p.bind(null,v(f)),{provide:g})}return Object.assign(p,{provide:g})}function mb(t,e,n){return n?typeof n=="string"?n.split(" ").reduce((a,s)=>Object.assign(a,{[s]:!0}),{}):typeof n=="function"?mb(t,e,n(e,t)):n:{}}function GY(t,e,...n){const o=n.reduce((a,s)=>{if(!s)return a;const{$reset:r,...i}=s;return r?i:Object.assign(a,i)},{});return Object.keys(t.hook.classes.dispatch({property:e,classes:o}).classes).filter(a=>o[a]).join(" ")||null}function WY(t,e,n){const o=Ti(t);o?o.setErrors(e,n):Eh(651,t)}function KY(t,e=!0){const n=Ti(t);n?n.clearErrors(e):Eh(652,t)}const jb="1.0.0-beta.12-e579559",YY=window.Vue.defineComponent,XY=window.Vue.resolveComponent,J0=window.Vue.createVNode,$5=window.Vue.unref,QY=window.Vue.withKeys,m6=window.Vue.withCtx,ZY=window.Vue.createTextVNode,JY=window.Vue.Fragment,qY=window.Vue.openBlock,eX=window.Vue.createElementBlock,tX=window.HaloComponents.Toast,nX=window.HaloComponents.VButton,oX=window.Vue.onMounted,g6=window.Vue.ref,iI=YY({__name:"LoginForm",emits:["succeed"],setup(t,{emit:e}){const n=xl(),o=g6({_csrf:"",username:"",password:""}),a=g6(!1),s=async()=>{const i=w0();o.value._csrf=i,document.cookie=`XSRF-TOKEN=${i}; Path=/;`},r=async()=>{try{a.value=!0,await ae.post("/login",CK.stringify(o.value),{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}),await n.fetchCurrentUser(),localStorage.setItem("logged_in","true"),e("succeed")}catch(i){console.error("Failed to login",i),tX.error("登录失败，用户名或密码错误"),o.value.password="",Ps("passwordInput")}finally{a.value=!1}};return oX(()=>{s()}),(i,l)=>{const c=XY("FormKit");return qY(),eX(JY,null,[J0(c,{id:"login-form",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=u=>o.value=u),name:"login-form",actions:!1,type:"form",config:{validationVisibility:"submit"},onSubmit:r,onKeyup:l[1]||(l[1]=QY(u=>$5(Ec)("login-form"),["enter"]))},{default:m6(()=>[J0(c,{"validation-messages":{required:"请输入用户名"},name:"username",placeholder:"用户名",autofocus:!0,type:"text",validation:"required"}),J0(c,{id:"passwordInput","validation-messages":{required:"请输入密码"},name:"password",placeholder:"密码",type:"password",validation:"required"})]),_:1},8,["modelValue"]),J0($5(nX),{class:"mt-6",block:"",loading:a.value,type:"secondary",onClick:l[2]||(l[2]=u=>$5(Ec)("login-form"))},{default:m6(()=>[ZY(" 登录 ")]),_:1},8,["loading"])],64)}}}),aX=window.Vue.defineComponent,x5=window.Vue.unref,v6=window.Vue.openBlock,y6=window.Vue.createBlock,sX=window.Vue.createCommentVNode,rX=window.Vue.withCtx,iX=window.HaloComponents.Toast,lX=window.HaloComponents.VModal,cX=aX({__name:"LoginModal",setup(t){const e=xl(),n=a=>{e.loginModalVisible=a},o=()=>{n(!1),iX.success("登录成功")};return(a,s)=>(v6(),y6(x5(lX),{visible:x5(e).loginModalVisible,"mount-to-body":!0,width:400,centered:!0,title:"重新登录","onUpdate:visible":n},{default:rX(()=>[x5(e).loginModalVisible?(v6(),y6(iI,{key:0,onSucceed:o})):sX("",!0)]),_:1},8,["visible"]))}});var zb={},uX={get exports(){return zb},set exports(t){zb=t}};(function(t,e){var n=200,o="Expected a function",a="__lodash_hash_undefined__",s=1,r=2,i=1/0,l=9007199254740991,c="[object Arguments]",u="[object Array]",d="[object Boolean]",p="[object Date]",f="[object Error]",g="[object Function]",v="[object GeneratorFunction]",y="[object Map]",w="[object Number]",b="[object Object]",C="[object Promise]",V="[object RegExp]",_="[object Set]",x="[object String]",S="[object Symbol]",P="[object WeakMap]",E="[object ArrayBuffer]",O="[object DataView]",I="[object Float32Array]",F="[object Float64Array]",L="[object Int8Array]",H="[object Int16Array]",W="[object Int32Array]",Y="[object Uint8Array]",U="[object Uint8ClampedArray]",q="[object Uint16Array]",ye="[object Uint32Array]",we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oe=/^\w*$/,pe=/^\./,he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,Se=/\\(\\)?/g,qe=/^\[object .+?Constructor\]$/,Ke=/^(?:0|[1-9]\d*)$/,Z={};Z[I]=Z[F]=Z[L]=Z[H]=Z[W]=Z[Y]=Z[U]=Z[q]=Z[ye]=!0,Z[c]=Z[u]=Z[E]=Z[d]=Z[O]=Z[p]=Z[f]=Z[g]=Z[y]=Z[w]=Z[b]=Z[V]=Z[_]=Z[x]=Z[P]=!1;var me=typeof En=="object"&&En&&En.Object===Object&&En,He=typeof self=="object"&&self&&self.Object===Object&&self,Ie=me||He||Function("return this")(),Ge=e&&!e.nodeType&&e,Fe=Ge&&!0&&t&&!t.nodeType&&t,fe=Fe&&Fe.exports===Ge,Ue=fe&&me.process,_e=function(){try{return Ue&&Ue.binding("util")}catch{}}(),Et=_e&&_e.isTypedArray;function dt(A,G,J){switch(J.length){case 0:return A.call(G);case 1:return A.call(G,J[0]);case 2:return A.call(G,J[0],J[1]);case 3:return A.call(G,J[0],J[1],J[2])}return A.apply(G,J)}function Ut(A,G){for(var J=-1,$e=A?A.length:0,Xe=Array($e);++J<$e;)Xe[J]=G(A[J],J,A);return Xe}function ft(A,G){for(var J=-1,$e=G.length,Xe=A.length;++J<$e;)A[Xe+J]=G[J];return A}function xe(A,G){for(var J=-1,$e=A?A.length:0;++J<$e;)if(G(A[J],J,A))return!0;return!1}function tt(A){return function(G){return G==null?void 0:G[A]}}function ct(A,G){var J=A.length;for(A.sort(G);J--;)A[J]=A[J].value;return A}function pn(A,G){for(var J=-1,$e=Array(A);++J<A;)$e[J]=G(J);return $e}function Vn(A){return function(G){return A(G)}}function Ce(A,G){return A==null?void 0:A[G]}function jt(A){var G=!1;if(A!=null&&typeof A.toString!="function")try{G=!!(A+"")}catch{}return G}function Zn(A){var G=-1,J=Array(A.size);return A.forEach(function($e,Xe){J[++G]=[Xe,$e]}),J}function ee(A,G){return function(J){return A(G(J))}}function te(A){var G=-1,J=Array(A.size);return A.forEach(function($e){J[++G]=$e}),J}var ge=Array.prototype,Pe=Function.prototype,Ae=Object.prototype,Qe=Ie["__core-js_shared__"],et=function(){var A=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),Re=Pe.toString,Vt=Ae.hasOwnProperty,je=Ae.toString,Me=RegExp("^"+Re.call(Vt).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Je=Ie.Symbol,mt=Ie.Uint8Array,lt=Ae.propertyIsEnumerable,Dn=ge.splice,Wn=Je?Je.isConcatSpreadable:void 0,Rs=ee(Object.keys,Object),to=Math.max,Os=is(Ie,"DataView"),Kn=is(Ie,"Map"),na=is(Ie,"Promise"),Nn=is(Ie,"Set"),Xr=is(Ie,"WeakMap"),ar=is(Object,"create"),Cl=rn(Os),Qr=rn(Kn),Zr=rn(na),On=rn(Nn),sr=rn(Xr),os=Je?Je.prototype:void 0,Ri=os?os.valueOf:void 0,Oi=os?os.toString:void 0;function fa(A){var G=-1,J=A?A.length:0;for(this.clear();++G<J;){var $e=A[G];this.set($e[0],$e[1])}}function Cn(){this.__data__=ar?ar(null):{}}function Jr(A){return this.has(A)&&delete this.__data__[A]}function Sl(A){var G=this.__data__;if(ar){var J=G[A];return J===a?void 0:J}return Vt.call(G,A)?G[A]:void 0}function Pl(A){var G=this.__data__;return ar?G[A]!==void 0:Vt.call(G,A)}function ki(A,G){var J=this.__data__;return J[A]=ar&&G===void 0?a:G,this}fa.prototype.clear=Cn,fa.prototype.delete=Jr,fa.prototype.get=Sl,fa.prototype.has=Pl,fa.prototype.set=ki;function Bo(A){var G=-1,J=A?A.length:0;for(this.clear();++G<J;){var $e=A[G];this.set($e[0],$e[1])}}function Ro(){this.__data__=[]}function Ai(A){var G=this.__data__,J=Fa(G,A);if(J<0)return!1;var $e=G.length-1;return J==$e?G.pop():Dn.call(G,J,1),!0}function Ii(A){var G=this.__data__,J=Fa(G,A);return J<0?void 0:G[J][1]}function rr(A){return Fa(this.__data__,A)>-1}function ir(A,G){var J=this.__data__,$e=Fa(J,A);return $e<0?J.push([A,G]):J[$e][1]=G,this}Bo.prototype.clear=Ro,Bo.prototype.delete=Ai,Bo.prototype.get=Ii,Bo.prototype.has=rr,Bo.prototype.set=ir;function ma(A){var G=-1,J=A?A.length:0;for(this.clear();++G<J;){var $e=A[G];this.set($e[0],$e[1])}}function as(){this.__data__={hash:new fa,map:new(Kn||Bo),string:new fa}}function Mi(A){return rs(this,A).delete(A)}function lr(A){return rs(this,A).get(A)}function Lo(A){return rs(this,A).has(A)}function Fi(A,G){return rs(this,A).set(A,G),this}ma.prototype.clear=as,ma.prototype.delete=Mi,ma.prototype.get=lr,ma.prototype.has=Lo,ma.prototype.set=Fi;function cr(A){var G=-1,J=A?A.length:0;for(this.__data__=new ma;++G<J;)this.add(A[G])}function qr(A){return this.__data__.set(A,a),this}function Oc(A){return this.__data__.has(A)}cr.prototype.add=cr.prototype.push=qr,cr.prototype.has=Oc;function Uo(A){this.__data__=new Bo(A)}function El(){this.__data__=new Bo}function ei(A){return this.__data__.delete(A)}function Di(A){return this.__data__.get(A)}function ur(A){return this.__data__.has(A)}function Tl(A,G){var J=this.__data__;if(J instanceof Bo){var $e=J.__data__;if(!Kn||$e.length<n-1)return $e.push([A,G]),this;J=this.__data__=new ma($e)}return J.set(A,G),this}Uo.prototype.clear=El,Uo.prototype.delete=ei,Uo.prototype.get=Di,Uo.prototype.has=ur,Uo.prototype.set=Tl;function Ni(A,G){var J=Ms(A)||Na(A)?pn(A.length,String):[],$e=J.length,Xe=!!$e;for(var De in A)(G||Vt.call(A,De))&&!(Xe&&(De=="length"||B(De,$e)))&&J.push(De);return J}function Fa(A,G){for(var J=A.length;J--;)if(Go(A[J][0],G))return J;return-1}var ti=va(Hi);function ni(A,G,J,$e,Xe){var De=-1,pt=A.length;for(J||(J=k),Xe||(Xe=[]);++De<pt;){var Ht=A[De];G>0&&J(Ht)?G>1?ni(Ht,G-1,J,$e,Xe):ft(Xe,Ht):$e||(Xe[Xe.length]=Ht)}return Xe}var dr=ya();function Hi(A,G){return A&&dr(A,G,Ih)}function ss(A,G){G=be(G,A)?[G]:As(G);for(var J=0,$e=G.length;A!=null&&J<$e;)A=A[Nt(G[J++])];return J&&J==$e?A:void 0}function Rl(A){return je.call(A)}function pr(A,G){return A!=null&&G in Object(A)}function jo(A,G,J,$e,Xe){return A===G?!0:A==null||G==null||!Qd(A)&&!Ah(G)?A!==A&&G!==G:oa(A,G,jo,J,$e,Xe)}function oa(A,G,J,$e,Xe,De){var pt=Ms(A),Ht=Ms(G),Xt=u,Sn=u;pt||(Xt=R(A),Xt=Xt==c?b:Xt),Ht||(Sn=R(G),Sn=Sn==c?b:Sn);var ba=Xt==b&&!jt(A),Ha=Sn==b&&!jt(G),Vo=Xt==Sn;if(Vo&&!ba)return De||(De=new Uo),pt||S$(A)?Ol(A,G,J,$e,Xe,De):wa(A,G,Xt,J,$e,Xe,De);if(!(Xe&r)){var uo=ba&&Vt.call(A,"__wrapped__"),Ds=Ha&&Vt.call(G,"__wrapped__");if(uo||Ds){var Il=uo?A.value():A,Ui=Ds?G.value():G;return De||(De=new Uo),J(Il,Ui,$e,Xe,De)}}return Vo?(De||(De=new Uo),kl(A,G,J,$e,Xe,De)):!1}function ga(A,G,J,$e){var Xe=J.length,De=Xe,pt=!$e;if(A==null)return!De;for(A=Object(A);Xe--;){var Ht=J[Xe];if(pt&&Ht[2]?Ht[1]!==A[Ht[0]]:!(Ht[0]in A))return!1}for(;++Xe<De;){Ht=J[Xe];var Xt=Ht[0],Sn=A[Xt],ba=Ht[1];if(pt&&Ht[2]){if(Sn===void 0&&!(Xt in A))return!1}else{var Ha=new Uo;if($e)var Vo=$e(Sn,ba,Xt,A,G,Ha);if(!(Vo===void 0?jo(ba,Sn,$e,s|r,Ha):Vo))return!1}}return!0}function kc(A){if(!Qd(A)||nt(A))return!1;var G=C$(A)||jt(A)?Me:qe;return G.test(rn(A))}function Da(A){return Ah(A)&&Xd(A.length)&&!!Z[je.call(A)]}function Bi(A){return typeof A=="function"?A:A==null?k0:typeof A=="object"?Ms(A)?hr(A[0],A[1]):Mc(A):Qm(A)}function Ac(A){if(!wt(A))return Rs(A);var G=[];for(var J in Object(A))Vt.call(A,J)&&J!="constructor"&&G.push(J);return G}function Ic(A,G){var J=-1,$e=Fs(A)?Array(A.length):[];return ti(A,function(Xe,De,pt){$e[++J]=G(Xe,De,pt)}),$e}function Mc(A){var G=Al(A);return G.length==1&&G[0][2]?Rt(G[0][0],G[0][1]):function(J){return J===A||ga(J,A,G)}}function hr(A,G){return be(A)&&Ze(G)?Rt(Nt(A),G):function(J){var $e=GS(J,A);return $e===void 0&&$e===G?P$(J,A):jo(G,$e,void 0,s|r)}}function no(A,G,J){var $e=-1;G=Ut(G.length?G:[k0],Vn(Bi));var Xe=Ic(A,function(De,pt,Ht){var Xt=Ut(G,function(Sn){return Sn(De)});return{criteria:Xt,index:++$e,value:De}});return ct(Xe,function(De,pt){return Li(De,pt,J)})}function ks(A){return function(G){return ss(G,A)}}function fr(A,G){return G=to(G===void 0?A.length-1:G,0),function(){for(var J=arguments,$e=-1,Xe=to(J.length-G,0),De=Array(Xe);++$e<Xe;)De[$e]=J[G+$e];$e=-1;for(var pt=Array(G+1);++$e<G;)pt[$e]=J[$e];return pt[G]=De,dt(A,this,pt)}}function oi(A){if(typeof A=="string")return A;if(Zd(A))return Oi?Oi.call(A):"";var G=A+"";return G=="0"&&1/A==-i?"-0":G}function As(A){return Ms(A)?A:vn(A)}function Is(A,G){if(A!==G){var J=A!==void 0,$e=A===null,Xe=A===A,De=Zd(A),pt=G!==void 0,Ht=G===null,Xt=G===G,Sn=Zd(G);if(!Ht&&!Sn&&!De&&A>G||De&&pt&&Xt&&!Ht&&!Sn||$e&&pt&&Xt||!J&&Xt||!Xe)return 1;if(!$e&&!De&&!Sn&&A<G||Sn&&J&&Xe&&!$e&&!De||Ht&&J&&Xe||!pt&&Xe||!Xt)return-1}return 0}function Li(A,G,J){for(var $e=-1,Xe=A.criteria,De=G.criteria,pt=Xe.length,Ht=J.length;++$e<pt;){var Xt=Is(Xe[$e],De[$e]);if(Xt){if($e>=Ht)return Xt;var Sn=J[$e];return Xt*(Sn=="desc"?-1:1)}}return A.index-G.index}function va(A,G){return function(J,$e){if(J==null)return J;if(!Fs(J))return A(J,$e);for(var Xe=J.length,De=G?Xe:-1,pt=Object(J);(G?De--:++De<Xe)&&$e(pt[De],De,pt)!==!1;);return J}}function ya(A){return function(G,J,$e){for(var Xe=-1,De=Object(G),pt=$e(G),Ht=pt.length;Ht--;){var Xt=pt[A?Ht:++Xe];if(J(De[Xt],Xt,De)===!1)break}return G}}function Ol(A,G,J,$e,Xe,De){var pt=Xe&r,Ht=A.length,Xt=G.length;if(Ht!=Xt&&!(pt&&Xt>Ht))return!1;var Sn=De.get(A);if(Sn&&De.get(G))return Sn==G;var ba=-1,Ha=!0,Vo=Xe&s?new cr:void 0;for(De.set(A,G),De.set(G,A);++ba<Ht;){var uo=A[ba],Ds=G[ba];if($e)var Il=pt?$e(Ds,uo,ba,G,A,De):$e(uo,Ds,ba,A,G,De);if(Il!==void 0){if(Il)continue;Ha=!1;break}if(Vo){if(!xe(G,function(Ui,Dc){if(!Vo.has(Dc)&&(uo===Ui||J(uo,Ui,$e,Xe,De)))return Vo.add(Dc)})){Ha=!1;break}}else if(!(uo===Ds||J(uo,Ds,$e,Xe,De))){Ha=!1;break}}return De.delete(A),De.delete(G),Ha}function wa(A,G,J,$e,Xe,De,pt){switch(J){case O:if(A.byteLength!=G.byteLength||A.byteOffset!=G.byteOffset)return!1;A=A.buffer,G=G.buffer;case E:return!(A.byteLength!=G.byteLength||!$e(new mt(A),new mt(G)));case d:case p:case w:return Go(+A,+G);case f:return A.name==G.name&&A.message==G.message;case V:case x:return A==G+"";case y:var Ht=Zn;case _:var Xt=De&r;if(Ht||(Ht=te),A.size!=G.size&&!Xt)return!1;var Sn=pt.get(A);if(Sn)return Sn==G;De|=s,pt.set(A,G);var ba=Ol(Ht(A),Ht(G),$e,Xe,De,pt);return pt.delete(A),ba;case S:if(Ri)return Ri.call(A)==Ri.call(G)}return!1}function kl(A,G,J,$e,Xe,De){var pt=Xe&r,Ht=Ih(A),Xt=Ht.length,Sn=Ih(G),ba=Sn.length;if(Xt!=ba&&!pt)return!1;for(var Ha=Xt;Ha--;){var Vo=Ht[Ha];if(!(pt?Vo in G:Vt.call(G,Vo)))return!1}var uo=De.get(A);if(uo&&De.get(G))return uo==G;var Ds=!0;De.set(A,G),De.set(G,A);for(var Il=pt;++Ha<Xt;){Vo=Ht[Ha];var Ui=A[Vo],Dc=G[Vo];if($e)var E$=pt?$e(Dc,Ui,Vo,G,A,De):$e(Ui,Dc,Vo,A,G,De);if(!(E$===void 0?Ui===Dc||J(Ui,Dc,$e,Xe,De):E$)){Ds=!1;break}Il||(Il=Vo=="constructor")}if(Ds&&!Il){var Mh=A.constructor,Jd=G.constructor;Mh!=Jd&&"constructor"in A&&"constructor"in G&&!(typeof Mh=="function"&&Mh instanceof Mh&&typeof Jd=="function"&&Jd instanceof Jd)&&(Ds=!1)}return De.delete(A),De.delete(G),Ds}function rs(A,G){var J=A.__data__;return Ye(G)?J[typeof G=="string"?"string":"hash"]:J.map}function Al(A){for(var G=Ih(A),J=G.length;J--;){var $e=G[J],Xe=A[$e];G[J]=[$e,Xe,Ze(Xe)]}return G}function is(A,G){var J=Ce(A,G);return kc(J)?J:void 0}var R=Rl;(Os&&R(new Os(new ArrayBuffer(1)))!=O||Kn&&R(new Kn)!=y||na&&R(na.resolve())!=C||Nn&&R(new Nn)!=_||Xr&&R(new Xr)!=P)&&(R=function(A){var G=je.call(A),J=G==b?A.constructor:void 0,$e=J?rn(J):void 0;if($e)switch($e){case Cl:return O;case Qr:return y;case Zr:return C;case On:return _;case sr:return P}return G});function D(A,G,J){G=be(G,A)?[G]:As(G);for(var $e,Xe=-1,pt=G.length;++Xe<pt;){var De=Nt(G[Xe]);if(!($e=A!=null&&J(A,De)))break;A=A[De]}if($e)return $e;var pt=A?A.length:0;return!!pt&&Xd(pt)&&B(De,pt)&&(Ms(A)||Na(A))}function k(A){return Ms(A)||Na(A)||!!(Wn&&A&&A[Wn])}function B(A,G){return G=G??l,!!G&&(typeof A=="number"||Ke.test(A))&&A>-1&&A%1==0&&A<G}function Q(A,G,J){if(!Qd(J))return!1;var $e=typeof G;return($e=="number"?Fs(J)&&B(G,J.length):$e=="string"&&G in J)?Go(J[G],A):!1}function be(A,G){if(Ms(A))return!1;var J=typeof A;return J=="number"||J=="symbol"||J=="boolean"||A==null||Zd(A)?!0:oe.test(A)||!we.test(A)||G!=null&&A in Object(G)}function Ye(A){var G=typeof A;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?A!=="__proto__":A===null}function nt(A){return!!et&&et in A}function wt(A){var G=A&&A.constructor,J=typeof G=="function"&&G.prototype||Ae;return A===J}function Ze(A){return A===A&&!Qd(A)}function Rt(A,G){return function(J){return J==null?!1:J[A]===G&&(G!==void 0||A in Object(J))}}var vn=zo(function(A){A=Xm(A);var G=[];return pe.test(A)&&G.push(""),A.replace(he,function(J,$e,Xe,De){G.push(Xe?De.replace(Se,"$1"):$e||J)}),G});function Nt(A){if(typeof A=="string"||Zd(A))return A;var G=A+"";return G=="0"&&1/A==-i?"-0":G}function rn(A){if(A!=null){try{return Re.call(A)}catch{}try{return A+""}catch{}}return""}var Yn=fr(function(A,G){if(A==null)return[];var J=G.length;return J>1&&Q(A,G[0],G[1])?G=[]:J>2&&Q(G[0],G[1],G[2])&&(G=[G[0]]),no(A,ni(G,1),[])});function zo(A,G){if(typeof A!="function"||G&&typeof G!="function")throw new TypeError(o);var J=function(){var $e=arguments,Xe=G?G.apply(this,$e):$e[0],De=J.cache;if(De.has(Xe))return De.get(Xe);var pt=A.apply(this,$e);return J.cache=De.set(Xe,pt),pt};return J.cache=new(zo.Cache||ma),J}zo.Cache=ma;function Go(A,G){return A===G||A!==A&&G!==G}function Na(A){return Fc(A)&&Vt.call(A,"callee")&&(!lt.call(A,"callee")||je.call(A)==c)}var Ms=Array.isArray;function Fs(A){return A!=null&&Xd(A.length)&&!C$(A)}function Fc(A){return Ah(A)&&Fs(A)}function C$(A){var G=Qd(A)?je.call(A):"";return G==g||G==v}function Xd(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=l}function Qd(A){var G=typeof A;return!!A&&(G=="object"||G=="function")}function Ah(A){return!!A&&typeof A=="object"}function Zd(A){return typeof A=="symbol"||Ah(A)&&je.call(A)==S}var S$=Et?Vn(Et):Da;function Xm(A){return A==null?"":oi(A)}function GS(A,G,J){var $e=A==null?void 0:ss(A,G);return $e===void 0?J:$e}function P$(A,G){return A!=null&&D(A,G,pr)}function Ih(A){return Fs(A)?Ni(A):Ac(A)}function k0(A){return A}function Qm(A){return be(A)?tt(Nt(A)):ks(A)}t.exports=Yn})(uX,zb);const w6=zb,dX=window.Vue.defineComponent,Co=window.Vue.unref,ls=window.Vue.createVNode,In=window.Vue.createElementVNode,q0=window.Vue.toDisplayString,Dl=window.Vue.openBlock,P1=window.Vue.createElementBlock,b6=window.Vue.createCommentVNode,_5=window.Vue.createTextVNode,Hc=window.Vue.withCtx,pX=window.Vue.resolveDirective,E1=window.Vue.createBlock,T1=window.Vue.withDirectives,hX=window.Vue.resolveComponent,fX=window.Vue.renderSlot,mX=window.Vue.renderList,$6=window.Vue.Fragment,gX=window.Vue.resolveDynamicComponent,vX=window.Vue.normalizeClass,V5=window.Vue.vShow,x6=window.Vue.Transition,yX=window.Vue.Teleport,wX={class:"flex h-full"},bX={class:"navbar fixed hidden h-full overflow-y-auto md:block"},$X={class:"logo flex justify-center pt-5 pb-7"},xX={href:"/",target:"_blank",title:"访问首页"},_X={class:"px-3"},VX={class:"mr-3"},CX=In("span",{class:"flex-1 select-none text-base font-normal"},"搜索",-1),SX={class:"text-sm"},PX={class:"current-profile"},EX={key:0,class:"profile-avatar"},TX={class:"profile-name"},RX={class:"flex text-sm font-medium"},OX={class:"flex"},kX={class:"w-48 p-2"},AX={class:"content w-full overflow-y-auto pb-12 mb-safe md:pb-0"},IX={key:0,class:"bottom-nav-bar fixed left-0 bottom-0 right-0 grid grid-cols-6 border-t-2 border-black bg-secondary drop-shadow-2xl mt-safe pb-safe md:hidden"},MX=["onClick"],FX={class:"flex w-full cursor-pointer items-center justify-center p-1 text-white"},DX={class:"is-active is-active0 flex h-10 w-10 flex-col items-center justify-center"},NX={class:"text-base"},HX={class:"mt-0.5 text-xs"},BX={class:"flex w-full cursor-pointer items-center justify-center p-1 text-white"},LX={class:"is-active is-active0 flex h-10 w-10 flex-col items-center justify-center"},UX={class:"text-base"},jX=In("div",{class:"mt-0.5 text-xs"},"更多",-1),zX={class:"drawer-wrapper fixed top-0 left-0 z-[99999] flex h-full w-full flex-row items-end justify-center"},GX={class:"drawer-content relative flex h-3/4 w-screen flex-col items-stretch overflow-y-auto rounded-t-md bg-white shadow-xl"},WX={class:"drawer-body"},_6=window.HaloComponents.IconMore,KX=window.HaloComponents.IconSearch,YX=window.HaloComponents.IconUserSettings,XX=window.HaloComponents.VTag,QX=window.HaloComponents.VAvatar,ZX=window.HaloComponents.VSpace,V6=window.HaloComponents.VButton,JX=window.HaloComponents.Dialog,qX=window.VueRouter.RouterView,eQ=window.VueRouter.useRoute,tQ=window.VueRouter.useRouter,nQ=window.Vue.computed,C6=window.Vue.onMounted,oQ=window.Vue.onUnmounted,R1=window.Vue.ref,Es=dX({__name:"BasicLayout",setup(t){const e=eQ(),n=tQ(),o=R1(!1),a=R1(!1),s=xl(),r=()=>{JX.warning({title:"确定要退出登录吗？",onConfirm:async()=>{try{await ae.post("/logout",void 0,{withCredentials:!0}),await s.fetchCurrentUser(),n.replace({name:"Login"})}catch(y){console.error("Failed to logout",y)}}})},i=nQ(()=>{var y,w;return JSON.parse(((w=(y=s.currentUser)==null?void 0:y.metadata.annotations)==null?void 0:w["rbac.authorization.halo.run/role-names"])||"[]")[0]}),l=R1(!1),c=/macintosh|mac os x/i.test(navigator.userAgent),u=y=>{const{key:w,ctrlKey:b,metaKey:C}=y;w==="k"&&(b&&!c||C)&&(l.value=!0,y.preventDefault())};C6(()=>{document.addEventListener("keydown",u)}),oQ(()=>{document.removeEventListener("keydown",u)});const d=R1([]),p=R1([]),f=X2(),{uiPermissions:g}=f.permissions;return C6(()=>{const y=w6(n.getRoutes().filter(w=>{const{meta:b}=w;return b!=null&&b.menu?b.permissions?Q2(g,b.permissions,!0):!0:!1}),[w=>{var b;return!((b=w.meta)!=null&&b.core)},w=>{var b,C;return((C=(b=w.meta)==null?void 0:b.menu)==null?void 0:C.priority)||0}]);d.value=y.reduce((w,b)=>{var P,E;const{menu:C}=b.meta;if(!C)return w;const V=w.find(O=>O.id===C.group),_=b.children[0],x=(P=_==null?void 0:_.meta)==null?void 0:P.menu,S=x?[{name:x.name,path:_.path,icon:x.icon}]:void 0;if(V)(E=V.items)==null||E.push({name:C.name,path:b.path,icon:C.icon,mobile:C.mobile,children:S});else{const O=E6.find(F=>F.id===C.group);let I="";O?O.name&&(I=O.name):I=C.group,w.push({id:(O==null?void 0:O.id)||C.group,name:I,priority:(O==null?void 0:O.priority)||0,items:[{name:C.name,path:b.path,icon:C.icon,mobile:C.mobile,children:S}]})}return w},[]),d.value=w6(d.value,[w=>E6.findIndex(b=>b.id===w.id)<0,w=>w.priority||0]),p.value=d.value.reduce((w,b)=>(b!=null&&b.items&&w.push(...b.items),w),[]).filter(w=>w.mobile)}),(y,w)=>{var V,_,x,S;const b=hX("FloatingDropdown"),C=pX("close-popper");return Dl(),P1($6,null,[In("div",wX,[In("aside",bX,[In("div",$X,[In("a",xX,[ls(Co(H4),{class:"cursor-pointer select-none transition-all hover:brightness-125"})])]),In("div",_X,[In("div",{class:"flex cursor-pointer items-center rounded bg-gray-100 p-2 text-gray-400 transition-all hover:text-gray-900",onClick:w[0]||(w[0]=P=>l.value=!0)},[In("span",VX,[ls(Co(KX))]),CX,In("div",SX,q0(`${Co(c)?"⌘":"Ctrl"}+K`),1)])]),ls(Co(L8),{menus:d.value},null,8,["menus"]),In("div",PX,[(V=Co(s).currentUser)!=null&&V.spec.avatar?(Dl(),P1("div",EX,[ls(Co(QX),{src:(_=Co(s).currentUser)==null?void 0:_.spec.avatar,alt:(x=Co(s).currentUser)==null?void 0:x.spec.displayName,size:"md",circle:""},null,8,["src","alt"])])):b6("",!0),In("div",TX,[In("div",RX,q0((S=Co(s).currentUser)==null?void 0:S.spec.displayName),1),In("div",OX,[ls(Co(XX),null,{leftIcon:Hc(()=>[ls(Co(YX))]),default:Hc(()=>[_5(" "+q0(Co(i)),1)]),_:1})])]),ls(b,{class:"profile-control cursor-pointer rounded p-1 transition-all hover:bg-gray-100"},{popper:Hc(()=>[In("div",kX,[ls(Co(ZX),{class:"w-full",direction:"column"},{default:Hc(()=>[T1((Dl(),E1(Co(V6),{block:"",type:"secondary",route:{name:"UserDetail",params:{name:"-"}}},{default:Hc(()=>[_5(" 个人资料 ")]),_:1})),[[C]]),T1((Dl(),E1(Co(V6),{block:"",type:"default",onClick:r},{default:Hc(()=>[_5(" 退出登录 ")]),_:1})),[[C]])]),_:1})])]),default:Hc(()=>[ls(Co(_6))]),_:1})])]),In("main",AX,[y.$slots.default?fX(y.$slots,"default",{key:0}):(Dl(),E1(Co(qX),{key:1}))]),p.value?(Dl(),P1("div",IX,[(Dl(!0),P1($6,null,mX(p.value,(P,E)=>(Dl(),P1("div",{key:E,class:vX([{"bg-black":Co(e).path===(P==null?void 0:P.path)},"nav-item"]),onClick:O=>Co(n).push(P==null?void 0:P.path)},[In("div",FX,[In("div",DX,[In("div",NX,[(Dl(),E1(gX(P==null?void 0:P.icon)))]),In("div",HX,q0(P==null?void 0:P.name),1)])])],10,MX))),128)),In("div",{class:"nav-item",onClick:w[1]||(w[1]=P=>o.value=!0)},[In("div",BX,[In("div",LX,[In("div",UX,[ls(Co(_6))]),jX])])]),(Dl(),E1(yX,{to:"body"},[T1(In("div",zX,[ls(x6,{"enter-active-class":"ease-out duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0",onBeforeEnter:w[3]||(w[3]=P=>a.value=!0),onAfterLeave:w[4]||(w[4]=P=>a.value=!1)},{default:Hc(()=>[T1(In("div",{class:"drawer-layer absolute top-0 left-0 h-full w-full flex-none bg-gray-500 bg-opacity-75 transition-opacity",onClick:w[2]||(w[2]=P=>o.value=!1)},null,512),[[V5,o.value]])]),_:1}),ls(x6,{"enter-active-class":"transform transition ease-in-out duration-500 sm:duration-700","enter-from-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transform transition ease-in-out duration-500 sm:duration-700","leave-from-class":"translate-y-0","leave-to-class":"translate-y-full"},{default:Hc(()=>[T1(In("div",GX,[In("div",WX,[ls(Co(L8),{menus:d.value,class:"p-0",onSelect:w[5]||(w[5]=P=>o.value=!1)},null,8,["menus"])])],512),[[V5,o.value]])]),_:1})],512),[[V5,a.value]])]))])):b6("",!0)]),ls(OG,{visible:l.value,"onUpdate:visible":w[6]||(w[6]=P=>l.value=P)},null,8,["visible"]),ls(cX)],64)}}});var Gb={},aQ={get exports(){return Gb},set exports(t){Gb=t}};(function(t,e){var n=200,o="__lodash_hash_undefined__",a=9007199254740991,s="[object Arguments]",r="[object Array]",i="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object GeneratorFunction]",p="[object Map]",f="[object Number]",g="[object Object]",v="[object Promise]",y="[object RegExp]",w="[object Set]",b="[object String]",C="[object Symbol]",V="[object WeakMap]",_="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",P="[object Float64Array]",E="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",F="[object Uint8Array]",L="[object Uint8ClampedArray]",H="[object Uint16Array]",W="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,U=/\w*$/,q=/^\[object .+?Constructor\]$/,ye=/^(?:0|[1-9]\d*)$/,we={};we[s]=we[r]=we[_]=we[x]=we[i]=we[l]=we[S]=we[P]=we[E]=we[O]=we[I]=we[p]=we[f]=we[g]=we[y]=we[w]=we[b]=we[C]=we[F]=we[L]=we[H]=we[W]=!0,we[c]=we[u]=we[V]=!1;var oe=typeof En=="object"&&En&&En.Object===Object&&En,pe=typeof self=="object"&&self&&self.Object===Object&&self,he=oe||pe||Function("return this")(),Ne=e&&!e.nodeType&&e,Se=Ne&&!0&&t&&!t.nodeType&&t,qe=Se&&Se.exports===Ne;function Ke(R,D){return R.set(D[0],D[1]),R}function Z(R,D){return R.add(D),R}function me(R,D){for(var k=-1,B=R?R.length:0;++k<B&&D(R[k],k,R)!==!1;);return R}function He(R,D){for(var k=-1,B=D.length,Q=R.length;++k<B;)R[Q+k]=D[k];return R}function Ie(R,D,k,B){var Q=-1,be=R?R.length:0;for(B&&be&&(k=R[++Q]);++Q<be;)k=D(k,R[Q],Q,R);return k}function Ge(R,D){for(var k=-1,B=Array(R);++k<R;)B[k]=D(k);return B}function Fe(R,D){return R==null?void 0:R[D]}function fe(R){var D=!1;if(R!=null&&typeof R.toString!="function")try{D=!!(R+"")}catch{}return D}function Ue(R){var D=-1,k=Array(R.size);return R.forEach(function(B,Q){k[++D]=[Q,B]}),k}function _e(R,D){return function(k){return R(D(k))}}function Et(R){var D=-1,k=Array(R.size);return R.forEach(function(B){k[++D]=B}),k}var dt=Array.prototype,Ut=Function.prototype,ft=Object.prototype,xe=he["__core-js_shared__"],tt=function(){var R=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),ct=Ut.toString,pn=ft.hasOwnProperty,Vn=ft.toString,Ce=RegExp("^"+ct.call(pn).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=qe?he.Buffer:void 0,Zn=he.Symbol,ee=he.Uint8Array,te=_e(Object.getPrototypeOf,Object),ge=Object.create,Pe=ft.propertyIsEnumerable,Ae=dt.splice,Qe=Object.getOwnPropertySymbols,et=jt?jt.isBuffer:void 0,Re=_e(Object.keys,Object),Vt=jo(he,"DataView"),je=jo(he,"Map"),Me=jo(he,"Promise"),Je=jo(he,"Set"),mt=jo(he,"WeakMap"),lt=jo(Object,"create"),Dn=no(Vt),Wn=no(je),Rs=no(Me),to=no(Je),Os=no(mt),Kn=Zn?Zn.prototype:void 0,na=Kn?Kn.valueOf:void 0;function Nn(R){var D=-1,k=R?R.length:0;for(this.clear();++D<k;){var B=R[D];this.set(B[0],B[1])}}function Xr(){this.__data__=lt?lt(null):{}}function ar(R){return this.has(R)&&delete this.__data__[R]}function Cl(R){var D=this.__data__;if(lt){var k=D[R];return k===o?void 0:k}return pn.call(D,R)?D[R]:void 0}function Qr(R){var D=this.__data__;return lt?D[R]!==void 0:pn.call(D,R)}function Zr(R,D){var k=this.__data__;return k[R]=lt&&D===void 0?o:D,this}Nn.prototype.clear=Xr,Nn.prototype.delete=ar,Nn.prototype.get=Cl,Nn.prototype.has=Qr,Nn.prototype.set=Zr;function On(R){var D=-1,k=R?R.length:0;for(this.clear();++D<k;){var B=R[D];this.set(B[0],B[1])}}function sr(){this.__data__=[]}function os(R){var D=this.__data__,k=lr(D,R);if(k<0)return!1;var B=D.length-1;return k==B?D.pop():Ae.call(D,k,1),!0}function Ri(R){var D=this.__data__,k=lr(D,R);return k<0?void 0:D[k][1]}function Oi(R){return lr(this.__data__,R)>-1}function fa(R,D){var k=this.__data__,B=lr(k,R);return B<0?k.push([R,D]):k[B][1]=D,this}On.prototype.clear=sr,On.prototype.delete=os,On.prototype.get=Ri,On.prototype.has=Oi,On.prototype.set=fa;function Cn(R){var D=-1,k=R?R.length:0;for(this.clear();++D<k;){var B=R[D];this.set(B[0],B[1])}}function Jr(){this.__data__={hash:new Nn,map:new(je||On),string:new Nn}}function Sl(R){return pr(this,R).delete(R)}function Pl(R){return pr(this,R).get(R)}function ki(R){return pr(this,R).has(R)}function Bo(R,D){return pr(this,R).set(R,D),this}Cn.prototype.clear=Jr,Cn.prototype.delete=Sl,Cn.prototype.get=Pl,Cn.prototype.has=ki,Cn.prototype.set=Bo;function Ro(R){this.__data__=new On(R)}function Ai(){this.__data__=new On}function Ii(R){return this.__data__.delete(R)}function rr(R){return this.__data__.get(R)}function ir(R){return this.__data__.has(R)}function ma(R,D){var k=this.__data__;if(k instanceof On){var B=k.__data__;if(!je||B.length<n-1)return B.push([R,D]),this;k=this.__data__=new Cn(B)}return k.set(R,D),this}Ro.prototype.clear=Ai,Ro.prototype.delete=Ii,Ro.prototype.get=rr,Ro.prototype.has=ir,Ro.prototype.set=ma;function as(R,D){var k=As(R)||oi(R)?Ge(R.length,String):[],B=k.length,Q=!!B;for(var be in R)(D||pn.call(R,be))&&!(Q&&(be=="length"||Ac(be,B)))&&k.push(be);return k}function Mi(R,D,k){var B=R[D];(!(pn.call(R,D)&&fr(B,k))||k===void 0&&!(D in R))&&(R[D]=k)}function lr(R,D){for(var k=R.length;k--;)if(fr(R[k][0],D))return k;return-1}function Lo(R,D){return R&&Hi(D,rs(D),R)}function Fi(R,D,k,B,Q,be,Ye){var nt;if(B&&(nt=be?B(R,Q,be,Ye):B(R)),nt!==void 0)return nt;if(!wa(R))return R;var wt=As(R);if(wt){if(nt=kc(R),!D)return dr(R,nt)}else{var Ze=ga(R),Rt=Ze==u||Ze==d;if(va(R))return ei(R,D);if(Ze==g||Ze==s||Rt&&!be){if(fe(R))return be?R:{};if(nt=Da(Rt?{}:R),!D)return ss(R,Lo(nt,R))}else{if(!we[Ze])return be?R:{};nt=Bi(R,Ze,Fi,D)}}Ye||(Ye=new Ro);var vn=Ye.get(R);if(vn)return vn;if(Ye.set(R,nt),!wt)var Nt=k?Rl(R):rs(R);return me(Nt||R,function(rn,Yn){Nt&&(Yn=rn,rn=R[Yn]),Mi(nt,Yn,Fi(rn,D,k,B,Yn,R,Ye))}),nt}function cr(R){return wa(R)?ge(R):{}}function qr(R,D,k){var B=D(R);return As(R)?B:He(B,k(R))}function Oc(R){return Vn.call(R)}function Uo(R){if(!wa(R)||Mc(R))return!1;var D=ya(R)||fe(R)?Ce:q;return D.test(no(R))}function El(R){if(!hr(R))return Re(R);var D=[];for(var k in Object(R))pn.call(R,k)&&k!="constructor"&&D.push(k);return D}function ei(R,D){if(D)return R.slice();var k=new R.constructor(R.length);return R.copy(k),k}function Di(R){var D=new R.constructor(R.byteLength);return new ee(D).set(new ee(R)),D}function ur(R,D){var k=D?Di(R.buffer):R.buffer;return new R.constructor(k,R.byteOffset,R.byteLength)}function Tl(R,D,k){var B=D?k(Ue(R),!0):Ue(R);return Ie(B,Ke,new R.constructor)}function Ni(R){var D=new R.constructor(R.source,U.exec(R));return D.lastIndex=R.lastIndex,D}function Fa(R,D,k){var B=D?k(Et(R),!0):Et(R);return Ie(B,Z,new R.constructor)}function ti(R){return na?Object(na.call(R)):{}}function ni(R,D){var k=D?Di(R.buffer):R.buffer;return new R.constructor(k,R.byteOffset,R.length)}function dr(R,D){var k=-1,B=R.length;for(D||(D=Array(B));++k<B;)D[k]=R[k];return D}function Hi(R,D,k,B){k||(k={});for(var Q=-1,be=D.length;++Q<be;){var Ye=D[Q],nt=B?B(k[Ye],R[Ye],Ye,k,R):void 0;Mi(k,Ye,nt===void 0?R[Ye]:nt)}return k}function ss(R,D){return Hi(R,oa(R),D)}function Rl(R){return qr(R,rs,oa)}function pr(R,D){var k=R.__data__;return Ic(D)?k[typeof D=="string"?"string":"hash"]:k.map}function jo(R,D){var k=Fe(R,D);return Uo(k)?k:void 0}var oa=Qe?_e(Qe,Object):Al,ga=Oc;(Vt&&ga(new Vt(new ArrayBuffer(1)))!=x||je&&ga(new je)!=p||Me&&ga(Me.resolve())!=v||Je&&ga(new Je)!=w||mt&&ga(new mt)!=V)&&(ga=function(R){var D=Vn.call(R),k=D==g?R.constructor:void 0,B=k?no(k):void 0;if(B)switch(B){case Dn:return x;case Wn:return p;case Rs:return v;case to:return w;case Os:return V}return D});function kc(R){var D=R.length,k=R.constructor(D);return D&&typeof R[0]=="string"&&pn.call(R,"index")&&(k.index=R.index,k.input=R.input),k}function Da(R){return typeof R.constructor=="function"&&!hr(R)?cr(te(R)):{}}function Bi(R,D,k,B){var Q=R.constructor;switch(D){case _:return Di(R);case i:case l:return new Q(+R);case x:return ur(R,B);case S:case P:case E:case O:case I:case F:case L:case H:case W:return ni(R,B);case p:return Tl(R,B,k);case f:case b:return new Q(R);case y:return Ni(R);case w:return Fa(R,B,k);case C:return ti(R)}}function Ac(R,D){return D=D??a,!!D&&(typeof R=="number"||ye.test(R))&&R>-1&&R%1==0&&R<D}function Ic(R){var D=typeof R;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?R!=="__proto__":R===null}function Mc(R){return!!tt&&tt in R}function hr(R){var D=R&&R.constructor,k=typeof D=="function"&&D.prototype||ft;return R===k}function no(R){if(R!=null){try{return ct.call(R)}catch{}try{return R+""}catch{}}return""}function ks(R){return Fi(R,!0,!0)}function fr(R,D){return R===D||R!==R&&D!==D}function oi(R){return Li(R)&&pn.call(R,"callee")&&(!Pe.call(R,"callee")||Vn.call(R)==s)}var As=Array.isArray;function Is(R){return R!=null&&Ol(R.length)&&!ya(R)}function Li(R){return kl(R)&&Is(R)}var va=et||is;function ya(R){var D=wa(R)?Vn.call(R):"";return D==u||D==d}function Ol(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=a}function wa(R){var D=typeof R;return!!R&&(D=="object"||D=="function")}function kl(R){return!!R&&typeof R=="object"}function rs(R){return Is(R)?as(R):El(R)}function Al(){return[]}function is(){return!1}t.exports=ks})(aQ,Gb);const ot=Gb;var Wb={},sQ={get exports(){return Wb},set exports(t){Wb=t}};(function(t,e){var n=200,o="__lodash_hash_undefined__",a=800,s=16,r=9007199254740991,i="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",w="[object Null]",b="[object Object]",C="[object Proxy]",V="[object RegExp]",_="[object Set]",x="[object String]",S="[object Undefined]",P="[object WeakMap]",E="[object ArrayBuffer]",O="[object DataView]",I="[object Float32Array]",F="[object Float64Array]",L="[object Int8Array]",H="[object Int16Array]",W="[object Int32Array]",Y="[object Uint8Array]",U="[object Uint8ClampedArray]",q="[object Uint16Array]",ye="[object Uint32Array]",we=/[\\^$.*+?()[\]{}|]/g,oe=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,he={};he[I]=he[F]=he[L]=he[H]=he[W]=he[Y]=he[U]=he[q]=he[ye]=!0,he[i]=he[l]=he[E]=he[u]=he[O]=he[d]=he[p]=he[f]=he[v]=he[y]=he[b]=he[V]=he[_]=he[x]=he[P]=!1;var Ne=typeof En=="object"&&En&&En.Object===Object&&En,Se=typeof self=="object"&&self&&self.Object===Object&&self,qe=Ne||Se||Function("return this")(),Ke=e&&!e.nodeType&&e,Z=Ke&&!0&&t&&!t.nodeType&&t,me=Z&&Z.exports===Ke,He=me&&Ne.process,Ie=function(){try{var k=Z&&Z.require&&Z.require("util").types;return k||He&&He.binding&&He.binding("util")}catch{}}(),Ge=Ie&&Ie.isTypedArray;function Fe(k,B,Q){switch(Q.length){case 0:return k.call(B);case 1:return k.call(B,Q[0]);case 2:return k.call(B,Q[0],Q[1]);case 3:return k.call(B,Q[0],Q[1],Q[2])}return k.apply(B,Q)}function fe(k,B){for(var Q=-1,be=Array(k);++Q<k;)be[Q]=B(Q);return be}function Ue(k){return function(B){return k(B)}}function _e(k,B){return k==null?void 0:k[B]}function Et(k,B){return function(Q){return k(B(Q))}}var dt=Array.prototype,Ut=Function.prototype,ft=Object.prototype,xe=qe["__core-js_shared__"],tt=Ut.toString,ct=ft.hasOwnProperty,pn=function(){var k=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),Vn=ft.toString,Ce=tt.call(Object),jt=RegExp("^"+tt.call(ct).replace(we,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zn=me?qe.Buffer:void 0,ee=qe.Symbol,te=qe.Uint8Array,ge=Zn?Zn.allocUnsafe:void 0,Pe=Et(Object.getPrototypeOf,Object),Ae=Object.create,Qe=ft.propertyIsEnumerable,et=dt.splice,Re=ee?ee.toStringTag:void 0,Vt=function(){try{var k=ni(Object,"defineProperty");return k({},"",{}),k}catch{}}(),je=Zn?Zn.isBuffer:void 0,Me=Math.max,Je=Date.now,mt=ni(qe,"Map"),lt=ni(Object,"create"),Dn=function(){function k(){}return function(B){if(!va(B))return{};if(Ae)return Ae(B);k.prototype=B;var Q=new k;return k.prototype=void 0,Q}}();function Wn(k){var B=-1,Q=k==null?0:k.length;for(this.clear();++B<Q;){var be=k[B];this.set(be[0],be[1])}}function Rs(){this.__data__=lt?lt(null):{},this.size=0}function to(k){var B=this.has(k)&&delete this.__data__[k];return this.size-=B?1:0,B}function Os(k){var B=this.__data__;if(lt){var Q=B[k];return Q===o?void 0:Q}return ct.call(B,k)?B[k]:void 0}function Kn(k){var B=this.__data__;return lt?B[k]!==void 0:ct.call(B,k)}function na(k,B){var Q=this.__data__;return this.size+=this.has(k)?0:1,Q[k]=lt&&B===void 0?o:B,this}Wn.prototype.clear=Rs,Wn.prototype.delete=to,Wn.prototype.get=Os,Wn.prototype.has=Kn,Wn.prototype.set=na;function Nn(k){var B=-1,Q=k==null?0:k.length;for(this.clear();++B<Q;){var be=k[B];this.set(be[0],be[1])}}function Xr(){this.__data__=[],this.size=0}function ar(k){var B=this.__data__,Q=rr(B,k);if(Q<0)return!1;var be=B.length-1;return Q==be?B.pop():et.call(B,Q,1),--this.size,!0}function Cl(k){var B=this.__data__,Q=rr(B,k);return Q<0?void 0:B[Q][1]}function Qr(k){return rr(this.__data__,k)>-1}function Zr(k,B){var Q=this.__data__,be=rr(Q,k);return be<0?(++this.size,Q.push([k,B])):Q[be][1]=B,this}Nn.prototype.clear=Xr,Nn.prototype.delete=ar,Nn.prototype.get=Cl,Nn.prototype.has=Qr,Nn.prototype.set=Zr;function On(k){var B=-1,Q=k==null?0:k.length;for(this.clear();++B<Q;){var be=k[B];this.set(be[0],be[1])}}function sr(){this.size=0,this.__data__={hash:new Wn,map:new(mt||Nn),string:new Wn}}function os(k){var B=ti(this,k).delete(k);return this.size-=B?1:0,B}function Ri(k){return ti(this,k).get(k)}function Oi(k){return ti(this,k).has(k)}function fa(k,B){var Q=ti(this,k),be=Q.size;return Q.set(k,B),this.size+=Q.size==be?0:1,this}On.prototype.clear=sr,On.prototype.delete=os,On.prototype.get=Ri,On.prototype.has=Oi,On.prototype.set=fa;function Cn(k){var B=this.__data__=new Nn(k);this.size=B.size}function Jr(){this.__data__=new Nn,this.size=0}function Sl(k){var B=this.__data__,Q=B.delete(k);return this.size=B.size,Q}function Pl(k){return this.__data__.get(k)}function ki(k){return this.__data__.has(k)}function Bo(k,B){var Q=this.__data__;if(Q instanceof Nn){var be=Q.__data__;if(!mt||be.length<n-1)return be.push([k,B]),this.size=++Q.size,this;Q=this.__data__=new On(be)}return Q.set(k,B),this.size=Q.size,this}Cn.prototype.clear=Jr,Cn.prototype.delete=Sl,Cn.prototype.get=Pl,Cn.prototype.has=ki,Cn.prototype.set=Bo;function Ro(k,B){var Q=ks(k),be=!Q&&no(k),Ye=!Q&&!be&&As(k),nt=!Q&&!be&&!Ye&&wa(k),wt=Q||be||Ye||nt,Ze=wt?fe(k.length,String):[],Rt=Ze.length;for(var vn in k)(B||ct.call(k,vn))&&!(wt&&(vn=="length"||Ye&&(vn=="offset"||vn=="parent")||nt&&(vn=="buffer"||vn=="byteLength"||vn=="byteOffset")||ss(vn,Rt)))&&Ze.push(vn);return Ze}function Ai(k,B,Q){(Q!==void 0&&!hr(k[B],Q)||Q===void 0&&!(B in k))&&ir(k,B,Q)}function Ii(k,B,Q){var be=k[B];(!(ct.call(k,B)&&hr(be,Q))||Q===void 0&&!(B in k))&&ir(k,B,Q)}function rr(k,B){for(var Q=k.length;Q--;)if(hr(k[Q][0],B))return Q;return-1}function ir(k,B,Q){B=="__proto__"&&Vt?Vt(k,B,{configurable:!0,enumerable:!0,value:Q,writable:!0}):k[B]=Q}var ma=Fa();function as(k){return k==null?k===void 0?S:w:Re&&Re in Object(k)?dr(k):kc(k)}function Mi(k){return ya(k)&&as(k)==i}function lr(k){if(!va(k)||jo(k))return!1;var B=Is(k)?jt:oe;return B.test(Mc(k))}function Lo(k){return ya(k)&&Li(k.length)&&!!he[as(k)]}function Fi(k){if(!va(k))return ga(k);var B=oa(k),Q=[];for(var be in k)be=="constructor"&&(B||!ct.call(k,be))||Q.push(be);return Q}function cr(k,B,Q,be,Ye){k!==B&&ma(B,function(nt,wt){if(Ye||(Ye=new Cn),va(nt))qr(k,B,wt,Q,cr,be,Ye);else{var Ze=be?be(Bi(k,wt),nt,wt+"",k,B,Ye):void 0;Ze===void 0&&(Ze=nt),Ai(k,wt,Ze)}},rs)}function qr(k,B,Q,be,Ye,nt,wt){var Ze=Bi(k,Q),Rt=Bi(B,Q),vn=wt.get(Rt);if(vn){Ai(k,Q,vn);return}var Nt=nt?nt(Ze,Rt,Q+"",k,B,wt):void 0,rn=Nt===void 0;if(rn){var Yn=ks(Rt),zo=!Yn&&As(Rt),Go=!Yn&&!zo&&wa(Rt);Nt=Rt,Yn||zo||Go?ks(Ze)?Nt=Ze:oi(Ze)?Nt=ur(Ze):zo?(rn=!1,Nt=El(Rt,!0)):Go?(rn=!1,Nt=Di(Rt,!0)):Nt=[]:Ol(Rt)||no(Rt)?(Nt=Ze,no(Ze)?Nt=kl(Ze):(!va(Ze)||Is(Ze))&&(Nt=Hi(Rt))):rn=!1}rn&&(wt.set(Rt,Nt),Ye(Nt,Rt,be,nt,wt),wt.delete(Rt)),Ai(k,Q,Nt)}function Oc(k,B){return Ac(Da(k,B,R),k+"")}var Uo=Vt?function(k,B){return Vt(k,"toString",{configurable:!0,enumerable:!1,value:is(B),writable:!0})}:R;function El(k,B){if(B)return k.slice();var Q=k.length,be=ge?ge(Q):new k.constructor(Q);return k.copy(be),be}function ei(k){var B=new k.constructor(k.byteLength);return new te(B).set(new te(k)),B}function Di(k,B){var Q=B?ei(k.buffer):k.buffer;return new k.constructor(Q,k.byteOffset,k.length)}function ur(k,B){var Q=-1,be=k.length;for(B||(B=Array(be));++Q<be;)B[Q]=k[Q];return B}function Tl(k,B,Q,be){var Ye=!Q;Q||(Q={});for(var nt=-1,wt=B.length;++nt<wt;){var Ze=B[nt],Rt=be?be(Q[Ze],k[Ze],Ze,Q,k):void 0;Rt===void 0&&(Rt=k[Ze]),Ye?ir(Q,Ze,Rt):Ii(Q,Ze,Rt)}return Q}function Ni(k){return Oc(function(B,Q){var be=-1,Ye=Q.length,nt=Ye>1?Q[Ye-1]:void 0,wt=Ye>2?Q[2]:void 0;for(nt=k.length>3&&typeof nt=="function"?(Ye--,nt):void 0,wt&&Rl(Q[0],Q[1],wt)&&(nt=Ye<3?void 0:nt,Ye=1),B=Object(B);++be<Ye;){var Ze=Q[be];Ze&&k(B,Ze,be,nt)}return B})}function Fa(k){return function(B,Q,be){for(var Ye=-1,nt=Object(B),wt=be(B),Ze=wt.length;Ze--;){var Rt=wt[k?Ze:++Ye];if(Q(nt[Rt],Rt,nt)===!1)break}return B}}function ti(k,B){var Q=k.__data__;return pr(B)?Q[typeof B=="string"?"string":"hash"]:Q.map}function ni(k,B){var Q=_e(k,B);return lr(Q)?Q:void 0}function dr(k){var B=ct.call(k,Re),Q=k[Re];try{k[Re]=void 0;var be=!0}catch{}var Ye=Vn.call(k);return be&&(B?k[Re]=Q:delete k[Re]),Ye}function Hi(k){return typeof k.constructor=="function"&&!oa(k)?Dn(Pe(k)):{}}function ss(k,B){var Q=typeof k;return B=B??r,!!B&&(Q=="number"||Q!="symbol"&&pe.test(k))&&k>-1&&k%1==0&&k<B}function Rl(k,B,Q){if(!va(Q))return!1;var be=typeof B;return(be=="number"?fr(Q)&&ss(B,Q.length):be=="string"&&B in Q)?hr(Q[B],k):!1}function pr(k){var B=typeof k;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?k!=="__proto__":k===null}function jo(k){return!!pn&&pn in k}function oa(k){var B=k&&k.constructor,Q=typeof B=="function"&&B.prototype||ft;return k===Q}function ga(k){var B=[];if(k!=null)for(var Q in Object(k))B.push(Q);return B}function kc(k){return Vn.call(k)}function Da(k,B,Q){return B=Me(B===void 0?k.length-1:B,0),function(){for(var be=arguments,Ye=-1,nt=Me(be.length-B,0),wt=Array(nt);++Ye<nt;)wt[Ye]=be[B+Ye];Ye=-1;for(var Ze=Array(B+1);++Ye<B;)Ze[Ye]=be[Ye];return Ze[B]=Q(wt),Fe(k,this,Ze)}}function Bi(k,B){if(!(B==="constructor"&&typeof k[B]=="function")&&B!="__proto__")return k[B]}var Ac=Ic(Uo);function Ic(k){var B=0,Q=0;return function(){var be=Je(),Ye=s-(be-Q);if(Q=be,Ye>0){if(++B>=a)return arguments[0]}else B=0;return k.apply(void 0,arguments)}}function Mc(k){if(k!=null){try{return tt.call(k)}catch{}try{return k+""}catch{}}return""}function hr(k,B){return k===B||k!==k&&B!==B}var no=Mi(function(){return arguments}())?Mi:function(k){return ya(k)&&ct.call(k,"callee")&&!Qe.call(k,"callee")},ks=Array.isArray;function fr(k){return k!=null&&Li(k.length)&&!Is(k)}function oi(k){return ya(k)&&fr(k)}var As=je||D;function Is(k){if(!va(k))return!1;var B=as(k);return B==f||B==g||B==c||B==C}function Li(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=r}function va(k){var B=typeof k;return k!=null&&(B=="object"||B=="function")}function ya(k){return k!=null&&typeof k=="object"}function Ol(k){if(!ya(k)||as(k)!=b)return!1;var B=Pe(k);if(B===null)return!0;var Q=ct.call(B,"constructor")&&B.constructor;return typeof Q=="function"&&Q instanceof Q&&tt.call(Q)==Ce}var wa=Ge?Ue(Ge):Lo;function kl(k){return Tl(k,rs(k))}function rs(k){return fr(k)?Ro(k,!0):Fi(k)}var Al=Ni(function(k,B,Q){cr(k,B,Q)});function is(k){return function(){return k}}function R(k){return k}function D(){return!1}t.exports=Al})(sQ,Wb);const rQ=Wb,ey=window.Vue.ref,iQ=window.HaloComponents.Toast,C5={apiVersion:"v1alpha1",kind:"ConfigMap",metadata:{name:""},data:{}};function Nu(t,e){const n=ey(),o=ey(ot(C5)),a=ey(),s=ey(!1),r=async()=>{if(!t.value){n.value=void 0;return}try{const{data:u}=await X.extension.setting.getv1alpha1Setting({name:t.value});if(n.value=u,!a.value){const{forms:d}=n.value.spec,p={};d.forEach(f=>{p[f.group]={},f.formSchema.forEach(v=>{"name"in v&&"$formkit"in v&&(p[f.group][v.name]=v.value||void 0)})}),a.value=ot(p)}}catch(u){console.error("Failed to fetch setting",u)}},i=async()=>{var u;if(!e.value){o.value=ot(C5),a.value=void 0;return}try{const d=await X.extension.configMap.getv1alpha1ConfigMap({name:e.value},{mute:!0});o.value=d.data;const{data:p}=o.value;if(p){const{forms:f}=((u=n.value)==null?void 0:u.spec)||{};f==null||f.forEach(g=>{a.value&&(a.value[g.group]=rQ(a.value[g.group]||{},JSON.parse(p[g.group]||"{}")))})}}catch(d){console.error("Failed to fetch configMap",d)}};return{setting:n,configMap:o,configMapFormData:a,saving:s,handleFetchSettings:r,handleFetchConfigMap:i,handleSaveConfigMap:async()=>{var u;try{if(s.value=!0,!o.value.metadata.name&&e.value&&(o.value.metadata.name=e.value),(u=n.value)==null||u.spec.forms.forEach(d=>{var p;o.value.data[d.group]=JSON.stringify((p=a==null?void 0:a.value)==null?void 0:p[d.group])}),o.value.metadata.creationTimestamp){const{data:d}=await X.extension.configMap.updatev1alpha1ConfigMap({configMap:o.value,name:o.value.metadata.name});e.value=d.metadata.name}else{const{data:d}=await X.extension.configMap.createv1alpha1ConfigMap({configMap:o.value});e.value=d.metadata.name}iQ.success("保存成功")}catch(d){console.error("Failed to save configMap",d)}finally{await r(),await i(),s.value=!1}},handleReset:()=>{n.value=void 0,o.value=ot(C5),a.value=void 0}}}const Kb=Um({id:"system-states",state:()=>({states:{isSetup:!1}}),actions:{async fetchSystemStates(){try{const{data:t}=await X.extension.configMap.getv1alpha1ConfigMap({name:"system-states"},{mute:!0});if(t.data){this.states=JSON.parse(t.data.states);return}this.states.isSetup=!1}catch{this.states.isSetup=!1}}}}),lQ={displayName:"默认分类",slug:"default",description:"这是你的默认分类，如不需要，删除即可。",cover:"",template:"",priority:0,children:[]},cQ="content.halo.run/v1alpha1",uQ="Category",dQ={name:"76514a40-6ef1-4ed9-b58a-e26945bde3ca"},pQ={spec:lQ,apiVersion:cQ,kind:uQ,metadata:dQ},hQ={displayName:"Halo",slug:"halo",color:"#ffffff",cover:""},fQ="content.halo.run/v1alpha1",mQ="Tag",gQ={name:"c33ceabb-d8f1-4711-8991-bb8f5c92ad7c"},vQ={spec:hQ,apiVersion:fQ,kind:mQ,metadata:gQ},yQ={spec:{title:"Hello Halo",slug:"hello-halo",template:"",cover:"",deleted:!1,publish:!1,publishTime:"",pinned:!1,allowComment:!0,visible:"PUBLIC",version:1,priority:0,excerpt:{autoGenerate:!1,raw:"如果你看到了这一篇文章，那么证明你已经安装成功了，感谢使用 Halo 进行创作，希望能够使用愉快。"},categories:["76514a40-6ef1-4ed9-b58a-e26945bde3ca"],tags:["c33ceabb-d8f1-4711-8991-bb8f5c92ad7c"],htmlMetas:[]},apiVersion:"content.halo.run/v1alpha1",kind:"Post",metadata:{name:"5152aea5-c2e8-4717-8bba-2263d46e19d5"}},wQ={raw:'<h2 id="hello-halo"><strong>Hello Halo</strong></h2><p>如果你看到了这一篇文章，那么证明你已经安装成功了，感谢使用 <a target="_blank" rel="noopener noreferrer nofollow" href="https://halo.run/">Halo</a> 进行创作，希望能够使用愉快。</p><h2 id="%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><strong>相关链接</strong></h2><ul><li><p>官网：<a target="_blank" rel="noopener noreferrer nofollow" href="https://halo.run">https://halo.run</a></p></li><li><p>文档：<a target="_blank" rel="noopener noreferrer nofollow" href="https://docs.halo.run">https://docs.halo.run</a></p></li><li><p>社区：<a target="_blank" rel="noopener noreferrer nofollow" href="https://bbs.halo.run">https://bbs.halo.run</a></p></li><li><p>主题仓库：<a target="_blank" rel="noopener noreferrer nofollow" href="https://halo.run/themes.html">https://halo.run/themes.html</a></p></li><li><p>开源地址：<a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/halo-dev/halo">https://github.com/halo-dev/halo</a></p></li></ul><p>在使用过程中，有任何问题都可以通过以上链接找寻答案，或者联系我们。</p><blockquote><p>这是一篇自动生成的文章，请删除这篇文章之后开始你的创作吧！</p></blockquote>',content:'<h2 id="hello-halo"><strong>Hello Halo</strong></h2><p>如果你看到了这一篇文章，那么证明你已经安装成功了，感谢使用 <a target="_blank" rel="noopener noreferrer nofollow" href="https://halo.run/">Halo</a> 进行创作，希望能够使用愉快。</p><h2 id="%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><strong>相关链接</strong></h2><ul><li><p>官网：<a target="_blank" rel="noopener noreferrer nofollow" href="https://halo.run">https://halo.run</a></p></li><li><p>文档：<a target="_blank" rel="noopener noreferrer nofollow" href="https://docs.halo.run">https://docs.halo.run</a></p></li><li><p>社区：<a target="_blank" rel="noopener noreferrer nofollow" href="https://bbs.halo.run">https://bbs.halo.run</a></p></li><li><p>主题仓库：<a target="_blank" rel="noopener noreferrer nofollow" href="https://halo.run/themes.html">https://halo.run/themes.html</a></p></li><li><p>开源地址：<a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/halo-dev/halo">https://github.com/halo-dev/halo</a></p></li></ul><p>在使用过程中，有任何问题都可以通过以上链接找寻答案，或者联系我们。</p><blockquote><p>这是一篇自动生成的文章，请删除这篇文章之后开始你的创作吧！</p></blockquote>',rawType:"HTML"},bQ={post:yQ,content:wQ},$Q={spec:{title:"关于",slug:"about",template:"",cover:"",deleted:!1,publish:!1,publishTime:"",pinned:!1,allowComment:!0,visible:"PUBLIC",version:1,priority:0,excerpt:{autoGenerate:!1,raw:"这是一个自定义页面，你可以在后台的 页面 -> 自定义页面 找到它，你可以用于新建关于页面、联系我们页面等等。"},htmlMetas:[]},apiVersion:"content.halo.run/v1alpha1",kind:"SinglePage",metadata:{name:"373a5f79-f44f-441a-9df1-85a4f553ece8"}},xQ={raw:"<h2><strong>关于页面</strong></h2><p>这是一个自定义页面，你可以在后台的 <code>页面</code> -&gt; <code>自定义页面</code> 找到它，你可以用于新建关于页面、联系我们页面等等。</p><blockquote><p>这是一篇自动生成的页面，你可以在后台删除它。</p></blockquote>",content:"<h2><strong>关于页面</strong></h2><p>这是一个自定义页面，你可以在后台的 <code>页面</code> -&gt; <code>自定义页面</code> 找到它，你可以用于新建关于页面、联系我们页面等等。</p><blockquote><p>这是一篇自动生成的页面，你可以在后台删除它。</p></blockquote>",rawType:"HTML"},_Q={page:$Q,content:xQ},VQ={displayName:"主菜单",menuItems:["88c3f10b-321c-4092-86a8-70db00251b74","c4c814d1-0c2c-456b-8c96-4864965fee94","35869bd3-33b5-448b-91ee-cf6517a59644","b0d041fa-dc99-48f6-a193-8604003379cf"]},CQ="v1alpha1",SQ="Menu",PQ={name:"primary"},EQ={spec:VQ,apiVersion:CQ,kind:SQ,metadata:PQ},TQ=[{spec:{displayName:"首页",href:"/",children:[],priority:0},apiVersion:"v1alpha1",kind:"MenuItem",metadata:{name:"88c3f10b-321c-4092-86a8-70db00251b74"}},{spec:{children:[],priority:1,targetRef:{group:"content.halo.run",version:"v1alpha1",kind:"Post",name:"5152aea5-c2e8-4717-8bba-2263d46e19d5"}},apiVersion:"v1alpha1",kind:"MenuItem",metadata:{name:"c4c814d1-0c2c-456b-8c96-4864965fee94"}},{spec:{displayName:"",href:"",children:[],priority:2,targetRef:{group:"content.halo.run",version:"v1alpha1",kind:"Tag",name:"c33ceabb-d8f1-4711-8991-bb8f5c92ad7c"}},apiVersion:"v1alpha1",kind:"MenuItem",metadata:{name:"35869bd3-33b5-448b-91ee-cf6517a59644"}},{spec:{displayName:"",href:"",children:[],priority:3,targetRef:{group:"content.halo.run",version:"v1alpha1",kind:"SinglePage",name:"373a5f79-f44f-441a-9df1-85a4f553ece8"}},apiVersion:"v1alpha1",kind:"MenuItem",metadata:{name:"b0d041fa-dc99-48f6-a193-8604003379cf"}}],RQ=window.Vue.ref,Th=Um("theme",()=>{const t=RQ();async function e(){var n;try{const{data:o}=await X.extension.configMap.getv1alpha1ConfigMap({name:"system"},{mute:!0});if(!((n=o.data)!=null&&n.theme))return;const a=JSON.parse(o.data.theme),{data:s}=await X.extension.theme.getthemeHaloRunV1alpha1Theme({name:a.active},{mute:!0});t.value=s}catch(o){console.error("Failed to fetch active theme",o)}}return{activatedTheme:t,fetchActivatedTheme:e}}),OQ=window.Vue.defineComponent,S6=window.Vue.unref,ty=window.Vue.createVNode,kQ=window.Vue.resolveComponent,AQ=window.Vue.withKeys,P6=window.Vue.withCtx,IQ=window.Vue.createTextVNode,MQ=window.Vue.createElementVNode,FQ=window.Vue.openBlock,DQ=window.Vue.createElementBlock,NQ={class:"flex h-screen flex-col items-center justify-center"},HQ={class:"flex w-72 flex-col gap-4"},BQ=window.HaloComponents.Toast,LQ=window.HaloComponents.VButton,UQ=window.Vue.onMounted,ny=window.Vue.ref,jQ=window.VueRouter.useRouter,zQ=OQ({__name:"Setup",setup(t){const e=jQ(),{configMapFormData:n,handleSaveConfigMap:o,handleFetchSettings:a,handleFetchConfigMap:s}=Nu(ny("system"),ny("system")),r=ny(""),i=ny(!1),l=async()=>{try{i.value=!0,n.value&&(n.value.basic.title=r.value,await o()),await X.extension.category.createcontentHaloRunV1alpha1Category({category:pQ}),await X.extension.tag.createcontentHaloRunV1alpha1Tag({tag:vQ});const{data:c}=await X.post.draftPost({postRequest:bQ});try{await X.post.publishPost({name:c.metadata.name})}catch(g){console.error("Publish post failed",g)}const{data:u}=await X.singlePage.draftSinglePage({singlePageRequest:_Q});try{await X.singlePage.publishSinglePage({name:u.metadata.name})}catch(g){console.error("Publish single page failed",g)}const d=TQ.map(g=>X.extension.menuItem.createv1alpha1MenuItem({menuItem:g}));await Promise.all(d),await X.extension.menu.createv1alpha1Menu({menu:EQ}),await X.extension.configMap.createv1alpha1ConfigMap({configMap:{metadata:{name:"system-states"},kind:"ConfigMap",apiVersion:"v1alpha1",data:{states:JSON.stringify({isSetup:!0})}}}),await Kb().fetchSystemStates(),await Th().fetchActivatedTheme(),e.push({name:"Dashboard"}),BQ.success("初始化成功")}catch(c){console.error("Failed to setup",c)}finally{i.value=!1}};return UQ(async()=>{if(Kb().states.isSetup){e.push({name:"Dashboard"});return}a(),s()}),(c,u)=>{const d=kQ("FormKit");return FQ(),DQ("div",NQ,[ty(S6(H4),{class:"mb-8"}),MQ("div",HQ,[ty(d,{id:"setup-form",name:"setup-form",actions:!1,type:"form",onSubmit:l,onKeyup:u[1]||(u[1]=AQ(p=>c.$formkit.submit("setup-form"),["enter"]))},{default:P6(()=>[ty(d,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=p=>r.value=p),"validation-messages":{required:"请输入站点名称"},type:"text",placeholder:"站点名称",validation:"required|length:0,100"},null,8,["modelValue"])]),_:1}),ty(S6(LQ),{block:"",type:"secondary",loading:i.value,onClick:u[2]||(u[2]=p=>c.$formkit.submit("setup-form"))},{default:P6(()=>[IQ(" 初始化 ")]),_:1},8,["loading"])])])}}}),GQ=[{path:"/:pathMatch(.*)*",component:Es,children:[{path:"",name:"NotFound",component:Mj}]},{path:"/403",component:Es,children:[{path:"",name:"Forbidden",component:Hj}]},{path:"/setup",name:"Setup",component:zQ,meta:{title:"系统初始化"}}],E6=[{id:"dashboard",name:void 0,priority:0},{id:"content",name:"内容",priority:1},{id:"interface",name:"外观",priority:2},{id:"system",name:"系统",priority:3},{id:"tool",name:"工具",priority:4}];function WQ(t){t.beforeEach((e,n,o)=>{const a=X2(),{uiPermissions:s}=a.permissions,{meta:r}=e;r&&r.permissions&&(Q2(Array.from(s),r.permissions,!0)||o({name:"Forbidden"})),o()})}function KQ(t){t.beforeEach(async(e,n,o)=>{if(e.name==="Setup"||e.name==="Login"){o();return}if(!Kb().states.isSetup){o({name:"Setup"});return}o()})}function YQ(t){t.beforeEach((e,n,o)=>{if(e.name==="Setup"||e.name==="Login"){o();return}const a=xl();if(localStorage.getItem("logged_in")!=="true"||a.isAnonymous){o({name:"Login"});return}o()})}const XQ=window.VueRouter.createRouter,QQ=window.VueRouter.createWebHashHistory,Hd=XQ({history:QQ("/console/"),routes:GQ,scrollBehavior:()=>({left:0,top:0})});YQ(Hd);WQ(Hd);KQ(Hd);function Hu(t){return t.split("-")[0]}function _m(t){return t.split("-")[1]}function x0(t){return["top","bottom"].includes(Hu(t))?"x":"y"}function nS(t){return t==="y"?"height":"width"}function T6(t){let{reference:e,floating:n,placement:o}=t;const a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2;let r;switch(Hu(o)){case"top":r={x:a,y:e.y-n.height};break;case"bottom":r={x:a,y:e.y+e.height};break;case"right":r={x:e.x+e.width,y:s};break;case"left":r={x:e.x-n.width,y:s};break;default:r={x:e.x,y:e.y}}const i=x0(o),l=nS(i);switch(_m(o)){case"start":r[i]=r[i]-(e[l]/2-n[l]/2);break;case"end":r[i]=r[i]+(e[l]/2-n[l]/2);break}return r}const ZQ=async(t,e,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:s=[],platform:r}=n;let i=await r.getElementRects({reference:t,floating:e,strategy:a}),{x:l,y:c}=T6({...i,placement:o}),u=o,d={};for(let p=0;p<s.length;p++){const{name:f,fn:g}=s[p],{x:v,y,data:w,reset:b}=await g({x:l,y:c,initialPlacement:o,placement:u,strategy:a,middlewareData:d,rects:i,platform:r,elements:{reference:t,floating:e}});if(l=v??l,c=y??c,d={...d,[f]:w??{}},b){typeof b=="object"&&(b.placement&&(u=b.placement),b.rects&&(i=b.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:a}):b.rects),{x:l,y:c}=T6({...i,placement:u})),p=-1;continue}}return{x:l,y:c,placement:u,strategy:a,middlewareData:d}};function JQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function lI(t){return typeof t!="number"?JQ(t):{top:t,right:t,bottom:t,left:t}}function CC(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function J2(t,e){e===void 0&&(e={});const{x:n,y:o,platform:a,rects:s,elements:r,strategy:i}=t,{boundary:l="clippingParents",rootBoundary:c="viewport",elementContext:u="floating",altBoundary:d=!1,padding:p=0}=e,f=lI(p),v=r[d?u==="floating"?"reference":"floating":u],y=await a.getClippingClientRect({element:await a.isElement(v)?v:v.contextElement||await a.getDocumentElement({element:r.floating}),boundary:l,rootBoundary:c}),w=CC(await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u==="floating"?{...s.floating,x:n,y:o}:s.reference,offsetParent:await a.getOffsetParent({element:r.floating}),strategy:i}));return{top:y.top-w.top+f.top,bottom:w.bottom-y.bottom+f.bottom,left:y.left-w.left+f.left,right:w.right-y.right+f.right}}const qQ=Math.min,eh=Math.max;function SC(t,e,n){return eh(t,qQ(e,n))}const eZ=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:o=0}=t??{},{x:a,y:s,placement:r,rects:i,platform:l}=e;if(n==null)return{};const c=lI(o),u={x:a,y:s},d=Hu(r),p=x0(d),f=nS(p),g=await l.getDimensions({element:n}),v=p==="y"?"top":"left",y=p==="y"?"bottom":"right",w=i.reference[f]+i.reference[p]-u[p]-i.floating[f],b=u[p]-i.reference[p],C=await l.getOffsetParent({element:n}),V=C?p==="y"?C.clientHeight||0:C.clientWidth||0:0,_=w/2-b/2,x=c[v],S=V-g[f]-c[y],P=V/2-g[f]/2+_,E=SC(x,P,S);return{data:{[p]:E,centerOffset:P-E}}}}),tZ={left:"right",right:"left",bottom:"top",top:"bottom"};function Yb(t){return t.replace(/left|right|bottom|top/g,e=>tZ[e])}function cI(t,e){const n=_m(t)==="start",o=x0(t),a=nS(o);let s=o==="x"?n?"right":"left":n?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Yb(s)),{main:s,cross:Yb(s)}}const nZ={start:"end",end:"start"};function PC(t){return t.replace(/start|end/g,e=>nZ[e])}const oZ=["top","right","bottom","left"],aZ=oZ.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function sZ(t,e,n){return(t?[...n.filter(a=>_m(a)===t),...n.filter(a=>_m(a)!==t)]:n.filter(a=>Hu(a)===a)).filter(a=>t?_m(a)===t||(e?PC(a)!==a:!1):!0)}const rZ=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,a,s,r,i;const{x:l,y:c,rects:u,middlewareData:d,placement:p}=e,{alignment:f=null,allowedPlacements:g=aZ,autoAlignment:v=!0,...y}=t;if((n=d.autoPlacement)!=null&&n.skip)return{};const w=sZ(f,v,g),b=await J2(e,y),C=(o=(a=d.autoPlacement)==null?void 0:a.index)!=null?o:0,V=w[C],{main:_,cross:x}=cI(V,u);if(p!==V)return{x:l,y:c,reset:{placement:w[0]}};const S=[b[Hu(V)],b[_],b[x]],P=[...(s=(r=d.autoPlacement)==null?void 0:r.overflows)!=null?s:[],{placement:V,overflows:S}],E=w[C+1];if(E)return{data:{index:C+1,overflows:P},reset:{placement:E}};const O=P.slice().sort((F,L)=>F.overflows[0]-L.overflows[0]),I=(i=O.find(F=>{let{overflows:L}=F;return L.every(H=>H<=0)}))==null?void 0:i.placement;return{data:{skip:!0},reset:{placement:I??O[0].placement}}}}};function iZ(t){const e=Yb(t);return[PC(t),e,PC(e)]}const lZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:a,middlewareData:s,rects:r,initialPlacement:i}=e;if((n=s.flip)!=null&&n.skip)return{};const{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",flipAlignment:p=!0,...f}=t,g=Hu(a),y=u||(g===i||!p?[Yb(i)]:iZ(i)),w=[i,...y],b=await J2(e,f),C=[];let V=((o=s.flip)==null?void 0:o.overflows)||[];if(l&&C.push(b[g]),c){const{main:P,cross:E}=cI(a,r);C.push(b[P],b[E])}if(V=[...V,{placement:a,overflows:C}],!C.every(P=>P<=0)){var _,x;const P=((_=(x=s.flip)==null?void 0:x.index)!=null?_:0)+1,E=w[P];if(E)return{data:{index:P,overflows:V},reset:{placement:E}};let O="bottom";switch(d){case"bestFit":{var S;const I=(S=V.slice().sort((F,L)=>F.overflows.filter(H=>H>0).reduce((H,W)=>H+W,0)-L.overflows.filter(H=>H>0).reduce((H,W)=>H+W,0))[0])==null?void 0:S.placement;I&&(O=I);break}case"initialPlacement":O=i;break}return{data:{skip:!0},reset:{placement:O}}}return{}}}};function cZ(t){let{placement:e,rects:n,value:o}=t;const a=Hu(e),s=["left","top"].includes(a)?-1:1,r=typeof o=="function"?o({...n,placement:e}):o,{mainAxis:i,crossAxis:l}=typeof r=="number"?{mainAxis:r,crossAxis:0}:{mainAxis:0,crossAxis:0,...r};return x0(a)==="x"?{x:l,y:i*s}:{x:i*s,y:l}}const uZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn(e){const{x:n,y:o,placement:a,rects:s}=e,r=cZ({placement:a,rects:s,value:t});return{x:n+r.x,y:o+r.y,data:r}}}};function dZ(t){return t==="x"?"y":"x"}const pZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:a}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:i={fn:y=>{let{x:w,y:b}=y;return{x:w,y:b}}},...l}=t,c={x:n,y:o},u=await J2(e,l),d=x0(Hu(a)),p=dZ(d);let f=c[d],g=c[p];if(s){const y=d==="y"?"top":"left",w=d==="y"?"bottom":"right",b=f+u[y],C=f-u[w];f=SC(b,f,C)}if(r){const y=p==="y"?"top":"left",w=p==="y"?"bottom":"right",b=g+u[y],C=g-u[w];g=SC(b,g,C)}const v=i.fn({...e,[d]:f,[p]:g});return{...v,data:{x:v.x-n,y:v.y-o}}}}},hZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n;const{placement:o,rects:a,middlewareData:s}=e,{apply:r,...i}=t;if((n=s.size)!=null&&n.skip)return{};const l=await J2(e,i),c=Hu(o),u=_m(o)==="end";let d,p;c==="top"||c==="bottom"?(d=c,p=u?"left":"right"):(p=c,d=u?"top":"bottom");const f=eh(l.left,0),g=eh(l.right,0),v=eh(l.top,0),y=eh(l.bottom,0),w={height:a.floating.height-(["left","right"].includes(o)?2*(v!==0||y!==0?v+y:eh(l.top,l.bottom)):l[d]),width:a.floating.width-(["top","bottom"].includes(o)?2*(f!==0||g!==0?f+g:eh(l.left,l.right)):l[p])};return r==null||r({...w,...a}),{data:{skip:!0},reset:{rects:!0}}}}};function oS(t){return(t==null?void 0:t.toString())==="[object Window]"}function Gd(t){if(t==null)return window;if(!oS(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function q2(t){return Gd(t).getComputedStyle(t)}function Fu(t){return oS(t)?"":t?(t.nodeName||"").toLowerCase():""}function Du(t){return t instanceof Gd(t).HTMLElement}function Xb(t){return t instanceof Gd(t).Element}function fZ(t){return t instanceof Gd(t).Node}function uI(t){const e=Gd(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function e$(t){const{overflow:e,overflowX:n,overflowY:o}=q2(t);return/auto|scroll|overlay|hidden/.test(e+o+n)}function mZ(t){return["table","td","th"].includes(Fu(t))}function dI(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=q2(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}const R6=Math.min,Mv=Math.max,Qb=Math.round;function Im(t,e){e===void 0&&(e=!1);const n=t.getBoundingClientRect();let o=1,a=1;return e&&Du(t)&&(o=t.offsetWidth>0&&Qb(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Qb(n.height)/t.offsetHeight||1),{width:n.width/o,height:n.height/a,top:n.top/a,right:n.right/o,bottom:n.bottom/a,left:n.left/o,x:n.left/o,y:n.top/a}}function Wd(t){return((fZ(t)?t.ownerDocument:t.document)||window.document).documentElement}function t$(t){return oS(t)?{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function pI(t){return Im(Wd(t)).left+t$(t).scrollLeft}function gZ(t){const e=Im(t);return Qb(e.width)!==t.offsetWidth||Qb(e.height)!==t.offsetHeight}function vZ(t,e,n){const o=Du(e),a=Wd(e),s=Im(t,o&&gZ(e));let r={scrollLeft:0,scrollTop:0};const i={x:0,y:0};if(o||!o&&n!=="fixed")if((Fu(e)!=="body"||e$(a))&&(r=t$(e)),Du(e)){const l=Im(e,!0);i.x=l.x+e.clientLeft,i.y=l.y+e.clientTop}else a&&(i.x=pI(a));return{x:s.left+r.scrollLeft-i.x,y:s.top+r.scrollTop-i.y,width:s.width,height:s.height}}function n$(t){return Fu(t)==="html"?t:t.assignedSlot||t.parentNode||(uI(t)?t.host:null)||Wd(t)}function O6(t){return!Du(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function yZ(t){let e=n$(t);for(;Du(e)&&!["html","body"].includes(Fu(e));){if(dI(e))return e;e=e.parentNode}return null}function EC(t){const e=Gd(t);let n=O6(t);for(;n&&mZ(n)&&getComputedStyle(n).position==="static";)n=O6(n);return n&&(Fu(n)==="html"||Fu(n)==="body"&&getComputedStyle(n).position==="static"&&!dI(n))?e:n||yZ(t)||e}function k6(t){return{width:t.offsetWidth,height:t.offsetHeight}}function wZ(t){let{rect:e,offsetParent:n,strategy:o}=t;const a=Du(n),s=Wd(n);if(n===s)return e;let r={scrollLeft:0,scrollTop:0};const i={x:0,y:0};if((a||!a&&o!=="fixed")&&((Fu(n)!=="body"||e$(s))&&(r=t$(n)),Du(n))){const l=Im(n,!0);i.x=l.x+n.clientLeft,i.y=l.y+n.clientTop}return{...e,x:e.x-r.scrollLeft+i.x,y:e.y-r.scrollTop+i.y}}function bZ(t){const e=Gd(t),n=Wd(t),o=e.visualViewport;let a=n.clientWidth,s=n.clientHeight,r=0,i=0;return o&&(a=o.width,s=o.height,Math.abs(e.innerWidth/o.scale-o.width)<.01&&(r=o.offsetLeft,i=o.offsetTop)),{width:a,height:s,x:r,y:i}}function $Z(t){var e;const n=Wd(t),o=t$(t),a=(e=t.ownerDocument)==null?void 0:e.body,s=Mv(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),r=Mv(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let i=-o.scrollLeft+pI(t);const l=-o.scrollTop;return q2(a||n).direction==="rtl"&&(i+=Mv(n.clientWidth,a?a.clientWidth:0)-s),{width:s,height:r,x:i,y:l}}function hI(t){return["html","body","#document"].includes(Fu(t))?t.ownerDocument.body:Du(t)&&e$(t)?t:hI(n$(t))}function Zb(t,e){var n;e===void 0&&(e=[]);const o=hI(t),a=o===((n=t.ownerDocument)==null?void 0:n.body),s=Gd(o),r=a?[s].concat(s.visualViewport||[],e$(o)?o:[]):o,i=e.concat(r);return a?i:i.concat(Zb(n$(r)))}function xZ(t,e){const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&uI(n)){let o=e;do{if(o&&t===o)return!0;o=o.parentNode||o.host}while(o)}return!1}function _Z(t){const e=Im(t),n=e.top+t.clientTop,o=e.left+t.clientLeft;return{top:n,left:o,x:o,y:n,right:o+t.clientWidth,bottom:n+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function A6(t,e){return e==="viewport"?CC(bZ(t)):Xb(e)?_Z(e):CC($Z(Wd(t)))}function VZ(t){const e=Zb(n$(t)),o=["absolute","fixed"].includes(q2(t).position)&&Du(t)?EC(t):t;return Xb(o)?e.filter(a=>Xb(a)&&xZ(a,o)&&Fu(a)!=="body"):[]}function CZ(t){let{element:e,boundary:n,rootBoundary:o}=t;const s=[...n==="clippingParents"?VZ(e):[].concat(n),o],r=s[0],i=s.reduce((l,c)=>{const u=A6(e,c);return l.top=Mv(u.top,l.top),l.right=R6(u.right,l.right),l.bottom=R6(u.bottom,l.bottom),l.left=Mv(u.left,l.left),l},A6(e,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}const SZ={getElementRects:t=>{let{reference:e,floating:n,strategy:o}=t;return{reference:vZ(e,EC(n),o),floating:{...k6(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:t=>wZ(t),getOffsetParent:t=>{let{element:e}=t;return EC(e)},isElement:t=>Xb(t),getDocumentElement:t=>{let{element:e}=t;return Wd(e)},getClippingClientRect:t=>CZ(t),getDimensions:t=>{let{element:e}=t;return k6(e)},getClientRects:t=>{let{element:e}=t;return e.getClientRects()}},PZ=(t,e,n)=>ZQ(t,e,{platform:SZ,...n});var EZ=Object.defineProperty,TZ=Object.defineProperties,RZ=Object.getOwnPropertyDescriptors,I6=Object.getOwnPropertySymbols,OZ=Object.prototype.hasOwnProperty,kZ=Object.prototype.propertyIsEnumerable,M6=(t,e,n)=>e in t?EZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cu=(t,e)=>{for(var n in e||(e={}))OZ.call(e,n)&&M6(t,n,e[n]);if(I6)for(var n of I6(e))kZ.call(e,n)&&M6(t,n,e[n]);return t},_0=(t,e)=>TZ(t,RZ(e));const Rh=window.Vue.defineComponent,ku=window.Vue.openBlock,a0=window.Vue.createElementBlock,o$=window.Vue.normalizeClass,Jb=window.Vue.renderSlot,AZ=window.Vue.normalizeProps,IZ=window.Vue.guardReactiveProps,MZ=window.Vue.pushScopeId,FZ=window.Vue.popScopeId,DZ=window.Vue.nextTick,a$=window.Vue.createBlock,NZ=window.Vue.withScopeId,s0=window.Vue.resolveComponent,S5=window.Vue.normalizeStyle,HZ=window.Vue.withKeys,sh=window.Vue.createElementVNode,BZ=window.Vue.Fragment,F6=window.Vue.createCommentVNode,qb=window.Vue.withCtx,fI=window.Vue.createVNode,LZ=window.Vue.mergeProps,UZ=window.Vue.toDisplayString,TC=window.Vue.ref,jZ=window.Vue.createApp,zZ=window.Vue.h,gh={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:t=>[...t,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function Mm(t,e){let n=gh.themes[t]||{},o;do o=n[e],typeof o>"u"?n.$extend?n=gh.themes[n.$extend]||{}:(n=null,o=gh[e]):n=null;while(n);return o}function GZ(t){const e=[t];let n=gh.themes[t]||{};do n.$extend&&!n.$resetCss?(e.push(n.$extend),n=gh.themes[n.$extend]||{}):n=null;while(n);return e.map(o=>`v-popper--theme-${o}`)}function D6(t){const e=[t];let n=gh.themes[t]||{};do n.$extend?(e.push(n.$extend),n=gh.themes[n.$extend]||{}):n=null;while(n);return e}let xh=!1;if(typeof window<"u"){xh=!1;try{const t=Object.defineProperty({},"passive",{get(){xh=!0}});window.addEventListener("test",null,t)}catch{}}let mI=!1;typeof window<"u"&&typeof navigator<"u"&&(mI=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const gI=["auto","top","bottom","left","right"].reduce((t,e)=>t.concat([e,`${e}-start`,`${e}-end`]),[]),N6={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},H6={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function B6(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}function P5(){return new Promise(t=>requestAnimationFrame(()=>{requestAnimationFrame(t)}))}const ml=[];let sp=null;const L6={};function U6(t){let e=L6[t];return e||(e=L6[t]=[]),e}let RC=function(){};typeof window<"u"&&(RC=window.Element);function ln(t){return function(e){return Mm(e.theme,t)}}const E5="__floating-vue__popper";var vI=()=>Rh({name:"VPopper",provide(){return{[E5]:{parentPopper:this}}},inject:{[E5]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:ln("disabled")},positioningDisabled:{type:Boolean,default:ln("positioningDisabled")},placement:{type:String,default:ln("placement"),validator:t=>gI.includes(t)},delay:{type:[String,Number,Object],default:ln("delay")},distance:{type:[Number,String],default:ln("distance")},skidding:{type:[Number,String],default:ln("skidding")},triggers:{type:Array,default:ln("triggers")},showTriggers:{type:[Array,Function],default:ln("showTriggers")},hideTriggers:{type:[Array,Function],default:ln("hideTriggers")},popperTriggers:{type:Array,default:ln("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:ln("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:ln("popperHideTriggers")},container:{type:[String,Object,RC,Boolean],default:ln("container")},boundary:{type:[String,RC],default:ln("boundary")},strategy:{type:String,validator:t=>["absolute","fixed"].includes(t),default:ln("strategy")},autoHide:{type:[Boolean,Function],default:ln("autoHide")},handleResize:{type:Boolean,default:ln("handleResize")},instantMove:{type:Boolean,default:ln("instantMove")},eagerMount:{type:Boolean,default:ln("eagerMount")},popperClass:{type:[String,Array,Object],default:ln("popperClass")},computeTransformOrigin:{type:Boolean,default:ln("computeTransformOrigin")},autoMinSize:{type:Boolean,default:ln("autoMinSize")},autoSize:{type:[Boolean,String],default:ln("autoSize")},autoMaxSize:{type:Boolean,default:ln("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:ln("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:ln("preventOverflow")},overflowPadding:{type:[Number,String],default:ln("overflowPadding")},arrowPadding:{type:[Number,String],default:ln("arrowPadding")},arrowOverflow:{type:Boolean,default:ln("arrowOverflow")},flip:{type:Boolean,default:ln("flip")},shift:{type:Boolean,default:ln("shift")},shiftCrossAxis:{type:Boolean,default:ln("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:ln("noAutoFocus")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:_0(Cu({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var t;return(t=this[E5])==null?void 0:t.parentPopper},hasPopperShowTriggerHover(){var t,e;return((t=this.popperTriggers)==null?void 0:t.includes("hover"))||((e=this.popperShowTriggers)==null?void 0:e.includes("hover"))}},watch:Cu(Cu({shown:"$_autoShowHide",disabled(t){t?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((t,e)=>(t[e]="$_refreshListeners",t),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((t,e)=>(t[e]="$_computePosition",t),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(t=>t.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:t=null,skipDelay:e=!1,force:n=!1}={}){var o,a;(o=this.parentPopper)!=null&&o.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((a=this.parentPopper)==null?void 0:a.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(t,e),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:t=null,skipDelay:e=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:e}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(t,e),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var t,e;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=(e=(t=this.referenceNode)==null?void 0:t.call(this))!=null?e:this.$el,this.$_targetNodes=this.targetNodes().filter(n=>n.nodeType===n.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var t;if(this.$_isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(uZ({mainAxis:this.distance,crossAxis:this.skidding}));const n=this.placement.startsWith("auto");if(n?e.middleware.push(rZ({alignment:(t=this.placement.split("-")[1])!=null?t:""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(pZ({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!n&&this.flip&&e.middleware.push(lZ({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(eZ({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:a,rects:s,middlewareData:r})=>{let i;const{centerOffset:l}=r.arrow;return a.startsWith("top")||a.startsWith("bottom")?i=Math.abs(l)>s.reference.width/2:i=Math.abs(l)>s.reference.height/2,{data:{overflow:i}}}}),this.autoMinSize||this.autoSize){const a=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:s,placement:r,middlewareData:i})=>{var l;if((l=i.autoSize)!=null&&l.skip)return{};let c,u;return r.startsWith("top")||r.startsWith("bottom")?c=s.reference.width:u=s.reference.height,this.$_innerNode.style[a==="min"?"minWidth":a==="max"?"maxWidth":"width"]=c!=null?`${c}px`:null,this.$_innerNode.style[a==="min"?"minHeight":a==="max"?"maxHeight":"height"]=u!=null?`${u}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(hZ({boundary:this.boundary,padding:this.overflowPadding,apply:({width:a,height:s})=>{this.$_innerNode.style.maxWidth=a!=null?`${a}px`:null,this.$_innerNode.style.maxHeight=s!=null?`${s}px`:null}})));const o=await PZ(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:o.x,y:o.y,placement:o.placement,strategy:o.strategy,arrow:Cu(Cu({},o.middlewareData.arrow),o.middlewareData.arrowOverflow)})},$_scheduleShow(t=null,e=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),sp&&this.instantMove&&sp.instantMove&&sp!==this.parentPopper){sp.$_applyHide(!0),this.$_applyShow(!0);return}e?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(t=null,e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(sp=this),e?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(t){const e=this.delay;return parseInt(e&&e[t]||e||0)},async $_applyShow(t=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=t,!this.isShown&&(this.$_ensureTeleport(),await P5(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...Zb(this.$_referenceNode),...Zb(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const e=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),o=n.parentNode.getBoundingClientRect(),a=e.x+e.width/2-(o.left+n.offsetLeft),s=e.y+e.height/2-(o.top+n.offsetTop);this.result.transformOrigin=`${a}px ${s}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const t=this.showGroup;if(t){let e;for(let n=0;n<ml.length;n++)e=ml[n],e.showGroup!==t&&(e.hide(),e.$emit("close-group"))}ml.push(this),document.body.classList.add("v-popper--some-open");for(const e of D6(this.theme))U6(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await P5(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=t,B6(ml,this),ml.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of D6(this.theme)){const o=U6(n);B6(o,this),o.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}sp===this&&(sp=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const e=Mm(this.theme,"disposeTimeout");e!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},e)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await P5(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let t=this.container;if(typeof t=="string"?t=window.document.querySelector(t):t===!1&&(t=this.$_targetNodes[0].parentNode),!t)throw new Error("No container for popover: "+this.container);t.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const t=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,N6,this.triggers,this.showTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],N6,this.popperTriggers,this.popperShowTriggers,t);const e=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,H6,this.triggers,this.hideTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],H6,this.popperTriggers,this.popperHideTriggers,e)},$_registerEventListeners(t,e,n){this.$_events.push({targetNodes:t,eventType:e,handler:n}),t.forEach(o=>o.addEventListener(e,n,xh?{passive:!0}:void 0))},$_registerTriggerListeners(t,e,n,o,a){let s=n;o!=null&&(s=typeof o=="function"?o(s):o),s.forEach(r=>{const i=e[r];i&&this.$_registerEventListeners(t,i,a)})},$_removeEventListeners(t){const e=[];this.$_events.forEach(n=>{const{targetNodes:o,eventType:a,handler:s}=n;!t||t===a?o.forEach(r=>r.removeEventListener(a,s)):e.push(n)}),this.$_events=e},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(t,e=!1){this.$_showFrameLocked||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),e&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(t,e){for(const n of this.$_targetNodes){const o=n.getAttribute(t);o&&(n.removeAttribute(t),n.setAttribute(e,o))}},$_applyAttrsToTarget(t){for(const e of this.$_targetNodes)for(const n in t){const o=t[n];o==null?e.removeAttribute(n):e.setAttribute(n,o)}},$_updateParentShownChildren(t){let e=this.parentPopper;for(;e;)t?e.shownChildren.add(this.randomId):(e.shownChildren.delete(this.randomId),e.$_pendingHide&&e.hide()),e=e.parentPopper},$_isAimingPopper(){const t=this.$_referenceNode.getBoundingClientRect();if(Fv>=t.left&&Fv<=t.right&&Dv>=t.top&&Dv<=t.bottom){const e=this.$_popperNode.getBoundingClientRect(),n=Fv-hd,o=Dv-fd,s=e.left+e.width/2-hd+(e.top+e.height/2)-fd+e.width+e.height,r=hd+n*s,i=fd+o*s;return oy(hd,fd,r,i,e.left,e.top,e.left,e.bottom)||oy(hd,fd,r,i,e.left,e.top,e.right,e.top)||oy(hd,fd,r,i,e.right,e.top,e.right,e.bottom)||oy(hd,fd,r,i,e.left,e.bottom,e.right,e.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document<"u"&&typeof window<"u"&&(mI?(document.addEventListener("touchstart",j6,xh?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",KZ,xh?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",j6,!0),window.addEventListener("click",WZ,!0)),window.addEventListener("resize",QZ));function j6(t){for(let e=0;e<ml.length;e++){const n=ml[e];try{const o=n.popperNode();n.$_mouseDownContains=o.contains(t.target)}catch{}}}function WZ(t){yI(t)}function KZ(t){yI(t,!0)}function yI(t,e=!1){const n={};for(let o=ml.length-1;o>=0;o--){const a=ml[o];try{const s=a.$_containsGlobalTarget=YZ(a,t);a.$_pendingHide=!1,requestAnimationFrame(()=>{if(a.$_pendingHide=!1,!n[a.randomId]&&z6(a,s,t)){if(a.$_handleGlobalClose(t,e),!t.closeAllPopover&&t.closePopover&&s){let i=a.parentPopper;for(;i;)n[i.randomId]=!0,i=i.parentPopper;return}let r=a.parentPopper;for(;r&&z6(r,r.$_containsGlobalTarget,t);){r.$_handleGlobalClose(t,e);r=r.parentPopper}}})}catch{}}}function YZ(t,e){const n=t.popperNode();return t.$_mouseDownContains||n.contains(e.target)}function z6(t,e,n){return n.closeAllPopover||n.closePopover&&e||XZ(t,n)&&!e}function XZ(t,e){if(typeof t.autoHide=="function"){const n=t.autoHide(e);return t.lastAutoHide=n,n}return t.autoHide}function QZ(t){for(let e=0;e<ml.length;e++)ml[e].$_computePosition(t)}let hd=0,fd=0,Fv=0,Dv=0;typeof window<"u"&&window.addEventListener("mousemove",t=>{hd=Fv,fd=Dv,Fv=t.clientX,Dv=t.clientY},xh?{passive:!0}:void 0);function oy(t,e,n,o,a,s,r,i){const l=((r-a)*(e-s)-(i-s)*(t-a))/((i-s)*(n-t)-(r-a)*(o-e)),c=((n-t)*(e-s)-(o-e)*(t-a))/((i-s)*(n-t)-(r-a)*(o-e));return l>=0&&l<=1&&c>=0&&c<=1}var s$=(t,e)=>{const n=t.__vccOpts||t;for(const[o,a]of e)n[o]=a;return n};const ZZ={extends:vI()};function JZ(t,e,n,o,a,s){return ku(),a0("div",{ref:"reference",class:o$(["v-popper",{"v-popper--shown":t.slotData.isShown}])},[Jb(t.$slots,"default",AZ(IZ(t.slotData)))],2)}var qZ=s$(ZZ,[["render",JZ]]);function eJ(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var o=t.indexOf("rv:");return parseInt(t.substring(o+3,t.indexOf(".",o)),10)}var a=t.indexOf("Edge/");return a>0?parseInt(t.substring(a+5,t.indexOf(".",a)),10):-1}let gb;function OC(){OC.init||(OC.init=!0,gb=eJ()!==-1)}var r$={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){OC(),DZ(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",gb&&this.$el.appendChild(t),t.data="about:blank",gb||this.$el.appendChild(t)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!gb&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const tJ=NZ("data-v-b329ee4c");MZ("data-v-b329ee4c");const nJ={class:"resize-observer",tabindex:"-1"};FZ();const oJ=tJ((t,e,n,o,a,s)=>(ku(),a$("div",nJ)));r$.render=oJ;r$.__scopeId="data-v-b329ee4c";r$.__file="src/components/ResizeObserver.vue";var wI=(t="theme")=>({computed:{themeClass(){return GZ(this[t])}}});const aJ=Rh({name:"VPopperContent",components:{ResizeObserver:r$},mixins:[wI()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(t){return t!=null&&!isNaN(t)?`${t}px`:null}}}),sJ=["id","aria-hidden","tabindex","data-popper-placement"],rJ={ref:"inner",class:"v-popper__inner"},iJ=sh("div",{class:"v-popper__arrow-outer"},null,-1),lJ=sh("div",{class:"v-popper__arrow-inner"},null,-1),cJ=[iJ,lJ];function uJ(t,e,n,o,a,s){const r=s0("ResizeObserver");return ku(),a0("div",{id:t.popperId,ref:"popover",class:o$(["v-popper__popper",[t.themeClass,t.classes.popperClass,{"v-popper__popper--shown":t.shown,"v-popper__popper--hidden":!t.shown,"v-popper__popper--show-from":t.classes.showFrom,"v-popper__popper--show-to":t.classes.showTo,"v-popper__popper--hide-from":t.classes.hideFrom,"v-popper__popper--hide-to":t.classes.hideTo,"v-popper__popper--skip-transition":t.skipTransition,"v-popper__popper--arrow-overflow":t.result&&t.result.arrow.overflow,"v-popper__popper--no-positioning":!t.result}]]),style:S5(t.result?{position:t.result.strategy,transform:`translate3d(${Math.round(t.result.x)}px,${Math.round(t.result.y)}px,0)`}:void 0),"aria-hidden":t.shown?"false":"true",tabindex:t.autoHide?0:void 0,"data-popper-placement":t.result?t.result.placement:void 0,onKeyup:e[2]||(e[2]=HZ(i=>t.autoHide&&t.$emit("hide"),["esc"]))},[sh("div",{class:"v-popper__backdrop",onClick:e[0]||(e[0]=i=>t.autoHide&&t.$emit("hide"))}),sh("div",{class:"v-popper__wrapper",style:S5(t.result?{transformOrigin:t.result.transformOrigin}:void 0)},[sh("div",rJ,[t.mounted?(ku(),a0(BZ,{key:0},[sh("div",null,[Jb(t.$slots,"default")]),t.handleResize?(ku(),a$(r,{key:0,onNotify:e[1]||(e[1]=i=>t.$emit("resize",i))})):F6("",!0)],64)):F6("",!0)],512),sh("div",{ref:"arrow",class:"v-popper__arrow-container",style:S5(t.result?{left:t.toPx(t.result.arrow.x),top:t.toPx(t.result.arrow.y)}:void 0)},cJ,4)],4)],46,sJ)}var bI=s$(aJ,[["render",uJ]]),$I={methods:{show(...t){return this.$refs.popper.show(...t)},hide(...t){return this.$refs.popper.hide(...t)},dispose(...t){return this.$refs.popper.dispose(...t)},onResize(...t){return this.$refs.popper.onResize(...t)}}};const dJ=Rh({name:"VPopperWrapper",components:{Popper:qZ,PopperContent:bI},mixins:[$I,wI("finalTheme")],props:{theme:{type:String,default:null}},computed:{finalTheme(){var t;return(t=this.theme)!=null?t:this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(t=>t!==this.$refs.popperContent.$el)}}});function pJ(t,e,n,o,a,s){const r=s0("PopperContent"),i=s0("Popper");return ku(),a$(i,{ref:"popper",theme:t.finalTheme,"target-nodes":t.getTargetNodes,"popper-node":()=>t.$refs.popperContent.$el,class:o$([t.themeClass])},{default:qb(({popperId:l,isShown:c,shouldMountContent:u,skipTransition:d,autoHide:p,show:f,hide:g,handleResize:v,onResize:y,classes:w,result:b})=>[Jb(t.$slots,"default",{shown:c,show:f,hide:g}),fI(r,{ref:"popperContent","popper-id":l,theme:t.finalTheme,shown:c,mounted:u,"skip-transition":d,"auto-hide":p,"handle-resize":v,classes:w,result:b,onHide:g,onResize:y},{default:qb(()=>[Jb(t.$slots,"popper",{shown:c,hide:g})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},8,["theme","target-nodes","popper-node","class"])}var aS=s$(dJ,[["render",pJ]]);const hJ=Rh(_0(Cu({},aS),{name:"VDropdown",vPopperTheme:"dropdown"})),fJ=Rh(_0(Cu({},aS),{name:"VMenu",vPopperTheme:"menu"})),mJ=Rh(_0(Cu({},aS),{name:"VTooltip",vPopperTheme:"tooltip"})),gJ=Rh({name:"VTooltipDirective",components:{Popper:vI(),PopperContent:bI},mixins:[$I],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:t=>Mm(t.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:t=>Mm(t.theme,"loadingContent")}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(t){if(typeof this.content=="function"&&this.$_isShown&&(t||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const e=++this.$_fetchId,n=this.content(this);n.then?n.then(o=>this.onResult(e,o)):this.onResult(e,n)}},onResult(t,e){t===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=e)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),vJ=["innerHTML"],yJ=["textContent"];function wJ(t,e,n,o,a,s){const r=s0("PopperContent"),i=s0("Popper");return ku(),a$(i,LZ({ref:"popper"},t.$attrs,{theme:t.theme,"popper-node":()=>t.$refs.popperContent.$el,onApplyShow:t.onShow,onApplyHide:t.onHide}),{default:qb(({popperId:l,isShown:c,shouldMountContent:u,skipTransition:d,autoHide:p,hide:f,handleResize:g,onResize:v,classes:y,result:w})=>[fI(r,{ref:"popperContent",class:o$({"v-popper--tooltip-loading":t.loading}),"popper-id":l,theme:t.theme,shown:c,mounted:u,"skip-transition":d,"auto-hide":p,"handle-resize":g,classes:y,result:w,onHide:f,onResize:v},{default:qb(()=>[t.html?(ku(),a0("div",{key:0,innerHTML:t.finalContent},null,8,vJ)):(ku(),a0("div",{key:1,textContent:UZ(t.finalContent)},null,8,yJ))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","popper-node","onApplyShow","onApplyHide"])}var bJ=s$(gJ,[["render",wJ]]);const xI="v-popper--has-tooltip";function $J(t,e){let n=t.placement;if(!n&&e)for(const o of gI)e[o]&&(n=o);return n||(n=Mm(t.theme||"tooltip","placement")),n}function _I(t,e,n){let o;const a=typeof e;return a==="string"?o={content:e}:e&&a==="object"?o=e:o={content:!1},o.placement=$J(o,n),o.targetNodes=()=>[t],o.referenceNode=()=>t,o}let T5,r0,xJ=0;function _J(){if(T5)return;r0=TC([]),T5=jZ({name:"VTooltipDirectiveApp",setup(){return{directives:r0}},render(){return this.directives.map(e=>zZ(bJ,_0(Cu({},e.options),{shown:e.shown||e.options.shown,key:e.id})))},devtools:{hide:!0}});const t=document.createElement("div");document.body.appendChild(t),T5.mount(t)}function VJ(t,e,n){_J();const o=TC(_I(t,e,n)),a=TC(!1),s={id:xJ++,options:o,shown:a};return r0.value.push(s),t.classList&&t.classList.add(xI),t.$_popper={options:o,item:s,show(){a.value=!0},hide(){a.value=!1}}}function VI(t){if(t.$_popper){const e=r0.value.indexOf(t.$_popper.item);e!==-1&&r0.value.splice(e,1),delete t.$_popper,delete t.$_popperOldShown,delete t.$_popperMountTarget}t.classList&&t.classList.remove(xI)}function G6(t,{value:e,modifiers:n}){const o=_I(t,e,n);if(!o.content||Mm(o.theme||"tooltip","disabled"))VI(t);else{let a;t.$_popper?(a=t.$_popper,a.options.value=o):a=VJ(t,e,n),typeof e.shown<"u"&&e.shown!==t.$_popperOldShown&&(t.$_popperOldShown=e.shown,e.shown?a.show():a.hide())}}var CJ={beforeMount:G6,updated:G6,beforeUnmount(t){VI(t)}};function W6(t){t.addEventListener("click",CI),t.addEventListener("touchstart",SI,xh?{passive:!0}:!1)}function K6(t){t.removeEventListener("click",CI),t.removeEventListener("touchstart",SI),t.removeEventListener("touchend",PI),t.removeEventListener("touchcancel",EI)}function CI(t){const e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function SI(t){if(t.changedTouches.length===1){const e=t.currentTarget;e.$_vclosepopover_touch=!0;const n=t.changedTouches[0];e.$_vclosepopover_touchPoint=n,e.addEventListener("touchend",PI),e.addEventListener("touchcancel",EI)}}function PI(t){const e=t.currentTarget;if(e.$_vclosepopover_touch=!1,t.changedTouches.length===1){const n=t.changedTouches[0],o=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(n.screenY-o.screenY)<20&&Math.abs(n.screenX-o.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function EI(t){const e=t.currentTarget;e.$_vclosepopover_touch=!1}var SJ={beforeMount(t,{value:e,modifiers:n}){t.$_closePopoverModifiers=n,(typeof e>"u"||e)&&W6(t)},updated(t,{value:e,oldValue:n,modifiers:o}){t.$_closePopoverModifiers=o,e!==n&&(typeof e>"u"||e?W6(t):K6(t))},beforeUnmount(t){K6(t)}};const PJ=CJ,EJ=SJ,TJ=hJ,RJ=fJ,OJ=mJ;var kC={},kJ={get exports(){return kC},set exports(t){kC=t}};/*! vue-grid-layout - 3.0.0-beta1 | (c) 2015, 2021  Gustavo Santos (JBay Solutions) <gustavo.santos@jbaysolutions.com> (http://www.jbaysolutions.com) | https://github.com/jbaysolutions/vue-grid-layout */(function(t){t.exports=function(e){var n={};function o(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=e,o.c=n,o.d=function(a,s,r){o.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:r})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,s){if(s&1&&(a=o(a)),s&8||s&4&&typeof a=="object"&&a&&a.__esModule)return a;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:a}),s&2&&typeof a!="string")for(var i in a)o.d(r,i,function(l){return a[l]}.bind(null,i));return r},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,"a",s),s},o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.p="",o(o.s="fb15")}({"01f9":function(e,n,o){var a=o("2d00"),s=o("5ca1"),r=o("2aba"),i=o("32e9"),l=o("84f2"),c=o("41a0"),u=o("7f20"),d=o("38fd"),p=o("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),g="@@iterator",v="keys",y="values",w=function(){return this};e.exports=function(b,C,V,_,x,S,P){c(V,C,_);var E=function(oe){if(!f&&oe in L)return L[oe];switch(oe){case v:return function(){return new V(this,oe)};case y:return function(){return new V(this,oe)}}return function(){return new V(this,oe)}},O=C+" Iterator",I=x==y,F=!1,L=b.prototype,H=L[p]||L[g]||x&&L[x],W=H||E(x),Y=x?I?E("entries"):W:void 0,U=C=="Array"&&L.entries||H,q,ye,we;if(U&&(we=d(U.call(new b)),we!==Object.prototype&&we.next&&(u(we,O,!0),!a&&typeof we[p]!="function"&&i(we,p,w))),I&&H&&H.name!==y&&(F=!0,W=function(){return H.call(this)}),(!a||P)&&(f||F||!L[p])&&i(L,p,W),l[C]=W,l[O]=w,x)if(q={values:I?W:E(y),keys:S?W:E(v),entries:Y},P)for(ye in q)ye in L||r(L,ye,q[ye]);else s(s.P+s.F*(f||F),C,q);return q}},"02f4":function(e,n,o){var a=o("4588"),s=o("be13");e.exports=function(r){return function(i,l){var c=String(s(i)),u=a(l),d=c.length,p,f;return u<0||u>=d?r?"":void 0:(p=c.charCodeAt(u),p<55296||p>56319||u+1===d||(f=c.charCodeAt(u+1))<56320||f>57343?r?c.charAt(u):p:r?c.slice(u,u+2):(p-55296<<10)+(f-56320)+65536)}}},"0390":function(e,n,o){var a=o("02f4")(!0);e.exports=function(s,r,i){return r+(i?a(s,r).length:1)}},"083e":function(e,n,o){o("c541")},"0bfb":function(e,n,o){var a=o("cb7c");e.exports=function(){var s=a(this),r="";return s.global&&(r+="g"),s.ignoreCase&&(r+="i"),s.multiline&&(r+="m"),s.unicode&&(r+="u"),s.sticky&&(r+="y"),r}},"0d58":function(e,n,o){var a=o("ce10"),s=o("e11e");e.exports=Object.keys||function(i){return a(i,s)}},"11e9":function(e,n,o){var a=o("52a7"),s=o("4630"),r=o("6821"),i=o("6a99"),l=o("69a8"),c=o("c69a"),u=Object.getOwnPropertyDescriptor;n.f=o("9e1e")?u:function(p,f){if(p=r(p),f=i(f,!0),c)try{return u(p,f)}catch{}if(l(p,f))return s(!a.f.call(p,f),p[f])}},1495:function(e,n,o){var a=o("86cc"),s=o("cb7c"),r=o("0d58");e.exports=o("9e1e")?Object.defineProperties:function(l,c){s(l);for(var u=r(c),d=u.length,p=0,f;d>p;)a.f(l,f=u[p++],c[f]);return l}},"18d2":function(e,n,o){var a=o("18e9");e.exports=function(s){s=s||{};var r=s.reporter,i=s.batchProcessor,l=s.stateHandler.getState;if(!r)throw new Error("Missing required dependency: reporter.");function c(g,v){function y(){v(g)}if(a.isIE(8))l(g).object={proxy:y},g.attachEvent("onresize",y);else{var w=p(g);if(!w)throw new Error("Element is not detectable by this strategy.");w.contentDocument.defaultView.addEventListener("resize",y)}}function u(g){var v=s.important?" !important; ":"; ";return(g.join(v)+v).trim()}function d(g,v,y){y||(y=v,v=g,g=null),g=g||{},g.debug;function w(b,C){var V=u(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),_=!1,x=window.getComputedStyle(b),S=b.offsetWidth,P=b.offsetHeight;l(b).startSize={width:S,height:P};function E(){function O(){if(x.position==="static"){b.style.setProperty("position","relative",g.important?"important":"");var L=function(H,W,Y,U){function q(we){return we.replace(/[^-\d\.]/g,"")}var ye=Y[U];ye!=="auto"&&q(ye)!=="0"&&(H.warn("An element that is positioned static has style."+U+"="+ye+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+U+" will be set to 0. Element: ",W),W.style.setProperty(U,"0",g.important?"important":""))};L(r,b,x,"top"),L(r,b,x,"right"),L(r,b,x,"bottom"),L(r,b,x,"left")}}function I(){_||O();function L(W,Y){if(!W.contentDocument){var U=l(W);U.checkForObjectDocumentTimeoutId&&window.clearTimeout(U.checkForObjectDocumentTimeoutId),U.checkForObjectDocumentTimeoutId=setTimeout(function(){U.checkForObjectDocumentTimeoutId=0,L(W,Y)},100);return}Y(W.contentDocument)}var H=this;L(H,function(Y){C(b)})}x.position!==""&&(O(),_=!0);var F=document.createElement("object");F.style.cssText=V,F.tabIndex=-1,F.type="text/html",F.setAttribute("aria-hidden","true"),F.onload=I,a.isIE()||(F.data="about:blank"),l(b)&&(b.appendChild(F),l(b).object=F,a.isIE()&&(F.data="about:blank"))}i?i.add(E):E()}a.isIE(8)?y(v):w(v,y)}function p(g){return l(g).object}function f(g){if(l(g)){var v=p(g);v&&(a.isIE(8)?g.detachEvent("onresize",v.proxy):g.removeChild(v),l(g).checkForObjectDocumentTimeoutId&&window.clearTimeout(l(g).checkForObjectDocumentTimeoutId),delete l(g).object)}}return{makeDetectable:d,addListener:c,uninstall:f}}},"18e9":function(e,n,o){var a=e.exports={};a.isIE=function(s){function r(){var l=navigator.userAgent.toLowerCase();return l.indexOf("msie")!==-1||l.indexOf("trident")!==-1||l.indexOf(" edge/")!==-1}if(!r())return!1;if(!s)return!0;var i=function(){var l,c=3,u=document.createElement("div"),d=u.getElementsByTagName("i");do u.innerHTML="<!--[if gt IE "+ ++c+"]><i></i><![endif]-->";while(d[0]);return c>4?c:l}();return s===i},a.isLegacyOpera=function(){return!!window.opera}},"214f":function(e,n,o){o("b0c5");var a=o("2aba"),s=o("32e9"),r=o("79e5"),i=o("be13"),l=o("2b4c"),c=o("520a"),u=l("species"),d=!r(function(){var f=/./;return f.exec=function(){var g=[];return g.groups={a:"7"},g},"".replace(f,"$<a>")!=="7"}),p=function(){var f=/(?:)/,g=f.exec;f.exec=function(){return g.apply(this,arguments)};var v="ab".split(f);return v.length===2&&v[0]==="a"&&v[1]==="b"}();e.exports=function(f,g,v){var y=l(f),w=!r(function(){var S={};return S[y]=function(){return 7},""[f](S)!=7}),b=w?!r(function(){var S=!1,P=/a/;return P.exec=function(){return S=!0,null},f==="split"&&(P.constructor={},P.constructor[u]=function(){return P}),P[y](""),!S}):void 0;if(!w||!b||f==="replace"&&!d||f==="split"&&!p){var C=/./[y],V=v(i,y,""[f],function(P,E,O,I,F){return E.exec===c?w&&!F?{done:!0,value:C.call(E,O,I)}:{done:!0,value:P.call(O,E,I)}:{done:!1}}),_=V[0],x=V[1];a(String.prototype,f,_),s(RegExp.prototype,y,g==2?function(S,P){return x.call(S,this,P)}:function(S){return x.call(S,this)})}}},"230e":function(e,n,o){var a=o("d3f4"),s=o("7726").document,r=a(s)&&a(s.createElement);e.exports=function(i){return r?s.createElement(i):{}}},"23c6":function(e,n,o){var a=o("2d95"),s=o("2b4c")("toStringTag"),r=a(function(){return arguments}())=="Arguments",i=function(l,c){try{return l[c]}catch{}};e.exports=function(l){var c,u,d;return l===void 0?"Undefined":l===null?"Null":typeof(u=i(c=Object(l),s))=="string"?u:r?a(c):(d=a(c))=="Object"&&typeof c.callee=="function"?"Arguments":d}},"24fb":function(e,n,o){e.exports=function(r){var i=[];return i.toString=function(){return this.map(function(c){var u=a(c,r);return c[2]?"@media ".concat(c[2]," {").concat(u,"}"):u}).join("")},i.i=function(l,c,u){typeof l=="string"&&(l=[[null,l,""]]);var d={};if(u)for(var p=0;p<this.length;p++){var f=this[p][0];f!=null&&(d[f]=!0)}for(var g=0;g<l.length;g++){var v=[].concat(l[g]);u&&d[v[0]]||(c&&(v[2]?v[2]="".concat(c," and ").concat(v[2]):v[2]=c),i.push(v))}},i};function a(r,i){var l=r[1]||"",c=r[3];if(!c)return l;if(i&&typeof btoa=="function"){var u=s(c),d=c.sources.map(function(p){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(p," */")});return[l].concat(d).concat([u]).join(`
`)}return[l].join(`
`)}function s(r){var i=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i);return"/*# ".concat(l," */")}},2621:function(e,n){n.f=Object.getOwnPropertySymbols},"2aba":function(e,n,o){var a=o("7726"),s=o("32e9"),r=o("69a8"),i=o("ca5a")("src"),l=o("fa5b"),c="toString",u=(""+l).split(c);o("8378").inspectSource=function(d){return l.call(d)},(e.exports=function(d,p,f,g){var v=typeof f=="function";v&&(r(f,"name")||s(f,"name",p)),d[p]!==f&&(v&&(r(f,i)||s(f,i,d[p]?""+d[p]:u.join(String(p)))),d===a?d[p]=f:g?d[p]?d[p]=f:s(d,p,f):(delete d[p],s(d,p,f)))})(Function.prototype,c,function(){return typeof this=="function"&&this[i]||l.call(this)})},"2aeb":function(e,n,o){var a=o("cb7c"),s=o("1495"),r=o("e11e"),i=o("613b")("IE_PROTO"),l=function(){},c="prototype",u=function(){var d=o("230e")("iframe"),p=r.length,f="<",g=">",v;for(d.style.display="none",o("fab2").appendChild(d),d.src="javascript:",v=d.contentWindow.document,v.open(),v.write(f+"script"+g+"document.F=Object"+f+"/script"+g),v.close(),u=v.F;p--;)delete u[c][r[p]];return u()};e.exports=Object.create||function(p,f){var g;return p!==null?(l[c]=a(p),g=new l,l[c]=null,g[i]=p):g=u(),f===void 0?g:s(g,f)}},"2b4c":function(e,n,o){var a=o("5537")("wks"),s=o("ca5a"),r=o("7726").Symbol,i=typeof r=="function",l=e.exports=function(c){return a[c]||(a[c]=i&&r[c]||(i?r:s)("Symbol."+c))};l.store=a},"2cef":function(e,n,o){e.exports=function(){var a=1;function s(){return a++}return{generate:s}}},"2d00":function(e,n){e.exports=!1},"2d95":function(e,n){var o={}.toString;e.exports=function(a){return o.call(a).slice(8,-1)}},"2f21":function(e,n,o){var a=o("79e5");e.exports=function(s,r){return!!s&&a(function(){r?s.call(null,function(){},1):s.call(null)})}},"32e9":function(e,n,o){var a=o("86cc"),s=o("4630");e.exports=o("9e1e")?function(r,i,l){return a.f(r,i,s(1,l))}:function(r,i,l){return r[i]=l,r}},"38fd":function(e,n,o){var a=o("69a8"),s=o("4bf8"),r=o("613b")("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(l){return l=s(l),a(l,r)?l[r]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?i:null}},"41a0":function(e,n,o){var a=o("2aeb"),s=o("4630"),r=o("7f20"),i={};o("32e9")(i,o("2b4c")("iterator"),function(){return this}),e.exports=function(l,c,u){l.prototype=a(i,{next:s(1,u)}),r(l,c+" Iterator")}},"456d":function(e,n,o){var a=o("4bf8"),s=o("0d58");o("5eda")("keys",function(){return function(i){return s(a(i))}})},4588:function(e,n){var o=Math.ceil,a=Math.floor;e.exports=function(s){return isNaN(s=+s)?0:(s>0?a:o)(s)}},4630:function(e,n){e.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},4917:function(e,n,o){var a=o("cb7c"),s=o("9def"),r=o("0390"),i=o("5f1b");o("214f")("match",1,function(l,c,u,d){return[function(f){var g=l(this),v=f==null?void 0:f[c];return v!==void 0?v.call(f,g):new RegExp(f)[c](String(g))},function(p){var f=d(u,p,this);if(f.done)return f.value;var g=a(p),v=String(this);if(!g.global)return i(g,v);var y=g.unicode;g.lastIndex=0;for(var w=[],b=0,C;(C=i(g,v))!==null;){var V=String(C[0]);w[b]=V,V===""&&(g.lastIndex=r(v,s(g.lastIndex),y)),b++}return b===0?null:w}]})},"493e":function(e,n,o){var a=o("24fb");n=a(!1),n.push([e.i,'.vue-grid-item{-webkit-transition:all .2s ease;transition:all .2s ease;-webkit-transition-property:left,top,right;transition-property:left,top,right}.vue-grid-item,.vue-grid-item.no-touch{-ms-touch-action:none;touch-action:none}.vue-grid-item.cssTransforms{-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;left:0;right:auto}.vue-grid-item.cssTransforms.render-rtl{left:auto;right:0}.vue-grid-item.resizing{opacity:.6;z-index:3}.vue-grid-item.vue-draggable-dragging{-webkit-transition:none;transition:none;z-index:3}.vue-grid-item.vue-grid-placeholder{background:red;opacity:.2;-webkit-transition-duration:.1s;transition-duration:.1s;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.vue-grid-item>.vue-resizable-handle{position:absolute;width:20px;height:20px;bottom:0;right:0;background:url("data:image/svg+xml;base64,PHN2ZyBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PHBhdGggZD0iTTYgNkgwVjQuMmg0LjJWMEg2djZ6IiBvcGFjaXR5PSIuMzAyIi8+PC9zdmc+");background-position:100% 100%;padding:0 3px 3px 0;background-repeat:no-repeat;background-origin:content-box;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:se-resize}.vue-grid-item>.vue-rtl-resizable-handle{bottom:0;left:0;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS0xLTFoMTJ2MTJILTF6Ii8+PGc+PHBhdGggc3Ryb2tlLWxpbmVjYXA9InVuZGVmaW5lZCIgc3Ryb2tlLWxpbmVqb2luPSJ1bmRlZmluZWQiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiIGQ9Ik0xNDQuODIxLTM4LjM5M2wtMjAuMzU3LTMxLjc4NSIvPjxwYXRoIHN0cm9rZT0iIzY2NiIgc3Ryb2tlLWxpbmVjYXA9InVuZGVmaW5lZCIgc3Ryb2tlLWxpbmVqb2luPSJ1bmRlZmluZWQiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIgZD0iTS45NDctLjAxOHY5LjEyNU0tLjY1NiA5aDEwLjczIi8+PC9nPjwvc3ZnPg==);background-position:0 100%;padding-left:3px;background-repeat:no-repeat;background-origin:content-box;cursor:sw-resize;right:auto}.vue-grid-item.disable-userselect{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}',""]),e.exports=n},"499e":function(e,n,o){o.r(n),o.d(n,"default",function(){return v});function a(x,S){for(var P=[],E={},O=0;O<S.length;O++){var I=S[O],F=I[0],L=I[1],H=I[2],W=I[3],Y={id:x+":"+O,css:L,media:H,sourceMap:W};E[F]?E[F].parts.push(Y):P.push(E[F]={id:F,parts:[Y]})}return P}var s=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},i=s&&(document.head||document.getElementsByTagName("head")[0]),l=null,c=0,u=!1,d=function(){},p=null,f="data-vue-ssr-id",g=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(x,S,P,E){u=P,p=E||{};var O=a(x,S);return y(O),function(F){for(var L=[],H=0;H<O.length;H++){var W=O[H],Y=r[W.id];Y.refs--,L.push(Y)}F?(O=a(x,F),y(O)):O=[];for(var H=0;H<L.length;H++){var Y=L[H];if(Y.refs===0){for(var U=0;U<Y.parts.length;U++)Y.parts[U]();delete r[Y.id]}}}}function y(x){for(var S=0;S<x.length;S++){var P=x[S],E=r[P.id];if(E){E.refs++;for(var O=0;O<E.parts.length;O++)E.parts[O](P.parts[O]);for(;O<P.parts.length;O++)E.parts.push(b(P.parts[O]));E.parts.length>P.parts.length&&(E.parts.length=P.parts.length)}else{for(var I=[],O=0;O<P.parts.length;O++)I.push(b(P.parts[O]));r[P.id]={id:P.id,refs:1,parts:I}}}}function w(){var x=document.createElement("style");return x.type="text/css",i.appendChild(x),x}function b(x){var S,P,E=document.querySelector("style["+f+'~="'+x.id+'"]');if(E){if(u)return d;E.parentNode.removeChild(E)}if(g){var O=c++;E=l||(l=w()),S=V.bind(null,E,O,!1),P=V.bind(null,E,O,!0)}else E=w(),S=_.bind(null,E),P=function(){E.parentNode.removeChild(E)};return S(x),function(F){if(F){if(F.css===x.css&&F.media===x.media&&F.sourceMap===x.sourceMap)return;S(x=F)}else P()}}var C=function(){var x=[];return function(S,P){return x[S]=P,x.filter(Boolean).join(`
`)}}();function V(x,S,P,E){var O=P?"":E.css;if(x.styleSheet)x.styleSheet.cssText=C(S,O);else{var I=document.createTextNode(O),F=x.childNodes;F[S]&&x.removeChild(F[S]),F.length?x.insertBefore(I,F[S]):x.appendChild(I)}}function _(x,S){var P=S.css,E=S.media,O=S.sourceMap;if(E&&x.setAttribute("media",E),p.ssrId&&x.setAttribute(f,S.id),O&&(P+=`
/*# sourceURL=`+O.sources[0]+" */",P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */"),x.styleSheet)x.styleSheet.cssText=P;else{for(;x.firstChild;)x.removeChild(x.firstChild);x.appendChild(document.createTextNode(P))}}},"49ad":function(e,n,o){e.exports=function(a){var s={};function r(u){var d=a.get(u);return d===void 0?[]:s[d]||[]}function i(u,d){var p=a.get(u);s[p]||(s[p]=[]),s[p].push(d)}function l(u,d){for(var p=r(u),f=0,g=p.length;f<g;++f)if(p[f]===d){p.splice(f,1);break}}function c(u){var d=r(u);d&&(d.length=0)}return{get:r,add:i,removeListener:l,removeAllListeners:c}}},"4bf8":function(e,n,o){var a=o("be13");e.exports=function(s){return Object(a(s))}},5058:function(e,n,o){e.exports=function(a){var s=a.idGenerator,r=a.stateHandler.getState;function i(c){var u=r(c);return u&&u.id!==void 0?u.id:null}function l(c){var u=r(c);if(!u)throw new Error("setId required the element to have a resize detection state.");var d=s.generate();return u.id=d,d}return{get:i,set:l}}},"50bf":function(e,n,o){var a=e.exports={};a.getOption=s;function s(r,i,l){var c=r[i];return c==null&&l!==void 0?l:c}},"520a":function(e,n,o){var a=o("0bfb"),s=RegExp.prototype.exec,r=String.prototype.replace,i=s,l="lastIndex",c=function(){var p=/a/,f=/b*/g;return s.call(p,"a"),s.call(f,"a"),p[l]!==0||f[l]!==0}(),u=/()??/.exec("")[1]!==void 0,d=c||u;d&&(i=function(f){var g=this,v,y,w,b;return u&&(y=new RegExp("^"+g.source+"$(?!\\s)",a.call(g))),c&&(v=g[l]),w=s.call(g,f),c&&w&&(g[l]=g.global?w.index+w[0].length:v),u&&w&&w.length>1&&r.call(w[0],y,function(){for(b=1;b<arguments.length-2;b++)arguments[b]===void 0&&(w[b]=void 0)}),w}),e.exports=i},"52a7":function(e,n){n.f={}.propertyIsEnumerable},5537:function(e,n,o){var a=o("8378"),s=o("7726"),r="__core-js_shared__",i=s[r]||(s[r]={});(e.exports=function(l,c){return i[l]||(i[l]=c!==void 0?c:{})})("versions",[]).push({version:a.version,mode:o("2d00")?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"55dd":function(e,n,o){var a=o("5ca1"),s=o("d8e8"),r=o("4bf8"),i=o("79e5"),l=[].sort,c=[1,2,3];a(a.P+a.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!o("2f21")(l)),"Array",{sort:function(d){return d===void 0?l.call(r(this)):l.call(r(this),s(d))}})},"5be5":function(e,n,o){e.exports=function(a){var s=a.stateHandler.getState;function r(u){var d=s(u);return d&&!!d.isDetectable}function i(u){s(u).isDetectable=!0}function l(u){return!!s(u).busy}function c(u,d){s(u).busy=!!d}return{isDetectable:r,markAsDetectable:i,isBusy:l,markBusy:c}}},"5ca1":function(e,n,o){var a=o("7726"),s=o("8378"),r=o("32e9"),i=o("2aba"),l=o("9b43"),c="prototype",u=function(d,p,f){var g=d&u.F,v=d&u.G,y=d&u.S,w=d&u.P,b=d&u.B,C=v?a:y?a[p]||(a[p]={}):(a[p]||{})[c],V=v?s:s[p]||(s[p]={}),_=V[c]||(V[c]={}),x,S,P,E;v&&(f=p);for(x in f)S=!g&&C&&C[x]!==void 0,P=(S?C:f)[x],E=b&&S?l(P,a):w&&typeof P=="function"?l(Function.call,P):P,C&&i(C,x,P,d&u.U),V[x]!=P&&r(V,x,E),w&&_[x]!=P&&(_[x]=P)};a.core=s,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5dbc":function(e,n,o){var a=o("d3f4"),s=o("8b97").set;e.exports=function(r,i,l){var c=i.constructor,u;return c!==l&&typeof c=="function"&&(u=c.prototype)!==l.prototype&&a(u)&&s&&s(r,u),r}},"5eda":function(e,n,o){var a=o("5ca1"),s=o("8378"),r=o("79e5");e.exports=function(i,l){var c=(s.Object||{})[i]||Object[i],u={};u[i]=l(c),a(a.S+a.F*r(function(){c(1)}),"Object",u)}},"5f1b":function(e,n,o){var a=o("23c6"),s=RegExp.prototype.exec;e.exports=function(r,i){var l=r.exec;if(typeof l=="function"){var c=l.call(r,i);if(typeof c!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if(a(r)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return s.call(r,i)}},"613b":function(e,n,o){var a=o("5537")("keys"),s=o("ca5a");e.exports=function(r){return a[r]||(a[r]=s(r))}},"626a":function(e,n,o){var a=o("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return a(s)=="String"?s.split(""):Object(s)}},6521:function(e,n,o){o("92bf")},6821:function(e,n,o){var a=o("626a"),s=o("be13");e.exports=function(r){return a(s(r))}},"69a8":function(e,n){var o={}.hasOwnProperty;e.exports=function(a,s){return o.call(a,s)}},"6a99":function(e,n,o){var a=o("d3f4");e.exports=function(s,r){if(!a(s))return s;var i,l;if(r&&typeof(i=s.toString)=="function"&&!a(l=i.call(s))||typeof(i=s.valueOf)=="function"&&!a(l=i.call(s))||!r&&typeof(i=s.toString)=="function"&&!a(l=i.call(s)))return l;throw TypeError("Can't convert object to primitive value")}},7333:function(e,n,o){var a=o("9e1e"),s=o("0d58"),r=o("2621"),i=o("52a7"),l=o("4bf8"),c=o("626a"),u=Object.assign;e.exports=!u||o("79e5")(function(){var d={},p={},f=Symbol(),g="abcdefghijklmnopqrst";return d[f]=7,g.split("").forEach(function(v){p[v]=v}),u({},d)[f]!=7||Object.keys(u({},p)).join("")!=g})?function(p,f){for(var g=l(p),v=arguments.length,y=1,w=r.f,b=i.f;v>y;)for(var C=c(arguments[y++]),V=w?s(C).concat(w(C)):s(C),_=V.length,x=0,S;_>x;)S=V[x++],(!a||b.call(C,S))&&(g[S]=C[S]);return g}:u},7726:function(e,n){var o=e.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=o)},"77f1":function(e,n,o){var a=o("4588"),s=Math.max,r=Math.min;e.exports=function(i,l){return i=a(i),i<0?s(i+l,0):r(i,l)}},"79e5":function(e,n){e.exports=function(o){try{return!!o()}catch{return!0}}},"7f20":function(e,n,o){var a=o("86cc").f,s=o("69a8"),r=o("2b4c")("toStringTag");e.exports=function(i,l,c){i&&!s(i=c?i:i.prototype,r)&&a(i,r,{configurable:!0,value:l})}},8378:function(e,n){var o=e.exports={version:"2.6.12"};typeof __e=="number"&&(__e=o)},"848e":function(e,n,o){var a=o("24fb");n=a(!1),n.push([e.i,".vue-grid-layout{position:relative;-webkit-transition:height .2s ease;transition:height .2s ease}",""]),e.exports=n},"84f2":function(e,n){e.exports={}},"86cc":function(e,n,o){var a=o("cb7c"),s=o("c69a"),r=o("6a99"),i=Object.defineProperty;n.f=o("9e1e")?Object.defineProperty:function(c,u,d){if(a(c),u=r(u,!0),a(d),s)try{return i(c,u,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(c[u]=d.value),c}},8875:function(e,n,o){var a,s,r;(function(i,l){s=[],a=l,r=typeof a=="function"?a.apply(n,s):a,r!==void 0&&(e.exports=r)})(typeof self<"u"?self:this,function(){function i(){var l=Object.getOwnPropertyDescriptor(document,"currentScript");if(!l&&"currentScript"in document&&document.currentScript||l&&l.get!==i&&document.currentScript)return document.currentScript;try{throw new Error}catch(V){var c=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,u=/@([^@]*):(\d+):(\d+)\s*$/ig,d=c.exec(V.stack)||u.exec(V.stack),p=d&&d[1]||!1,f=d&&d[2]||!1,g=document.location.href.replace(document.location.hash,""),v,y,w,b=document.getElementsByTagName("script");p===g&&(v=document.documentElement.outerHTML,y=new RegExp("(?:[^\\n]+?\\n){0,"+(f-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),w=v.replace(y,"$1").trim());for(var C=0;C<b.length;C++)if(b[C].readyState==="interactive"||b[C].src===p||p===g&&b[C].innerHTML&&b[C].innerHTML.trim()===w)return b[C];return null}}return i})},"8b97":function(e,n,o){var a=o("d3f4"),s=o("cb7c"),r=function(i,l){if(s(i),!a(l)&&l!==null)throw TypeError(l+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(i,l,c){try{c=o("9b43")(Function.call,o("11e9").f(Object.prototype,"__proto__").set,2),c(i,[]),l=!(i instanceof Array)}catch{l=!0}return function(d,p){return r(d,p),l?d.__proto__=p:c(d,p),d}}({},!1):void 0),check:r}},"8bbf":function(e,n){e.exports=window.Vue},"8e6e":function(e,n,o){var a=o("5ca1"),s=o("990b"),r=o("6821"),i=o("11e9"),l=o("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(u){for(var d=r(u),p=i.f,f=s(d),g={},v=0,y,w;f.length>v;)w=p(d,y=f[v++]),w!==void 0&&l(g,y,w);return g}})},9093:function(e,n,o){var a=o("ce10"),s=o("e11e").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(i){return a(i,s)}},"92bf":function(e,n,o){var a=o("848e");typeof a=="string"&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=o("499e").default;s("ff1827d0",a,!0,{sourceMap:!1,shadowMode:!1})},"990b":function(e,n,o){var a=o("9093"),s=o("2621"),r=o("cb7c"),i=o("7726").Reflect;e.exports=i&&i.ownKeys||function(c){var u=a.f(r(c)),d=s.f;return d?u.concat(d(c)):u}},"9b43":function(e,n,o){var a=o("d8e8");e.exports=function(s,r,i){if(a(s),r===void 0)return s;switch(i){case 1:return function(l){return s.call(r,l)};case 2:return function(l,c){return s.call(r,l,c)};case 3:return function(l,c,u){return s.call(r,l,c,u)}}return function(){return s.apply(r,arguments)}}},"9c6c":function(e,n,o){var a=o("2b4c")("unscopables"),s=Array.prototype;s[a]==null&&o("32e9")(s,a,{}),e.exports=function(r){s[a][r]=!0}},"9def":function(e,n,o){var a=o("4588"),s=Math.min;e.exports=function(r){return r>0?s(a(r),9007199254740991):0}},"9e1e":function(e,n,o){e.exports=!o("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a481:function(e,n,o){var a=o("cb7c"),s=o("4bf8"),r=o("9def"),i=o("4588"),l=o("0390"),c=o("5f1b"),u=Math.max,d=Math.min,p=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g,v=function(y){return y===void 0?y:String(y)};o("214f")("replace",2,function(y,w,b,C){return[function(x,S){var P=y(this),E=x==null?void 0:x[w];return E!==void 0?E.call(x,P,S):b.call(String(P),x,S)},function(_,x){var S=C(b,_,this,x);if(S.done)return S.value;var P=a(_),E=String(this),O=typeof x=="function";O||(x=String(x));var I=P.global;if(I){var F=P.unicode;P.lastIndex=0}for(var L=[];;){var H=c(P,E);if(H===null||(L.push(H),!I))break;var W=String(H[0]);W===""&&(P.lastIndex=l(E,r(P.lastIndex),F))}for(var Y="",U=0,q=0;q<L.length;q++){H=L[q];for(var ye=String(H[0]),we=u(d(i(H.index),E.length),0),oe=[],pe=1;pe<H.length;pe++)oe.push(v(H[pe]));var he=H.groups;if(O){var Ne=[ye].concat(oe,we,E);he!==void 0&&Ne.push(he);var Se=String(x.apply(void 0,Ne))}else Se=V(ye,E,we,oe,he,x);we>=U&&(Y+=E.slice(U,we)+Se,U=we+ye.length)}return Y+E.slice(U)}];function V(_,x,S,P,E,O){var I=S+_.length,F=P.length,L=g;return E!==void 0&&(E=s(E),L=f),b.call(O,L,function(H,W){var Y;switch(W.charAt(0)){case"$":return"$";case"&":return _;case"`":return x.slice(0,S);case"'":return x.slice(I);case"<":Y=E[W.slice(1,-1)];break;default:var U=+W;if(U===0)return H;if(U>F){var q=p(U/10);return q===0?H:q<=F?P[q-1]===void 0?W.charAt(1):P[q-1]+W.charAt(1):H}Y=P[U-1]}return Y===void 0?"":Y})}})},aa77:function(e,n,o){var a=o("5ca1"),s=o("be13"),r=o("79e5"),i=o("fdef"),l="["+i+"]",c="​",u=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),p=function(g,v,y){var w={},b=r(function(){return!!i[g]()||c[g]()!=c}),C=w[g]=b?v(f):i[g];y&&(w[y]=C),a(a.P+a.F*b,"String",w)},f=p.trim=function(g,v){return g=String(s(g)),v&1&&(g=g.replace(u,"")),v&2&&(g=g.replace(d,"")),g};e.exports=p},abb4:function(e,n,o){e.exports=function(a){function s(){}var r={log:s,warn:s,error:s};if(!a&&window.console){var i=function(l,c){l[c]=function(){var d=console[c];if(d.apply)d.apply(console,arguments);else for(var p=0;p<arguments.length;p++)d(arguments[p])}};i(r,"log"),i(r,"warn"),i(r,"error")}return r}},ac6a:function(e,n,o){for(var a=o("cadf"),s=o("0d58"),r=o("2aba"),i=o("7726"),l=o("32e9"),c=o("84f2"),u=o("2b4c"),d=u("iterator"),p=u("toStringTag"),f=c.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=s(g),y=0;y<v.length;y++){var w=v[y],b=g[w],C=i[w],V=C&&C.prototype,_;if(V&&(V[d]||l(V,d,f),V[p]||l(V,p,w),c[w]=f,b))for(_ in a)V[_]||r(V,_,a[_],!0)}},b0c5:function(e,n,o){var a=o("520a");o("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},b770:function(e,n,o){var a=e.exports={};a.forEach=function(s,r){for(var i=0;i<s.length;i++){var l=r(s[i]);if(l)return l}}},be13:function(e,n){e.exports=function(o){if(o==null)throw TypeError("Can't call method on  "+o);return o}},c274:function(e,n,o){var a=o("50bf");e.exports=function(i){i=i||{};var l=i.reporter,c=a.getOption(i,"async",!0),u=a.getOption(i,"auto",!0);u&&!c&&(l&&l.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),c=!0);var d=s(),p,f=!1;function g(V,_){!f&&u&&c&&d.size()===0&&w(),d.add(V,_)}function v(){for(f=!0;d.size();){var V=d;d=s(),V.process()}f=!1}function y(V){f||(V===void 0&&(V=c),p&&(b(p),p=null),V?w():v())}function w(){p=C(v)}function b(V){var _=clearTimeout;return _(V)}function C(V){var _=function(x){return setTimeout(x,0)};return _(V)}return{add:g,force:y}};function s(){var r={},i=0,l=0,c=0;function u(f,g){g||(g=f,f=0),f>l?l=f:f<c&&(c=f),r[f]||(r[f]=[]),r[f].push(g),i++}function d(){for(var f=c;f<=l;f++)for(var g=r[f],v=0;v<g.length;v++){var y=g[v];y()}}function p(){return i}return{add:u,process:d,size:p}}},c366:function(e,n,o){var a=o("6821"),s=o("9def"),r=o("77f1");e.exports=function(i){return function(l,c,u){var d=a(l),p=s(d.length),f=r(u,p),g;if(i&&c!=c){for(;p>f;)if(g=d[f++],g!=g)return!0}else for(;p>f;f++)if((i||f in d)&&d[f]===c)return i||f||0;return!i&&-1}}},c541:function(e,n,o){var a=o("493e");typeof a=="string"&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=o("499e").default;s("40158674",a,!0,{sourceMap:!1,shadowMode:!1})},c5f6:function(e,n,o){var a=o("7726"),s=o("69a8"),r=o("2d95"),i=o("5dbc"),l=o("6a99"),c=o("79e5"),u=o("9093").f,d=o("11e9").f,p=o("86cc").f,f=o("aa77").trim,g="Number",v=a[g],y=v,w=v.prototype,b=r(o("2aeb")(w))==g,C="trim"in String.prototype,V=function(P){var E=l(P,!1);if(typeof E=="string"&&E.length>2){E=C?E.trim():f(E,3);var O=E.charCodeAt(0),I,F,L;if(O===43||O===45){if(I=E.charCodeAt(2),I===88||I===120)return NaN}else if(O===48){switch(E.charCodeAt(1)){case 66:case 98:F=2,L=49;break;case 79:case 111:F=8,L=55;break;default:return+E}for(var H=E.slice(2),W=0,Y=H.length,U;W<Y;W++)if(U=H.charCodeAt(W),U<48||U>L)return NaN;return parseInt(H,F)}}return+E};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(E){var O=arguments.length<1?0:E,I=this;return I instanceof v&&(b?c(function(){w.valueOf.call(I)}):r(I)!=g)?i(new y(V(O)),I,v):V(O)};for(var _=o("9e1e")?u(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0,S;_.length>x;x++)s(y,S=_[x])&&!s(v,S)&&p(v,S,d(y,S));v.prototype=w,w.constructor=v,o("2aba")(a,g,v)}},c69a:function(e,n,o){e.exports=!o("9e1e")&&!o("79e5")(function(){return Object.defineProperty(o("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c946:function(e,n,o){var a=o("b770").forEach;e.exports=function(s){s=s||{};var r=s.reporter,i=s.batchProcessor,l=s.stateHandler.getState;s.stateHandler.hasState;var c=s.idHandler;if(!i)throw new Error("Missing required dependency: batchProcessor");if(!r)throw new Error("Missing required dependency: reporter.");var u=v(),d="erd_scroll_detection_scrollbar_style",p="erd_scroll_detection_container";function f(E){y(E,d,p)}f(window.document);function g(E){var O=s.important?" !important; ":"; ";return(E.join(O)+O).trim()}function v(){var E=500,O=500,I=document.createElement("div");I.style.cssText=g(["position: absolute","width: "+E*2+"px","height: "+O*2+"px","visibility: hidden","margin: 0","padding: 0"]);var F=document.createElement("div");F.style.cssText=g(["position: absolute","width: "+E+"px","height: "+O+"px","overflow: scroll","visibility: none","top: "+-E*3+"px","left: "+-O*3+"px","visibility: hidden","margin: 0","padding: 0"]),F.appendChild(I),document.body.insertBefore(F,document.body.firstChild);var L=E-F.clientWidth,H=O-F.clientHeight;return document.body.removeChild(F),{width:L,height:H}}function y(E,O,I){function F(Y,U){U=U||function(ye){E.head.appendChild(ye)};var q=E.createElement("style");return q.innerHTML=Y,q.id=O,U(q),q}if(!E.getElementById(O)){var L=I+"_animation",H=I+"_animation_active",W=`/* Created by the element-resize-detector library. */
`;W+="."+I+" > div::-webkit-scrollbar { "+g(["display: none"])+` }

`,W+="."+H+" { "+g(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+L,"animation-name: "+L])+` }
`,W+="@-webkit-keyframes "+L+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,W+="@keyframes "+L+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",F(W)}}function w(E){E.className+=" "+p+"_animation_active"}function b(E,O,I){if(E.addEventListener)E.addEventListener(O,I);else if(E.attachEvent)E.attachEvent("on"+O,I);else return r.error("[scroll] Don't know how to add event listeners.")}function C(E,O,I){if(E.removeEventListener)E.removeEventListener(O,I);else if(E.detachEvent)E.detachEvent("on"+O,I);else return r.error("[scroll] Don't know how to remove event listeners.")}function V(E){return l(E).container.childNodes[0].childNodes[0].childNodes[0]}function _(E){return l(E).container.childNodes[0].childNodes[0].childNodes[1]}function x(E,O){var I=l(E).listeners;if(!I.push)throw new Error("Cannot add listener to an element that is not detectable.");l(E).listeners.push(O)}function S(E,O,I){I||(I=O,O=E,E=null),E=E||{};function F(){if(E.debug){var fe=Array.prototype.slice.call(arguments);if(fe.unshift(c.get(O),"Scroll: "),r.log.apply)r.log.apply(null,fe);else for(var Ue=0;Ue<fe.length;Ue++)r.log(fe[Ue])}}function L(fe){function Ue(_e){return _e===_e.ownerDocument.body||_e.ownerDocument.body.contains(_e)}return!Ue(fe)||window.getComputedStyle(fe)===null}function H(fe){var Ue=l(fe).container.childNodes[0],_e=window.getComputedStyle(Ue);return!_e.width||_e.width.indexOf("px")===-1}function W(){var fe=window.getComputedStyle(O),Ue={};return Ue.position=fe.position,Ue.width=O.offsetWidth,Ue.height=O.offsetHeight,Ue.top=fe.top,Ue.right=fe.right,Ue.bottom=fe.bottom,Ue.left=fe.left,Ue.widthCSS=fe.width,Ue.heightCSS=fe.height,Ue}function Y(){var fe=W();l(O).startSize={width:fe.width,height:fe.height},F("Element start size",l(O).startSize)}function U(){l(O).listeners=[]}function q(){if(F("storeStyle invoked."),!l(O)){F("Aborting because element has been uninstalled");return}var fe=W();l(O).style=fe}function ye(fe,Ue,_e){l(fe).lastWidth=Ue,l(fe).lastHeight=_e}function we(fe){return V(fe).childNodes[0]}function oe(){return 2*u.width+1}function pe(){return 2*u.height+1}function he(fe){return fe+10+oe()}function Ne(fe){return fe+10+pe()}function Se(fe){return fe*2+oe()}function qe(fe){return fe*2+pe()}function Ke(fe,Ue,_e){var Et=V(fe),dt=_(fe),Ut=he(Ue),ft=Ne(_e),xe=Se(Ue),tt=qe(_e);Et.scrollLeft=Ut,Et.scrollTop=ft,dt.scrollLeft=xe,dt.scrollTop=tt}function Z(){var fe=l(O).container;if(!fe){fe=document.createElement("div"),fe.className=p,fe.style.cssText=g(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),l(O).container=fe,w(fe),O.appendChild(fe);var Ue=function(){l(O).onRendered&&l(O).onRendered()};b(fe,"animationstart",Ue),l(O).onAnimationStart=Ue}return fe}function me(){function fe(){var Ae=l(O).style;if(Ae.position==="static"){O.style.setProperty("position","relative",E.important?"important":"");var Qe=function(et,Re,Vt,je){function Me(mt){return mt.replace(/[^-\d\.]/g,"")}var Je=Vt[je];Je!=="auto"&&Me(Je)!=="0"&&(et.warn("An element that is positioned static has style."+je+"="+Je+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+je+" will be set to 0. Element: ",Re),Re.style[je]=0)};Qe(r,O,Ae,"top"),Qe(r,O,Ae,"right"),Qe(r,O,Ae,"bottom"),Qe(r,O,Ae,"left")}}function Ue(Ae,Qe,et,Re){return Ae=Ae?Ae+"px":"0",Qe=Qe?Qe+"px":"0",et=et?et+"px":"0",Re=Re?Re+"px":"0",["left: "+Ae,"top: "+Qe,"right: "+Re,"bottom: "+et]}if(F("Injecting elements"),!l(O)){F("Aborting because element has been uninstalled");return}fe();var _e=l(O).container;_e||(_e=Z());var Et=u.width,dt=u.height,Ut=g(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),ft=g(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(Ue(-(1+Et),-(1+dt),-dt,-Et))),xe=g(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),tt=g(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ct=g(["position: absolute","left: 0","top: 0"]),pn=g(["position: absolute","width: 200%","height: 200%"]),Vn=document.createElement("div"),Ce=document.createElement("div"),jt=document.createElement("div"),Zn=document.createElement("div"),ee=document.createElement("div"),te=document.createElement("div");Vn.dir="ltr",Vn.style.cssText=Ut,Vn.className=p,Ce.className=p,Ce.style.cssText=ft,jt.style.cssText=xe,Zn.style.cssText=ct,ee.style.cssText=tt,te.style.cssText=pn,jt.appendChild(Zn),ee.appendChild(te),Ce.appendChild(jt),Ce.appendChild(ee),Vn.appendChild(Ce),_e.appendChild(Vn);function ge(){l(O).onExpand&&l(O).onExpand()}function Pe(){l(O).onShrink&&l(O).onShrink()}b(jt,"scroll",ge),b(ee,"scroll",Pe),l(O).onExpandScroll=ge,l(O).onShrinkScroll=Pe}function He(){function fe(xe,tt,ct){var pn=we(xe),Vn=he(tt),Ce=Ne(ct);pn.style.setProperty("width",Vn+"px",E.important?"important":""),pn.style.setProperty("height",Ce+"px",E.important?"important":"")}function Ue(xe){var tt=O.offsetWidth,ct=O.offsetHeight,pn=tt!==l(O).lastWidth||ct!==l(O).lastHeight;F("Storing current size",tt,ct),ye(O,tt,ct),i.add(0,function(){if(pn){if(!l(O)){F("Aborting because element has been uninstalled");return}if(!_e()){F("Aborting because element container has not been initialized");return}if(E.debug){var Ce=O.offsetWidth,jt=O.offsetHeight;(Ce!==tt||jt!==ct)&&r.warn(c.get(O),"Scroll: Size changed before updating detector elements.")}fe(O,tt,ct)}}),i.add(1,function(){if(!l(O)){F("Aborting because element has been uninstalled");return}if(!_e()){F("Aborting because element container has not been initialized");return}Ke(O,tt,ct)}),pn&&xe&&i.add(2,function(){if(!l(O)){F("Aborting because element has been uninstalled");return}if(!_e()){F("Aborting because element container has not been initialized");return}xe()})}function _e(){return!!l(O).container}function Et(){function xe(){return l(O).lastNotifiedWidth===void 0}F("notifyListenersIfNeeded invoked");var tt=l(O);if(xe()&&tt.lastWidth===tt.startSize.width&&tt.lastHeight===tt.startSize.height)return F("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(tt.lastWidth===tt.lastNotifiedWidth&&tt.lastHeight===tt.lastNotifiedHeight)return F("Not notifying: Size already notified");F("Current size not notified, notifying..."),tt.lastNotifiedWidth=tt.lastWidth,tt.lastNotifiedHeight=tt.lastHeight,a(l(O).listeners,function(ct){ct(O)})}function dt(){if(F("startanimation triggered."),H(O)){F("Ignoring since element is still unrendered...");return}F("Element rendered.");var xe=V(O),tt=_(O);(xe.scrollLeft===0||xe.scrollTop===0||tt.scrollLeft===0||tt.scrollTop===0)&&(F("Scrollbars out of sync. Updating detector elements..."),Ue(Et))}function Ut(){if(F("Scroll detected."),H(O)){F("Scroll event fired while unrendered. Ignoring...");return}Ue(Et)}if(F("registerListenersAndPositionElements invoked."),!l(O)){F("Aborting because element has been uninstalled");return}l(O).onRendered=dt,l(O).onExpand=Ut,l(O).onShrink=Ut;var ft=l(O).style;fe(O,ft.width,ft.height)}function Ie(){if(F("finalizeDomMutation invoked."),!l(O)){F("Aborting because element has been uninstalled");return}var fe=l(O).style;ye(O,fe.width,fe.height),Ke(O,fe.width,fe.height)}function Ge(){I(O)}function Fe(){F("Installing..."),U(),Y(),i.add(0,q),i.add(1,me),i.add(2,He),i.add(3,Ie),i.add(4,Ge)}F("Making detectable..."),L(O)?(F("Element is detached"),Z(),F("Waiting until element is attached..."),l(O).onRendered=function(){F("Element is now attached"),Fe()}):Fe()}function P(E){var O=l(E);O&&(O.onExpandScroll&&C(V(E),"scroll",O.onExpandScroll),O.onShrinkScroll&&C(_(E),"scroll",O.onShrinkScroll),O.onAnimationStart&&C(O.container,"animationstart",O.onAnimationStart),O.container&&E.removeChild(O.container))}return{makeDetectable:S,addListener:x,uninstall:P,initDocument:f}}},ca5a:function(e,n){var o=0,a=Math.random();e.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++o+a).toString(36))}},cadf:function(e,n,o){var a=o("9c6c"),s=o("d53b"),r=o("84f2"),i=o("6821");e.exports=o("01f9")(Array,"Array",function(l,c){this._t=i(l),this._i=0,this._k=c},function(){var l=this._t,c=this._k,u=this._i++;return!l||u>=l.length?(this._t=void 0,s(1)):c=="keys"?s(0,u):c=="values"?s(0,l[u]):s(0,[u,l[u]])},"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},cb7c:function(e,n,o){var a=o("d3f4");e.exports=function(s){if(!a(s))throw TypeError(s+" is not an object!");return s}},ce10:function(e,n,o){var a=o("69a8"),s=o("6821"),r=o("c366")(!1),i=o("613b")("IE_PROTO");e.exports=function(l,c){var u=s(l),d=0,p=[],f;for(f in u)f!=i&&a(u,f)&&p.push(f);for(;c.length>d;)a(u,f=c[d++])&&(~r(p,f)||p.push(f));return p}},d3f4:function(e,n){e.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},d53b:function(e,n){e.exports=function(o,a){return{value:a,done:!!o}}},d6eb:function(e,n,o){var a="_erd";function s(l){return l[a]={},r(l)}function r(l){return l[a]}function i(l){delete l[a]}e.exports={initState:s,getState:r,cleanState:i}},d8e8:function(e,n){e.exports=function(o){if(typeof o!="function")throw TypeError(o+" is not a function!");return o}},e11e:function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},eec4:function(e,n,o){var a=o("b770").forEach,s=o("5be5"),r=o("49ad"),i=o("2cef"),l=o("5058"),c=o("abb4"),u=o("18e9"),d=o("c274"),p=o("d6eb"),f=o("18d2"),g=o("c946");function v(C){return Array.isArray(C)||C.length!==void 0}function y(C){if(Array.isArray(C))return C;var V=[];return a(C,function(_){V.push(_)}),V}function w(C){return C&&C.nodeType===1}e.exports=function(C){C=C||{};var V;if(C.idHandler)V={get:function(oe){return C.idHandler.get(oe,!0)},set:C.idHandler.set};else{var _=i(),x=l({idGenerator:_,stateHandler:p});V=x}var S=C.reporter;if(!S){var P=S===!1;S=c(P)}var E=b(C,"batchProcessor",d({reporter:S})),O={};O.callOnAdd=!!b(C,"callOnAdd",!0),O.debug=!!b(C,"debug",!1);var I=r(V),F=s({stateHandler:p}),L,H=b(C,"strategy","object"),W=b(C,"important",!1),Y={reporter:S,batchProcessor:E,stateHandler:p,idHandler:V,important:W};if(H==="scroll"&&(u.isLegacyOpera()?(S.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),H="object"):u.isIE(9)&&(S.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),H="object")),H==="scroll")L=g(Y);else if(H==="object")L=f(Y);else throw new Error("Invalid strategy name: "+H);var U={};function q(oe,pe,he){function Ne(He){var Ie=I.get(He);a(Ie,function(Fe){Fe(He)})}function Se(He,Ie,Ge){I.add(Ie,Ge),He&&Ge(Ie)}if(he||(he=pe,pe=oe,oe={}),!pe)throw new Error("At least one element required.");if(!he)throw new Error("Listener required.");if(w(pe))pe=[pe];else if(v(pe))pe=y(pe);else return S.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var qe=0,Ke=b(oe,"callOnAdd",O.callOnAdd),Z=b(oe,"onReady",function(){}),me=b(oe,"debug",O.debug);a(pe,function(Ie){p.getState(Ie)||(p.initState(Ie),V.set(Ie));var Ge=V.get(Ie);if(me&&S.log("Attaching listener to element",Ge,Ie),!F.isDetectable(Ie)){if(me&&S.log(Ge,"Not detectable."),F.isBusy(Ie)){me&&S.log(Ge,"System busy making it detectable"),Se(Ke,Ie,he),U[Ge]=U[Ge]||[],U[Ge].push(function(){qe++,qe===pe.length&&Z()});return}return me&&S.log(Ge,"Making detectable..."),F.markBusy(Ie,!0),L.makeDetectable({debug:me,important:W},Ie,function(fe){if(me&&S.log(Ge,"onElementDetectable"),p.getState(fe)){F.markAsDetectable(fe),F.markBusy(fe,!1),L.addListener(fe,Ne),Se(Ke,fe,he);var Ue=p.getState(fe);if(Ue&&Ue.startSize){var _e=fe.offsetWidth,Et=fe.offsetHeight;(Ue.startSize.width!==_e||Ue.startSize.height!==Et)&&Ne(fe)}U[Ge]&&a(U[Ge],function(dt){dt()})}else me&&S.log(Ge,"Element uninstalled before being detectable.");delete U[Ge],qe++,qe===pe.length&&Z()})}me&&S.log(Ge,"Already detecable, adding listener."),Se(Ke,Ie,he),qe++}),qe===pe.length&&Z()}function ye(oe){if(!oe)return S.error("At least one element is required.");if(w(oe))oe=[oe];else if(v(oe))oe=y(oe);else return S.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");a(oe,function(pe){I.removeAllListeners(pe),L.uninstall(pe),p.cleanState(pe)})}function we(oe){L.initDocument&&L.initDocument(oe)}return{listenTo:q,removeListener:I.removeListener,removeAllListeners:I.removeAllListeners,uninstall:ye,initDocument:we}};function b(C,V,_){var x=C[V];return x==null&&_!==void 0?_:x}},f1ae:function(e,n,o){var a=o("86cc"),s=o("4630");e.exports=function(r,i,l){i in r?a.f(r,i,s(0,l)):r[i]=l}},f751:function(e,n,o){var a=o("5ca1");a(a.S+a.F,"Object",{assign:o("7333")})},fa5b:function(e,n,o){e.exports=o("5537")("native-function-to-string",Function.toString)},fab2:function(e,n,o){var a=o("7726").document;e.exports=a&&a.documentElement},fb15:function(e,n,o){o.r(n),o.d(n,"GridLayout",function(){return o8}),o.d(n,"GridItem",function(){return A$});var a={};if(o.r(a),o.d(a,"edgeTarget",function(){return Il}),o.d(a,"elements",function(){return Ui}),o.d(a,"grid",function(){return Dc}),typeof window<"u"){var s=window.document.currentScript;{var r=o("8875");s=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r})}var i=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(o.p=i[1])}var l=o("8bbf");function c(m,h,$,T,M,N){return Object(l.openBlock)(),Object(l.createBlock)("div",{ref:"item",class:["vue-grid-item",N.classObj],style:m.style},[Object(l.renderSlot)(m.$slots,"default"),N.resizableAndNotStatic?(Object(l.openBlock)(),Object(l.createBlock)("span",{key:0,ref:"handle",class:N.resizableHandleClass},null,2)):Object(l.createCommentVNode)("",!0)],6)}o("a481"),o("4917"),o("c5f6"),o("cadf"),o("456d"),o("ac6a"),o("55dd");function u(m){for(var h=0,$,T=0,M=m.length;T<M;T++)$=m[T].y+m[T].h,$>h&&(h=$);return h}function d(m){for(var h=Array(m.length),$=0,T=m.length;$<T;$++)h[$]=p(m[$]);return h}function p(m){return JSON.parse(JSON.stringify(m))}function f(m,h){return!(m===h||m.x+m.w<=h.x||m.x>=h.x+h.w||m.y+m.h<=h.y||m.y>=h.y+h.h)}function g(m,h){for(var $=V(m),T=I(m),M=Array(m.length),N=0,z=T.length;N<z;N++){var K=T[N];K.static||(K=v($,K,h),$.push(K)),M[m.indexOf(K)]=K,K.moved=!1}return M}function v(m,h,$){if($)for(;h.y>0&&!b(m,h);)h.y--;for(var T;T=b(m,h);)h.y=T.y+T.h;return h}function y(m,h){for(var $=V(m),T=0,M=m.length;T<M;T++){var N=m[T];if(N.x+N.w>h.cols&&(N.x=h.cols-N.w),N.x<0&&(N.x=0,N.w=h.cols),!N.static)$.push(N);else for(;b($,N);)N.y++}return m}function w(m,h){for(var $=0,T=m.length;$<T;$++)if(m[$].i===h)return m[$]}function b(m,h){for(var $=0,T=m.length;$<T;$++)if(f(m[$],h))return m[$]}function C(m,h){return m.filter(function($){return f($,h)})}function V(m){return m.filter(function(h){return h.static})}function _(m,h,$,T,M,N){if(h.static)return m;var z=h.x,K=h.y,ne=T&&h.y>T;typeof $=="number"&&(h.x=$),typeof T=="number"&&(h.y=T),h.moved=!0;var ve=I(m);ne&&(ve=ve.reverse());var Oe=C(ve,h);if(N&&Oe.length)return h.x=z,h.y=K,h.moved=!1,m;for(var ke=0,We=Oe.length;ke<We;ke++){var bt=Oe[ke];bt.moved||h.y>bt.y&&h.y-bt.y>bt.h/4||(bt.static?m=x(m,bt,h,M):m=x(m,h,bt,M))}return m}function x(m,h,$,T){var M=!1;if(T){var N={x:$.x,y:$.y,w:$.w,h:$.h,i:"-1"};if(N.y=Math.max(h.y-$.h,0),!b(m,N))return _(m,$,void 0,N.y,M)}return _(m,$,void 0,$.y+1,M)}function S(m,h,$,T){var M="translate3d("+h+"px,"+m+"px, 0)";return{transform:M,WebkitTransform:M,MozTransform:M,msTransform:M,OTransform:M,width:$+"px",height:T+"px",position:"absolute"}}function P(m,h,$,T){var M="translate3d("+h*-1+"px,"+m+"px, 0)";return{transform:M,WebkitTransform:M,MozTransform:M,msTransform:M,OTransform:M,width:$+"px",height:T+"px",position:"absolute"}}function E(m,h,$,T){return{top:m+"px",left:h+"px",width:$+"px",height:T+"px",position:"absolute"}}function O(m,h,$,T){return{top:m+"px",right:h+"px",width:$+"px",height:T+"px",position:"absolute"}}function I(m){return[].concat(m).sort(function(h,$){return h.y===$.y&&h.x===$.x?0:h.y>$.y||h.y===$.y&&h.x>$.x?1:-1})}function F(m,h){h=h||"Layout";var $=["x","y","w","h"],T=[];if(!Array.isArray(m))throw new Error(h+" must be an array!");for(var M=0,N=m.length;M<N;M++){for(var z=m[M],K=0;K<$.length;K++)if(typeof z[$[K]]!="number")throw new Error("VueGridLayout: "+h+"["+M+"]."+$[K]+" must be a number!");if(z.i===void 0||z.i===null)throw new Error("VueGridLayout: "+h+"["+M+"].i cannot be null!");if(typeof z.i!="number"&&typeof z.i!="string")throw new Error("VueGridLayout: "+h+"["+M+"].i must be a string or number!");if(T.indexOf(z.i)>=0)throw new Error("VueGridLayout: "+h+"["+M+"].i must be unique!");if(T.push(z.i),z.static!==void 0&&typeof z.static!="boolean")throw new Error("VueGridLayout: "+h+"["+M+"].static must be a boolean!")}}function L(m){return H(m)}function H(m){var h=m.target.offsetParent||document.body,$=m.offsetParent===document.body?{left:0,top:0}:h.getBoundingClientRect(),T=m.clientX+h.scrollLeft-$.left,M=m.clientY+h.scrollTop-$.top;return{x:T,y:M}}function W(m,h,$,T){var M=!Y(m);return M?{deltaX:0,deltaY:0,lastX:$,lastY:T,x:$,y:T}:{deltaX:$-m,deltaY:T-h,lastX:m,lastY:h,x:$,y:T}}function Y(m){return typeof m=="number"&&!isNaN(m)}function U(m,h){for(var $=we(m),T=$[0],M=1,N=$.length;M<N;M++){var z=$[M];h>m[z]&&(T=z)}return T}function q(m,h){if(!h[m])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+m+" is missing!");return h[m]}function ye(m,h,$,T,M,N,z){if(h[T])return d(h[T]);for(var K=m,ne=we($),ve=ne.slice(ne.indexOf(T)),Oe=0,ke=ve.length;Oe<ke;Oe++){var We=ve[Oe];if(h[We]){K=h[We];break}}return K=d(K||[]),g(y(K,{cols:N}),z)}function we(m){var h=Object.keys(m);return h.sort(function($,T){return m[$]-m[T]})}var oe="auto";function pe(){return typeof document<"u"}function he(){return typeof window<"u"}function Ne(){if(!pe())return oe;var m=typeof document.dir<"u"?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir");return m}function Se(m,h){if(!he){h();return}window.addEventListener(m,h)}function qe(m,h){he&&window.removeEventListener(m,h)}const Ke={init:He,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Z(){}var me=Ke;function He(m){const h=m;Ke.document=h.document,Ke.DocumentFragment=h.DocumentFragment||Z,Ke.SVGElement=h.SVGElement||Z,Ke.SVGSVGElement=h.SVGSVGElement||Z,Ke.SVGElementInstance=h.SVGElementInstance||Z,Ke.Element=h.Element||Z,Ke.HTMLElement=h.HTMLElement||Ke.Element,Ke.Event=h.Event,Ke.Touch=h.Touch||Z,Ke.PointerEvent=h.PointerEvent||h.MSPointerEvent}var Ie=m=>!!(m&&m.Window)&&m instanceof m.Window;let Ge,Fe;function fe(m){Ge=m;const h=m.document.createTextNode("");h.ownerDocument!==m.document&&typeof m.wrap=="function"&&m.wrap(h)===h&&(m=m.wrap(m)),Fe=m}typeof window<"u"&&window&&fe(window);function Ue(m){return Ie(m)?m:(m.ownerDocument||m).defaultView||Fe.window}const _e=m=>m===Fe||Ie(m),Et=m=>dt(m)&&m.nodeType===11,dt=m=>!!m&&typeof m=="object",Ut=m=>typeof m=="function";var Ce={window:_e,docFrag:Et,object:dt,func:Ut,number:m=>typeof m=="number",bool:m=>typeof m=="boolean",string:m=>typeof m=="string",element:m=>{if(!m||typeof m!="object")return!1;const h=Ue(m)||Fe;return/object|function/.test(typeof h.Element)?m instanceof h.Element:m.nodeType===1&&typeof m.nodeName=="string"},plainObject:m=>dt(m)&&!!m.constructor&&/function Object\b/.test(m.constructor.toString()),array:m=>dt(m)&&typeof m.length<"u"&&Ut(m.splice)};const jt={init:Zn,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function Zn(m){const h=me.Element,$=Fe.navigator;jt.supportsTouch="ontouchstart"in m||Ce.func(m.DocumentTouch)&&me.document instanceof m.DocumentTouch,jt.supportsPointerEvent=$.pointerEnabled!==!1&&!!me.PointerEvent,jt.isIOS=/iP(hone|od|ad)/.test($.platform),jt.isIOS7=/iP(hone|od|ad)/.test($.platform)&&/OS 7[^\d]/.test($.appVersion),jt.isIe9=/MSIE 9/.test($.userAgent),jt.isOperaMobile=$.appName==="Opera"&&jt.supportsTouch&&/Presto/.test($.userAgent),jt.prefixedMatchesSelector="matches"in h.prototype?"matches":"webkitMatchesSelector"in h.prototype?"webkitMatchesSelector":"mozMatchesSelector"in h.prototype?"mozMatchesSelector":"oMatchesSelector"in h.prototype?"oMatchesSelector":"msMatchesSelector",jt.pEventTypes=jt.supportsPointerEvent?me.PointerEvent===m.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,jt.wheelEvent="onmousewheel"in me.document?"mousewheel":"wheel"}var ee=jt;const te=(m,h)=>m.indexOf(h)!==-1,ge=(m,h)=>{for(const $ of h)m.push($);return m},Pe=m=>ge([],m),Ae=(m,h)=>{for(let $=0;$<m.length;$++)if(h(m[$],$,m))return $;return-1},Qe=(m,h)=>m[Ae(m,h)];function et(m){const h={};for(const $ in m){const T=m[$];Ce.plainObject(T)?h[$]=et(T):Ce.array(T)?h[$]=Pe(T):h[$]=T}return h}function Re(m,h){for(const T in h)m[T]=h[T];return m}let Vt=0,je,Me;function Je(m){if(je=m.requestAnimationFrame,Me=m.cancelAnimationFrame,!je){const h=["ms","moz","webkit","o"];for(const $ of h)je=m[`${$}RequestAnimationFrame`],Me=m[`${$}CancelAnimationFrame`]||m[`${$}CancelRequestAnimationFrame`]}je=je&&je.bind(m),Me=Me&&Me.bind(m),je||(je=h=>{const $=Date.now(),T=Math.max(0,16-($-Vt)),M=m.setTimeout(()=>{h($+T)},T);return Vt=$+T,M},Me=h=>clearTimeout(h))}var mt={request:m=>je(m),cancel:m=>Me(m),init:Je};function lt(m,h,$){if($=$||{},Ce.string(m)&&m.search(" ")!==-1&&(m=Dn(m)),Ce.array(m))return m.reduce((T,M)=>Re(T,lt(M,h,$)),$);if(Ce.object(m)&&(h=m,m=""),Ce.func(h))$[m]=$[m]||[],$[m].push(h);else if(Ce.array(h))for(const T of h)lt(m,T,$);else if(Ce.object(h))for(const T in h){const M=Dn(T).map(N=>`${m}${N}`);lt(M,h[T],$)}return $}function Dn(m){return m.trim().split(/ +/)}function Wn(m,h){for(const $ of h){if(m.immediatePropagationStopped)break;$(m)}}class Rs{constructor(h){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Re({},h||{})}fire(h){let $;const T=this.global;($=this.types[h.type])&&Wn(h,$),!h.propagationStopped&&T&&($=T[h.type])&&Wn(h,$)}on(h,$){const T=lt(h,$);for(h in T)this.types[h]=ge(this.types[h]||[],T[h])}off(h,$){const T=lt(h,$);for(h in T){const M=this.types[h];if(!(!M||!M.length))for(const N of T[h]){const z=M.indexOf(N);z!==-1&&M.splice(z,1)}}}getRect(h){return null}}function to(m,h){if(m.contains)return m.contains(h);for(;h;){if(h===m)return!0;h=h.parentNode}return!1}function Os(m,h){for(;Ce.element(m);){if(na(m,h))return m;m=Kn(m)}return null}function Kn(m){let h=m.parentNode;if(Ce.docFrag(h)){for(;(h=h.host)&&Ce.docFrag(h););return h}return h}function na(m,h){return Fe!==Ge&&(h=h.replace(/\/deep\//g," ")),m[ee.prefixedMatchesSelector](h)}function Nn(m,h,$){for(;Ce.element(m);){if(na(m,h))return!0;if(m=Kn(m),m===$)return na(m,h)}return!1}function Xr(m){return m.correspondingUseElement||m}function ar(m){return m=m||Fe,{x:m.scrollX||m.document.documentElement.scrollLeft,y:m.scrollY||m.document.documentElement.scrollTop}}function Cl(m){const h=m instanceof me.SVGElement?m.getBoundingClientRect():m.getClientRects()[0];return h&&{left:h.left,right:h.right,top:h.top,bottom:h.bottom,width:h.width||h.right-h.left,height:h.height||h.bottom-h.top}}function Qr(m){const h=Cl(m);if(!ee.isIOS7&&h){const $=ar(Ue(m));h.left+=$.x,h.right+=$.x,h.top+=$.y,h.bottom+=$.y}return h}function Zr(m){return Ce.string(m)?(me.document.querySelector(m),!0):!1}function On(m,h,$){return m==="parent"?Kn($):m==="self"?h.getRect($):Os($,m)}function sr(m,h,$,T){let M=m;return Ce.string(M)?M=On(M,h,$):Ce.func(M)&&(M=M(...T)),Ce.element(M)&&(M=Qr(M)),M}function os(m){return m&&{x:"x"in m?m.x:m.left,y:"y"in m?m.y:m.top}}function Ri(m){return m&&!("left"in m&&"top"in m)&&(m=Re({},m),m.left=m.x||0,m.top=m.y||0,m.right=m.right||m.left+m.width,m.bottom=m.bottom||m.top+m.height),m}function Oi(m){return m&&!("x"in m&&"y"in m)&&(m=Re({},m),m.x=m.left||0,m.y=m.top||0,m.width=m.width||(m.right||0)-m.x,m.height=m.height||(m.bottom||0)-m.y),m}function fa(m,h,$){m.left&&(h.left+=$.x),m.right&&(h.right+=$.x),m.top&&(h.top+=$.y),m.bottom&&(h.bottom+=$.y),h.width=h.right-h.left,h.height=h.bottom-h.top}var Cn=function(m,h,$){const T=m.options[$],N=T&&T.origin||m.options.origin,z=sr(N,m,h,[m&&h]);return os(z)||{x:0,y:0}},Jr=(m,h)=>Math.sqrt(m*m+h*h);class Sl{constructor(h){this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=h}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(Sl.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const Pl={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class ki extends Sl{constructor(h,$,T,M,N,z,K){super(h),this.target=void 0,this.currentTarget=void 0,this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.timeStamp=void 0,this.axes=void 0,this.preEnd=void 0,N=N||h.element;const ne=h.interactable,ve=(ne&&ne.options||Pl).deltaSource,Oe=Cn(ne,N,T),ke=M==="start",We=M==="end",bt=ke?this:h.prevEvent,Ln=ke?h.coords.start:We?{page:bt.page,client:bt.client,timeStamp:h.coords.cur.timeStamp}:h.coords.cur;this.page=Re({},Ln.page),this.client=Re({},Ln.client),this.rect=Re({},h.rect),this.timeStamp=Ln.timeStamp,We||(this.page.x-=Oe.x,this.page.y-=Oe.y,this.client.x-=Oe.x,this.client.y-=Oe.y),this.ctrlKey=$.ctrlKey,this.altKey=$.altKey,this.shiftKey=$.shiftKey,this.metaKey=$.metaKey,this.button=$.button,this.buttons=$.buttons,this.target=N,this.currentTarget=N,this.preEnd=z,this.type=K||T+(M||""),this.interactable=ne,this.t0=ke?h.pointers[h.pointers.length-1].downTime:bt.t0,this.x0=h.coords.start.page.x-Oe.x,this.y0=h.coords.start.page.y-Oe.y,this.clientX0=h.coords.start.client.x-Oe.x,this.clientY0=h.coords.start.client.y-Oe.y,ke||We?this.delta={x:0,y:0}:this.delta={x:this[ve].x-bt[ve].x,y:this[ve].y-bt[ve].y},this.dt=h.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=Re({},h.coords.velocity[ve]),this.speed=Jr(this.velocity.x,this.velocity.y),this.swipe=We||M==="inertiastart"?this.getSwipe():null}getSwipe(){const h=this._interaction;if(h.prevEvent.speed<600||this.timeStamp-h.prevEvent.timeStamp>150)return null;let $=180*Math.atan2(h.prevEvent.velocityY,h.prevEvent.velocityX)/Math.PI;const T=22.5;$<0&&($+=360);const M=135-T<=$&&$<225+T,N=225-T<=$&&$<315+T,z=!M&&(315-T<=$||$<45+T),K=!N&&45-T<=$&&$<135+T;return{up:N,down:K,left:M,right:z,angle:$,speed:h.prevEvent.speed,velocity:{x:h.prevEvent.velocityX,y:h.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(ki.prototype,{pageX:{get(){return this.page.x},set(m){this.page.x=m}},pageY:{get(){return this.page.y},set(m){this.page.y=m}},clientX:{get(){return this.client.x},set(m){this.client.x=m}},clientY:{get(){return this.client.y},set(m){this.client.y=m}},dx:{get(){return this.delta.x},set(m){this.delta.x=m}},dy:{get(){return this.delta.y},set(m){this.delta.y=m}},velocityX:{get(){return this.velocity.x},set(m){this.velocity.x=m}},velocityY:{get(){return this.velocity.y},set(m){this.velocity.y=m}}});function Bo(m,h){if(h.phaselessTypes[m])return!0;for(const $ in h.map)if(m.indexOf($)===0&&m.substr($.length)in h.phases)return!0;return!1}class Ro{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(h,$,T,M){this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new Rs,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=$.actions,this.target=h,this._context=$.context||T,this._win=Ue(Zr(h)?this._context:h),this._doc=this._win.document,this._scopeEvents=M,this.set($)}setOnEvents(h,$){return Ce.func($.onstart)&&this.on(`${h}start`,$.onstart),Ce.func($.onmove)&&this.on(`${h}move`,$.onmove),Ce.func($.onend)&&this.on(`${h}end`,$.onend),Ce.func($.oninertiastart)&&this.on(`${h}inertiastart`,$.oninertiastart),this}updatePerActionListeners(h,$,T){(Ce.array($)||Ce.object($))&&this.off(h,$),(Ce.array(T)||Ce.object(T))&&this.on(h,T)}setPerAction(h,$){const T=this._defaults;for(const M in $){const N=M,z=this.options[h],K=$[N];N==="listeners"&&this.updatePerActionListeners(h,z.listeners,K),Ce.array(K)?z[N]=Pe(K):Ce.plainObject(K)?(z[N]=Re(z[N]||{},et(K)),Ce.object(T.perAction[N])&&"enabled"in T.perAction[N]&&(z[N].enabled=K.enabled!==!1)):Ce.bool(K)&&Ce.object(T.perAction[N])?z[N].enabled=K:z[N]=K}}getRect(h){return h=h||(Ce.element(this.target)?this.target:null),Ce.string(this.target)&&(h=h||this._context.querySelector(this.target)),Qr(h)}rectChecker(h){return Ce.func(h)?(this._rectChecker=h,this.getRect=$=>{const T=Re({},this._rectChecker($));return"width"in T||(T.width=T.right-T.left,T.height=T.bottom-T.top),T},this):h===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}_backCompatOption(h,$){if(Zr($)||Ce.object($)){this.options[h]=$;for(const T in this._actions.map)this.options[T][h]=$;return this}return this.options[h]}origin(h){return this._backCompatOption("origin",h)}deltaSource(h){return h==="page"||h==="client"?(this.options.deltaSource=h,this):this.options.deltaSource}context(){return this._context}inContext(h){return this._context===h.ownerDocument||to(this._context,h)}testIgnoreAllow(h,$,T){return!this.testIgnore(h.ignoreFrom,$,T)&&this.testAllow(h.allowFrom,$,T)}testAllow(h,$,T){return h?Ce.element(T)?Ce.string(h)?Nn(T,h,$):Ce.element(h)?to(h,T):!1:!1:!0}testIgnore(h,$,T){return!h||!Ce.element(T)?!1:Ce.string(h)?Nn(T,h,$):Ce.element(h)?to(h,T):!1}fire(h){return this.events.fire(h),this}_onOff(h,$,T,M){Ce.object($)&&!Ce.array($)&&(M=T,T=null);const N=h==="on"?"add":"remove",z=lt($,T);for(let K in z){K==="wheel"&&(K=ee.wheelEvent);for(const ne of z[K])Bo(K,this._actions)?this.events[h](K,ne):Ce.string(this.target)?this._scopeEvents[`${N}Delegate`](this.target,this._context,K,ne,M):this._scopeEvents[N](this.target,K,ne,M)}return this}on(h,$,T){return this._onOff("on",h,$,T)}off(h,$,T){return this._onOff("off",h,$,T)}set(h){const $=this._defaults;Ce.object(h)||(h={}),this.options=et($.base);for(const T in this._actions.methodDict){const M=T,N=this._actions.methodDict[M];this.options[M]={},this.setPerAction(M,Re(Re({},$.perAction),$.actions[M])),this[N](h[M])}for(const T in h)Ce.func(this[T])&&this[T](h[T]);return this}unset(){if(Ce.string(this.target))for(const h in this._scopeEvents.delegatedEvents){const $=this._scopeEvents.delegatedEvents[h];for(let T=$.length-1;T>=0;T--){const{selector:M,context:N,listeners:z}=$[T];M===this.target&&N===this._context&&$.splice(T,1);for(let K=z.length-1;K>=0;K--)this._scopeEvents.removeDelegate(this.target,this._context,h,z[K][0],z[K][1])}}else this._scopeEvents.remove(this.target,"all")}}class Ai{constructor(h){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=h,h.addListeners({"interactable:unset":({interactable:$})=>{const{target:T,_context:M}=$,N=Ce.string(T)?this.selectorMap[T]:T[this.scope.id],z=Ae(N,K=>K.context===M);N[z]&&(N[z].context=null,N[z].interactable=null),N.splice(z,1)}})}new(h,$){$=Re($||{},{actions:this.scope.actions});const T=new this.scope.Interactable(h,$,this.scope.document,this.scope.events),M={context:T._context,interactable:T};return this.scope.addDocument(T._doc),this.list.push(T),Ce.string(h)?(this.selectorMap[h]||(this.selectorMap[h]=[]),this.selectorMap[h].push(M)):(T.target[this.scope.id]||Object.defineProperty(h,this.scope.id,{value:[],configurable:!0}),h[this.scope.id].push(M)),this.scope.fire("interactable:new",{target:h,options:$,interactable:T,win:this.scope._win}),T}get(h,$){const T=$&&$.context||this.scope.document,M=Ce.string(h),N=M?this.selectorMap[h]:h[this.scope.id];if(!N)return null;const z=Qe(N,K=>K.context===T&&(M||K.interactable.inContext(h)));return z&&z.interactable}forEachMatch(h,$){for(const T of this.list){let M;if((Ce.string(T.target)?Ce.element(h)&&na(h,T.target):h===T.target)&&T.inContext(h)&&(M=$(T)),M!==void 0)return M}}}function Ii(m,h){for(const $ in h){const T=Ii.prefixedPropREs;let M=!1;for(const N in T)if($.indexOf(N)===0&&T[N].test($)){M=!0;break}!M&&typeof h[$]!="function"&&(m[$]=h[$])}return m}Ii.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var rr=Ii;function ir(m,h){m.page=m.page||{},m.page.x=h.page.x,m.page.y=h.page.y,m.client=m.client||{},m.client.x=h.client.x,m.client.y=h.client.y,m.timeStamp=h.timeStamp}function ma(m,h,$){m.page.x=$.page.x-h.page.x,m.page.y=$.page.y-h.page.y,m.client.x=$.client.x-h.client.x,m.client.y=$.client.y-h.client.y,m.timeStamp=$.timeStamp-h.timeStamp}function as(m,h){const $=Math.max(h.timeStamp/1e3,.001);m.page.x=h.page.x/$,m.page.y=h.page.y/$,m.client.x=h.client.x/$,m.client.y=h.client.y/$,m.timeStamp=$}function Mi(m){m.page.x=0,m.page.y=0,m.client.x=0,m.client.y=0}function lr(m){return m instanceof me.Event||m instanceof me.Touch}function Lo(m,h,$){return $=$||{},m=m||"page",$.x=h[m+"X"],$.y=h[m+"Y"],$}function Fi(m,h){return h=h||{x:0,y:0},ee.isOperaMobile&&lr(m)?(Lo("screen",m,h),h.x+=window.scrollX,h.y+=window.scrollY):Lo("page",m,h),h}function cr(m,h){return h=h||{},ee.isOperaMobile&&lr(m)?Lo("screen",m,h):Lo("client",m,h),h}function qr(m){return Ce.number(m.pointerId)?m.pointerId:m.identifier}function Oc(m,h,$){const T=h.length>1?El(h):h[0];Fi(T,m.page),cr(T,m.client),m.timeStamp=$}function Uo(m){const h=[];return Ce.array(m)?(h[0]=m[0],h[1]=m[1]):m.type==="touchend"?m.touches.length===1?(h[0]=m.touches[0],h[1]=m.changedTouches[0]):m.touches.length===0&&(h[0]=m.changedTouches[0],h[1]=m.changedTouches[1]):(h[0]=m.touches[0],h[1]=m.touches[1]),h}function El(m){const h={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const $ of m)for(const T in h)h[T]+=$[T];for(const $ in h)h[$]/=m.length;return h}function ei(m){if(!m.length)return null;const h=Uo(m),$=Math.min(h[0].pageX,h[1].pageX),T=Math.min(h[0].pageY,h[1].pageY),M=Math.max(h[0].pageX,h[1].pageX),N=Math.max(h[0].pageY,h[1].pageY);return{x:$,y:T,left:$,top:T,right:M,bottom:N,width:M-$,height:N-T}}function Di(m,h){const $=h+"X",T=h+"Y",M=Uo(m),N=M[0][$]-M[1][$],z=M[0][T]-M[1][T];return Jr(N,z)}function ur(m,h){const $=h+"X",T=h+"Y",M=Uo(m),N=M[1][$]-M[0][$],z=M[1][T]-M[0][T];return 180*Math.atan2(z,N)/Math.PI}function Tl(m){return Ce.string(m.pointerType)?m.pointerType:Ce.number(m.pointerType)?[void 0,void 0,"touch","pen","mouse"][m.pointerType]:/touch/.test(m.type)||m instanceof me.Touch?"touch":"mouse"}function Ni(m){const h=Ce.func(m.composedPath)?m.composedPath():m.path;return[Xr(h?h[0]:m.target),Xr(m.currentTarget)]}function Fa(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function ti(m){const h=[],$={},T=[],M={add:N,remove:z,addDelegate:K,removeDelegate:ne,delegateListener:ve,delegateUseCapture:Oe,delegatedEvents:$,documents:T,targets:h,supportsOptions:!1,supportsPassive:!1};m.document.createElement("div").addEventListener("test",null,{get capture(){return M.supportsOptions=!0},get passive(){return M.supportsPassive=!0}}),m.events=M;function N(ke,We,bt,Ln){const po=dr(Ln);let kn=Qe(h,Jn=>Jn.eventTarget===ke);kn||(kn={eventTarget:ke,events:{}},h.push(kn)),kn.events[We]||(kn.events[We]=[]),ke.addEventListener&&!te(kn.events[We],bt)&&(ke.addEventListener(We,bt,M.supportsOptions?po:po.capture),kn.events[We].push(bt))}function z(ke,We,bt,Ln){const po=dr(Ln),kn=Ae(h,Ba=>Ba.eventTarget===ke),Jn=h[kn];if(!Jn||!Jn.events)return;if(We==="all"){for(We in Jn.events)Jn.events.hasOwnProperty(We)&&z(ke,We,"all");return}let Ns=!1;const ho=Jn.events[We];if(ho){if(bt==="all"){for(let Ba=ho.length-1;Ba>=0;Ba--)z(ke,We,ho[Ba],po);return}else for(let Ba=0;Ba<ho.length;Ba++)if(ho[Ba]===bt){ke.removeEventListener(We,bt,M.supportsOptions?po:po.capture),ho.splice(Ba,1),ho.length===0&&(delete Jn.events[We],Ns=!0);break}}Ns&&!Object.keys(Jn.events).length&&h.splice(kn,1)}function K(ke,We,bt,Ln,po){const kn=dr(po);if(!$[bt]){$[bt]=[];for(const ho of T)N(ho,bt,ve),N(ho,bt,Oe,!0)}const Jn=$[bt];let Ns=Qe(Jn,ho=>ho.selector===ke&&ho.context===We);Ns||(Ns={selector:ke,context:We,listeners:[]},Jn.push(Ns)),Ns.listeners.push([Ln,kn])}function ne(ke,We,bt,Ln,po){const kn=dr(po),Jn=$[bt];let Ns=!1,ho;if(Jn)for(ho=Jn.length-1;ho>=0;ho--){const Ba=Jn[ho];if(Ba.selector===ke&&Ba.context===We){const{listeners:ep}=Ba;for(let Dh=ep.length-1;Dh>=0;Dh--){const[I$,{capture:M$,passive:F$}]=ep[Dh];if(I$===Ln&&M$===kn.capture&&F$===kn.passive){ep.splice(Dh,1),ep.length||(Jn.splice(ho,1),z(We,bt,ve),z(We,bt,Oe,!0)),Ns=!0;break}}if(Ns)break}}}function ve(ke,We){const bt=dr(We),Ln=new ni(ke),po=$[ke.type],[kn]=Ni(ke);let Jn=kn;for(;Ce.element(Jn);){for(let Ns=0;Ns<po.length;Ns++){const ho=po[Ns],{selector:Ba,context:ep}=ho;if(na(Jn,Ba)&&to(ep,kn)&&to(ep,Jn)){const{listeners:Dh}=ho;Ln.currentTarget=Jn;for(const[I$,{capture:M$,passive:F$}]of Dh)M$===bt.capture&&F$===bt.passive&&I$(Ln)}}Jn=Kn(Jn)}}function Oe(ke){return ve.call(this,ke,!0)}return M}class ni{constructor(h){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=h,rr(this,h)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function dr(m){if(!Ce.object(m))return{capture:!!m,passive:!1};const h=Re({},m);return h.capture=!!m.capture,h.passive=!!m.passive,h}var Hi={id:"events",install:ti};function ss(m,h){let $=!1;return function(){return $||(Fe.console.warn(h),$=!0),m.apply(this,arguments)}}function Rl(m,h){return m.name=h.name,m.axis=h.axis,m.edges=h.edges,m}function pr(m){const h=($,T)=>{let M=m.interactables.get($,T);return M||(M=m.interactables.new($,T),M.events.global=h.globalEvents),M};return h.getPointerAverage=El,h.getTouchBBox=ei,h.getTouchDistance=Di,h.getTouchAngle=ur,h.getElementRect=Qr,h.getElementClientRect=Cl,h.matchesSelector=na,h.closest=Os,h.globalEvents={},h.version="1.10.2",h.scope=m,h.use=function($,T){return this.scope.usePlugin($,T),this},h.isSet=function($,T){return!!this.scope.interactables.get($,T&&T.context)},h.on=ss(function(T,M,N){if(Ce.string(T)&&T.search(" ")!==-1&&(T=T.trim().split(/ +/)),Ce.array(T)){for(const z of T)this.on(z,M,N);return this}if(Ce.object(T)){for(const z in T)this.on(z,T[z],M);return this}return Bo(T,this.scope.actions)?this.globalEvents[T]?this.globalEvents[T].push(M):this.globalEvents[T]=[M]:this.scope.events.add(this.scope.document,T,M,{options:N}),this},"The interact.on() method is being deprecated"),h.off=ss(function(T,M,N){if(Ce.string(T)&&T.search(" ")!==-1&&(T=T.trim().split(/ +/)),Ce.array(T)){for(const z of T)this.off(z,M,N);return this}if(Ce.object(T)){for(const z in T)this.off(z,T[z],M);return this}if(Bo(T,this.scope.actions)){let z;T in this.globalEvents&&(z=this.globalEvents[T].indexOf(M))!==-1&&this.globalEvents[T].splice(z,1)}else this.scope.events.remove(this.scope.document,T,M,N);return this},"The interact.off() method is being deprecated"),h.debug=function(){return this.scope},h.supportsTouch=function(){return ee.supportsTouch},h.supportsPointerEvent=function(){return ee.supportsPointerEvent},h.stop=function(){for(const $ of this.scope.interactions.list)$.stop();return this},h.pointerMoveTolerance=function($){return Ce.number($)?(this.scope.interactions.pointerMoveTolerance=$,this):this.scope.interactions.pointerMoveTolerance},h.addDocument=function($,T){this.scope.addDocument($,T)},h.removeDocument=function($){this.scope.removeDocument($)},h}class jo{constructor(h,$,T,M,N){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=h,this.pointer=$,this.event=T,this.downTime=M,this.downTarget=N}}let oa;(function(m){m.interactable="",m.element="",m.prepared="",m.pointerIsDown="",m.pointerWasMoved="",m._proxy=""})(oa||(oa={}));let ga;(function(m){m.start="",m.move="",m.end="",m.stop="",m.interacting=""})(ga||(ga={}));let kc=0;class Da{get pointerMoveTolerance(){return 1}constructor({pointerType:h,scopeFire:$}){this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=ss(function(M){this.move(M)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:Fa(),prev:Fa(),cur:Fa(),delta:Fa(),velocity:Fa()},this._id=kc++,this._scopeFire=$,this.pointerType=h;const T=this;this._proxy={};for(const M in oa)Object.defineProperty(this._proxy,M,{get(){return T[M]}});for(const M in ga)Object.defineProperty(this._proxy,M,{value:(...N)=>T[M](...N)});this._scopeFire("interactions:new",{interaction:this})}pointerDown(h,$,T){const M=this.updatePointer(h,$,T,!0),N=this.pointers[M];this._scopeFire("interactions:down",{pointer:h,event:$,eventTarget:T,pointerIndex:M,pointerInfo:N,type:"down",interaction:this})}start(h,$,T){return this.interacting()||!this.pointerIsDown||this.pointers.length<(h.name==="gesture"?2:1)||!$.options[h.name].enabled?!1:(Rl(this.prepared,h),this.interactable=$,this.element=T,this.rect=$.getRect(T),this.edges=this.prepared.edges?Re({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(h,$,T){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(h,$,T,!1);const M=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let N,z;this.pointerIsDown&&!this.pointerWasMoved&&(N=this.coords.cur.client.x-this.coords.start.client.x,z=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Jr(N,z)>this.pointerMoveTolerance);const K=this.getPointerIndex(h),ne={pointer:h,pointerIndex:K,pointerInfo:this.pointers[K],event:$,type:"move",eventTarget:T,dx:N,dy:z,duplicate:M,interaction:this};M||as(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",ne),!M&&!this.simulation&&(this.interacting()&&(ne.type=null,this.move(ne)),this.pointerWasMoved&&ir(this.coords.prev,this.coords.cur))}move(h){(!h||!h.event)&&Mi(this.coords.delta),h=Re({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},h||{}),h.phase="move",this._doPhase(h)}pointerUp(h,$,T,M){let N=this.getPointerIndex(h);N===-1&&(N=this.updatePointer(h,$,T,!1));const z=/cancel$/i.test($.type)?"cancel":"up";this._scopeFire(`interactions:${z}`,{pointer:h,pointerIndex:N,pointerInfo:this.pointers[N],event:$,eventTarget:T,type:z,curEventTarget:M,interaction:this}),this.simulation||this.end($),this.removePointer(h,$)}documentBlur(h){this.end(h),this._scopeFire("interactions:blur",{event:h,type:"blur",interaction:this})}end(h){this._ending=!0,h=h||this._latestPointer.event;let $;this.interacting()&&($=this._doPhase({event:h,interaction:this,phase:"end"})),this._ending=!1,$===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(h){const $=qr(h);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Ae(this.pointers,T=>T.id===$)}getPointerInfo(h){return this.pointers[this.getPointerIndex(h)]}updatePointer(h,$,T,M){const N=qr(h);let z=this.getPointerIndex(h),K=this.pointers[z];return M=M===!1?!1:M||/(down|start)$/i.test($.type),K?K.pointer=h:(K=new jo(N,h,$,null,null),z=this.pointers.length,this.pointers.push(K)),Oc(this.coords.cur,this.pointers.map(ne=>ne.pointer),this._now()),ma(this.coords.delta,this.coords.prev,this.coords.cur),M&&(this.pointerIsDown=!0,K.downTime=this.coords.cur.timeStamp,K.downTarget=T,rr(this.downPointer,h),this.interacting()||(ir(this.coords.start,this.coords.cur),ir(this.coords.prev,this.coords.cur),this.downEvent=$,this.pointerWasMoved=!1)),this._updateLatestPointer(h,$,T),this._scopeFire("interactions:update-pointer",{pointer:h,event:$,eventTarget:T,down:M,pointerInfo:K,pointerIndex:z,interaction:this}),z}removePointer(h,$){const T=this.getPointerIndex(h);if(T===-1)return;const M=this.pointers[T];this._scopeFire("interactions:remove-pointer",{pointer:h,event:$,eventTarget:null,pointerIndex:T,pointerInfo:M,interaction:this}),this.pointers.splice(T,1),this.pointerIsDown=!1}_updateLatestPointer(h,$,T){this._latestPointer.pointer=h,this._latestPointer.event=$,this._latestPointer.eventTarget=T}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(h,$,T,M){return new ki(this,h,this.prepared.name,$,this.element,T,M)}_fireEvent(h){this.interactable.fire(h),(!this.prevEvent||h.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=h)}_doPhase(h){const{event:$,phase:T,preEnd:M,type:N}=h,{rect:z}=this;if(z&&T==="move"&&(fa(this.edges,z,this.coords.delta[this.interactable.options.deltaSource]),z.width=z.right-z.left,z.height=z.bottom-z.top),this._scopeFire(`interactions:before-action-${T}`,h)===!1)return!1;const ne=h.iEvent=this._createPreparedEvent($,T,M,N);return this._scopeFire(`interactions:action-${T}`,h),T==="start"&&(this.prevEvent=ne),this._fireEvent(ne),this._scopeFire(`interactions:after-action-${T}`,h),!0}_now(){return Date.now()}}var Bi=Da;function Ac(m){return/^(always|never|auto)$/.test(m)?(this.options.preventDefault=m,this):Ce.bool(m)?(this.options.preventDefault=m?"always":"never",this):this.options.preventDefault}function Ic(m,h,$){const T=m.options.preventDefault;if(T!=="never"){if(T==="always"){$.preventDefault();return}if(h.events.supportsPassive&&/^touch(start|move)$/.test($.type)){const M=Ue($.target).document,N=h.getDocOptions(M);if(!(N&&N.events)||N.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test($.type)||Ce.element($.target)&&na($.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||$.preventDefault()}}function Mc({interaction:m,event:h}){m.interactable&&m.interactable.checkAndPreventDefault(h)}function hr(m){const{Interactable:h}=m;h.prototype.preventDefault=Ac,h.prototype.checkAndPreventDefault=function($){return Ic(this,m,$)},m.interactions.docEvents.push({type:"dragstart",listener($){for(const T of m.interactions.list)if(T.element&&(T.element===$.target||to(T.element,$.target))){T.interactable.checkAndPreventDefault($);return}}})}var no={id:"core/interactablePreventDefault",install:hr,listeners:["down","move","up","cancel"].reduce((m,h)=>(m[`interactions:${h}`]=Mc,m),{})};const ks={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(m){for(const h of ks.methodOrder){const $=ks[h](m);if($)return $}return null},simulationResume({pointerType:m,eventType:h,eventTarget:$,scope:T}){if(!/down|start/i.test(h))return null;for(const M of T.interactions.list){let N=$;if(M.simulation&&M.simulation.allowResume&&M.pointerType===m)for(;N;){if(N===M.element)return M;N=Kn(N)}}return null},mouseOrPen({pointerId:m,pointerType:h,eventType:$,scope:T}){if(h!=="mouse"&&h!=="pen")return null;let M;for(const N of T.interactions.list)if(N.pointerType===h){if(N.simulation&&!fr(N,m))continue;if(N.interacting())return N;M||(M=N)}if(M)return M;for(const N of T.interactions.list)if(N.pointerType===h&&!(/down/i.test($)&&N.simulation))return N;return null},hasPointer({pointerId:m,scope:h}){for(const $ of h.interactions.list)if(fr($,m))return $;return null},idle({pointerType:m,scope:h}){for(const $ of h.interactions.list){if($.pointers.length===1){const T=$.interactable;if(T&&!(T.options.gesture&&T.options.gesture.enabled))continue}else if($.pointers.length>=2)continue;if(!$.interacting()&&m===$.pointerType)return $}return null}};function fr(m,h){return m.pointers.some(({id:$})=>$===h)}var oi=ks;const As=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Is(m){const h={};for(const N of As)h[N]=Li(N,m);const $=ee.pEventTypes;let T;me.PointerEvent?T=[{type:$.down,listener:M},{type:$.down,listener:h.pointerDown},{type:$.move,listener:h.pointerMove},{type:$.up,listener:h.pointerUp},{type:$.cancel,listener:h.pointerUp}]:T=[{type:"mousedown",listener:h.pointerDown},{type:"mousemove",listener:h.pointerMove},{type:"mouseup",listener:h.pointerUp},{type:"touchstart",listener:M},{type:"touchstart",listener:h.pointerDown},{type:"touchmove",listener:h.pointerMove},{type:"touchend",listener:h.pointerUp},{type:"touchcancel",listener:h.pointerUp}],T.push({type:"blur",listener(N){for(const z of m.interactions.list)z.documentBlur(N)}}),m.prevTouchTime=0,m.Interaction=class extends Bi{get pointerMoveTolerance(){return m.interactions.pointerMoveTolerance}set pointerMoveTolerance(N){m.interactions.pointerMoveTolerance=N}_now(){return m.now()}},m.interactions={list:[],new(N){N.scopeFire=(K,ne)=>m.fire(K,ne);const z=new m.Interaction(N);return m.interactions.list.push(z),z},listeners:h,docEvents:T,pointerMoveTolerance:1};function M(){for(const N of m.interactions.list)if(!(!N.pointerIsDown||N.pointerType!=="touch"||N._interacting))for(const z of N.pointers)m.documents.some(({doc:K})=>to(K,z.downTarget))||N.removePointer(z.pointer,z.event)}m.usePlugin(no)}function Li(m,h){return function($){const T=h.interactions.list,M=Tl($),[N,z]=Ni($),K=[];if(/^touch/.test($.type)){h.prevTouchTime=h.now();for(const ne of $.changedTouches){const ve=ne,Oe=qr(ve),ke={pointer:ve,pointerId:Oe,pointerType:M,eventType:$.type,eventTarget:N,curEventTarget:z,scope:h},We=va(ke);K.push([ke.pointer,ke.eventTarget,ke.curEventTarget,We])}}else{let ne=!1;if(!ee.supportsPointerEvent&&/mouse/.test($.type)){for(let ve=0;ve<T.length&&!ne;ve++)ne=T[ve].pointerType!=="mouse"&&T[ve].pointerIsDown;ne=ne||h.now()-h.prevTouchTime<500||$.timeStamp===0}if(!ne){const ve={pointer:$,pointerId:qr($),pointerType:M,eventType:$.type,curEventTarget:z,eventTarget:N,scope:h},Oe=va(ve);K.push([ve.pointer,ve.eventTarget,ve.curEventTarget,Oe])}}for(const[ne,ve,Oe,ke]of K)ke[m](ne,$,ve,Oe)}}function va(m){const{pointerType:h,scope:$}=m,M={interaction:oi.search(m),searchDetails:m};return $.fire("interactions:find",M),M.interaction||$.interactions.new({pointerType:h})}function ya({doc:m,scope:h,options:$},T){const{interactions:{docEvents:M},events:N}=h,z=N[T];h.browser.isIOS&&!$.events&&($.events={passive:!1});for(const ne in N.delegatedEvents)z(m,ne,N.delegateListener),z(m,ne,N.delegateUseCapture,!0);const K=$&&$.events;for(const{type:ne,listener:ve}of M)z(m,ne,ve,K)}var wa={id:"core/interactions",install:Is,listeners:{"scope:add-document":m=>ya(m,"add"),"scope:remove-document":m=>ya(m,"remove"),"interactable:unset":({interactable:m},h)=>{for(let $=h.interactions.list.length-1;$>=0;$--){const T=h.interactions.list[$];T.interactable===m&&(T.stop(),h.fire("interactions:destroy",{interaction:T}),T.destroy(),h.interactions.list.length>2&&h.interactions.list.splice($,1))}}},onDocSignal:ya,doOnInteractions:Li,methodNames:As};class kl{constructor(){this.id=`__interact_scope_${Math.floor(Math.random()*100)}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=ee,this.defaults=et(Pl),this.Eventable=Rs,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=pr(this),this.InteractEvent=ki,this.Interactable=void 0,this.interactables=new Ai(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=$=>this.removeDocument($.target);const h=this;this.Interactable=class extends Ro{get _defaults(){return h.defaults}set($){return super.set($),h.fire("interactable:set",{options:$,interactable:this}),this}unset(){super.unset(),h.interactables.list.splice(h.interactables.list.indexOf(this),1),h.fire("interactable:unset",{interactable:this})}}}addListeners(h,$){this.listenerMaps.push({id:$,map:h})}fire(h,$){for(const{map:{[h]:T}}of this.listenerMaps)if(T&&T($,this,h)===!1)return!1}init(h){return this.isInitialized?this:rs(this,h)}pluginIsInstalled(h){return this._plugins.map[h.id]||this._plugins.list.indexOf(h)!==-1}usePlugin(h,$){if(!this.isInitialized)return this;if(this.pluginIsInstalled(h))return this;if(h.id&&(this._plugins.map[h.id]=h),this._plugins.list.push(h),h.install&&h.install(this,$),h.listeners&&h.before){let T=0;const M=this.listenerMaps.length,N=h.before.reduce((z,K)=>(z[K]=!0,z[Al(K)]=!0,z),{});for(;T<M;T++){const z=this.listenerMaps[T].id;if(N[z]||N[Al(z)])break}this.listenerMaps.splice(T,0,{id:h.id,map:h.listeners})}else h.listeners&&this.listenerMaps.push({id:h.id,map:h.listeners});return this}addDocument(h,$){if(this.getDocIndex(h)!==-1)return!1;const T=Ue(h);$=$?Re({},$):{},this.documents.push({doc:h,options:$}),this.events.documents.push(h),h!==this.document&&this.events.add(T,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:h,window:T,scope:this,options:$})}removeDocument(h){const $=this.getDocIndex(h),T=Ue(h),M=this.documents[$].options;this.events.remove(T,"unload",this.onWindowUnload),this.documents.splice($,1),this.events.documents.splice($,1),this.fire("scope:remove-document",{doc:h,window:T,scope:this,options:M})}getDocIndex(h){for(let $=0;$<this.documents.length;$++)if(this.documents[$].doc===h)return $;return-1}getDocOptions(h){const $=this.getDocIndex(h);return $===-1?null:this.documents[$].options}now(){return(this.window.Date||Date).now()}}function rs(m,h){return m.isInitialized=!0,fe(h),me.init(h),ee.init(h),mt.init(h),m.window=h,m.document=h.document,m.usePlugin(wa),m.usePlugin(Hi),m}function Al(m){return m&&m.replace(/\/.*$/,"")}const is=new kl;var D=is.interactStatic;const k=m=>is.init(m);typeof window=="object"&&window&&k(window);function B(m){const{Interactable:h}=m;h.prototype.getAction=function(T,M,N,z){const K=Q(this,M,N,z,m);return this.options.actionChecker?this.options.actionChecker(T,M,K,this,z,N):K},h.prototype.ignoreFrom=ss(function($){return this._backCompatOption("ignoreFrom",$)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),h.prototype.allowFrom=ss(function($){return this._backCompatOption("allowFrom",$)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),h.prototype.actionChecker=Ye,h.prototype.styleCursor=be}function Q(m,h,$,T,M){const N=m.getRect(T),z=h.buttons||{0:1,1:4,3:8,4:16}[h.button],K={action:null,interactable:m,interaction:$,element:T,rect:N,buttons:z};return M.fire("auto-start:check",K),K.action}function be(m){return Ce.bool(m)?(this.options.styleCursor=m,this):m===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ye(m){return Ce.func(m)?(this.options.actionChecker=m,this):m===null?(delete this.options.actionChecker,this):this.options.actionChecker}var nt={id:"auto-start/interactableMethods",install:B};function wt(m){const{interactStatic:h,defaults:$}=m;m.usePlugin(nt),$.base.actionChecker=null,$.base.styleCursor=!0,Re($.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),h.maxInteractions=T=>Ms(T,m),m.autoStart={maxInteractions:1/0,withinInteractionLimit:Na,cursorElement:null}}function Ze({interaction:m,pointer:h,event:$,eventTarget:T},M){if(m.interacting())return;const N=zo(m,h,$,T,M);Go(m,N,M)}function Rt({interaction:m,pointer:h,event:$,eventTarget:T},M){if(m.pointerType!=="mouse"||m.pointerIsDown||m.interacting())return;const N=zo(m,h,$,T,M);Go(m,N,M)}function vn(m,h){const{interaction:$}=m;if(!$.pointerIsDown||$.interacting()||!$.pointerWasMoved||!$.prepared.name)return;h.fire("autoStart:before-start",m);const{interactable:T}=$,M=$.prepared.name;M&&T&&(T.options[M].manualStart||!Na(T,$.element,$.prepared,h)?$.stop():($.start($.prepared,T,$.element),Fc($,h)))}function Nt({interaction:m},h){const{interactable:$}=m;$&&$.options.styleCursor&&Fs(m.element,"",h)}function rn(m,h,$,T,M){return h.testIgnoreAllow(h.options[m.name],$,T)&&h.options[m.name].enabled&&Na(h,$,m,M)?m:null}function Yn(m,h,$,T,M,N,z){for(let K=0,ne=T.length;K<ne;K++){const ve=T[K],Oe=M[K],ke=ve.getAction(h,$,m,Oe);if(!ke)continue;const We=rn(ke,ve,Oe,N,z);if(We)return{action:We,interactable:ve,element:Oe}}return{action:null,interactable:null,element:null}}function zo(m,h,$,T,M){let N=[],z=[],K=T;function ne(ve){N.push(ve),z.push(K)}for(;Ce.element(K);){N=[],z=[],M.interactables.forEachMatch(K,ne);const ve=Yn(m,h,$,N,z,T,M);if(ve.action&&!ve.interactable.options[ve.action.name].manualStart)return ve;K=Kn(K)}return{action:null,interactable:null,element:null}}function Go(m,{action:h,interactable:$,element:T},M){h=h||{name:null},m.interactable=$,m.element=T,Rl(m.prepared,h),m.rect=$&&h.name?$.getRect(T):null,Fc(m,M),M.fire("autoStart:prepared",{interaction:m})}function Na(m,h,$,T){const M=m.options,N=M[$.name].max,z=M[$.name].maxPerElement,K=T.autoStart.maxInteractions;let ne=0,ve=0,Oe=0;if(!(N&&z&&K))return!1;for(const ke of T.interactions.list){const We=ke.prepared.name;if(ke.interacting()){if(ne++,ne>=K)return!1;if(ke.interactable===m&&(ve+=We===$.name?1:0,ve>=N||ke.element===h&&(Oe++,We===$.name&&Oe>=z)))return!1}}return K>0}function Ms(m,h){return Ce.number(m)?(h.autoStart.maxInteractions=m,this):h.autoStart.maxInteractions}function Fs(m,h,$){const{cursorElement:T}=$.autoStart;T&&T!==m&&(T.style.cursor=""),m.ownerDocument.documentElement.style.cursor=h,m.style.cursor=h,$.autoStart.cursorElement=h?m:null}function Fc(m,h){const{interactable:$,element:T,prepared:M}=m;if(!(m.pointerType==="mouse"&&$&&$.options.styleCursor)){h.autoStart.cursorElement&&Fs(h.autoStart.cursorElement,"",h);return}let N="";if(M.name){const z=$.options[M.name].cursorChecker;Ce.func(z)?N=z(M,$,T,m._interacting):N=h.actions.map[M.name].getCursor(M)}Fs(m.element,N||"",h)}var Xd={id:"auto-start/base",before:["actions"],install:wt,listeners:{"interactions:down":Ze,"interactions:move":(m,h)=>{Rt(m,h),vn(m,h)},"interactions:stop":Nt},maxInteractions:Ms,withinInteractionLimit:Na,validateAction:rn};function Qd({interaction:m,eventTarget:h,dx:$,dy:T},M){if(m.prepared.name!=="drag")return;const N=Math.abs($),z=Math.abs(T),K=m.interactable.options.drag,ne=K.startAxis,ve=N>z?"x":N<z?"y":"xy";if(m.prepared.axis=K.lockAxis==="start"?ve[0]:K.lockAxis,ve!=="xy"&&ne!=="xy"&&ne!==ve){m.prepared.name=null;let Oe=h;const ke=function(We){if(We===m.interactable)return;const bt=m.interactable.options.drag;if(!bt.manualStart&&We.testIgnoreAllow(bt,Oe,h)){const Ln=We.getAction(m.downPointer,m.downEvent,m,Oe);if(Ln&&Ln.name==="drag"&&Ah(ve,We)&&Xd.validateAction(Ln,We,Oe,h,M))return We}};for(;Ce.element(Oe);){const We=M.interactables.forEachMatch(Oe,ke);if(We){m.prepared.name="drag",m.interactable=We,m.element=Oe;break}Oe=Kn(Oe)}}}function Ah(m,h){if(!h)return!1;const $=h.options.drag.startAxis;return m==="xy"||$==="xy"||$===m}var Zd={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":Qd}};function S$(m){const{defaults:h}=m;m.usePlugin(Xd),h.perAction.hold=0,h.perAction.delay=0}function Xm(m){const h=m.prepared&&m.prepared.name;if(!h)return null;const $=m.interactable.options;return $[h].hold||$[h].delay}var P$={id:"auto-start/hold",install:S$,listeners:{"interactions:new":({interaction:m})=>{m.autoStartHoldTimer=null},"autoStart:prepared":({interaction:m})=>{const h=Xm(m);h>0&&(m.autoStartHoldTimer=setTimeout(()=>{m.start(m.prepared,m.interactable,m.element)},h))},"interactions:move":({interaction:m,duplicate:h})=>{m.autoStartHoldTimer&&m.pointerWasMoved&&!h&&(clearTimeout(m.autoStartHoldTimer),m.autoStartHoldTimer=null)},"autoStart:before-start":({interaction:m})=>{Xm(m)>0&&(m.prepared.name=null)}},getHoldDuration:Xm},Ih={id:"auto-start",install(m){m.usePlugin(Xd),m.usePlugin(P$),m.usePlugin(Zd)}};typeof window=="object"&&window&&k(window),D.use(Ih);function k0(m){const{actions:h,Interactable:$,defaults:T}=m;$.prototype.draggable=J.draggable,h.map.drag=J,h.methodDict.drag="draggable",T.actions.drag=J.defaults}function Qm({interaction:m}){if(m.prepared.name!=="drag")return;const h=m.prepared.axis;h==="x"?(m.coords.cur.page.y=m.coords.start.page.y,m.coords.cur.client.y=m.coords.start.client.y,m.coords.velocity.client.y=0,m.coords.velocity.page.y=0):h==="y"&&(m.coords.cur.page.x=m.coords.start.page.x,m.coords.cur.client.x=m.coords.start.client.x,m.coords.velocity.client.x=0,m.coords.velocity.page.x=0)}function A({iEvent:m,interaction:h}){if(h.prepared.name!=="drag")return;const $=h.prepared.axis;if($==="x"||$==="y"){const T=$==="x"?"y":"x";m.page[T]=h.coords.start.page[T],m.client[T]=h.coords.start.client[T],m.delta[T]=0}}const J={id:"actions/drag",install:k0,listeners:{"interactions:before-action-move":Qm,"interactions:action-resume":Qm,"interactions:action-move":A,"auto-start:check":m=>{const{interaction:h,interactable:$,buttons:T}=m,M=$.options.drag;if(!(!(M&&M.enabled)||h.pointerIsDown&&/mouse|pointer/.test(h.pointerType)&&!(T&$.options.drag.mouseButtons)))return m.action={name:"drag",axis:M.lockAxis==="start"?M.startAxis:M.lockAxis},!1}},draggable:function(h){return Ce.object(h)?(this.options.drag.enabled=h.enabled!==!1,this.setPerAction("drag",h),this.setOnEvents("drag",h),/^(xy|x|y|start)$/.test(h.lockAxis)&&(this.options.drag.lockAxis=h.lockAxis),/^(xy|x|y)$/.test(h.startAxis)&&(this.options.drag.startAxis=h.startAxis),this):Ce.bool(h)?(this.options.drag.enabled=h,this):this.options.drag},beforeMove:Qm,move:A,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"}};var $e=J;typeof window=="object"&&window&&k(window),D.use($e);function Xe(m){const{actions:h,browser:$,Interactable:T,defaults:M}=m;uo.cursors=Xt($),uo.defaultMargin=$.supportsTouch||$.supportsPointerEvent?20:10,T.prototype.resizable=function(N){return pt(this,N,m)},h.map.resize=uo,h.methodDict.resize="resizable",M.actions.resize=uo.defaults}function De(m){const{interaction:h,interactable:$,element:T,rect:M,buttons:N}=m;if(!M)return;const z=Re({},h.coords.cur.page),K=$.options.resize;if(!(!(K&&K.enabled)||h.pointerIsDown&&/mouse|pointer/.test(h.pointerType)&&!(N&K.mouseButtons))){if(Ce.object(K.edges)){const ne={left:!1,right:!1,top:!1,bottom:!1};for(const ve in ne)ne[ve]=Ht(ve,K.edges[ve],z,h._latestPointer.eventTarget,T,M,K.margin||uo.defaultMargin);ne.left=ne.left&&!ne.right,ne.top=ne.top&&!ne.bottom,(ne.left||ne.right||ne.top||ne.bottom)&&(m.action={name:"resize",edges:ne})}else{const ne=K.axis!=="y"&&z.x>M.right-uo.defaultMargin,ve=K.axis!=="x"&&z.y>M.bottom-uo.defaultMargin;(ne||ve)&&(m.action={name:"resize",axes:(ne?"x":"")+(ve?"y":"")})}return m.action?!1:void 0}}function pt(m,h,$){return Ce.object(h)?(m.options.resize.enabled=h.enabled!==!1,m.setPerAction("resize",h),m.setOnEvents("resize",h),Ce.string(h.axis)&&/^x$|^y$|^xy$/.test(h.axis)?m.options.resize.axis=h.axis:h.axis===null&&(m.options.resize.axis=$.defaults.actions.resize.axis),Ce.bool(h.preserveAspectRatio)?m.options.resize.preserveAspectRatio=h.preserveAspectRatio:Ce.bool(h.square)&&(m.options.resize.square=h.square),m):Ce.bool(h)?(m.options.resize.enabled=h,m):m.options.resize}function Ht(m,h,$,T,M,N,z){if(!h)return!1;if(h===!0){const K=Ce.number(N.width)?N.width:N.right-N.left,ne=Ce.number(N.height)?N.height:N.bottom-N.top;if(z=Math.min(z,Math.abs((m==="left"||m==="right"?K:ne)/2)),K<0&&(m==="left"?m="right":m==="right"&&(m="left")),ne<0&&(m==="top"?m="bottom":m==="bottom"&&(m="top")),m==="left")return $.x<(K>=0?N.left:N.right)+z;if(m==="top")return $.y<(ne>=0?N.top:N.bottom)+z;if(m==="right")return $.x>(K>=0?N.right:N.left)-z;if(m==="bottom")return $.y>(ne>=0?N.bottom:N.top)-z}return Ce.element(T)?Ce.element(h)?h===T:Nn(T,h,M):!1}function Xt(m){return m.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function Sn({iEvent:m,interaction:h}){if(h.prepared.name!=="resize"||!h.prepared.edges)return;const $=m,T=h.rect;h._rects={start:Re({},T),corrected:Re({},T),previous:Re({},T),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},$.edges=h.prepared.edges,$.rect=h._rects.corrected,$.deltaRect=h._rects.delta}function ba({iEvent:m,interaction:h}){if(h.prepared.name!=="resize"||!h.prepared.edges)return;const $=m,M=h.interactable.options.resize.invert,N=M==="reposition"||M==="negate",z=h.rect,{start:K,corrected:ne,delta:ve,previous:Oe}=h._rects;if(Re(Oe,ne),N){if(Re(ne,z),M==="reposition"){if(ne.top>ne.bottom){const ke=ne.top;ne.top=ne.bottom,ne.bottom=ke}if(ne.left>ne.right){const ke=ne.left;ne.left=ne.right,ne.right=ke}}}else ne.top=Math.min(z.top,K.bottom),ne.bottom=Math.max(z.bottom,K.top),ne.left=Math.min(z.left,K.right),ne.right=Math.max(z.right,K.left);ne.width=ne.right-ne.left,ne.height=ne.bottom-ne.top;for(const ke in ne)ve[ke]=ne[ke]-Oe[ke];$.edges=h.prepared.edges,$.rect=ne,$.deltaRect=ve}function Ha({iEvent:m,interaction:h}){if(h.prepared.name!=="resize"||!h.prepared.edges)return;const $=m;$.edges=h.prepared.edges,$.rect=h._rects.corrected,$.deltaRect=h._rects.delta}function Vo({iEvent:m,interaction:h}){if(h.prepared.name!=="resize"||!h.resizeAxes)return;const $=h.interactable.options,T=m;$.resize.square?(h.resizeAxes==="y"?T.delta.x=T.delta.y:T.delta.y=T.delta.x,T.axes="xy"):(T.axes=h.resizeAxes,h.resizeAxes==="x"?T.delta.y=0:h.resizeAxes==="y"&&(T.delta.x=0))}const uo={id:"actions/resize",before:["actions/drag"],install:Xe,listeners:{"interactions:new":({interaction:m})=>{m.resizeAxes="xy"},"interactions:action-start":m=>{Sn(m),Vo(m)},"interactions:action-move":m=>{ba(m),Vo(m)},"interactions:action-end":Ha,"auto-start:check":De},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor({edges:m,axis:h,name:$}){const T=uo.cursors;let M=null;if(h)M=T[$+h];else if(m){let N="";for(const z of["top","bottom","left","right"])m[z]&&(N+=z);M=T[N]}return M},defaultMargin:null};var Ds=uo;typeof window=="object"&&window&&k(window),D.use(Ds);var Il=()=>{},Ui=()=>{},Dc=m=>{const h=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(([T,M])=>T in m||M in m),$=(T,M)=>{const{range:N,limits:z={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:K={x:0,y:0}}=m,ne={range:N,grid:m,x:null,y:null};for(const[ve,Oe]of h){const ke=Math.round((T-K.x)/m[ve]),We=Math.round((M-K.y)/m[Oe]);ne[ve]=Math.max(z.left,Math.min(z.right,ke*m[ve]+K.x)),ne[Oe]=Math.max(z.top,Math.min(z.bottom,We*m[Oe]+K.y))}return ne};return $.grid=m,$.coordFields=h,$},Mh={id:"snappers",install(m){const{interactStatic:h}=m;h.snappers=Re(h.snappers||{},a),h.createSnapGrid=h.snappers.grid}};class Jd{constructor(h){this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=null,this.result=null,this.endResult=null,this.edges=void 0,this.interaction=void 0,this.interaction=h,this.result=A0()}start({phase:h},$){const{interaction:T}=this,M=gN(T);this.prepareStates(M),this.edges=Re({},T.edges),this.startOffset=vN(T.rect,$),this.startDelta={x:0,y:0};const N={phase:h,pageCoords:$,preEnd:!1};return this.result=A0(),this.startAll(N),this.result=this.setAll(N)}fillArg(h){const{interaction:$}=this;h.interaction=$,h.interactable=$.interactable,h.element=$.element,h.rect=h.rect||$.rect,h.edges=this.edges,h.startOffset=this.startOffset}startAll(h){this.fillArg(h);for(const $ of this.states)$.methods.start&&(h.state=$,$.methods.start(h))}setAll(h){this.fillArg(h);const{phase:$,preEnd:T,skipModifiers:M,rect:N}=h;h.coords=Re({},h.pageCoords),h.rect=Re({},N);const z=M?this.states.slice(M):this.states,K=A0(h.coords,h.rect);for(const Oe of z){const{options:ke}=Oe,We=Re({},h.coords);let bt=null;Oe.methods.set&&this.shouldDo(ke,T,$)&&(h.state=Oe,bt=Oe.methods.set(h),fa(this.interaction.edges,h.rect,{x:h.coords.x-We.x,y:h.coords.y-We.y})),K.eventProps.push(bt)}K.delta.x=h.coords.x-h.pageCoords.x,K.delta.y=h.coords.y-h.pageCoords.y,K.rectDelta.left=h.rect.left-N.left,K.rectDelta.right=h.rect.right-N.right,K.rectDelta.top=h.rect.top-N.top,K.rectDelta.bottom=h.rect.bottom-N.bottom;const ne=this.result.coords,ve=this.result.rect;if(ne&&ve){const Oe=K.rect.left!==ve.left||K.rect.right!==ve.right||K.rect.top!==ve.top||K.rect.bottom!==ve.bottom;K.changed=Oe||ne.x!==K.coords.x||ne.y!==K.coords.y}return K}applyToInteraction(h){const{interaction:$}=this,{phase:T}=h,M=$.coords.cur,N=$.coords.start,{result:z,startDelta:K}=this,ne=z.delta;T==="start"&&Re(this.startDelta,z.delta);for(const[ke,We]of[[N,K],[M,ne]])ke.page.x+=We.x,ke.page.y+=We.y,ke.client.x+=We.x,ke.client.y+=We.y;const{rectDelta:ve}=this.result,Oe=h.rect||$.rect;Oe.left+=ve.left,Oe.right+=ve.right,Oe.top+=ve.top,Oe.bottom+=ve.bottom,Oe.width=Oe.right-Oe.left,Oe.height=Oe.bottom-Oe.top}setAndApply(h){const{interaction:$}=this,{phase:T,preEnd:M,skipModifiers:N}=h,z=this.setAll({preEnd:M,phase:T,pageCoords:h.modifiedCoords||$.coords.cur.page});if(this.result=z,!z.changed&&(!N||N<this.states.length)&&$.interacting())return!1;if(h.modifiedCoords){const{page:K}=$.coords.cur,ne={x:h.modifiedCoords.x-K.x,y:h.modifiedCoords.y-K.y};z.coords.x+=ne.x,z.coords.y+=ne.y,z.delta.x+=ne.x,z.delta.y+=ne.y}this.applyToInteraction(h)}beforeEnd(h){const{interaction:$,event:T}=h,M=this.states;if(!M||!M.length)return;let N=!1;for(const z of M){h.state=z;const{options:K,methods:ne}=z,ve=ne.beforeEnd&&ne.beforeEnd(h);if(ve)return this.endResult=ve,!1;N=N||!N&&this.shouldDo(K,!0,h.phase,!0)}N&&$.move({event:T,preEnd:!0})}stop(h){const{interaction:$}=h;if(!this.states||!this.states.length)return;const T=Re({states:this.states,interactable:$.interactable,element:$.element,rect:null},h);this.fillArg(T);for(const M of this.states)T.state=M,M.methods.stop&&M.methods.stop(T);this.states=null,this.endResult=null}prepareStates(h){this.states=[];for(let $=0;$<h.length;$++){const{options:T,methods:M,name:N}=h[$];this.states.push({options:T,methods:M,index:$,name:N})}return this.states}restoreInteractionCoords({interaction:{coords:h,rect:$,modification:T}}){if(!T.result)return;const{startDelta:M}=T,{delta:N,rectDelta:z}=T.result,K=[[h.start,M],[h.cur,N]];for(const[ne,ve]of K)ne.page.x-=ve.x,ne.page.y-=ve.y,ne.client.x-=ve.x,ne.client.y-=ve.y;$.left-=z.left,$.right-=z.right,$.top-=z.top,$.bottom-=z.bottom}shouldDo(h,$,T,M){return!(!h||h.enabled===!1||M&&!h.endOnly||h.endOnly&&!$||T==="start"&&!h.setStart)}copyFrom(h){this.startOffset=h.startOffset,this.startDelta=h.startDelta,this.edges=h.edges,this.states=h.states.map($=>et($)),this.result=A0(Re({},h.result.coords),Re({},h.result.rect))}destroy(){for(const h in this)this[h]=null}}function A0(m,h){return{rect:h,coords:m,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function gN(m){const h=m.interactable.options[m.prepared.name],$=h.modifiers;return $&&$.length?$:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(T=>{const M=h[T];return M&&M.enabled&&{options:M,methods:M._methods}}).filter(T=>!!T)}function vN(m,h){return m?{left:h.x-m.left,top:h.y-m.top,right:m.right-h.x,bottom:m.bottom-h.y}:{left:0,top:0,right:0,bottom:0}}function Lu(m,h){const{defaults:$}=m,T={start:m.start,set:m.set,beforeEnd:m.beforeEnd,stop:m.stop},M=N=>{const z=N||{};z.enabled=z.enabled!==!1;for(const ne in $)ne in z||(z[ne]=$[ne]);const K={options:z,methods:T,name:h,enable:()=>(z.enabled=!0,K),disable:()=>(z.enabled=!1,K)};return K};return h&&typeof h=="string"&&(M._defaults=$,M._methods=T),M}function T$({iEvent:m,interaction:{modification:{result:h}}}){h&&(m.modifiers=h.eventProps)}var yN={id:"modifiers/base",before:["actions"],install:m=>{m.defaults.perAction.modifiers=[]},listeners:{"interactions:new":({interaction:m})=>{m.modification=new Jd(m)},"interactions:before-action-start":m=>{const{modification:h}=m.interaction;h.start(m,m.interaction.coords.start.page),m.interaction.edges=h.edges,h.applyToInteraction(m)},"interactions:before-action-move":m=>m.interaction.modification.setAndApply(m),"interactions:before-action-end":m=>m.interaction.modification.beforeEnd(m),"interactions:action-start":T$,"interactions:action-move":T$,"interactions:action-end":T$,"interactions:after-action-start":m=>m.interaction.modification.restoreInteractionCoords(m),"interactions:after-action-move":m=>m.interaction.modification.restoreInteractionCoords(m),"interactions:stop":m=>m.interaction.modification.stop(m)}};const wN={start(m){const{state:h,rect:$,edges:T,pageCoords:M}=m;let{ratio:N}=h.options;const{equalDelta:z,modifiers:K}=h.options;N==="preserve"&&(N=$.width/$.height),h.startCoords=Re({},M),h.startRect=Re({},$),h.ratio=N,h.equalDelta=z;const ne=h.linkedEdges={top:T.top||T.left&&!T.bottom,left:T.left||T.top&&!T.right,bottom:T.bottom||T.right&&!T.top,right:T.right||T.bottom&&!T.left};if(h.xIsPrimaryAxis=!!(T.left||T.right),h.equalDelta)h.edgeSign=(ne.left?1:-1)*(ne.top?1:-1);else{const Oe=h.xIsPrimaryAxis?ne.top:ne.left;h.edgeSign=Oe?-1:1}if(Re(m.edges,ne),!K||!K.length)return;const ve=new Jd(m.interaction);ve.copyFrom(m.interaction.modification),ve.prepareStates(K),h.subModification=ve,ve.startAll({...m})},set(m){const{state:h,rect:$,coords:T}=m,M=Re({},T),N=h.equalDelta?bN:$N;if(N(h,h.xIsPrimaryAxis,T,$),!h.subModification)return null;const z=Re({},$);fa(h.linkedEdges,z,{x:T.x-M.x,y:T.y-M.y});const K=h.subModification.setAll({...m,rect:z,edges:h.linkedEdges,pageCoords:T,prevCoords:T,prevRect:z}),{delta:ne}=K;if(K.changed){const ve=Math.abs(ne.x)>Math.abs(ne.y);N(h,ve,K.coords,K.rect),Re(T,K.coords)}return K.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function bN({startCoords:m,edgeSign:h},$,T){$?T.y=m.y+(T.x-m.x)*h:T.x=m.x+(T.y-m.y)*h}function $N({startRect:m,startCoords:h,ratio:$,edgeSign:T},M,N,z){if(M){const K=z.width/$;N.y=h.y+(K-m.height)*T}else{const K=z.height*$;N.x=h.x+(K-m.width)*T}}var xN=Lu(wN,"aspectRatio");const WS=()=>{};WS._defaults={};var I0=WS;function _N({rect:m,startOffset:h,state:$,interaction:T,pageCoords:M}){const{options:N}=$,{elementRect:z}=N,K=Re({left:0,top:0,right:0,bottom:0},N.offset||{});if(m&&z){const ne=qd(N.restriction,T,M);if(ne){const ve=ne.right-ne.left-m.width,Oe=ne.bottom-ne.top-m.height;ve<0&&(K.left+=ve,K.right+=ve),Oe<0&&(K.top+=Oe,K.bottom+=Oe)}K.left+=h.left-m.width*z.left,K.top+=h.top-m.height*z.top,K.right+=h.right-m.width*(1-z.right),K.bottom+=h.bottom-m.height*(1-z.bottom)}$.offset=K}function VN({coords:m,interaction:h,state:$}){const{options:T,offset:M}=$,N=qd(T.restriction,h,m);if(!N)return;const z=Ri(N);m.x=Math.max(Math.min(z.right-M.right,m.x),z.left+M.left),m.y=Math.max(Math.min(z.bottom-M.bottom,m.y),z.top+M.top)}function qd(m,h,$){return Ce.func(m)?sr(m,h.interactable,h.element,[$.x,$.y,h]):sr(m,h.interactable,h.element)}const M0={start:_N,set:VN,defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};var CN=Lu(M0,"restrict");const KS={top:1/0,left:1/0,bottom:-1/0,right:-1/0},YS={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function SN({interaction:m,startOffset:h,state:$}){const{options:T}=$;let M;if(T){const N=qd(T.offset,m,m.coords.start.page);M=os(N)}M=M||{x:0,y:0},$.offset={top:M.y+h.top,left:M.x+h.left,bottom:M.y-h.bottom,right:M.x-h.right}}function PN({coords:m,edges:h,interaction:$,state:T}){const{offset:M,options:N}=T;if(!h)return;const z=Re({},m),K=qd(N.inner,$,z)||{},ne=qd(N.outer,$,z)||{};XS(K,KS),XS(ne,YS),h.top?m.y=Math.min(Math.max(ne.top+M.top,z.y),K.top+M.top):h.bottom&&(m.y=Math.max(Math.min(ne.bottom+M.bottom,z.y),K.bottom+M.bottom)),h.left?m.x=Math.min(Math.max(ne.left+M.left,z.x),K.left+M.left):h.right&&(m.x=Math.max(Math.min(ne.right+M.right,z.x),K.right+M.right))}function XS(m,h){for(const $ of["top","left","bottom","right"])$ in m||(m[$]=h[$]);return m}const Zm={noInner:KS,noOuter:YS,start:SN,set:PN,defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};var EN=Lu(Zm,"restrictEdges");const TN=Re({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(m){}},M0.defaults),RN={start:M0.start,set:M0.set,defaults:TN};var ON=Lu(RN,"restrictRect");const kN={width:-1/0,height:-1/0},AN={width:1/0,height:1/0};function IN(m){return Zm.start(m)}function MN(m){const{interaction:h,state:$,rect:T,edges:M}=m,{options:N}=$;if(!M)return;const z=Oi(qd(N.min,h,m.coords))||kN,K=Oi(qd(N.max,h,m.coords))||AN;$.options={endOnly:N.endOnly,inner:Re({},Zm.noInner),outer:Re({},Zm.noOuter)},M.top?($.options.inner.top=T.bottom-z.height,$.options.outer.top=T.bottom-K.height):M.bottom&&($.options.inner.bottom=T.top+z.height,$.options.outer.bottom=T.top+K.height),M.left?($.options.inner.left=T.right-z.width,$.options.outer.left=T.right-K.width):M.right&&($.options.inner.right=T.left+z.width,$.options.outer.right=T.left+K.width),Zm.set(m),$.options=N}var FN=Lu({start:IN,set:MN,defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");function DN(m){const{interaction:h,interactable:$,element:T,rect:M,state:N,startOffset:z}=m,{options:K}=N,ne=K.offsetWithOrigin?HN(m):{x:0,y:0};let ve;if(K.offset==="startCoords")ve={x:h.coords.start.page.x,y:h.coords.start.page.y};else{const ke=sr(K.offset,$,T,[h]);ve=os(ke)||{x:0,y:0},ve.x+=ne.x,ve.y+=ne.y}const{relativePoints:Oe}=K;N.offsets=M&&Oe&&Oe.length?Oe.map((ke,We)=>({index:We,relativePoint:ke,x:z.left-M.width*ke.x+ve.x,y:z.top-M.height*ke.y+ve.y})):[Re({index:0,relativePoint:null},ve)]}function NN(m){const{interaction:h,coords:$,state:T}=m,{options:M,offsets:N}=T,z=Cn(h.interactable,h.element,h.prepared.name),K=Re({},$),ne=[];M.offsetWithOrigin||(K.x-=z.x,K.y-=z.y);for(const Oe of N){const ke=K.x-Oe.x,We=K.y-Oe.y;for(let bt=0,Ln=M.targets.length;bt<Ln;bt++){const po=M.targets[bt];let kn;Ce.func(po)?kn=po(ke,We,h._proxy,Oe,bt):kn=po,kn&&ne.push({x:(Ce.number(kn.x)?kn.x:ke)+Oe.x,y:(Ce.number(kn.y)?kn.y:We)+Oe.y,range:Ce.number(kn.range)?kn.range:M.range,source:po,index:bt,offset:Oe})}}const ve={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const Oe of ne){const ke=Oe.range,We=Oe.x-K.x,bt=Oe.y-K.y,Ln=Jr(We,bt);let po=Ln<=ke;ke===1/0&&ve.inRange&&ve.range!==1/0&&(po=!1),(!ve.target||(po?ve.inRange&&ke!==1/0?Ln/ke<ve.distance/ve.range:ke===1/0&&ve.range!==1/0||Ln<ve.distance:!ve.inRange&&Ln<ve.distance))&&(ve.target=Oe,ve.distance=Ln,ve.range=ke,ve.inRange=po,ve.delta.x=We,ve.delta.y=bt)}return ve.inRange&&($.x=ve.target.x,$.y=ve.target.y),T.closest=ve,ve}function HN(m){const{element:h}=m.interaction;return os(sr(m.state.options.origin,null,null,[h]))||Cn(m.interactable,h,m.interaction.prepared.name)}const R$={start:DN,set:NN,defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};var BN=Lu(R$,"snap");function LN(m){const{state:h,edges:$}=m,{options:T}=h;if(!$)return null;m.state={options:{targets:null,relativePoints:[{x:$.left?0:1,y:$.top?0:1}],offset:T.offset||"self",origin:{x:0,y:0},range:T.range}},h.targetFields=h.targetFields||[["width","height"],["x","y"]],R$.start(m),h.offsets=m.state.offsets,m.state=h}function UN(m){const{interaction:h,state:$,coords:T}=m,{options:M,offsets:N}=$,z={x:T.x-N[0].x,y:T.y-N[0].y};$.options=Re({},M),$.options.targets=[];for(const ne of M.targets||[]){let ve;if(Ce.func(ne)?ve=ne(z.x,z.y,h):ve=ne,!!ve){for(const[Oe,ke]of $.targetFields)if(Oe in ve||ke in ve){ve.x=ve[Oe],ve.y=ve[ke];break}$.options.targets.push(ve)}}const K=R$.set(m);return $.options=M,K}const F0={start:LN,set:UN,defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};var jN=Lu(F0,"snapSize");function zN(m){const{edges:h}=m;return h?(m.state.targetFields=m.state.targetFields||[[h.left?"left":"right",h.top?"top":"bottom"]],F0.start(m)):null}const GN={start:zN,set:F0.set,defaults:Re(et(F0.defaults),{targets:null,range:null,offset:{x:0,y:0}})};var WN=Lu(GN,"snapEdges"),O$={aspectRatio:xN,restrictEdges:EN,restrict:CN,restrictRect:ON,restrictSize:FN,snapEdges:WN,snap:BN,snapSize:jN,spring:I0,avoid:I0,transform:I0,rubberband:I0},KN={id:"modifiers",install(m){const{interactStatic:h}=m;m.usePlugin(yN),m.usePlugin(Mh),h.modifiers=O$;for(const $ in O$){const{_defaults:T,_methods:M}=O$[$];T._methods=M,m.defaults.perAction[$]=T}}};typeof window=="object"&&window&&k(window),D.use(KN);var Fh;(function(m){m.touchAction="touchAction",m.boxSizing="boxSizing",m.noListeners="noListeners"})(Fh||(Fh={}));const QS="[interact.js] ",k$={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"};function YN(m,{logger:h}={}){const{Interactable:$,defaults:T}=m;m.logger=h||console,T.base.devTools={ignore:{}},$.prototype.devTools=function(M){return M?(Re(this.options.devTools,M),this):this.options.devTools}}const ZS=[{name:Fh.touchAction,perform({element:m}){return!XN(m,"touchAction",/pan-|pinch|none/)},getInfo({element:m}){return[m,k$.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:Fh.boxSizing,perform(m){const{element:h}=m;return m.prepared.name==="resize"&&h instanceof me.HTMLElement&&!JS(h,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo({element:m}){return[m,k$.boxSizing]}},{name:Fh.noListeners,perform(m){const h=m.prepared.name;return!(m.interactable.events.types[`${h}move`]||[]).length},getInfo(m){return[m.prepared.name,m.interactable]},text:"There are no listeners set for this action"}];function JS(m,h,$){const T=m.style[h]||Fe.getComputedStyle(m)[h];return $.test((T||"").toString())}function XN(m,h,$){let T=m;for(;Ce.element(T);){if(JS(T,h,$))return!0;T=Kn(T)}return!1}var QN={id:"dev-tools",install:YN,listeners:{"interactions:action-start":({interaction:m},h)=>{for(const $ of ZS){const T=m.interactable&&m.interactable.options;!(T&&T.devTools&&T.devTools.ignore[$.name])&&$.perform(m)&&h.logger.warn(QS+$.text,...$.getInfo(m))}}},checks:ZS,CheckName:Fh,links:k$,prefix:QS};typeof window=="object"&&window&&k(window),D.use(QN);var qS={name:"GridItem",props:{isDraggable:{type:Boolean,required:!1,default:null},isResizable:{type:Boolean,required:!1,default:null},static:{type:Boolean,required:!1,default:!1},minH:{type:Number,required:!1,default:1},minW:{type:Number,required:!1,default:1},maxH:{type:Number,required:!1,default:1/0},maxW:{type:Number,required:!1,default:1/0},x:{type:Number,required:!0},y:{type:Number,required:!0},w:{type:Number,required:!0},h:{type:Number,required:!0},i:{required:!0},dragIgnoreFrom:{type:String,required:!1,default:"a, button"},dragAllowFrom:{type:String,required:!1,default:null},resizeIgnoreFrom:{type:String,required:!1,default:"a, button"},preserveAspectRatio:{type:Boolean,required:!1,default:!1}},inject:["eventBus","layout"],data:function(){return{cols:1,containerWidth:100,rowHeight:30,margin:[10,10],maxRows:1/0,draggable:null,resizable:null,useCssTransforms:!0,useStyleCursor:!0,isDragging:!1,dragging:null,isResizing:!1,resizing:null,lastX:NaN,lastY:NaN,lastW:NaN,lastH:NaN,style:{},rtl:!1,dragEventSet:!1,resizeEventSet:!1,previousW:null,previousH:null,previousX:null,previousY:null,innerX:this.x,innerY:this.y,innerW:this.w,innerH:this.h}},created:function(){var h=this,$=this;$.updateWidthHandler=function(T){$.updateWidth(T)},$.compactHandler=function(T){$.compact(T)},$.setDraggableHandler=function(T){$.isDraggable===null&&($.draggable=T)},$.setResizableHandler=function(T){$.isResizable===null&&($.resizable=T)},$.setRowHeightHandler=function(T){$.rowHeight=T},$.setMaxRowsHandler=function(T){$.maxRows=T},$.directionchangeHandler=function(){h.rtl=Ne()==="rtl",h.compact()},$.setColNum=function(T){$.cols=parseInt(T)},this.eventBus.on("updateWidth",$.updateWidthHandler),this.eventBus.on("compact",$.compactHandler),this.eventBus.on("setDraggable",$.setDraggableHandler),this.eventBus.on("setResizable",$.setResizableHandler),this.eventBus.on("setRowHeight",$.setRowHeightHandler),this.eventBus.on("setMaxRows",$.setMaxRowsHandler),this.eventBus.on("directionchange",$.directionchangeHandler),this.eventBus.on("setColNum",$.setColNum),this.rtl=Ne()==="rtl"},beforeUnmount:function(){var h=this;this.eventBus.off("updateWidth",h.updateWidthHandler),this.eventBus.off("compact",h.compactHandler),this.eventBus.off("setDraggable",h.setDraggableHandler),this.eventBus.off("setResizable",h.setResizableHandler),this.eventBus.off("setRowHeight",h.setRowHeightHandler),this.eventBus.off("setMaxRows",h.setMaxRowsHandler),this.eventBus.off("directionchange",h.directionchangeHandler),this.eventBus.off("setColNum",h.setColNum),this.interactObj&&this.interactObj.unset()},mounted:function(){this.layout.responsive&&this.layout.lastBreakpoint?this.cols=q(this.layout.lastBreakpoint,this.layout.cols):this.cols=this.layout.colNum,this.rowHeight=this.layout.rowHeight,this.containerWidth=this.layout.width!==null?this.layout.width:100,this.margin=this.layout.margin!==void 0?this.layout.margin:[10,10],this.maxRows=this.layout.maxRows,this.isDraggable===null?this.draggable=this.layout.isDraggable:this.draggable=this.isDraggable,this.isResizable===null?this.resizable=this.layout.isResizable:this.resizable=this.isResizable,this.useCssTransforms=this.layout.useCssTransforms,this.useStyleCursor=this.layout.useStyleCursor,this.createStyle()},watch:{isDraggable:function(){this.draggable=this.isDraggable},static:function(){this.tryMakeDraggable(),this.tryMakeResizable()},draggable:function(){this.tryMakeDraggable()},isResizable:function(){this.resizable=this.isResizable},resizable:function(){this.tryMakeResizable()},rowHeight:function(){this.createStyle(),this.emitContainerResized()},cols:function(){this.tryMakeResizable(),this.createStyle(),this.emitContainerResized()},containerWidth:function(){this.tryMakeResizable(),this.createStyle(),this.emitContainerResized()},x:function(h){this.innerX=h,this.createStyle()},y:function(h){this.innerY=h,this.createStyle()},h:function(h){this.innerH=h,this.createStyle()},w:function(h){this.innerW=h,this.createStyle()},renderRtl:function(){this.tryMakeResizable(),this.createStyle()},minH:function(){this.tryMakeResizable()},maxH:function(){this.tryMakeResizable()},minW:function(){this.tryMakeResizable()},maxW:function(){this.tryMakeResizable()},"$parent.margin":function(h){!h||h[0]==this.margin[0]&&h[1]==this.margin[1]||(this.margin=h.map(function($){return Number($)}),this.createStyle(),this.emitContainerResized())}},computed:{classObj:function(){return{"vue-resizable":this.resizableAndNotStatic,static:this.static,resizing:this.isResizing,"vue-draggable-dragging":this.isDragging,cssTransforms:this.useCssTransforms,"render-rtl":this.renderRtl,"disable-userselect":this.isDragging,"no-touch":this.isAndroid&&this.draggableOrResizableAndNotStatic}},resizableAndNotStatic:function(){return this.resizable&&!this.static},draggableOrResizableAndNotStatic:function(){return(this.draggable||this.resizable)&&!this.static},isAndroid:function(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},renderRtl:function(){return this.layout.isMirrored?!this.rtl:this.rtl},resizableHandleClass:function(){return this.renderRtl?"vue-resizable-handle vue-rtl-resizable-handle":"vue-resizable-handle"}},methods:{createStyle:function(){this.x+this.w>this.cols?(this.innerX=0,this.innerW=this.w>this.cols?this.cols:this.w):(this.innerX=this.x,this.innerW=this.w);var h=this.calcPosition(this.innerX,this.innerY,this.innerW,this.innerH);this.isDragging&&(h.top=this.dragging.top,this.renderRtl?h.right=this.dragging.left:h.left=this.dragging.left),this.isResizing&&(h.width=this.resizing.width,h.height=this.resizing.height);var $;this.useCssTransforms?this.renderRtl?$=P(h.top,h.right,h.width,h.height):$=S(h.top,h.left,h.width,h.height):this.renderRtl?$=O(h.top,h.right,h.width,h.height):$=E(h.top,h.left,h.width,h.height),this.style=$},emitContainerResized:function(){for(var h={},$=0,T=["width","height"];$<T.length;$++){var M=T[$],N=this.style[M],z=N.match(/^(\d+)px$/);if(!z)return;h[M]=z[1]}this.$emit("container-resized",this.i,this.h,this.w,h.height,h.width)},handleResize:function(h){if(!this.static){var $=L(h);if($!=null){var T=$.x,M=$.y,N={width:0,height:0},z;switch(h.type){case"resizestart":{this.previousW=this.innerW,this.previousH=this.innerH,z=this.calcPosition(this.innerX,this.innerY,this.innerW,this.innerH),N.width=z.width,N.height=z.height,this.resizing=N,this.isResizing=!0;break}case"resizemove":{var K=W(this.lastW,this.lastH,T,M);this.renderRtl?N.width=this.resizing.width-K.deltaX:N.width=this.resizing.width+K.deltaX,N.height=this.resizing.height+K.deltaY,this.resizing=N;break}case"resizeend":{z=this.calcPosition(this.innerX,this.innerY,this.innerW,this.innerH),N.width=z.width,N.height=z.height,this.resizing=null,this.isResizing=!1;break}}z=this.calcWH(N.height,N.width),z.w<this.minW&&(z.w=this.minW),z.w>this.maxW&&(z.w=this.maxW),z.h<this.minH&&(z.h=this.minH),z.h>this.maxH&&(z.h=this.maxH),z.h<1&&(z.h=1),z.w<1&&(z.w=1),this.lastW=T,this.lastH=M,(this.innerW!==z.w||this.innerH!==z.h)&&this.$emit("resize",this.i,z.h,z.w,N.height,N.width),h.type==="resizeend"&&(this.previousW!==this.innerW||this.previousH!==this.innerH)&&this.$emit("resized",this.i,z.h,z.w,N.height,N.width),this.eventBus.emit("resizeEvent",{eventType:h.type,i:this.i,x:this.innerX,y:this.innerY,h:z.h,w:z.w})}}},handleDrag:function(h){if(!this.static&&!this.isResizing){var $=L(h);if($!==null){var T=$.x,M=$.y,N={top:0,left:0};switch(h.type){case"dragstart":{this.previousX=this.innerX,this.previousY=this.innerY;var z=h.target.offsetParent.getBoundingClientRect(),K=h.target.getBoundingClientRect();this.renderRtl?N.left=(K.right-z.right)*-1:N.left=K.left-z.left,N.top=K.top-z.top,this.dragging=N,this.isDragging=!0;break}case"dragend":{if(!this.isDragging)return;var ne=h.target.offsetParent.getBoundingClientRect(),ve=h.target.getBoundingClientRect();this.renderRtl?N.left=(ve.right-ne.right)*-1:N.left=ve.left-ne.left,N.top=ve.top-ne.top,this.dragging=null,this.isDragging=!1;break}case"dragmove":{var Oe=W(this.lastX,this.lastY,T,M);this.renderRtl?N.left=this.dragging.left-Oe.deltaX:N.left=this.dragging.left+Oe.deltaX,N.top=this.dragging.top+Oe.deltaY,this.dragging=N;break}}var ke;this.renderRtl?ke=this.calcXY(N.top,N.left):ke=this.calcXY(N.top,N.left),this.lastX=T,this.lastY=M,(this.innerX!==ke.x||this.innerY!==ke.y)&&this.$emit("move",this.i,ke.x,ke.y),h.type==="dragend"&&(this.previousX!==this.innerX||this.previousY!==this.innerY)&&this.$emit("moved",this.i,ke.x,ke.y),this.eventBus.emit("dragEvent",{eventType:h.type,i:this.i,x:ke.x,y:ke.y,h:this.innerH,w:this.innerW})}}},calcPosition:function(h,$,T,M){var N=this.calcColWidth(),z;return this.renderRtl?z={right:Math.round(N*h+(h+1)*this.margin[0]),top:Math.round(this.rowHeight*$+($+1)*this.margin[1]),width:T===1/0?T:Math.round(N*T+Math.max(0,T-1)*this.margin[0]),height:M===1/0?M:Math.round(this.rowHeight*M+Math.max(0,M-1)*this.margin[1])}:z={left:Math.round(N*h+(h+1)*this.margin[0]),top:Math.round(this.rowHeight*$+($+1)*this.margin[1]),width:T===1/0?T:Math.round(N*T+Math.max(0,T-1)*this.margin[0]),height:M===1/0?M:Math.round(this.rowHeight*M+Math.max(0,M-1)*this.margin[1])},z},calcXY:function(h,$){var T=this.calcColWidth(),M=Math.round(($-this.margin[0])/(T+this.margin[0])),N=Math.round((h-this.margin[1])/(this.rowHeight+this.margin[1]));return M=Math.max(Math.min(M,this.cols-this.innerW),0),N=Math.max(Math.min(N,this.maxRows-this.innerH),0),{x:M,y:N}},calcColWidth:function(){var h=(this.containerWidth-this.margin[0]*(this.cols+1))/this.cols;return h},calcWH:function(h,$){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=this.calcColWidth(),N=Math.round(($+this.margin[0])/(M+this.margin[0])),z=0;return T?z=Math.ceil((h+this.margin[1])/(this.rowHeight+this.margin[1])):z=Math.round((h+this.margin[1])/(this.rowHeight+this.margin[1])),N=Math.max(Math.min(N,this.cols-this.innerX),0),z=Math.max(Math.min(z,this.maxRows-this.innerY),0),{w:N,h:z}},updateWidth:function(h,$){this.containerWidth=h,$!=null&&(this.cols=$)},compact:function(){this.createStyle()},tryMakeDraggable:function(){var h=this;if((this.interactObj===null||this.interactObj===void 0)&&(this.interactObj=D(this.$refs.item),this.useStyleCursor||this.interactObj.styleCursor(!1)),this.draggable&&!this.static){var $={ignoreFrom:this.dragIgnoreFrom,allowFrom:this.dragAllowFrom};this.interactObj.draggable($),this.dragEventSet||(this.dragEventSet=!0,this.interactObj.on("dragstart dragmove dragend",function(T){h.handleDrag(T)}))}else this.interactObj.draggable({enabled:!1})},tryMakeResizable:function(){var h=this;if((this.interactObj===null||this.interactObj===void 0)&&(this.interactObj=D(this.$refs.item),this.useStyleCursor||this.interactObj.styleCursor(!1)),this.resizable&&!this.static){var $=this.calcPosition(0,0,this.maxW,this.maxH),T=this.calcPosition(0,0,this.minW,this.minH),M={edges:{left:!1,right:"."+this.resizableHandleClass.trim().replace(" ","."),bottom:"."+this.resizableHandleClass.trim().replace(" ","."),top:!1},ignoreFrom:this.resizeIgnoreFrom,restrictSize:{min:{height:T.height,width:T.width},max:{height:$.height,width:$.width}}};this.preserveAspectRatio&&(M.modifiers=[D.modifiers.aspectRatio({ratio:"preserve"})]),this.interactObj.resizable(M),this.resizeEventSet||(this.resizeEventSet=!0,this.interactObj.on("resizestart resizemove resizeend",function(N){h.handleResize(N)}))}else this.interactObj.resizable({enabled:!1})},autoSize:function(){this.previousW=this.innerW,this.previousH=this.innerH;var h=this.$slots().default[0].elm.getBoundingClientRect(),$=this.calcWH(h.height,h.width,!0);$.w<this.minW&&($.w=this.minW),$.w>this.maxW&&($.w=this.maxW),$.h<this.minH&&($.h=this.minH),$.h>this.maxH&&($.h=this.maxH),$.h<1&&($.h=1),$.w<1&&($.w=1),(this.innerW!==$.w||this.innerH!==$.h)&&this.$emit("resize",this.i,$.h,$.w,h.height,h.width),(this.previousW!==$.w||this.previousH!==$.h)&&(this.$emit("resized",this.i,$.h,$.w,h.height,h.width),this.eventBus.emit("resizeEvent",{eventType:"resizeend",i:this.i,x:this.innerX,y:this.innerY,h:$.h,w:$.w}))}}};o("083e"),qS.render=c;var A$=qS;function ZN(m,h,$,T,M,N){var z=Object(l.resolveComponent)("grid-item");return Object(l.openBlock)(),Object(l.createBlock)("div",{ref:"item",class:"vue-grid-layout",style:m.mergedStyle},[Object(l.renderSlot)(m.$slots,"default"),Object(l.withDirectives)(Object(l.createVNode)(z,{class:"vue-grid-placeholder",x:m.placeholder.x,y:m.placeholder.y,w:m.placeholder.w,h:m.placeholder.h,i:m.placeholder.i},null,8,["x","y","w","h","i"]),[[l.vShow,m.isDragging]])],4)}o("8e6e"),o("f751"),o("fca0");function JN(m,h,$){return h in m?Object.defineProperty(m,h,{value:$,enumerable:!0,configurable:!0,writable:!0}):m[h]=$,m}var qN=function(m){return{all:m=m||new Map,on:function(h,$){var T=m.get(h);T&&T.push($)||m.set(h,[$])},off:function(h,$){var T=m.get(h);T&&T.splice(T.indexOf($)>>>0,1)},emit:function(h,$){(m.get(h)||[]).slice().map(function(T){T($)}),(m.get("*")||[]).slice().map(function(T){T(h,$)})}}};function e8(m,h){var $=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);h&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(m,M).enumerable})),$.push.apply($,T)}return $}function t8(m){for(var h=1;h<arguments.length;h++){var $=arguments[h]!=null?arguments[h]:{};h%2?e8(Object($),!0).forEach(function(T){JN(m,T,$[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors($)):e8(Object($)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor($,T))})}return m}var eH=o("eec4"),n8={name:"GridLayout",provide:function(){return{eventBus:this.eventBus,layout:this}},components:{GridItem:A$},props:{autoSize:{type:Boolean,default:!0},colNum:{type:Number,default:12},rowHeight:{type:Number,default:150},maxRows:{type:Number,default:1/0},margin:{type:Array,default:function(){return[10,10]}},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},layout:{type:Array,required:!0},responsive:{type:Boolean,default:!1},responsiveLayouts:{type:Object,default:function(){return{}}},breakpoints:{type:Object,default:function(){return{lg:1200,md:996,sm:768,xs:480,xxs:0}}},cols:{type:Object,default:function(){return{lg:12,md:10,sm:6,xs:4,xxs:2}}},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},data:function(){return{eventBus:qN(),width:null,mergedStyle:{},lastLayoutLength:0,isDragging:!1,placeholder:{x:0,y:0,w:0,h:0,i:-1},layouts:{},lastBreakpoint:null,originalLayout:null}},created:function(){var h=this;h.resizeEventHandler=function($){var T=$.eventType,M=$.i,N=$.x,z=$.y,K=$.h,ne=$.w;h.resizeEvent(T,M,N,z,K,ne)},h.dragEventHandler=function($){var T=$.eventType,M=$.i,N=$.x,z=$.y,K=$.h,ne=$.w;h.dragEvent(T,M,N,z,K,ne)},h.eventBus.on("resizeEvent",h.resizeEventHandler),h.eventBus.on("dragEvent",h.dragEventHandler),h.$emit("layout-created",h.layout)},beforeUnmount:function(){this.eventBus.off("resizeEvent",this.resizeEventHandler),this.eventBus.off("dragEvent",this.dragEventHandler),qe("resize",this.onWindowResize),this.erd&&this.erd.uninstall(this.$refs.item)},beforeMount:function(){this.$emit("layout-before-mount",this.layout)},mounted:function(){this.$emit("layout-mounted",this.layout),this.$nextTick(function(){F(this.layout),this.originalLayout=this.layout;var h=this;this.$nextTick(function(){h.onWindowResize(),h.initResponsiveFeatures(),Se("resize",h.onWindowResize),g(h.layout,h.verticalCompact),h.$emit("layout-updated",h.layout),h.updateHeight(),h.$nextTick(function(){this.erd=eH({strategy:"scroll",callOnAdd:!1}),this.erd.listenTo(h.$refs.item,function(){h.onWindowResize()})})})})},watch:{width:function(h,$){var T=this;this.$nextTick(function(){var M=this;this.eventBus.emit("updateWidth",this.width),$===null&&this.$nextTick(function(){M.$emit("layout-ready",T.layout)}),this.updateHeight()})},layout:function(){this.layoutUpdate()},colNum:function(h){this.eventBus.emit("setColNum",h)},rowHeight:function(){this.eventBus.emit("setRowHeight",this.rowHeight)},isDraggable:function(){this.eventBus.emit("setDraggable",this.isDraggable)},isResizable:function(){this.eventBus.emit("setResizable",this.isResizable)},responsive:function(){this.responsive||(this.$emit("update:layout",this.originalLayout),this.eventBus.emit("setColNum",this.colNum)),this.onWindowResize()},maxRows:function(){this.eventBus.emit("setMaxRows",this.maxRows)},margin:function(){this.updateHeight()}},methods:{layoutUpdate:function(){if(this.layout!==void 0&&this.originalLayout!==null){if(this.layout.length!==this.originalLayout.length){var h=this.findDifference(this.layout,this.originalLayout);h.length>0&&(this.layout.length>this.originalLayout.length?this.originalLayout=this.originalLayout.concat(h):this.originalLayout=this.originalLayout.filter(function($){return!h.some(function(T){return $.i===T.i})})),this.lastLayoutLength=this.layout.length,this.initResponsiveFeatures()}g(this.layout,this.verticalCompact),this.eventBus.emit("updateWidth",this.width),this.updateHeight(),this.$emit("layout-updated",this.layout)}},updateHeight:function(){this.mergedStyle={height:this.containerHeight()}},onWindowResize:function(){this.$refs!==null&&this.$refs.item!==null&&this.$refs.item!==void 0&&(this.width=this.$refs.item.offsetWidth),this.eventBus.emit("resizeEvent",{})},containerHeight:function(){if(this.autoSize){var h=u(this.layout)*(this.rowHeight+this.margin[1])+this.margin[1]+"px";return h}},dragEvent:function(h,$,T,M,N,z){var K=w(this.layout,$);K==null&&(K={x:0,y:0}),h==="dragmove"||h==="dragstart"?(this.placeholder.i=$,this.placeholder.x=K.x,this.placeholder.y=K.y,this.placeholder.w=z,this.placeholder.h=N,this.$nextTick(function(){this.isDragging=!0}),this.eventBus.emit("updateWidth",this.width)):this.$nextTick(function(){this.isDragging=!1}),this.$emit("update:layout",_(this.layout,K,T,M,!0,this.preventCollision)),g(this.layout,this.verticalCompact),this.eventBus.emit("compact"),this.updateHeight(),h==="dragend"&&this.$emit("layout-updated",this.layout)},resizeEvent:function(h,$,T,M,N,z){var K=w(this.layout,$);K==null&&(K={h:0,w:0});var ne;if(this.preventCollision){var ve=C(this.layout,t8(t8({},K),{},{w:z,h:N})).filter(function(We){return We.i!==K.i});if(ne=ve.length>0,ne){var Oe=1/0,ke=1/0;ve.forEach(function(We){We.x>K.x&&(Oe=Math.min(Oe,We.x)),We.y>K.y&&(ke=Math.min(ke,We.y))}),Number.isFinite(Oe)&&(K.w=Oe-K.x),Number.isFinite(ke)&&(K.h=ke-K.y)}}ne||(K.w=z,K.h=N),h==="resizestart"||h==="resizemove"?(this.placeholder.i=$,this.placeholder.x=T,this.placeholder.y=M,this.placeholder.w=K.w,this.placeholder.h=K.h,this.$nextTick(function(){this.isDragging=!0}),this.eventBus.emit("updateWidth",this.width)):this.$nextTick(function(){this.isDragging=!1}),this.responsive&&this.responsiveGridLayout(),g(this.layout,this.verticalCompact),this.eventBus.emit("compact"),this.updateHeight(),h==="resizeend"&&this.$emit("layout-updated",this.layout)},responsiveGridLayout:function(){var h=U(this.breakpoints,this.width),$=q(h,this.cols);this.lastBreakpoint!=null&&!this.layouts[this.lastBreakpoint]&&(this.layouts[this.lastBreakpoint]=d(this.layout));var T=ye(this.originalLayout,this.layouts,this.breakpoints,h,this.lastBreakpoint,$,this.verticalCompact);this.layouts[h]=T,this.lastBreakpoint!==h&&this.$emit("breakpoint-changed",h,T),this.$emit("update:layout",T),this.lastBreakpoint=h,this.eventBus.emit("setColNum",q(h,this.cols))},initResponsiveFeatures:function(){this.layouts=Object.assign({},this.responsiveLayouts)},findDifference:function(h,$){var T=h.filter(function(N){return!$.some(function(z){return N.i===z.i})}),M=$.filter(function(N){return!h.some(function(z){return N.i===z.i})});return T.concat(M)}}};o("6521"),n8.render=ZN;var o8=n8,tH=function(h){h.component("grid-layout",o8),h.component("grid-item",A$)},nH=tH;n.default=nH},fca0:function(e,n,o){var a=o("5ca1"),s=o("7726").isFinite;a(a.S,"Number",{isFinite:function(i){return typeof i=="number"&&s(i)}})},fdef:function(e,n){e.exports=`	
\v\f\r   ᠎             　\u2028\u2029\uFEFF`}}).default})(kJ);const AJ=R4(kC);function IJ(...t){const e=t.reduce((o,a)=>$h(o,a),{}),n=()=>{};return n.library=function(o){const a=xm(o.props.type);Bt(e,a)&&o.define(e[a])},n}function MJ(t){let e=1;return Array.isArray(t)?t.map(n=>typeof n=="string"||typeof n=="number"?{label:String(n),value:String(n)}:(typeof n=="object"&&"value"in n&&typeof n.value!="string"&&Object.assign(n,{value:`__mask_${e++}`,__original:n.value}),n)):Object.keys(t).map(n=>({label:t[n],value:n}))}function _h(t,e){if(Array.isArray(t)){for(const n of t)if(e==n.value)return"__original"in n?n.__original:n.value}return e}function Fm(t,e){return t==e?!0:bh(t)&&bh(e)?xc(t,e):!1}function sS(t){t.hook.prop((e,n)=>(e.prop==="options"&&(typeof e.value=="function"?(t.props.optionsLoader=e.value,e.value=[]):e.value=MJ(e.value)),n(e)))}const _l=Lt("outer",()=>({$el:"div",attrs:{key:"$id","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-disabled":"$disabled || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}}),!0),Pi=Lt("inner","div"),Kd=Lt("wrapper","div"),Oh=Lt("label",()=>({$el:"label",if:"$label",attrs:{for:"$id"}})),Kr=Lt("messages",()=>({$el:"ul",if:"$fns.length($messages)"})),Yr=Lt("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),Ur=Lt("prefix",null),jr=Lt("suffix",null),zr=Lt("help",()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}})),rS=Lt("fieldset",()=>({$el:"fieldset",attrs:{id:"$id","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),e2=Lt("decorator",()=>({$el:"span",attrs:{"aria-hidden":"true"}})),t2=Lt("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",name:"$node.props.altName || $node.name",disabled:"$option.attrs.disabled || $disabled",onInput:"$handlers.toggleChecked",checked:"$fns.eq($_value, $onValue)",onBlur:"$handlers.blur",value:"$: true",id:"$id","aria-describedby":{if:"$options.length",then:{if:"$option.help",then:'$: "help-" + $option.attrs.id',else:void 0},else:{if:"$help",then:'$: "help-" + $id',else:void 0}}}})),iS=Lt("legend",()=>({$el:"legend",if:"$label"})),TI=Lt("option",()=>({$el:"li",for:["option","$options"],attrs:{"data-disabled":"$option.attrs.disabled || $disabled"}})),RI=Lt("options","ul"),n2=Lt("wrapper",()=>({$el:"label",attrs:{"data-disabled":{if:"$options.length",then:void 0,else:"$disabled || undefined"}}})),OI=Lt("optionHelp",()=>({$el:"div",if:"$option.help",attrs:{id:'$: "help-" + $option.attrs.id'}})),o2=Lt("label","span"),FJ=Lt("input",()=>({$el:"button",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",id:"$id"}})),DJ=Lt("default",null),NJ=Lt("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"file",disabled:"$disabled",name:"$node.name",onChange:"$handlers.files",onBlur:"$handlers.blur",id:"$id","aria-describedby":"$describedBy"}})),HJ=Lt("fileItem",()=>({$el:"li",for:["file","$value"]})),BJ=Lt("fileList",()=>({$el:"ul",if:"$value.length",attrs:{"data-has-multiple":{if:"$value.length > 1",then:"true"}}})),LJ=Lt("fileName",()=>({$el:"span",attrs:{class:"$classes.fileName"}})),Y6=Lt("fileRemove",()=>({$el:"button",attrs:{onClick:"$handlers.resetFiles"}})),UJ=Lt("noFiles",()=>({$el:"span",if:"$value.length == 0"})),kI=Lt("form",()=>({$el:"form",bind:"$attrs",attrs:{id:"$id",name:"$node.name",onSubmit:"$handlers.submit","data-loading":"$state.loading || undefined"}}),!0),jJ=Lt("actions",()=>({$el:"div",if:"$actions"})),zJ=Lt("submit",()=>({$cmp:"FormKit",bind:"$submitAttrs",props:{ignore:!0,type:"submit",disabled:"$disabled",label:"$submitLabel"}})),AI=Lt("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy"}})),II=Lt("wrapper",null,!0),GJ=Lt("input",()=>({$el:"select",bind:"$attrs",attrs:{id:"$id","data-placeholder":{if:"$placeholder",then:{if:"$value",then:void 0,else:"true"}},disabled:"$disabled",class:"$classes.input",name:"$node.name",onChange:"$handlers.onChange",onInput:"$handlers.selectInput",onBlur:"$handlers.blur","aria-describedby":"$describedBy"}})),WJ=Lt("option",()=>({$el:"option",for:["option","$options"],bind:"$option.attrs",attrs:{class:"$classes.option",value:"$option.value",selected:"$fns.isSelected($option.value)"}})),KJ=()=>({$el:null,if:"$options.length",for:["option","$options"],children:"$slots.option"}),YJ=Lt("input",()=>({$el:"textarea",bind:"$attrs",attrs:{disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy"},children:"$initialValue"})),xo=(t,e)=>Lt(`${t}Icon`,()=>{const n=`_raw${t.charAt(0).toUpperCase()}${t.slice(1)}Icon`;return{if:`$${t}Icon && $${n}`,$el:`${e||"span"}`,attrs:{class:`$classes.${t}Icon + " formkit-icon"`,innerHTML:`$${n}`,onClick:`$handlers.iconClick(${t})`,for:{if:`${e==="label"}`,then:"$id"}}}})();function MI(t){return function(e,n){return e.prop==="options"&&Array.isArray(e.value)&&(e.value=e.value.map(o=>{var a;return!((a=o.attrs)===null||a===void 0)&&a.id?o:$h(o,{attrs:{id:`${t.name}-option-${X4(String(o.value))}`}})}),t.props.type==="checkbox"&&!Array.isArray(t.value)&&(t.isCreated?t.input([],!1):t.on("created",()=>{Array.isArray(t.value)||t.input([],!1)}))),n(e)}}function XJ(t,e){const n=e.target;if(n instanceof HTMLInputElement){const o=Array.isArray(t.props.options)?_h(t.props.options,n.value):n.value;Array.isArray(t.props.options)&&t.props.options.length?Array.isArray(t._value)?t._value.some(a=>Fm(o,a))?t.input(t._value.filter(a=>!Fm(o,a))):t.input([...t._value,o]):t.input([o]):n.checked?t.input(t.props.onValue):t.input(t.props.offValue)}}function QJ(t,e){var n,o;return(n=t.context)===null||n===void 0||n.value,(o=t.context)===null||o===void 0||o._value,Array.isArray(t._value)?t._value.some(a=>Fm(_h(t.props.options,e),a)):!1}function i$(t){t.on("created",()=>{var e,n;!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.toggleChecked=XJ.bind(null,t)),!((n=t.context)===null||n===void 0)&&n.fns&&(t.context.fns.isChecked=QJ.bind(null,t)),Bt(t.props,"onValue")||(t.props.onValue=!0),Bt(t.props,"offValue")||(t.props.offValue=!1)}),t.hook.prop(MI(t))}function l$(t){t.on("created",()=>{t.props.disabled=Ru(t.props.disabled)}),t.hook.prop(({prop:e,value:n},o)=>(n=e==="disabled"?Ru(n):n,o({prop:e,value:n}))),t.on("prop:disabled",({payload:e})=>{t.config.disabled=Ru(e)}),t.on("created",()=>{t.config.disabled=Ru(t.props.disabled)})}function vb(t,e){return n=>{n.store.set(wl({key:t,type:"ui",value:e||t,meta:{localize:!0,i18nArgs:[n]}}))}}const X6=typeof window<"u";function FI(t){t.target instanceof HTMLElement&&t.target.hasAttribute("data-file-hover")&&t.target.removeAttribute("data-file-hover")}function Q6(t,e){e.target instanceof HTMLInputElement?t==="dragover"&&e.target.setAttribute("data-file-hover","true"):e.preventDefault(),t==="drop"&&FI(e)}function ZJ(t){vb("noFiles","Select file")(t),vb("removeAll","Remove all")(t),vb("remove")(t),X6&&(window._FormKit_File_Drop||(window.addEventListener("dragover",Q6.bind(null,"dragover")),window.addEventListener("drop",Q6.bind(null,"drop")),window.addEventListener("dragleave",FI),window._FormKit_File_Drop=!0)),t.hook.input((e,n)=>n(Array.isArray(e)?e:[])),t.on("created",()=>{Array.isArray(t.value)||t.input([],!1),t.context&&(t.context.handlers.resetFiles=e=>{if(e.preventDefault(),t.input([]),t.props.id&&X6){const n=document.getElementById(t.props.id);n&&(n.value="")}},t.context.handlers.files=e=>{var n,o;const a=[];if(e.target instanceof HTMLInputElement&&e.target.files){for(let s=0;s<e.target.files.length;s++){let r;(r=e.target.files.item(s))&&a.push({name:r.name,file:r})}t.input(a)}t.context&&(t.context.files=a),typeof((n=t.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&((o=t.props.attrs)===null||o===void 0||o.onChange(e))})})}async function JJ(t,e){if(e.preventDefault(),await t.settled,t.walk(n=>{n.store.set(wl({key:"submitted",value:!0,visible:!1}))}),typeof t.props.onSubmitRaw=="function"&&t.props.onSubmitRaw(e,t),t.ledger.value("blocking"))typeof t.props.onSubmitInvalid=="function"&&t.props.onSubmitInvalid(t),t.props.incompleteMessage!==!1&&t.store.set(wl({blocking:!1,key:"incomplete",meta:{localize:t.props.incompleteMessage===void 0,i18nArgs:[{node:t}],showAsMessage:!0},type:"ui",value:t.props.incompleteMessage||"Form incomplete."}));else if(typeof t.props.onSubmit=="function"){const n=t.props.onSubmit(t.hook.submit.dispatch(Am(t.value)),t);if(n instanceof Promise){const o=t.props.disabled===void 0&&t.props.submitBehavior!=="live";o&&(t.props.disabled=!0),t.store.set(wl({key:"loading",value:!0,visible:!1})),await n,o&&(t.props.disabled=!1),t.store.remove("loading")}}else e.target instanceof HTMLFormElement&&e.target.submit()}function DI(t){t.props.isForm=!0,t.on("created",()=>{var e;!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.submit=JJ.bind(null,t)),Bt(t.props,"actions")||(t.props.actions=!0)}),t.on("settled:blocking",()=>t.store.remove("incomplete"))}function qJ(t){t.props.ignore===void 0&&(t.props.ignore=!0,t.parent=null)}function NI(t){t.on("created",()=>{t.context&&(t.context.initialValue=t.value||"")})}function eq(t,e){e.target instanceof HTMLInputElement&&t.input(_h(t.props.options,e.target.value))}function tq(t,e){var n,o;return(n=t.context)===null||n===void 0||n.value,(o=t.context)===null||o===void 0||o._value,Fm(_h(t.props.options,e),t._value)}function HI(t){t.on("created",()=>{var e,n;Array.isArray(t.props.options)||Eh(350,t),!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.toggleChecked=eq.bind(null,t)),!((n=t.context)===null||n===void 0)&&n.fns&&(t.context.fns.isChecked=tq.bind(null,t))}),t.hook.prop(MI(t))}function nq(t,e){t.context&&t.context.value;const n=_h(t.props.options,e);return Array.isArray(t._value)?t._value.some(o=>Fm(o,n)):t.value===void 0&&!e||Fm(n,t._value)}async function oq(t,e){var n;typeof((n=t.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&(await new Promise(o=>setTimeout(o,0)),await t.settled,t.props.attrs.onChange(e))}function aq(t,e){const n=e.target,o=n.hasAttribute("multiple")?Array.from(n.selectedOptions).map(a=>_h(t.props.options,a.value)):_h(t.props.options,n.value);t.input(o)}function Z6(t,e){return t.some(n=>n.attrs&&n.attrs["data-is-placeholder"])?t:[{label:e,value:"",attrs:{hidden:!0,disabled:!0,"data-is-placeholder":"true"}},...t]}function c$(t){t.on("created",()=>{var e,n,o;const a=Ru((e=t.props.attrs)===null||e===void 0?void 0:e.multiple);!a&&t.props.placeholder&&Array.isArray(t.props.options)&&(t.hook.prop(({prop:s,value:r},i)=>(s==="options"&&(r=Z6(r,t.props.placeholder)),i({prop:s,value:r}))),t.props.options=Z6(t.props.options,t.props.placeholder)),a?t.value===void 0&&t.input([],!1):t.context&&!t.context.options&&(t.props.attrs=Object.assign({},t.props.attrs,{value:t._value}),t.on("input",({payload:s})=>{t.props.attrs=Object.assign({},t.props.attrs,{value:s})})),!((n=t.context)===null||n===void 0)&&n.handlers&&(t.context.handlers.selectInput=aq.bind(null,t),t.context.handlers.onChange=oq.bind(null,t)),!((o=t.context)===null||o===void 0)&&o.fns&&(t.context.fns.isSelected=nq.bind(null,t))}),t.hook.input((e,n)=>{var o,a,s;return!t.props.placeholder&&e===void 0&&Array.isArray((o=t.props)===null||o===void 0?void 0:o.options)&&t.props.options.length&&!Ru((s=(a=t.props)===null||a===void 0?void 0:a.attrs)===null||s===void 0?void 0:s.multiple)&&(e="__original"in t.props.options[0]?t.props.options[0].__original:t.props.options[0].value),n(e)})}function Lr(t,e){return n=>{n.props[`${t}Icon`]===void 0&&(n.props[`${t}Icon`]=`default:${e}`)}}function a2(t){return typeof t=="object"&&("$el"in t||"$cmp"in t||"$formkit"in t)}function AC(t){return!!(lm(t)&&t.if&&t.if.startsWith("$slots.")&&typeof t.then=="string"&&t.then.startsWith("$slots.")&&"else"in t)}function wv(t,e={}){return typeof t=="string"?a2(e)||typeof e=="string"?e:t:Array.isArray(t)?a2(e)?e:t:$h(t,e)}function sq(t){return _l(Kd(Oh("$label"),Pi(Ur(),t(),jr())),zr("$help"),Kr(Yr("$message.value")))}function Lt(t,e,n=!1){return(...o)=>{const a=s=>{const r=!e||typeof e=="string"?{$el:e}:e();return(_C(r)||VC(r))&&(r.meta||(r.meta={section:t}),o.length&&!r.children&&(r.children=[...o.map(i=>typeof i=="string"?i:i(s))]),_C(r)&&(r.attrs={class:`$classes.${t}`,...r.attrs||{}})),{if:`$slots.${t}`,then:`$slots.${t}`,else:t in s?wv(r,s[t]):r}};return n?BI(a):a}}function BI(t){return e=>[t(e)]}function Dr(t,e,n){return o=>{const a=e(o);if(n||a2(a)&&"if"in a||AC(a)){const s={if:t,then:a};return n&&(s.else=n(o)),s}else AC(a)?Object.assign(a.else,{if:t}):a2(a)&&Object.assign(a,{if:t});return a}}function LI(t,e){return n=>{const o=t({});return AC(o)?(Array.isArray(o.else)||(o.else=wv(wv(o.else,e),n)),o):wv(wv(o,e),n)}}function rq(t){return BI(t)}const J6={schema:_l(Kr(Yr("$message.value")),Kd(FJ(xo("prefix"),Ur(),DJ("$label || $ui.submit.value"),jr(),xo("suffix"))),zr("$help")),type:"input",family:"button",props:[],features:[vb("submit"),qJ]},u$={schema:_l(Dr("$options == undefined",n2(Pi(Ur(),t2(),e2(xo("decorator")),jr()),Dr("$label",o2("$label"))),rS(iS("$label"),zr("$help"),RI(TI(n2(Pi(Ur(),LI(t2(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),e2(xo("decorator")),jr()),Dr("$option.label",o2("$option.label"))),OI("$option.help"))))),Dr("$options == undefined && $help",zr("$help")),Kr(Yr("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[sS,i$,Lr("decorator","checkboxDecorator")]},iq={schema:_l(Kd(Oh("$label"),Pi(xo("prefix","label"),Ur(),NJ(),BJ(HJ(xo("fileItem"),LJ("$file.name"),Dr("$value.length === 1",Y6(xo("fileRemove"),"$ui.remove.value")))),Dr("$value.length > 1",Y6("$ui.removeAll.value")),UJ(xo("noFiles"),"$ui.noFiles.value"),jr(),xo("suffix"))),zr("$help"),Kr(Yr("$message.value"))),type:"input",family:"text",props:[],features:[ZJ,Lr("fileItem","fileItem"),Lr("fileRemove","fileRemove"),Lr("noFiles","noFiles")]},lq={schema:kI("$slots.default",Kr(Yr("$message.value")),jJ(zJ())),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],features:[DI,l$]},cq={schema:II("$slots.default"),type:"group",props:[],features:[l$]},uq={schema:rq(AI()),type:"input",props:[],features:[]},dq={schema:II("$slots.default"),type:"list",props:[],features:[l$]},UI={schema:_l(Dr("$options == undefined",n2(Pi(Ur(),t2(),e2(xo("decorator")),jr()),Dr("$label",o2("$label"))),rS(iS("$label"),zr("$help"),RI(TI(n2(Pi(Ur(),LI(t2(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),e2(xo("decorator")),jr()),Dr("$option.label",o2("$option.label"))),OI("$option.help"))))),Dr("$options === undefined && $help",zr("$help")),Kr(Yr("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[sS,HI,Lr("decorator","radioDecorator")]},d$={schema:_l(Kd(Oh("$label"),Pi(xo("prefix"),Ur(),GJ(Dr("$slots.default",()=>"$slots.default",Dr("$slots.option",KJ,WJ("$option.label")))),Dr("$attrs.multiple !== undefined",()=>"",xo("select")),jr(),xo("suffix"))),zr("$help"),Kr(Yr("$message.value"))),type:"input",props:["options","placeholder","optionsLoader"],features:[sS,c$,Lr("select","select")]},pq={schema:_l(Kd(Oh("$label"),Pi(xo("prefix","label"),Ur(),YJ(),jr(),xo("suffix"))),zr("$help"),Kr(Yr("$message.value"))),type:"input",props:[],features:[NI]},Hs={schema:_l(Kd(Oh("$label"),Pi(xo("prefix","label"),Ur(),AI(),jr(),xo("suffix"))),zr("$help"),Kr(Yr("$message.value"))),type:"input",family:"text",props:[],features:[]};var hq=Object.freeze({__proto__:null,button:J6,submit:J6,checkbox:u$,file:iq,form:lq,group:cq,hidden:uq,list:dq,radio:UI,select:d$,textarea:pq,text:Hs,color:Hs,date:Hs,datetimeLocal:Hs,email:Hs,month:Hs,number:Hs,password:Hs,search:Hs,tel:Hs,time:Hs,url:Hs,week:Hs,range:Hs});const jI=function({value:e}){return["yes","on","1",1,!0,"true"].includes(e)};jI.skipEmpty=!1;const fq=function({value:t},e=!1){const n=Date.parse(e||new Date),o=Date.parse(String(t));return isNaN(o)?!1:o>n},mq=function({value:t},e="default"){const n={default:/^[a-zA-ZÀ-ÖØ-öø-ÿĄąĆćČčĎďĘęĚěŁłŃńŇňŘřŚśŠšŤťŮůŹźŻŽžż]+$/,latin:/^[a-zA-Z]+$/},o=Bt(n,e)?e:"default";return n[o].test(String(t))},gq=function({value:t},e="default"){const n={default:/^[a-zA-ZÀ-ÖØ-öø-ÿĄąĆćČčĎďĘęĚěŁłŃńŇňŘřŚśŠšŤťŮůŹźŻŽžż ]+$/,latin:/^[a-zA-Z ]+$/},o=Bt(n,e)?e:"default";return n[o].test(String(t))},vq=function({value:t},e="default"){const n={default:/^[a-zA-Z0-9À-ÖØ-öø-ÿĄąĆćĘęŁłŃńŚśŹźŻż]+$/,latin:/^[a-zA-Z0-9]+$/},o=Bt(n,e)?e:"default";return n[o].test(String(t))},yq=function({value:t},e=!1){const n=Date.parse(e||new Date),o=Date.parse(String(t));return isNaN(o)?!1:o<n},wq=function({value:e},n,o){if(!isNaN(e)&&!isNaN(n)&&!isNaN(o)){const a=1*e;n=Number(n),o=Number(o);const[s,r]=n<=o?[n,o]:[o,n];return a>=1*s&&a<=1*r}return!1},q6=/(_confirm(?:ed)?)$/,bq=function(e,n,o="loose"){var a;n||(n=q6.test(e.name)?e.name.replace(q6,""):`${e.name}_confirm`);const s=(a=e.at(n))===null||a===void 0?void 0:a.value;return o==="strict"?e.value===s:e.value==s},$q=function({value:e},n,o){n=n instanceof Date?n.getTime():Date.parse(n),o=o instanceof Date?o.getTime():Date.parse(o);const a=e instanceof Date?e.getTime():Date.parse(String(e));if(n&&!o)o=n,n=Date.now();else if(!n||!a)return!1;return a>=n&&a<=o},xq=function({value:e},n){return n&&typeof n=="string"?EK(n).test(String(e)):!isNaN(Date.parse(String(e)))},_q=function({value:e}){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e))},Vq=function({value:e},...n){return typeof e=="string"&&n.length?n.some(o=>e.endsWith(o)):typeof e=="string"&&n.length===0},Cq=function({value:e},...n){return n.some(o=>typeof o=="object"?xc(o,e):o==e)},Sq=function({value:e},n=0,o=1/0){n=parseInt(n),o=isNaN(parseInt(o))?1/0:parseInt(o);const a=n<=o?n:o,s=o>=n?o:n;if(typeof e=="string"||Array.isArray(e))return e.length>=a&&e.length<=s;if(e&&typeof e=="object"){const r=Object.keys(e).length;return r>=a&&r<=s}return!1},Pq=function({value:e},...n){return n.some(o=>(typeof o=="string"&&o.substr(0,1)==="/"&&o.substr(-1)==="/"&&(o=new RegExp(o.substr(1,o.length-2))),o instanceof RegExp?o.test(String(e)):o===e))},Eq=function({value:e},n=10){return Array.isArray(e)?e.length<=n:Number(e)<=Number(n)},Tq=function({value:e},n=1){return Array.isArray(e)?e.length>=n:Number(e)>=Number(n)},Rq=function({value:e},...n){return!n.some(o=>typeof o=="object"?xc(o,e):o===e)},Oq=function({value:e}){return!isNaN(e)},zI=function({value:e},n="default"){return n==="trim"&&typeof e=="string"?!n0(e.trim()):!n0(e)};zI.skipEmpty=!1;const kq=function({value:e},...n){return typeof e=="string"&&n.length?n.some(o=>e.startsWith(o)):typeof e=="string"&&n.length===0},Aq=function({value:e},...n){try{const o=n.length?n:["http:","https:"],a=new URL(String(e));return o.includes(a.protocol)}catch{return!1}},Iq=Object.freeze(Object.defineProperty({__proto__:null,accepted:jI,alpha:mq,alpha_spaces:gq,alphanumeric:vq,between:wq,confirm:bq,date_after:fq,date_before:yq,date_between:$q,date_format:xq,email:_q,ends_with:Vq,is:Cq,length:Sq,matches:Pq,max:Eq,min:Tq,not:Rq,number:Oq,required:zI,starts_with:kq,url:Aq},Symbol.toStringTag,{value:"Module"})),GI=new WeakSet;function s2(t,e){const n=e||Object.assign(new Map,{active:!1}),o=new Map,a=function(u){var d;n.active&&(n.has(t)||n.set(t,new Set),(d=n.get(t))===null||d===void 0||d.add(u))},s=function(u){return new Proxy(u,{get(...d){return typeof d[1]=="string"&&a(`prop:${d[1]}`),Reflect.get(...d)}})},r=function(u){return new Proxy(u,{get(...d){return d[1]==="value"?p=>(a(`count:${p}`),u.value(p)):Reflect.get(...d)}})},i=function(u,d){return $0(u)?s2(u,n):(d==="value"&&a("commit"),d==="props"?s(u):d==="ledger"?r(u):u)},{proxy:l,revoke:c}=Proxy.revocable(t,{get(...u){switch(u[1]){case"deps":return n;case"watch":return p=>YI(l,p);case"observe":return()=>{const p=new Map(n);return n.clear(),n.active=!0,p};case"stopObserve":return()=>{const p=new Map(n);return n.active=!1,p};case"receipts":return o;case"kill":return()=>{KI(o),GI.add(u[2]),c()}}const d=Reflect.get(...u);return typeof d=="function"?(...p)=>{const f=d(...p);return i(f,u[1])}:i(d,u[1])}});return l}function WI(t,[e,n],o){e.forEach((a,s)=>{a.forEach(r=>{t.receipts.has(s)||t.receipts.set(s,{}),t.receipts.set(s,Object.assign(t.receipts.get(s),{[r]:s.on(r,o)}))})}),n.forEach((a,s)=>{a.forEach(r=>{if(t.receipts.has(s)){const i=t.receipts.get(s);i&&Bt(i,r)&&(s.off(i[r]),delete i[r],t.receipts.set(s,i))}})})}function KI(t){t.forEach((e,n)=>{for(const o in e)n.off(e[o])})}async function YI(t,e){const n=new Map(t.deps);t.observe();const o=e(t);o instanceof Promise&&await o;const a=t.stopObserve();WI(t,XI(n,a),()=>YI(t,e))}function XI(t,e){const n=new Map,o=new Map;return e.forEach((a,s)=>{if(!t.has(s))n.set(s,a);else{const r=new Set,i=t.get(s);a.forEach(l=>!(i!=null&&i.has(l))&&r.add(l)),n.set(s,r)}}),t.forEach((a,s)=>{if(!e.has(s))o.set(s,a);else{const r=new Set,i=e.get(s);a.forEach(l=>!(i!=null&&i.has(l))&&r.add(l)),o.set(s,r)}}),[n,o]}function Mq(t){return GI.has(t)}const eP=wl({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function Fq(t={}){return function(n){const o=Object.assign({},t,n.props.validationRules);let a=s2(n);const s={input:Z2(),rerun:null,isPassing:!0};let r=_c(n.props.validation);n.on("prop:validation",({payload:i})=>{xc(r,i)||(r=_c(i),KI(a.receipts),n.store.filter(()=>!1,"validation"),n.props.parsedRules=nP(i,o),a.kill(),a=s2(n),IC(a,n.props.parsedRules,s))}),n.props.parsedRules=nP(r,o),IC(a,n.props.parsedRules,s)}}function IC(t,e,n){Mq(t)||(n.input=Z2(),n.isPassing=!0,t.store.filter(o=>!o.meta.removeImmediately,"validation"),e.forEach(o=>o.debounce&&clearTimeout(o.timer)),e.length&&(t.store.set(eP),MC(0,e,t,n,!1,()=>{t.store.remove(eP.key)})))}function MC(t,e,n,o,a,s){const r=e[t];if(!r)return s();const i=o.input;r.state=null;function l(c,u){o.isPassing=o.isPassing&&!!u,r.queued=!1;const d=n.stopObserve();WI(n,XI(r.deps,d),()=>{r.queued=!0,o.rerun&&clearTimeout(o.rerun),o.rerun=setTimeout(IC,0,n,e,o)}),r.deps=d,o.input===i&&(r.state=u,u===!1?Hq(n,r,a||c):Nq(n,r),e.length>t+1?MC(t+1,e,n,o,a||c,s):s())}(!n0(n.value)||!r.skipEmpty)&&(o.isPassing||r.force)?r.queued?Dq(r,n,c=>{c instanceof Promise?c.then(u=>l(!0,u)):l(!1,c)}):MC(t+1,e,n,o,a,s):n0(n.value)&&r.skipEmpty&&o.isPassing?(n.observe(),n.value,l(!1,o.isPassing)):l(!1,null)}function Dq(t,e,n){t.debounce?t.timer=setTimeout(()=>{e.observe(),n(t.rule(e,...t.args))},t.debounce):(e.observe(),n(t.rule(e,...t.args)))}function Nq(t,e){const n=`rule_${e.name}`;Bt(t.store,n)&&t.store.remove(n)}function Hq(t,e,n){const o=Lq(t,e),a=Bq(t,e,o),s=wl({blocking:e.blocking,key:`rule_${e.name}`,meta:{messageKey:e.name,removeImmediately:n,localize:!a,i18nArgs:o},type:"validation",value:a||"This field is not valid."});return t.store.set(s),s}function Bq(t,e,n){const o=t.props.validationMessages&&Bt(t.props.validationMessages,e.name)?t.props.validationMessages[e.name]:void 0;return typeof o=="function"?o(...n):o}function Lq(t,e){return[{node:t,name:Uq(t),args:e.args}]}function Uq(t){return typeof t.props.validationLabel=="function"?t.props.validationLabel(t):t.props.validationLabel||t.props.label||t.props.name||String(t.name)}const QI="(?:[\\*+?()0-9]+)",ZI="[a-zA-Z][a-zA-Z0-9_]+",jq=new RegExp(`^(${QI}?${ZI})(?:\\:(.*)+)?$`,"i"),zq=new RegExp(`^(${QI})(${ZI})$`,"i"),Gq=/([\*+?]+)?(\(\d+\))([\*+?]+)?/,tP=/\(\d+\)/,Wq={blocking:!0,debounce:0,force:!1,skipEmpty:!0,name:""};function nP(t,e){return t?(typeof t=="string"?Kq(t):Am(t)).reduce((o,a)=>{let s=a.shift();const r={};if(typeof s=="string"){const[i,l]=Xq(s);Bt(e,i)&&(s=e[i],Object.assign(r,l))}return typeof s=="function"&&o.push({rule:s,args:a,timer:0,state:null,queued:!0,deps:new Map,...Wq,...Qq(r,s)}),o},[]):[]}function Kq(t){return t.split("|").reduce((e,n)=>{const o=Yq(n);return o&&e.push(o),e},[])}function Yq(t){const e=t.trim();if(e){const n=e.match(jq);if(n&&typeof n[1]=="string"){const o=n[1].trim(),a=n[2]&&typeof n[2]=="string"?n[2].split(",").map(s=>s.trim()):[];return[o,...a]}}return!1}function Xq(t){const e=t.match(zq);if(!e)return[t,{name:t}];const n={"*":{force:!0},"+":{skipEmpty:!1},"?":{blocking:!1}},[,o,a]=e,s=tP.test(o)?o.match(Gq)||[]:[,o];return[a,[s[1],s[2],s[3]].reduce((r,i)=>(i&&(tP.test(i)?r.debounce=parseInt(i.substr(1,i.length-1)):i.split("").forEach(l=>Bt(n,l)&&Object.assign(r,n[l]))),r),{name:a})]}function Qq(t,e){return t.name||(t.name=e.ruleName||e.name),["skipEmpty","force","debounce","blocking"].reduce((n,o)=>(Bt(e,o)&&!Bt(n,o)&&Object.assign(n,{[o]:e[o]}),n),t)}function Pt(t){return t[0].toUpperCase()+t.substr(1)}function r2(t,e="or"){return t.reduce((n,o,a)=>(n+=o,a<=t.length-2&&t.length>2&&(n+=", "),a===t.length-2&&(n+=`${t.length===2?" ":""}${e} `),n),"")}function Pd(t){const e=typeof t=="string"?new Date(Date.parse(t)):t;return e instanceof Date?new Intl.DateTimeFormat(void 0,{dateStyle:"medium"}).format(e):"(unknown)"}function Zq(t,e){return Number(t)>=Number(e)?[e,t]:[t,e]}const Jq={add:"Add",remove:"Remove",removeAll:"Remove all",incomplete:"Sorry, not all fields are filled out correctly.",submit:"Submit",noFiles:"No file chosen",moveUp:"Move up",moveDown:"Move down",isLoading:"Loading...",loadMore:"Load more"},qq={accepted({name:t}){return`Please accept the ${t}.`},date_after({name:t,args:e}){return Array.isArray(e)&&e.length?`${Pt(t)} must be after ${Pd(e[0])}.`:`${Pt(t)} must be in the future.`},alpha({name:t}){return`${Pt(t)} can only contain alphabetical characters.`},alphanumeric({name:t}){return`${Pt(t)} can only contain letters and numbers.`},alpha_spaces({name:t}){return`${Pt(t)} can only contain letters and spaces.`},date_before({name:t,args:e}){return Array.isArray(e)&&e.length?`${Pt(t)} must be before ${Pd(e[0])}.`:`${Pt(t)} must be in the past.`},between({name:t,args:e}){if(isNaN(e[0])||isNaN(e[1]))return"This field was configured incorrectly and can’t be submitted.";const[n,o]=Zq(e[0],e[1]);return`${Pt(t)} must be between ${n} and ${o}.`},confirm({name:t}){return`${Pt(t)} does not match.`},date_format({name:t,args:e}){return Array.isArray(e)&&e.length?`${Pt(t)} is not a valid date, please use the format ${e[0]}`:"This field was configured incorrectly and can’t be submitted"},date_between({name:t,args:e}){return`${Pt(t)} must be between ${Pd(e[0])} and ${Pd(e[1])}`},email:"Please enter a valid email address.",ends_with({name:t,args:e}){return`${Pt(t)} doesn’t end with ${r2(e)}.`},is({name:t}){return`${Pt(t)} is not an allowed value.`},length({name:t,args:[e=0,n=1/0]}){const o=Number(e)<=Number(n)?e:n,a=Number(n)>=Number(e)?n:e;return o==1&&a===1/0?`${Pt(t)} must be at least one character.`:o==0&&a?`${Pt(t)} must be less than or equal to ${a} characters.`:o&&a===1/0?`${Pt(t)} must be greater than or equal to ${o} characters.`:`${Pt(t)} must be between ${o} and ${a} characters.`},matches({name:t}){return`${Pt(t)} is not an allowed value.`},max({name:t,node:{value:e},args:n}){return Array.isArray(e)?`Cannot have more than ${n[0]} ${t}.`:`${Pt(t)} must be less than or equal to ${n[0]}.`},mime({name:t,args:e}){return e[0]?`${Pt(t)} must be of the type: ${e[0]}`:"No file formats allowed."},min({name:t,node:{value:e},args:n}){return Array.isArray(e)?`Cannot have less than ${n[0]} ${t}.`:`${Pt(t)} must be at least ${n[0]}.`},not({name:t,node:{value:e}}){return`“${e}” is not an allowed ${t}.`},number({name:t}){return`${Pt(t)} must be a number.`},required({name:t}){return`${Pt(t)} is required.`},starts_with({name:t,args:e}){return`${Pt(t)} doesn’t start with ${r2(e)}.`},url(){return"Please include a valid url."}};var eee=Object.freeze({__proto__:null,ui:Jq,validation:qq});const tee={add:"添加",remove:"移除",incomplete:"抱歉，有些字段未被正确填写",submit:"提交",moveUp:"向上移动",moveDown:"向下移动",isLoading:"正在加载...",loadMore:"加载更多"},nee={accepted({name:t}){return`请接受${t}`},date_after({name:t,args:e}){return Array.isArray(e)&&e.length?`${Pt(t)}必须晚于${Pd(e[0])}`:`${Pt(t)}必须是未来的日期`},alpha({name:t}){return`${Pt(t)}仅能包含字母字符`},alphanumeric({name:t}){return`${Pt(t)}仅能包含字母和数字`},alpha_spaces({name:t}){return`${Pt(t)}只能包含字母和空格`},date_before({name:t,args:e}){return Array.isArray(e)&&e.length?`${Pt(t)}必须早于${Pd(e[0])}`:`${Pt(t)}必须是过去的日期`},between({name:t,args:e}){return isNaN(e[0])||isNaN(e[1])?"该字段未被正确设置而无法被提交":`${Pt(t)}必须在${e[0]}和${e[1]}之间`},confirm({name:t}){return`${Pt(t)}不匹配`},date_format({name:t,args:e}){return Array.isArray(e)&&e.length?`${Pt(t)}不是一个合法日期，请使用此格式${e[0]}`:"该字段未被正确设置而无法被提交"},date_between({name:t,args:e}){return`${Pt(t)}必须在${Pd(e[0])}和${Pd(e[1])}之间`},email:"请输入一个合法的电子邮件地址",ends_with({name:t,args:e}){return`${Pt(t)}并未以${r2(e)}结尾`},is({name:t}){return`${Pt(t)}不是一个允许值`},length({name:t,args:[e=0,n=1/0]}){const o=e<=n?e:n,a=n>=e?n:e;return o==1&&a===1/0?`${Pt(t)}至少要有一个字符`:o==0&&a?`${Pt(t)}必须少于或等于${a}个字符`:o&&a===1/0?`${Pt(t)}必须多于或等于${o}个字符`:`${Pt(t)}必须有${o}至${a}个字符`},matches({name:t}){return`${Pt(t)}不是一个允许值`},max({name:t,node:{value:e},args:n}){return Array.isArray(e)?`${t}不能超过${n[0]}`:`${Pt(t)}必须小于或等于${n[0]}`},mime({name:t,args:e}){return e[0]?`${Pt(t)}必须为此类型：${e[0]}`:"无允许的文件格式"},min({name:t,node:{value:e},args:n}){return Array.isArray(e)?`${t}不能少于${n[0]}`:`${Pt(t)}不能小于${n[0]}`},not({name:t,node:{value:e}}){return`“${e}”不是一个被允许的${t}`},number({name:t}){return`${Pt(t)}必须是一个数字`},required({name:t}){return`${Pt(t)}必须填写`},starts_with({name:t,args:e}){return`${Pt(t)}没有以${r2(e)}开头`},url(){return"请包含一个合法的url"}};var oee=Object.freeze({__proto__:null,ui:tee,validation:nee});function aee(t){return function(n){let o=oP(n.config.locale,t),a=o?t[o]:{};n.on("prop:locale",({payload:s})=>{o=oP(s,t),a=o?t[o]:{},n.store.touch()}),n.on("prop:label",()=>n.store.touch()),n.on("prop:validationLabel",()=>n.store.touch()),n.hook.text((s,r)=>{var i,l;const c=((i=s.meta)===null||i===void 0?void 0:i.messageKey)||s.key;if(Bt(a,s.type)&&Bt(a[s.type],c)){const u=a[s.type][c];typeof u=="function"?s.value=Array.isArray((l=s.meta)===null||l===void 0?void 0:l.i18nArgs)?u(...s.meta.i18nArgs):u(s):s.value=u}return r(s)})}}function oP(t,e){if(Bt(e,t))return t;const[n]=t.split("-");if(Bt(e,n))return n;for(const o in e)return o;return!1}function see(t){const e={};return Object.keys(t).forEach(n=>{Object.keys(t[n]).forEach(o=>{e[o]?e[o][n]=t[n][o]:e[o]={[n]:t[n][o]}})}),Object.keys(e).forEach(n=>{const o=e[n];e[n]=function(a,s){return ree(a,s,o)}}),e}function ree(t,e,n){const o=t.props.type,a=t.props.family;let s="";n.global&&(s+=n.global+" "),n[`family:${a}`]&&(s+=n[`family:${a}`]+" "),n[o]&&(s+=n[o]);const r=s.split("$reset");return r.length>1?`$reset ${r[r.length-1].trim()}`:r[0].trim()}let vl,Nl=null,i2,JI=!1,bv=!1;const iee=new Promise(t=>{i2=()=>{JI=!0,t()}}),Au=typeof window<"u"&&typeof fetch<"u";vl=Au?getComputedStyle(document.documentElement):void 0;const rh={},R5={};function lee(t,e,n,o){e&&Object.assign(rh,e),Au&&!bv&&(vl!=null&&vl.getPropertyValue("--formkit-theme"))?(i2(),bv=!0):t&&!bv&&Au?cee(t):!bv&&Au&&i2();const a=function(r){var i,l;r.addProps(["iconLoader","iconLoaderUrl"]),r.props.iconHandler=Nv(!((i=r.props)===null||i===void 0)&&i.iconLoader?r.props.iconLoader:o,!((l=r.props)===null||l===void 0)&&l.iconLoaderUrl?r.props.iconLoaderUrl:n),pee(r,r.props.iconHandler),r.on("created",()=>{var c;!((c=r==null?void 0:r.context)===null||c===void 0)&&c.handlers&&(r.context.handlers.iconClick=u=>{const d=`on${u.charAt(0).toUpperCase()}${u.slice(1)}IconClick`,p=r.props[d];if(p&&typeof p=="function")return f=>p(r,f)})})};return a.iconHandler=Nv(o,n),a}function cee(t){if(!(!t||!Au||typeof getComputedStyle!="function")&&(bv=!0,Nl=document.getElementById("formkit-theme"),t&&Au&&(!(vl!=null&&vl.getPropertyValue("--formkit-theme"))&&!Nl||Nl!=null&&Nl.getAttribute("data-theme")&&(Nl==null?void 0:Nl.getAttribute("data-theme"))!==t))){const n=`https://cdn.jsdelivr.net/npm/@formkit/themes@${jb.startsWith("__")?"latest":jb}/dist/${t}/theme.css`,o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.id="formkit-theme",o.setAttribute("data-theme",t),o.onload=()=>{vl=getComputedStyle(document.documentElement),i2()},document.head.appendChild(o),o.href=n,Nl&&Nl.remove()}}function Nv(t,e){return n=>{if(typeof n=="boolean")return;if(n.startsWith("<svg"))return n;if(typeof n!="string")return;const o=rh[n],a=n.startsWith("default:");n=a?n.split(":")[1]:n;let s;if(o||n in rh)return rh[n];if(!R5[n]){if(s=uee(n),s=Au&&typeof s>"u"?Promise.resolve(s):s,s instanceof Promise)R5[n]=s.then(r=>!r&&typeof n=="string"&&!a?s=typeof t=="function"?t(n):dee(n,e):r).then(r=>(typeof n=="string"&&(rh[a?`default:${n}`:n]=r),r));else if(typeof s=="string")return rh[a?`default:${n}`:n]=s,s}return R5[n]}}function uee(t){if(Au)return JI?aP(t):iee.then(()=>aP(t))}function aP(t){const e=vl==null?void 0:vl.getPropertyValue(`--fk-icon-${t}`);if(e){const n=atob(e);if(n.startsWith("<svg"))return rh[t]=n,n}}function dee(t,e){const n=jb.startsWith("__")?"latest":jb,o=typeof e=="function"?e(t):`https://cdn.jsdelivr.net/npm/@formkit/icons@${n}/dist/icons/${t}.svg`;if(Au)return fetch(`${o}`).then(async a=>{const s=await a.text();if(s.startsWith("<svg"))return s}).catch(a=>{console.error(a)})}function pee(t,e){const n=/^[a-zA-Z-]+(?:-icon|Icon)$/;Object.keys(t.props).filter(a=>n.test(a)).forEach(a=>hee(t,e,a))}function hee(t,e,n){const o=t.props[n],a=e(o),s=`_raw${n.charAt(0).toUpperCase()}${n.slice(1)}`,r=`on${n.charAt(0).toUpperCase()}${n.slice(1)}Click`;if(t.addProps([s,r]),t.on(`prop:${n}`,fee),a instanceof Promise)return a.then(i=>{t.props[s]=i});t.props[s]=a}function fee(t){var e;const n=t.origin,o=t.payload,a=(e=n==null?void 0:n.props)===null||e===void 0?void 0:e.iconHandler,s=t.name.split(":")[1],r=`_raw${s.charAt(0).toUpperCase()}${s.slice(1)}`;if(a&&typeof a=="function"){const i=a(o);if(i instanceof Promise)return i.then(l=>{n.props[r]=l});n.props[r]=i}}let lS=!1;const sP={100:({data:t})=>`Only groups, lists, and forms can have children (${t.name}).`,101:({data:t})=>`You cannot directly modify the store (${t.name}). See: https://formkit.com/advanced/core#message-store`,102:({data:[t,e]})=>`You cannot directly assign node.${e} (${t.name})`,103:({data:[t]})=>`Schema expressions cannot start with an operator (${t})`,104:({data:[t,e]})=>`Schema expressions cannot end with an operator (${t} in "${e}")`,105:({data:t})=>`Invalid schema expression: ${t}`,106:({data:t})=>`Cannot submit because (${t}) is not in a form.`,107:({data:[t,e]})=>`Cannot set ${t.name} to non object value: ${e}`,108:({data:[t,e]})=>`Cannot set ${t.name} to non array value: ${e}`,300:({data:[t]})=>`Cannot set behavior prop to overscroll (on ${t.name} input) when options prop is a function.`,600:({data:t})=>`Unknown input type${typeof t.props.type=="string"?' "'+t.props.type+'"':""} ("${t.name}")`,601:({data:t})=>`Input definition${typeof t.props.type=="string"?' "'+t.props.type+'"':""} is missing a schema or component property (${t.name}).`},rP={150:({data:t})=>`Schema function "${t}()" is not a valid function.`,151:({data:t})=>`No form element with id: ${t}`,152:({data:t})=>`No input element with id: ${t}`,350:({data:t})=>`Invalid options prop for radio input (${t.name}). See https://formkit.com/inputs/radio`,650:'Schema "$get()" must use the id of an input to access.',651:({data:t})=>`Cannot setErrors() on "${t}" because no such id exists.`,652:({data:t})=>`Cannot clearErrors() on "${t}" because no such id exists.`,800:({data:t})=>`${t} is deprecated.`},mee=(t,e)=>{if(t.code in sP){const n=sP[t.code];t.message=typeof n=="function"?n(t):n}return e(t)};lS||Z4(mee);const gee=(t,e)=>{if(t.code in rP){const n=rP[t.code];t.message=typeof n=="function"?n(t):n}return e(t)};lS||J4(gee);lS=!0;const cS=window.Vue.defineComponent,qI=window.Vue.getCurrentInstance,i0=window.Vue.watch,bd=window.Vue.watchEffect,$v=window.Vue.reactive,_i=window.Vue.ref,vee=window.Vue.createTextVNode,yee=window.Vue.resolveComponent,l2=window.Vue.h,l0=window.Vue.isRef,c2=window.Vue.isReactive,wee=window.Vue.toRaw,u2=window.Vue.inject,xv=window.Vue.computed,bee=window.Vue.provide,$ee=window.Vue.toRef,xee=window.Vue.onBeforeUnmount,eM=window.Vue.markRaw,_ee=window.Vue.nextTick,ay=window.Vue.triggerRef,O5={};let Vs;const ih=new Map,Vee="__raw__",Cee=/[a-zA-Z0-9\-][cC]lass$/;function See(t,e){const n=_i(null);if(t==="get"){const a={};return n.value=Pee.bind(null,a),n}const o=t.split(".");return bd(()=>n.value=uS(e,o)),n}function uS(t,e){if(Array.isArray(t)){for(const a of t){const s=a!==!1&&uS(a,e);if(s!==void 0)return s}return}let n,o=t;for(const a in e){const s=e[a];if(typeof o!="object"||o===null){n=void 0;break}const r=o[s];if(Number(a)===e.length-1&&r!==void 0){n=typeof r=="function"?r.bind(o):r;break}o=r}return n}function Pee(t,e){if(typeof e!="string")return Eh(650);if(e in t||(t[e]=_i(void 0)),t[e].value===void 0){t[e].value=null;const n=Ti(e);n&&(t[e].value=n.context),qK(e,({payload:o})=>{t[e].value=$0(o)?o.context:o})}return t[e].value}function iP(t,e){function n(d,p){const f=u(al(p.if),{if:!0}),g=l(d,p.then),v=p.else?l(d,p.else):null;return[f,g,v]}function o(d,p){var f,g;const v=u(al(d.if));let y=()=>p,w=()=>p;return typeof d.then=="object"?w=a(d.then,void 0):typeof d.then=="string"&&(!((f=d.then)===null||f===void 0)&&f.startsWith("$"))?w=u(al(d.then)):w=()=>d.then,Bt(d,"else")&&(typeof d.else=="object"?y=a(d.else):typeof d.else=="string"&&(!((g=d.else)===null||g===void 0)&&g.startsWith("$"))?y=u(al(d.else)):y=()=>d.else),()=>v()?w():y()}function a(d,p,f={}){const g=new Set(Object.keys(d||{})),v=p?u(al(p)):()=>({}),y=[w=>{const b=v();for(const C in b)g.has(C)||(w[C]=b[C])}];if(d){if(lm(d))return o(d,f);for(let w in d){const b=d[w];let C;const V=typeof b=="string";w.startsWith(Vee)?(w=w.substring(7),C=()=>b):V&&b.startsWith("$")&&b.length>1&&!(b.startsWith("$reset")&&Cee.test(w))?C=u(al(b)):typeof b=="object"&&lm(b)?C=o(b,void 0):typeof b=="object"&&bh(b)?C=a(b):C=()=>b,y.push(_=>{_[w]=C()})}}return()=>{const w=Array.isArray(d)?[]:{};return y.forEach(b=>b(w)),w}}function s(d,p){let f=null,g=()=>null,v=!1,y=null,w=null,b=null,C=!1;const V=zY(p);if(_C(V)?(f=V.$el,g=V.$el!=="text"?a(V.attrs,V.bind):()=>null):VC(V)?(typeof V.$cmp=="string"?Bt(d,V.$cmp)?f=d[V.$cmp]:(f=V.$cmp,C=!0):f=V.$cmp,g=a(V.props,V.bind)):lm(V)&&([v,y,w]=n(d,V)),!lm(V)&&"if"in V?v=u(al(V.if)):!lm(V)&&f===null&&(v=()=>!0),"children"in V&&V.children)if(typeof V.children=="string")if(V.children.startsWith("$slots."))f=f==="text"?"slot":f,y=u(al(V.children));else if(V.children.startsWith("$")&&V.children.length>1){const _=u(al(V.children));y=()=>String(_())}else y=()=>String(V.children);else if(Array.isArray(V.children))y=l(d,V.children);else{const[_,x,S]=n(d,V.children);y=P=>_&&_()?x&&x(P):S&&S(P)}if(VC(V))if(y){const _=y;y=x=>({default(S,P){var E,O,I,F;const L=Vs;P&&(Vs=P),S&&((E=ih.get(Vs))===null||E===void 0||E.unshift(S)),x&&((O=ih.get(Vs))===null||O===void 0||O.unshift(x));const H=_(x);return S&&((I=ih.get(Vs))===null||I===void 0||I.shift()),x&&((F=ih.get(Vs))===null||F===void 0||F.shift()),Vs=L,H}}),y.slot=!0}else y=()=>({});if("for"in V&&V.for){const _=V.for.length===3?V.for[2]:V.for[1];b=[typeof _=="string"&&_.startsWith("$")?u(al(_)):()=>_,V.for[0],V.for.length===3?String(V.for[1]):null]}return[v,f,g,y,w,b,C]}function r(d,p){const f=d(p),g=Vs;return Object.keys(f).reduce((v,y)=>{const w=f&&f[y];return v[y]=b=>w&&w(b,g)||null,v},{})}function i(d,p){const[f,g,v,y,w,b,C]=s(d,p);let V=_=>{if(f&&g===null&&y)return f()?y(_):w&&w(_);if(g&&(!f||f())){if(g==="text"&&y)return vee(String(y()));if(g==="slot"&&y)return y(_);const x=C?yee(g):g,S=y!=null&&y.slot?r(y,_):null;return l2(x,v(),S||(y?y(_):[]))}return typeof w=="function"?w(_):w};if(b){const _=V,[x,S,P]=b;V=()=>{const E=x(),O=isNaN(E)?E:Array(Number(E)).fill(0).map((H,W)=>W),I=[];if(typeof O!="object")return null;const F=ih.get(Vs)||[],L=Array.isArray(O);for(const H in O){if(L&&H in Array.prototype)continue;const W=Object.defineProperty({...F.reduce((Y,U)=>Y.__idata?{...Y,...U}:U,{}),[S]:O[H],...P!==null?{[P]:L?Number(H):H}:{}},"__idata",{enumerable:!1,value:!0});F.unshift(W),I.push(_.bind(null,W)()),F.shift()}return I}}return V}function l(d,p){if(Array.isArray(p)){const g=p.map(i.bind(null,d));return v=>g.map(y=>y(v))}const f=i(d,p);return g=>f(g)}const c=[];function u(d,p={}){const f={};return c.push((g,v)=>{f[v]=d.provide(y=>g(y,p))}),()=>f[Vs]()}return function(p,f){const g=JSON.stringify(e),[v,y]=Bt(O5,g)?O5[g]:[l(t,e),c];return O5[g]=[v,y],y.forEach(w=>{w(p,f)}),()=>(Vs=f,v())}}function tM(t,e){const n=ih.get(Vs)||[];let o;return n.length&&(o=uS(n,t.split("."))),o===void 0?e:o}function Eee(t,e){return new Proxy(t,{get(...n){let o;const a=n[1];if(typeof a=="string"){const s=Vs;Vs=e,o=tM(a,void 0),Vs=s}return o!==void 0?o:Reflect.get(...n)}})}function lP(t,e,n){return t((o,a={})=>o.reduce((s,r)=>{if(r.startsWith("slots.")){const l=r.substring(6),c=e.slots&&Bt(e.slots,l);if(a.if)s[r]=()=>c;else if(e.slots&&c){const u=Eee(e,n);return s[r]=()=>e.slots[l](u),s}}const i=See(r,e);return s[r]=()=>tM(r,i.value),s},{}),n)}let cP=0;const nM=cS({name:"FormKitSchema",props:{schema:{type:[Array,Object],required:!0},data:{type:Object,default:()=>({})},library:{type:Object,default:()=>({})}},setup(t,e){const n=qI();let o=Symbol(String(cP++));ih.set(o,[]);let a=iP(t.library,t.schema),s,r;return i0(()=>t.schema,(i,l)=>{var c;o=Symbol(String(cP++)),a=iP(t.library,t.schema),s=lP(a,r,o),i===l&&((c=n==null?void 0:n.proxy)===null||c===void 0?void 0:c.$forceUpdate)()},{deep:!0}),bd(()=>{r=Object.assign($v(t.data),{slots:e.slots}),s=lP(a,r,o)}),()=>s()}}),Tee={config:{type:Object,default:{}},classes:{type:Object,required:!1},delay:{type:Number,required:!1},errors:{type:Array,default:[]},inputErrors:{type:Object,default:()=>({})},index:{type:Number,required:!1},id:{type:String,required:!1},modelValue:{required:!1},name:{type:String,required:!1},parent:{type:Object,required:!1},plugins:{type:Array,default:[]},sectionsSchema:{type:Object,default:{}},type:{type:[String,Object],default:"text"},validation:{type:[String,Array],required:!1},validationMessages:{type:Object,required:!1},validationRules:{type:Object,required:!1},validationLabel:{type:[String,Function],required:!1}},Ree=Tee,FC=Symbol("FormKitParent"),Oee=cS({props:Ree,emits:{input:(t,e)=>!0,inputRaw:(t,e)=>!0,"update:modelValue":t=>!0,node:t=>!!t,submit:(t,e)=>!0,submitRaw:(t,e)=>!0,submitInvalid:t=>!0},inheritAttrs:!1,setup(t,e){const n=Hee(t,e);if(n.props.definition||Br(600,n),n.props.definition.component)return()=>{var r;return l2((r=n.props.definition)===null||r===void 0?void 0:r.component,{context:n.context},{...e.slots})};const o=_i([]),a=()=>{var r,i;const l=(i=(r=n.props)===null||r===void 0?void 0:r.definition)===null||i===void 0?void 0:i.schema;l||Br(601,n),o.value=typeof l=="function"?l({...t.sectionsSchema}):l};a(),n.on("schema",a),e.emit("node",n);const s=n.props.definition.library;return e.expose({node:n}),()=>l2(nM,{schema:o.value,data:n.context,library:s},{...e.slots})}});function kee(t,e){return t.component(e.alias||"FormKit",Oee).component(e.schemaAlias||"FormKitSchema",nM),{get:Ti,setLocale:n=>{var o;!((o=e.config)===null||o===void 0)&&o.rootConfig&&(e.config.rootConfig.locale=n)},clearErrors:KY,setErrors:WY,submit:Ec,reset:tr}}const dS=Symbol.for("FormKitOptions"),Aee=Symbol.for("FormKitConfig"),Iee={install(t,e){const n=Object.assign({alias:"FormKit",schemaAlias:"FormKitSchema"},typeof e=="function"?e():e),o=eY(n.config||{});n.config={rootConfig:o},t.config.globalProperties.$formkit=kee(t,n),t.provide(dS,n),t.provide(Aee,o)}},DC=Symbol();function Mee(t,e){const n={},o=r=>{for(const i of r)i.__str in n&&n[i.__str](),n[i.__str]=i0(Dee.bind(null,t,i),s.bind(null,i),{deep:!1})},s=Fee(t,e,o,r=>{if(r.length)for(const i in n)`${i}`.startsWith(`${r.__str}.`)&&(n[i](),delete n[i])});o(pS(t))}function Fee(t,e,n,o){return a=>{const s=oM(t,a);s!==DC&&(a.__deep&&o(a),typeof s=="object"&&n(pS(s,[a],...a)),e(a,s,t))}}function Dee(t,e){const n=oM(t,e);return n&&typeof n=="object"?Object.keys(n):n}function oM(t,e){if(l0(t)){if(e.length===0)return t.value;t=t.value}return e.reduce((n,o)=>n===DC?n:n===null||typeof n!="object"?DC:n[o],t)}function pS(t,e=[],...n){if(t===null)return e;if(!n.length){const o=Object.defineProperty([],"__str",{value:""});if(t=l0(t)?t.value:t,t&&typeof t=="object")Object.defineProperty(o,"__deep",{value:!0}),e.push(o);else return[o]}if(t===null||typeof t!="object")return e;for(const o in t){const a=n.concat(o);Object.defineProperty(a,"__str",{value:a.join(".")});const s=t[o];bh(s)||Array.isArray(s)?(e.push(Object.defineProperty(a,"__deep",{value:!0})),e=e.concat(pS(s,[],...a))):e.push(a)}return e}function yb(t){return t===null||typeof t!="object"||(c2(t)?t=wee(t):l0(t)&&(t=c2(t.value)?yb(t.value):t.value)),t}const k5=["help","label","ignore","disabled","preserve",/^preserve(-e|E)rrors/,/^[a-z]+(?:-visibility|Visibility)$/,/^[a-zA-Z-]+(?:-class|Class)$/,"prefixIcon","suffixIcon",/^[a-zA-Z-]+(?:-icon|Icon)$/];function uP(t,e){e.classes&&Object.keys(e.classes).forEach(n=>{typeof n=="string"&&(t.props[`_${n}Class`]=e.classes[n],wC(e.classes[n])&&n==="inner"&&Object.values(e.classes[n]))})}function Nee(t){return t?["Submit","SubmitRaw","SubmitInvalid"].reduce((n,o)=>{const a=`on${o}`;return a in t&&typeof t[a]=="function"&&(n[a]=t[a]),n},{}):{}}function Hee(t,e,n={}){const o=Object.assign({},u2(dS)||{},n),a=qI(),s=Nee(a==null?void 0:a.vnode.props),r=t.modelValue!==void 0,i=t.modelValue!==void 0?t.modelValue:_c(e.attrs.value);function l(){const V={...jh(t),...s},_=c6(jh(e.attrs),k5);V.attrs=_;const x=u6(jh(e.attrs),k5);for(const P in x)V[xm(P)]=x[P];const S={props:{}};return uP(S,t),Object.assign(V,S.props),typeof V.type!="string"&&(V.definition=V.type,delete V.type),V}const c=l(),u=c.ignore?null:t.parent||u2(FC,null),d=UY($h(o||{},{name:t.name||void 0,value:i,parent:u,plugins:(o.plugins||[]).concat(t.plugins),config:t.config,props:c,index:t.index},!1,!0));d.props.definition||Br(600,d);const p=_i(new Set(d.props.definition.props||[]));d.on("added-props",({payload:V})=>{Array.isArray(V)&&V.forEach(_=>p.value.add(_))});const f=xv(()=>k5.concat([...p.value]).reduce((V,_)=>(typeof _=="string"?(V.push(xm(_)),V.push(X4(_))):V.push(_),V),[]));bd(()=>uP(d,t));const g=jh(t);for(const V in g)i0(()=>t[V],()=>{t[V]!==void 0&&(d.props[V]=t[V])});const v=new Set,y=jh(e.attrs);bd(()=>{w(u6(y,f.value))});function w(V){v.forEach(_=>{_(),v.delete(_)});for(const _ in V){const x=xm(_);v.add(i0(()=>e.attrs[_],()=>{d.props[x]=e.attrs[_]}))}}if(bd(()=>{const V=c6(jh(e.attrs),f.value);d.props.attrs=Object.assign({},d.props.attrs||{},V)}),bd(()=>{const V=t.errors.map(_=>wl({key:XA(_),type:"error",value:_,meta:{source:"prop"}}));d.store.apply(V,_=>_.type==="error"&&_.meta.source==="prop")}),d.type!=="input"){const V=`${d.name}-prop`;bd(()=>{const _=Object.keys(t.inputErrors);_.length||d.clearErrors(!0,V);const x=_.reduce((S,P)=>{let E=t.inputErrors[P];return typeof E=="string"&&(E=[E]),Array.isArray(E)&&(S[P]=E.map(O=>wl({key:O,type:"error",value:O,meta:{source:V}}))),S},{});d.store.apply(x,S=>S.type==="error"&&S.meta.source===V)})}bd(()=>Object.assign(d.config,t.config)),d.type!=="input"&&bee(FC,d);let b;const C=new WeakSet;return d.on("modelUpdated",()=>{var V,_;if(e.emit("inputRaw",(V=d.context)===null||V===void 0?void 0:V.value,d),clearTimeout(b),b=setTimeout(e.emit,20,"input",(_=d.context)===null||_===void 0?void 0:_.value,d),r&&d.context){const x=yb(d.context.value);wC(x)&&yb(t.modelValue)!==x&&C.add(x),e.emit("update:modelValue",x)}}),r&&(Mee($ee(t,"modelValue"),(V,_)=>{var x;const S=yb(_);if(wC(S)&&C.has(S))return C.delete(S);V.length?(x=d.at(V))===null||x===void 0||x.input(_,!1):d.input(_,!1)}),d.value!==i&&d.emit("modelUpdated")),xee(()=>d.destroy()),d}let Bee=1;function Lee(t){return typeof t=="function"&&t.length===2||typeof t=="object"&&!Array.isArray(t)&&!("$el"in t)&&!("$cmp"in t)&&!("if"in t)}function aM(t,e={}){const n={type:"input",...e};let o;if(Lee(t)){const a=`SchemaComponent${Bee++}`;o=Lt("input",()=>({$cmp:a,props:{context:"$node.context"}})),n.library={[a]:eM(t)}}else typeof t=="function"?o=t:o=Lt("input",()=>_c(t));return n.schema=sq(o||"Schema undefined"),n}const Uee=function(e){e.ledger.count("blocking",S=>S.blocking);const n=_i(!e.ledger.value("blocking"));e.ledger.count("errors",S=>S.type==="error");const o=_i(!!e.ledger.value("errors"));let a=!1;_ee(()=>{a=!0});const s=$v(e.store.reduce((S,P)=>(P.visible&&(S[P.key]=P),S),{})),r=_i(e.props.validationVisibility||"blur");e.on("prop:validationVisibility",({payload:S})=>{r.value=S});const i=_i(r.value==="live"),l=xv(()=>{if(b.state.submitted)return!0;if(!i.value&&!b.state.settled)return!1;switch(r.value){case"live":return!0;case"blur":return b.state.blurred;case"dirty":return b.state.dirty;default:return!1}}),c=xv(()=>u.value?n.value&&!o.value:b.state.dirty&&!n0(b.value)),u=_i(Array.isArray(e.props.parsedRules)&&e.props.parsedRules.length>0);e.on("prop:parsedRules",({payload:S})=>{u.value=Array.isArray(S)&&S.length>0});const d=xv(()=>{const S={};for(const P in s){const E=s[P];(E.type!=="validation"||l.value)&&(S[P]=E)}return S}),p=$v(e.store.reduce((S,P)=>(P.type==="ui"&&P.visible&&(S[P.key]=P),S),{})),f=$v({}),g=new Proxy(f,{get(...S){const[P,E]=S;let O=Reflect.get(...S);return!O&&typeof E=="string"&&!Bt(P,E)&&!E.startsWith("__v")&&s2(e).watch(F=>{const L=typeof F.config.rootClasses=="function"?F.config.rootClasses(E,F):{},H=F.config.classes?mb(E,F,F.config.classes[E]):{},W=mb(E,F,F.props[`_${E}Class`]),Y=mb(E,F,F.props[`${E}Class`]);O=GY(F,E,L,H,W,Y),P[E]=O}),O}}),v=xv(()=>{const S=[];b.help&&S.push(`help-${e.props.id}`);for(const P in d.value)S.push(`${e.props.id}-${P}`);return S.length?S.join(" "):void 0}),y=_i(e.value),w=_i(e.value),b=$v({_value:w,attrs:e.props.attrs,disabled:e.props.disabled,describedBy:v,fns:{length:S=>Object.keys(S).length,number:S=>Number(S),string:S=>String(S),json:S=>JSON.stringify(S),eq:xc},handlers:{blur:S=>{e.store.set(wl({key:"blurred",visible:!1,value:!0})),typeof e.props.attrs.onBlur=="function"&&e.props.attrs.onBlur(S)},touch:()=>{e.store.set(wl({key:"dirty",visible:!1,value:!0}))},DOMInput:S=>{e.input(S.target.value),e.emit("dom-input-event",S)}},help:e.props.help,id:e.props.id,label:e.props.label,messages:d,node:eM(e),options:e.props.options,state:{blurred:!1,complete:c,dirty:!1,submitted:!1,settled:e.isSettled,valid:n,errors:o,rules:u,validationVisible:l},type:e.props.type,family:e.props.family,ui:p,value:y,classes:g});e.on("created",()=>{xc(b.value,e.value)||(w.value=e.value,y.value=e.value,ay(y),ay(w)),e.props._init=_c(e.value)}),e.on("settled",({payload:S})=>{b.state.settled=S});function C(S){S.forEach(P=>{P=xm(P),!Bt(b,P)&&Bt(e.props,P)&&(b[P]=e.props[P]),e.on(`prop:${P}`,({payload:E})=>{b[P]=E})})}C((()=>{const S=["help","label","disabled","options","type","attrs","preserve","preserveErrors","id"],P=/^[a-zA-Z-]+(?:-icon|Icon)$/,E=Object.keys(e.props).filter(O=>P.test(O));return S.concat(E)})());function _(S){S.props&&C(S.props)}e.props.definition&&_(e.props.definition),e.on("added-props",({payload:S})=>C(S)),e.on("input",({payload:S})=>{e.type!=="input"&&!l0(S)&&!c2(S)?w.value=d6(S):(w.value=S,ay(w))}),e.on("commit",({payload:S})=>{e.type!=="input"&&!l0(S)&&!c2(S)?y.value=w.value=d6(S):(y.value=w.value=S,ay(y)),e.emit("modelUpdated"),!b.state.dirty&&e.isCreated&&a&&!xc(y.value,e.props._init)&&b.handlers.touch(),c&&e.type==="input"&&o.value&&!Ru(e.props.preserveErrors)&&e.store.filter(P=>{var E;return!(P.type==="error"&&((E=P.meta)===null||E===void 0?void 0:E.autoClear)===!0)})});const x=async S=>{S.type==="ui"&&S.visible&&!S.meta.showAsMessage?p[S.key]=S:S.visible?s[S.key]=S:S.type==="state"&&(b.state[S.key]=!!S.value)};e.on("message-added",S=>x(S.payload)),e.on("message-updated",S=>x(S.payload)),e.on("message-removed",({payload:S})=>{delete p[S.key],delete s[S.key],delete b.state[S.key]}),e.on("settled:blocking",()=>{n.value=!0}),e.on("unsettled:blocking",()=>{n.value=!1}),e.on("settled:errors",()=>{o.value=!1}),e.on("unsettled:errors",()=>{o.value=!0}),i0(l,S=>{S&&(i.value=!0)}),e.context=b,e.emit("context",e,!1)},jee=(t={})=>{const{rules:e={},locales:n={},inputs:o={},messages:a={},locale:s=void 0,theme:r=void 0,iconLoaderUrl:i=void 0,iconLoader:l=void 0,icons:c={},...u}=t,d=Fq({...Iq,...e||{}}),p=aee($h({en:eee,...n||{}},a)),f=IJ(hq,o),g=lee(r,c,i,l);return $h({plugins:[f,g,Uee,p,d],...s?{config:{locale:s}}:{}},u||{},!0)};cS({name:"FormKitIcon",props:{icon:{type:String,default:""},iconLoader:{type:Function,default:null},iconLoaderUrl:{type:Function,default:null}},setup(t){var e,n;const o=_i(void 0),a=u2(dS,{}),s=u2(FC,null);let r;if(t.iconLoader&&typeof t.iconLoader=="function")r=Nv(t.iconLoader);else if(s&&(!((e=s.props)===null||e===void 0)&&e.iconLoader))r=Nv(s.props.iconLoader);else if(t.iconLoaderUrl&&typeof t.iconLoaderUrl=="function")r=Nv(r,t.iconLoaderUrl);else{const i=(n=a==null?void 0:a.plugins)===null||n===void 0?void 0:n.find(l=>typeof l.iconHandler=="function");i&&(r=i.iconHandler)}if(r&&typeof r=="function"){const i=r(t.icon);i instanceof Promise?i.then(l=>{o.value=l}):o.value=i}return()=>o.value?l2("span",{class:"formkit-icon",innerHTML:o.value}):null}});const Bn={label:"block text-sm font-medium text-gray-700 formkit-invalid:text-red-500",wrapper:"flex flex-col gap-4",inner:"inline-flex items-center w-full relative box-border border border-gray-300 formkit-invalid:border-red-500 h-9 rounded-base overflow-hidden focus-within:border-primary focus-within:shadow-sm w-full sm:max-w-lg transition-all",input:"outline-0 bg-white antialiased resize-none w-full text-black block transition-all appearance-none h-full px-3 text-sm"},zh={label:Bn.label,legend:`${Bn.label} px-2`,fieldset:"group border border-gray-300 rounded-base px-2 py-2 focus-within:border-primary max-w-lg",wrapper:"flex items-center mb-1 cursor-pointer group-[.formkit-fieldset]:px-2",help:"mb-2 mt-0 px-2",input:"form-check-input h-4 w-4 mr-2 border border-gray-500 rounded-sm bg-white checked:bg-primary focus:outline-none focus:ring-0 transition duration-200",inner:"flex items-center"},dP={wrapper:"mb-1",input:"bg-blue-500 hover:bg-blue-700 text-white text-sm font-normal py-3 px-5 rounded"},zee={global:{form:"divide-y divide-gray-100",outer:"formkit-disabled:opacity-50 py-4 first:pt-0 last:pb-0 transition-all",help:"text-xs mt-2 text-gray-500",messages:"list-none p-0 mt-1.5 mb-0 transition-all",message:"text-red-500 mt-2 text-xs"},button:dP,color:{...Bn,inner:"",input:"w-16 h-8 appearance-none cursor-pointer border border-gray-300 rounded-md mb-2 p-1"},file:{...Bn,noFiles:"block text-gray-800 text-sm mb-1",fileItem:"block flex text-gray-800 text-sm mb-1",fileRemove:"ml-auto text-blue-500 text-sm"},checkbox:zh,radio:{...zh,input:zh.input.replace("rounded-sm","rounded-full")},range:{...Bn,inner:"w-full sm:max-w-lg",input:"form-range appearance-none w-full h-2 p-0 bg-gray-200 rounded-full focus:outline-none focus:ring-0 focus:shadow-none"},search:Bn,select:Bn,submit:dP,tel:Bn,text:Bn,time:Bn,url:Bn,week:Bn,month:Bn,number:Bn,password:Bn,email:Bn,date:Bn,"datetime-local":Bn,textarea:{...Bn,inner:Bn.inner.replace("h-9","h-full"),input:Bn.input.replace("resize-none","resize-y")+" py-2"},repeater:{label:Bn.label,legend:`${Bn.label} px-2`,fieldset:zh.fieldset,wrapper:zh.wrapper,help:zh.wrapper,inner:"flex flex-col gap-4",items:"flex flex-col w-full gap-2",item:"border rounded-base grid grid-cols-12 focus-within:border-primary transition-all overflow-hidden focus-within:shadow-sm",content:"flex-1 p-2 col-span-11",controls:"bg-gray-200 col-span-1 flex items-center justify-center"},tagSelect:{...Bn,inner:`${Bn.inner} !overflow-visible !h-auto min-h-[2.25rem]`,input:"w-0 flex-grow outline-0 bg-transparent py-1 px-3 block transition-all appearance-none text-sm antialiased","post-tags-wrapper":"flex w-full items-center","post-tags":"flex w-full flex-wrap items-center","post-tag-wrapper":"inline-flex items-center p-1","post-tag-close":"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900","post-tags-button":"inline-flex h-full cursor-pointer items-center px-1","dropdown-wrapper":"absolute ring-1 ring-white top-full bottom-auto right-0 z-10 mt-1 max-h-96 w-full overflow-auto rounded bg-white shadow-lg"},categorySelect:{...Bn,inner:`${Bn.inner} !overflow-visible !h-auto min-h-[2.25rem]`,input:"w-0 flex-grow outline-0 bg-transparent py-1 px-3 block transition-all appearance-none text-sm antialiased","post-categories-wrapper":"flex w-full items-center","post-categories":"flex w-full flex-wrap items-center","post-categories-button":"inline-flex h-full cursor-pointer items-center px-1","dropdown-wrapper":"absolute ring-1 ring-white top-full bottom-auto right-0 z-10 mt-1 max-h-96 w-full overflow-auto rounded bg-white shadow-lg"}},Gee={schema:kI("$slots.default",Kr(Yr("$message.value"))),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],forceTypeProp:"form",features:[DI,l$]},Wee=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"];function d2(t){return t?Wee.includes(t):!1}const Gh=window.Vue.ref,Kee=window.Vue.watch,pP=window.HaloComponents.Dialog,hP=window.HaloComponents.Toast,Yee=window.VueRouter.onBeforeRouteLeave;function sM(t){const{user:e,policy:n,group:o,keyword:a,sort:s}=t||{},r=Gh({page:1,size:60,total:0,items:[],first:!0,last:!1,hasNext:!1,hasPrevious:!1,totalPages:0}),i=Gh(!1),l=Gh(),c=Gh(new Set),u=Gh(!1),d=Gh(),p=async x=>{var S,P,E,O;try{clearInterval(d.value),x!=null&&x.mute||(i.value=!0),x!=null&&x.page&&(r.value.page=x.page);const{data:I}=await X.attachment.searchAttachments({policy:(S=n==null?void 0:n.value)==null?void 0:S.metadata.name,displayName:a==null?void 0:a.value,group:(P=o==null?void 0:o.value)==null?void 0:P.metadata.name,ungrouped:((E=o==null?void 0:o.value)==null?void 0:E.metadata.name)==="ungrouped",uploadedBy:(O=e==null?void 0:e.value)==null?void 0:O.metadata.name,page:r.value.page,size:r.value.size,sort:[s==null?void 0:s.value].filter(Boolean)});r.value=I,r.value.items.filter(L=>!!L.metadata.deletionTimestamp).length&&(d.value=setInterval(()=>{p({mute:!0})},3e3))}catch(I){console.error("Failed to fetch attachments",I)}finally{i.value=!1}};Yee(()=>{clearInterval(d.value)});const f=async({page:x,size:S})=>{r.value.page=x,r.value.size=S,await p()},g=async()=>{const{items:x,hasPrevious:S}=r.value,P=x.findIndex(E=>{var O;return E.metadata.name===((O=l.value)==null?void 0:O.metadata.name)});if(P>0){l.value=x[P-1];return}P===0&&S&&(r.value.page--,await p(),l.value=r.value.items[r.value.items.length-1])},v=async()=>{const{items:x,hasNext:S}=r.value,P=x.findIndex(E=>{var O;return E.metadata.name===((O=l.value)==null?void 0:O.metadata.name)});if(P<x.length-1){l.value=x[P+1];return}P===x.length-1&&S&&(r.value.page++,await p(),l.value=r.value.items[0])},y=x=>{pP.warning({title:"确定要删除该附件吗？",description:"删除之后将无法恢复",confirmType:"danger",onConfirm:async()=>{var S;try{await X.extension.storage.attachment.deletestorageHaloRunV1alpha1Attachment({name:x.metadata.name}),((S=l.value)==null?void 0:S.metadata.name)===x.metadata.name&&(l.value=void 0),c.value.delete(x),hP.success("删除成功")}catch(P){console.error("Failed to delete attachment",P)}finally{await p()}}})},w=()=>{pP.warning({title:"确定要删除所选的附件吗？",description:"删除之后将无法恢复",confirmType:"danger",onConfirm:async()=>{try{const x=Array.from(c.value).map(S=>X.extension.storage.attachment.deletestorageHaloRunV1alpha1Attachment({name:S.metadata.name}));await Promise.all(x),c.value.clear(),hP.success("删除成功")}catch(x){console.error("Failed to delete attachments",x)}finally{await p()}}})},b=x=>{x?r.value.items.forEach(S=>{c.value.add(S)}):c.value.clear()},C=async x=>{if(x){if(c.value.has(x)){c.value.delete(x);return}c.value.add(x)}};return Kee(()=>c.value.size,x=>{var S;u.value=x===((S=r.value.items)==null?void 0:S.length)}),{attachments:r,loading:i,selectedAttachment:l,selectedAttachments:c,checkedAll:u,handleFetchAttachments:p,handlePaginationChange:f,handleSelectPrevious:g,handleSelectNext:v,handleDelete:y,handleDeleteInBatch:w,handleCheckAll:b,handleSelect:C,isChecked:x=>{var S;return x.metadata.name===((S=l.value)==null?void 0:S.metadata.name)||Array.from(c.value).map(P=>P.metadata.name).includes(x.metadata.name)},handleReset:()=>{r.value.page=1,l.value=void 0,c.value.clear(),u.value=!1}}}function ZDe(t){return{onAttachmentSelect:n=>{var a;const o=n.map(s=>{var i;const r={};return typeof s=="string"?(r.src=s,{type:"image",attrs:r}):("url"in s&&(r.src=s.url,r.alt=s.type),"spec"in s&&(r.src=(i=s.status)==null?void 0:i.permalink,r.alt=s.spec.displayName),{type:"image",attrs:r})});(a=t.value)==null||a.chain().focus().insertContent([...o,{type:"paragraph",content:""}]).run()}}}const Xee=window.Vue.defineComponent,fP=window.Vue.renderSlot,mP=window.Vue.createTextVNode;window.Vue.createCommentVNode;const Qee=window.Vue.normalizeClass,Zee=window.Vue.openBlock,Jee=window.Vue.createElementBlock,qee=["src","alt"],ete=window.Vue.onMounted,gP=window.Vue.ref,Gm=Xee({__name:"LazyImage",props:{src:{default:""},alt:{default:""},classes:{default:""}},setup(t){const e=t,n=gP(!1),o=gP(!1),a=async()=>{const s=new Image;return s.src=e.src,new Promise((r,i)=>{s.onload=()=>r(s),s.onerror=l=>i(l)})};return ete(async()=>{n.value=!0;try{await a()}catch{o.value=!0}finally{n.value=!1}}),(s,r)=>n.value?fP(s.$slots,"loading",{key:0},()=>[mP(" loading... ")]):o.value?fP(s.$slots,"error",{key:1},()=>[mP(" error ")]):(Zee(),Jee("img",{key:2,src:t.src,alt:t.alt,class:Qee(t.classes)},null,10,qee))}});var V0,_o,rM,Hv,vP,p2={},iM=[],tte=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ou(t,e){for(var n in e)t[n]=e[n];return t}function lM(t){var e=t.parentNode;e&&e.removeChild(t)}function j(t,e,n){var o,a,s,r={};for(s in e)s=="key"?o=e[s]:s=="ref"?a=e[s]:r[s]=e[s];if(arguments.length>2&&(r.children=arguments.length>3?V0.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)r[s]===void 0&&(r[s]=t.defaultProps[s]);return Bv(t,r,o,a,null)}function Bv(t,e,n,o,a){var s={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++rM};return a==null&&_o.vnode!=null&&_o.vnode(s),s}function nte(){return{current:null}}function Wm(t){return t.children}function bl(t,e){this.props=t,this.context=e}function c0(t,e){if(e==null)return t.__?c0(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?c0(t):null}function cM(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return cM(t)}}function yP(t){(!t.__d&&(t.__d=!0)&&Hv.push(t)&&!h2.__r++||vP!==_o.debounceRendering)&&((vP=_o.debounceRendering)||setTimeout)(h2)}function h2(){for(var t;h2.__r=Hv.length;)t=Hv.sort(function(e,n){return e.__v.__b-n.__v.__b}),Hv=[],t.some(function(e){var n,o,a,s,r,i;e.__d&&(r=(s=(n=e).__v).__e,(i=n.__P)&&(o=[],(a=Ou({},s)).__v=s.__v+1,hS(i,s,a,n.__n,i.ownerSVGElement!==void 0,s.__h!=null?[r]:null,o,r??c0(s),s.__h),hM(o,s),s.__e!=r&&cM(s)))})}function uM(t,e,n,o,a,s,r,i,l,c){var u,d,p,f,g,v,y,w=o&&o.__k||iM,b=w.length;for(n.__k=[],u=0;u<e.length;u++)if((f=n.__k[u]=(f=e[u])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?Bv(null,f,null,null,f):Array.isArray(f)?Bv(Wm,{children:f},null,null,null):f.__b>0?Bv(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(p=w[u])===null||p&&f.key==p.key&&f.type===p.type)w[u]=void 0;else for(d=0;d<b;d++){if((p=w[d])&&f.key==p.key&&f.type===p.type){w[d]=void 0;break}p=null}hS(t,f,p=p||p2,a,s,r,i,l,c),g=f.__e,(d=f.ref)&&p.ref!=d&&(y||(y=[]),p.ref&&y.push(p.ref,null,f),y.push(d,f.__c||g,f)),g!=null?(v==null&&(v=g),typeof f.type=="function"&&f.__k===p.__k?f.__d=l=dM(f,l,t):l=pM(t,f,p,w,g,l),typeof n.type=="function"&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=t&&(l=c0(p))}for(n.__e=v,u=b;u--;)w[u]!=null&&mM(w[u],w[u]);if(y)for(u=0;u<y.length;u++)fM(y[u],y[++u],y[++u])}function dM(t,e,n){for(var o,a=t.__k,s=0;a&&s<a.length;s++)(o=a[s])&&(o.__=t,e=typeof o.type=="function"?dM(o,e,n):pM(n,o,o,a,o.__e,e));return e}function $d(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){$d(n,e)}):e.push(t)),e}function pM(t,e,n,o,a,s){var r,i,l;if(e.__d!==void 0)r=e.__d,e.__d=void 0;else if(n==null||a!=s||a.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(a),r=null;else{for(i=s,l=0;(i=i.nextSibling)&&l<o.length;l+=2)if(i==a)break e;t.insertBefore(a,s),r=s}return r!==void 0?r:a.nextSibling}function ote(t,e,n,o,a){var s;for(s in n)s==="children"||s==="key"||s in e||f2(t,s,null,n[s],o);for(s in e)a&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||f2(t,s,e[s],n[s],o)}function wP(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||tte.test(e)?n:n+"px"}function f2(t,e,n,o,a){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||wP(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||wP(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?o||t.addEventListener(e,s?$P:bP,s):t.removeEventListener(e,s?$P:bP,s);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function bP(t){this.l[t.type+!1](_o.event?_o.event(t):t)}function $P(t){this.l[t.type+!0](_o.event?_o.event(t):t)}function hS(t,e,n,o,a,s,r,i,l){var c,u,d,p,f,g,v,y,w,b,C,V,_,x,S,P=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,i=e.__e=n.__e,e.__h=null,s=[i]),(c=_o.__b)&&c(e);try{e:if(typeof P=="function"){if(y=e.props,w=(c=P.contextType)&&o[c.__c],b=c?w?w.props.value:c.__:o,n.__c?v=(u=e.__c=n.__c).__=u.__E:("prototype"in P&&P.prototype.render?e.__c=u=new P(y,b):(e.__c=u=new bl(y,b),u.constructor=P,u.render=ste),w&&w.sub(u),u.props=y,u.state||(u.state={}),u.context=b,u.__n=o,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),P.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Ou({},u.__s)),Ou(u.__s,P.getDerivedStateFromProps(y,u.__s))),p=u.props,f=u.state,d)P.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(P.getDerivedStateFromProps==null&&y!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,b),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,b)===!1||e.__v===n.__v){for(u.props=y,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(E){E&&(E.__=e)}),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[],u.__h.length&&r.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,b),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,f,g)})}if(u.context=b,u.props=y,u.__v=e,u.__P=t,V=_o.__r,_=0,"prototype"in P&&P.prototype.render){for(u.state=u.__s,u.__d=!1,V&&V(e),c=u.render(u.props,u.state,u.context),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[]}else do u.__d=!1,V&&V(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++_<25);u.state=u.__s,u.getChildContext!=null&&(o=Ou(Ou({},o),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(p,f)),S=c!=null&&c.type===Wm&&c.key==null?c.props.children:c,uM(t,Array.isArray(S)?S:[S],e,n,o,a,s,r,i,l),u.base=e.__e,e.__h=null,u.__h.length&&r.push(u),v&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ate(n.__e,e,n,o,a,s,r,l);(c=_o.diffed)&&c(e)}catch(E){e.__v=null,(l||s!=null)&&(e.__e=i,e.__h=!!l,s[s.indexOf(i)]=null),_o.__e(E,e,n)}}function hM(t,e){_o.__c&&_o.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(o){o.call(n)})}catch(o){_o.__e(o,n.__v)}})}function ate(t,e,n,o,a,s,r,i){var l,c,u,d=n.props,p=e.props,f=e.type,g=0;if(f==="svg"&&(a=!0),s!=null){for(;g<s.length;g++)if((l=s[g])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){t=l,s[g]=null;break}}if(t==null){if(f===null)return document.createTextNode(p);t=a?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),s=null,i=!1}if(f===null)d===p||i&&t.data===p||(t.data=p);else{if(s=s&&V0.call(t.childNodes),c=(d=n.props||p2).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!i){if(s!=null)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(ote(t,p,d,a,i),u)e.__k=[];else if(g=e.props.children,uM(t,Array.isArray(g)?g:[g],e,n,o,a&&f!=="foreignObject",s,r,s?s[0]:n.__k&&c0(n,0),i),s!=null)for(g=s.length;g--;)s[g]!=null&&lM(s[g]);i||("value"in p&&(g=p.value)!==void 0&&(g!==t.value||f==="progress"&&!g||f==="option"&&g!==d.value)&&f2(t,"value",g,d.value,!1),"checked"in p&&(g=p.checked)!==void 0&&g!==t.checked&&f2(t,"checked",g,d.checked,!1))}return t}function fM(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(o){_o.__e(o,n)}}function mM(t,e,n){var o,a;if(_o.unmount&&_o.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||fM(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){_o.__e(s,e)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(a=0;a<o.length;a++)o[a]&&mM(o[a],e,n||typeof t.type!="function");n||t.__e==null||lM(t.__e),t.__=t.__e=t.__d=void 0}function ste(t,e,n){return this.constructor(t,n)}function xP(t,e,n){var o,a,s;_o.__&&_o.__(t,e),a=(o=typeof n=="function")?null:n&&n.__k||e.__k,s=[],hS(e,t=(!o&&n||e).__k=j(Wm,null,[t]),a||p2,p2,e.ownerSVGElement!==void 0,!o&&n?[n]:a?null:e.firstChild?V0.call(e.childNodes):null,s,!o&&n?n:a?a.__e:e.firstChild,o),hM(s,t)}function gM(t,e,n){var o,a,s,r=Ou({},t.props);for(s in e)s=="key"?o=e[s]:s=="ref"?a=e[s]:r[s]=e[s];return arguments.length>2&&(r.children=arguments.length>3?V0.call(arguments,2):n),Bv(t.type,r,o||t.key,a||t.ref,null)}V0=iM.slice,_o={__e:function(t,e,n,o){for(var a,s,r;e=e.__;)if((a=e.__c)&&!a.__)try{if((s=a.constructor)&&s.getDerivedStateFromError!=null&&(a.setState(s.getDerivedStateFromError(t)),r=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,o||{}),r=a.__d),r)return a.__E=a}catch(i){t=i}throw t}},rM=0,bl.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ou({},this.state),typeof t=="function"&&(t=t(Ou({},n),this.props)),t&&Ou(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),yP(this))},bl.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),yP(this))},bl.prototype.render=Wm,Hv=[],h2.__r=0;function vM(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _P(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var rte=0;function ite(t){return"__private_"+rte+++"_"+t}function lte(t,e,n){const o=[];return t.forEach(a=>typeof a!="string"?o.push(a):e[Symbol.split](a).forEach((s,r,i)=>{s!==""&&o.push(s),r<i.length-1&&o.push(n)})),o}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function VP(t,e){const n=/\$/g,o="$$$$";let a=[t];if(e==null)return a;for(const s of Object.keys(e))if(s!=="_"){let r=e[s];typeof r=="string"&&(r=n[Symbol.replace](r,o)),a=lte(a,new RegExp(`%\\{${s}\\}`,"g"),r)}return a}var O1=ite("apply");class yM{constructor(e){Object.defineProperty(this,O1,{value:cte}),this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(e)?e.forEach(_P(this,O1)[O1],this):_P(this,O1)[O1](e)}translate(e,n){return this.translateArray(e,n).join("")}translateArray(e,n){if(!vM(this.locale.strings,e))throw new Error(`missing string: ${e}`);const o=this.locale.strings[e];if(typeof o=="object"){if(n&&typeof n.smart_count<"u"){const s=this.locale.pluralize(n.smart_count);return VP(o[s],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return VP(o,n)}}function cte(t){if(!(t!=null&&t.strings))return;const e=this.locale;this.locale={...e,strings:{...e.strings,...t.strings}},this.locale.pluralize=t.pluralize||e.pluralize}var wM=function(){var e={},n=e._fns={};e.emit=function(r,i,l,c,u,d,p){var f=o(r);f.length&&a(r,f,[i,l,c,u,d,p])},e.on=function(r,i){n[r]||(n[r]=[]),n[r].push(i)},e.once=function(r,i){function l(){i.apply(this,arguments),e.off(r,l)}this.on(r,l)},e.off=function(r,i){var l=[];if(r&&i){var c=this._fns[r],u=0,d=c?c.length:0;for(u;u<d;u++)c[u]!==i&&l.push(c[u])}l.length?this._fns[r]=l:delete this._fns[r]};function o(s){var r=n[s]?n[s]:[],i=s.indexOf(":"),l=i===-1?[s]:[s.substring(0,i),s.substring(i+1)],c=Object.keys(n),u=0,d=c.length;for(u;u<d;u++){var p=c[u];if(p==="*"&&(r=r.concat(n[p])),l.length===2&&l[0]===p){r=r.concat(n[p]);break}}return r}function a(s,r,i){var l=0,c=r.length;for(l;l<c&&r[l];l++)r[l].event=s,r[l].apply(r[l],i)}return e};let ute="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",p$=(t=21)=>{let e="",n=t;for(;n--;)e+=ute[Math.random()*64|0];return e};var bM="Expected a function",CP=0/0,dte="[object Symbol]",pte=/^\s+|\s+$/g,hte=/^[-+]0x[0-9a-f]+$/i,fte=/^0b[01]+$/i,mte=/^0o[0-7]+$/i,gte=parseInt,vte=typeof En=="object"&&En&&En.Object===Object&&En,yte=typeof self=="object"&&self&&self.Object===Object&&self,wte=vte||yte||Function("return this")(),bte=Object.prototype,$te=bte.toString,xte=Math.max,_te=Math.min,A5=function(){return wte.Date.now()};function Vte(t,e,n){var o,a,s,r,i,l,c=0,u=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(bM);e=SP(e)||0,m2(n)&&(u=!!n.leading,d="maxWait"in n,s=d?xte(SP(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function f(x){var S=o,P=a;return o=a=void 0,c=x,r=t.apply(P,S),r}function g(x){return c=x,i=setTimeout(w,e),u?f(x):r}function v(x){var S=x-l,P=x-c,E=e-S;return d?_te(E,s-P):E}function y(x){var S=x-l,P=x-c;return l===void 0||S>=e||S<0||d&&P>=s}function w(){var x=A5();if(y(x))return b(x);i=setTimeout(w,v(x))}function b(x){return i=void 0,p&&o?f(x):(o=a=void 0,r)}function C(){i!==void 0&&clearTimeout(i),c=0,o=l=a=i=void 0}function V(){return i===void 0?r:b(A5())}function _(){var x=A5(),S=y(x);if(o=arguments,a=this,l=x,S){if(i===void 0)return g(l);if(d)return i=setTimeout(w,e),f(l)}return i===void 0&&(i=setTimeout(w,e)),r}return _.cancel=C,_.flush=V,_}function Cte(t,e,n){var o=!0,a=!0;if(typeof t!="function")throw new TypeError(bM);return m2(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),Vte(t,e,{leading:o,maxWait:e,trailing:a})}function m2(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Ste(t){return!!t&&typeof t=="object"}function Pte(t){return typeof t=="symbol"||Ste(t)&&$te.call(t)==dte}function SP(t){if(typeof t=="number")return t;if(Pte(t))return CP;if(m2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=m2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(pte,"");var n=fte.test(t);return n||mte.test(t)?gte(t.slice(2),n?2:8):hte.test(t)?CP:+t}var fS=Cte;function wb(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Ete=0;function $M(t){return"__private_"+Ete+++"_"+t}const Tte={version:"3.0.2"};var lh=$M("callbacks"),I5=$M("publish");class xM{constructor(){Object.defineProperty(this,I5,{value:Rte}),Object.defineProperty(this,lh,{writable:!0,value:new Set}),this.state={}}getState(){return this.state}setState(e){const n={...this.state},o={...this.state,...e};this.state=o,wb(this,I5)[I5](n,o,e)}subscribe(e){return wb(this,lh)[lh].add(e),()=>{wb(this,lh)[lh].delete(e)}}}function Rte(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];wb(this,lh)[lh].forEach(o=>{o(...e)})}xM.VERSION=Tte.version;function _M(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const PP={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Ote(t){var e;if(t.type)return t.type;const n=t.name?(e=_M(t.name).extension)==null?void 0:e.toLowerCase():null;return n&&n in PP?PP[n]:"application/octet-stream"}function kte(t){return t.charCodeAt(0).toString(32)}function EP(t){let e="";return t.replace(/[^A-Z0-9]/ig,n=>(e+=`-${kte(n)}`,"/"))+e}function Ate(t){let e="uppy";return typeof t.name=="string"&&(e+=`-${EP(t.name.toLowerCase())}`),t.type!==void 0&&(e+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(e+=`-${EP(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(e+=`-${t.data.size}`),t.data.lastModified!==void 0&&(e+=`-${t.data.lastModified}`),e}function Ite(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1];let[o,a]=n.split(".");return o=parseInt(o,10),a=parseInt(a,10),o<15||o===15&&a<15063||o>18||o===18&&a>=18218}function Mte(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}function M5(t){return t<10?`0${t}`:t.toString()}function bb(){const t=new Date,e=M5(t.getHours()),n=M5(t.getMinutes()),o=M5(t.getSeconds());return`${e}:${n}:${o}`}const Fte={debug:()=>{},warn:()=>{},error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.error(`[Uppy] [${bb()}]`,...e)}},Dte={debug:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.debug(`[Uppy] [${bb()}]`,...e)},warn:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.warn(`[Uppy] [${bb()}]`,...e)},error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.error(`[Uppy] [${bb()}]`,...e)}};var Lv=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const n=e<0,o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(n&&(e=-e),e<1)return`${(n?"-":"")+e} B`;const a=Math.min(Math.floor(Math.log(e)/Math.log(1024)),o.length-1);e=Number(e/Math.pow(1024,a));const s=o[a];return e>=10||e%1===0?`${(n?"-":"")+e.toFixed(0)} ${s}`:`${(n?"-":"")+e.toFixed(1)} ${s}`};function VM(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}VM.prototype.match=function(t){var e=!0,n=this.parts,o,a=n.length,s;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(s=(t||"").split(this.separator),o=0;e&&o<a;o++)n[o]!=="*"&&(o<s.length?e=n[o]===s[o]:e=!1);e=e&&s}else if(typeof t.splice=="function")for(e=[],o=t.length;o--;)this.match(t[o])&&(e[e.length]=t[o]);else if(typeof t=="object"){e={};for(var r in t)this.match(r)&&(e[r]=t[r])}return e};var Nte=function(t,e,n){var o=new VM(t,n||/[\/\.]/);return typeof e<"u"?o.match(e):o},Hte=Nte,Bte=/[\/\+\.]/,Lte=function(t,e){function n(o){var a=Hte(o,t,Bte);return a&&a.length>=2}return e?n(e.split(";")[0]):n};const Ute={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class il extends Error{constructor(){super(...arguments),this.isRestriction=!0}}class jte{constructor(e,n){this.i18n=n,this.getOpts=()=>{const o=e();if(o.restrictions.allowedFileTypes!=null&&!Array.isArray(o.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return o}}validate(e,n){const{maxFileSize:o,minFileSize:a,maxTotalFileSize:s,maxNumberOfFiles:r,allowedFileTypes:i}=this.getOpts().restrictions;if(r&&n.filter(c=>!c.isGhost).length+1>r)throw new il(`${this.i18n("youCanOnlyUploadX",{smart_count:r})}`);if(i&&!i.some(c=>c.includes("/")?e.type?Lte(e.type.replace(/;.*?$/,""),c):!1:c[0]==="."&&e.extension?e.extension.toLowerCase()===c.slice(1).toLowerCase():!1)){const c=i.join(", ");throw new il(this.i18n("youCanOnlyUploadFileTypes",{types:c}))}if(s&&e.size!=null&&n.reduce((c,u)=>c+u.size,e.size)>s)throw new il(this.i18n("exceedsSize",{size:Lv(s),file:e.name}));if(o&&e.size!=null&&e.size>o)throw new il(this.i18n("exceedsSize",{size:Lv(o),file:e.name}));if(a&&e.size!=null&&e.size<a)throw new il(this.i18n("inferiorSize",{size:Lv(a)}))}validateMinNumberOfFiles(e){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(Object.keys(e).length<n)throw new il(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(e){const n=new il(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),{requiredMetaFields:o}=this.getOpts().restrictions,a=[];for(const s of o)(!Object.hasOwn(e.meta,s)||e.meta[s]==="")&&a.push(s);return{missingFields:a,error:n}}}const zte={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};let CM,SM;function at(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Gte=0;function ta(t){return"__private_"+Gte+++"_"+t}const Wte={version:"3.0.4"};var $a=ta("plugins"),ll=ta("restricter"),k1=ta("storeUnsubscribe"),Bc=ta("emitter"),ch=ta("preProcessors"),uh=ta("uploaders"),Su=ta("postProcessors"),Nr=ta("informAndEmit"),u0=ta("checkRequiredMetaFieldsOnFile"),F5=ta("checkRequiredMetaFields"),A1=ta("assertNewUploadAllowed"),I1=ta("checkAndCreateFileStateObject"),M1=ta("startIfAutoProceed"),D5=ta("addListeners"),pl=ta("updateOnlineStatus"),Lc=ta("createUpload"),N5=ta("getUpload"),ph=ta("removeUpload"),Uc=ta("runUpload");CM=Symbol.for("uppy test: getPlugins");SM=Symbol.for("uppy test: createUpload");let PM=class{constructor(e){Object.defineProperty(this,Uc,{value:one}),Object.defineProperty(this,ph,{value:nne}),Object.defineProperty(this,N5,{value:tne}),Object.defineProperty(this,Lc,{value:ene}),Object.defineProperty(this,D5,{value:qte}),Object.defineProperty(this,M1,{value:Jte}),Object.defineProperty(this,I1,{value:Zte}),Object.defineProperty(this,A1,{value:Qte}),Object.defineProperty(this,F5,{value:Xte}),Object.defineProperty(this,u0,{value:Yte}),Object.defineProperty(this,Nr,{value:Kte}),Object.defineProperty(this,$a,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,ll,{writable:!0,value:void 0}),Object.defineProperty(this,k1,{writable:!0,value:void 0}),Object.defineProperty(this,Bc,{writable:!0,value:wM()}),Object.defineProperty(this,ch,{writable:!0,value:new Set}),Object.defineProperty(this,uh,{writable:!0,value:new Set}),Object.defineProperty(this,Su,{writable:!0,value:new Set}),Object.defineProperty(this,pl,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=zte;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Ute,meta:{},onBeforeFileAdded:o=>o,onBeforeUpload:o=>o,store:new xM,logger:Fte,infoTimeout:5e3};this.opts={...n,...e,restrictions:{...n.restrictions,...e&&e.restrictions}},e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=Dte),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.calculateProgress=fS(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:Ite(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),at(this,ll)[ll]=new jte(()=>this.opts,this.i18n),at(this,k1)[k1]=this.store.subscribe((o,a,s)=>{this.emit("state-update",o,a,s),this.updateAll(a)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),at(this,D5)[D5]()}emit(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];at(this,Bc)[Bc].emit(e,...o)}on(e,n){return at(this,Bc)[Bc].on(e,n),this}once(e,n){return at(this,Bc)[Bc].once(e,n),this}off(e,n){return at(this,Bc)[Bc].off(e,n),this}updateAll(e){this.iteratePlugins(n=>{n.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}setFileState(e,n){if(!this.getState().files[e])throw new Error(`Can’t set state for ${e} (the file could have been removed)`);this.setState({files:{...this.getState().files,[e]:{...this.getState().files[e],...n}}})}i18nInit(){const e=new yM([this.defaultLocale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e&&e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(n=>{n.setOptions()}),this.setState()}resetProgress(){const e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},o={};Object.keys(n).forEach(a=>{const s={...n[a]};s.progress={...s.progress,...e},o[a]=s}),this.setState({files:o,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(e){at(this,ch)[ch].add(e)}removePreProcessor(e){return at(this,ch)[ch].delete(e)}addPostProcessor(e){at(this,Su)[Su].add(e)}removePostProcessor(e){return at(this,Su)[Su].delete(e)}addUploader(e){at(this,uh)[uh].add(e)}removeUploader(e){return at(this,uh)[uh].delete(e)}setMeta(e){const n={...this.getState().meta,...e},o={...this.getState().files};Object.keys(o).forEach(a=>{o[a]={...o[a],meta:{...o[a].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:n,files:o})}setFileMeta(e,n){const o={...this.getState().files};if(!o[e]){this.log("Was trying to set metadata for a file that has been removed: ",e);return}const a={...o[e].meta,...n};o[e]={...o[e],meta:a},this.setState({files:o})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getObjectOfFilesPerState(){const{files:e,totalProgress:n,error:o}=this.getState(),a=Object.values(e),s=a.filter(g=>{let{progress:v}=g;return!v.uploadComplete&&v.uploadStarted}),r=a.filter(g=>!g.progress.uploadStarted),i=a.filter(g=>g.progress.uploadStarted||g.progress.preprocess||g.progress.postprocess),l=a.filter(g=>g.progress.uploadStarted),c=a.filter(g=>g.isPaused),u=a.filter(g=>g.progress.uploadComplete),d=a.filter(g=>g.error),p=s.filter(g=>!g.isPaused),f=a.filter(g=>g.progress.preprocess||g.progress.postprocess);return{newFiles:r,startedFiles:i,uploadStartedFiles:l,pausedFiles:c,completeFiles:u,erroredFiles:d,inProgressFiles:s,inProgressNotPausedFiles:p,processingFiles:f,isUploadStarted:l.length>0,isAllComplete:n===100&&u.length===a.length&&f.length===0,isAllErrored:!!o&&d.length===a.length,isAllPaused:s.length!==0&&c.length===s.length,isUploadInProgress:s.length>0,isSomeGhost:a.some(g=>g.isGhost)}}validateRestrictions(e,n){n===void 0&&(n=this.getFiles());try{at(this,ll)[ll].validate(e,n)}catch(o){return o}return null}checkIfFileAlreadyExists(e){const{files:n}=this.getState();return!!(n[e]&&!n[e].isGhost)}addFile(e){at(this,A1)[A1](e);const{files:n}=this.getState();let o=at(this,I1)[I1](n,e);return n[o.id]&&n[o.id].isGhost&&(o={...n[o.id],data:e.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${o.name}, ${o.id}`)),this.setState({files:{...n,[o.id]:o}}),this.emit("file-added",o),this.emit("files-added",[o]),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),at(this,M1)[M1](),o.id}addFiles(e){at(this,A1)[A1]();const n={...this.getState().files},o=[],a=[];for(let s=0;s<e.length;s++)try{let r=at(this,I1)[I1](n,e[s]);n[r.id]&&n[r.id].isGhost&&(r={...n[r.id],data:e[s].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${r.name}, ${r.id}`)),n[r.id]=r,o.push(r)}catch(r){r.isRestriction||a.push(r)}if(this.setState({files:n}),o.forEach(s=>{this.emit("file-added",s)}),this.emit("files-added",o),o.length>5?this.log(`Added batch of ${o.length} files`):Object.keys(o).forEach(s=>{this.log(`Added file: ${o[s].name}
 id: ${o[s].id}
 type: ${o[s].type}`)}),o.length>0&&at(this,M1)[M1](),a.length>0){let s=`Multiple errors occurred while adding files:
`;if(a.forEach(r=>{s+=`
 * ${r.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:a.length}),details:s},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(a,s);{const r=new Error(s);throw r.errors=a,r}}}removeFiles(e,n){const{files:o,currentUploads:a}=this.getState(),s={...o},r={...a},i=Object.create(null);e.forEach(d=>{o[d]&&(i[d]=o[d],delete s[d])});function l(d){return i[d]===void 0}Object.keys(r).forEach(d=>{const p=a[d].fileIDs.filter(l);if(p.length===0){delete r[d];return}const{capabilities:f}=this.getState();if(p.length!==a[d].fileIDs.length&&!f.individualCancellation)throw new Error("individualCancellation is disabled");r[d]={...a[d],fileIDs:p}});const c={currentUploads:r,files:s};Object.keys(s).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),this.calculateTotalProgress();const u=Object.keys(i);u.forEach(d=>{this.emit("file-removed",i[d],n)}),u.length>5?this.log(`Removed ${u.length} files`):this.log(`Removed files: ${u.join(", ")}`)}removeFile(e,n){n===void 0&&(n=null),this.removeFiles([e],n)}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).uploadComplete)return;const o=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:o}),this.emit("upload-pause",e,o),o}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(o=>!e[o].progress.uploadComplete&&e[o].progress.uploadStarted).forEach(o=>{const a={...e[o],isPaused:!0};e[o]=a}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(o=>!e[o].progress.uploadComplete&&e[o].progress.uploadStarted).forEach(o=>{const a={...e[o],isPaused:!1,error:null};e[o]=a}),this.setState({files:e}),this.emit("resume-all")}retryAll(){const e={...this.getState().files},n=Object.keys(e).filter(a=>e[a].error);if(n.forEach(a=>{const s={...e[a],isPaused:!1,error:null};e[a]=s}),this.setState({files:e,error:null}),this.emit("retry-all",n),n.length===0)return Promise.resolve({successful:[],failed:[]});const o=at(this,Lc)[Lc](n,{forceAllowNewUpload:!0});return at(this,Uc)[Uc](o)}cancelAll(e){let{reason:n="user"}=e===void 0?{}:e;if(this.emit("cancel-all",{reason:n}),n==="user"){const{files:o}=this.getState(),a=Object.keys(o);a.length&&this.removeFiles(a,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);const n=at(this,Lc)[Lc]([e],{forceAllowNewUpload:!0});return at(this,Uc)[Uc](n)}logout(){this.iteratePlugins(e=>{e.provider&&e.provider.logout&&e.provider.logout()})}calculateProgress(e,n){if(e==null||!this.getFile(e.id)){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}const o=Number.isFinite(n.bytesTotal)&&n.bytesTotal>0;this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,bytesUploaded:n.bytesUploaded,bytesTotal:n.bytesTotal,percentage:o?Math.round(n.bytesUploaded/n.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){const n=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(n.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const o=n.filter(c=>c.progress.bytesTotal!=null),a=n.filter(c=>c.progress.bytesTotal==null);if(o.length===0){const c=n.length*100,u=a.reduce((p,f)=>p+f.progress.percentage,0),d=Math.round(u/c*100);this.setState({totalProgress:d});return}let s=o.reduce((c,u)=>c+u.progress.bytesTotal,0);const r=s/o.length;s+=r*a.length;let i=0;o.forEach(c=>{i+=c.progress.bytesUploaded}),a.forEach(c=>{i+=r*(c.progress.percentage||0)/100});let l=s===0?0:Math.round(i/s*100);l>100&&(l=100),this.setState({totalProgress:l}),this.emit("progress",l)}updateOnlineStatus(){(typeof window.navigator.onLine<"u"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,n){if(typeof e!="function"){const r=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(r)}const o=new e(this,n),a=o.id;if(!a)throw new Error("Your plugin must have an id");if(!o.type)throw new Error("Your plugin must have a type");const s=this.getPlugin(a);if(s){const r=`Already found a plugin named '${s.id}'. Tried to use: '${a}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(r)}return e.VERSION&&this.log(`Using ${a} v${e.VERSION}`),o.type in at(this,$a)[$a]?at(this,$a)[$a][o.type].push(o):at(this,$a)[$a][o.type]=[o],o.install(),this}getPlugin(e){for(const n of Object.values(at(this,$a)[$a])){const o=n.find(a=>a.id===e);if(o!=null)return o}}[CM](e){return at(this,$a)[$a][e]}iteratePlugins(e){Object.values(at(this,$a)[$a]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const n=at(this,$a)[$a][e.type],o=n.findIndex(r=>r.id===e.id);o!==-1&&n.splice(o,1);const s={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(s)}close(e){let{reason:n}=e===void 0?{}:e;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:n}),at(this,k1)[k1](),this.iteratePlugins(o=>{this.removePlugin(o)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",at(this,pl)[pl]),window.removeEventListener("offline",at(this,pl)[pl]))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,n,o){n===void 0&&(n="info"),o===void 0&&(o=3e3);const a=typeof e=="object";this.setState({info:[...this.getState().info,{type:n,message:a?e.message:e,details:a?e.details:null}]}),setTimeout(()=>this.hideInfo(),o),this.emit("info-visible")}log(e,n){const{logger:o}=this.opts;switch(n){case"error":o.error(e);break;case"warning":o.warn(e);break;default:o.debug(e);break}}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?at(this,Uc)[Uc](e):(at(this,ph)[ph](e),Promise.reject(new Error("Nonexistent upload")))}[SM](){return at(this,Lc)[Lc](...arguments)}addResultData(e,n){if(!at(this,N5)[N5](e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:o}=this.getState(),a={...o[e],result:{...o[e].result,...n}};this.setState({currentUploads:{...o,[e]:a}})}upload(){var e;(e=at(this,$a)[$a].uploader)!=null&&e.length||this.log("No uploader type plugins are used","warning");let{files:n}=this.getState();const o=this.opts.onBeforeUpload(n);return o===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(o&&typeof o=="object"&&(n=o,this.setState({files:n})),Promise.resolve().then(()=>at(this,ll)[ll].validateMinNumberOfFiles(n)).catch(a=>{throw at(this,Nr)[Nr](a),a}).then(()=>{if(!at(this,F5)[F5](n))throw new il(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(()=>{const{currentUploads:a}=this.getState(),s=Object.values(a).flatMap(l=>l.fileIDs),r=[];Object.keys(n).forEach(l=>{const c=this.getFile(l);!c.progress.uploadStarted&&s.indexOf(l)===-1&&r.push(c.id)});const i=at(this,Lc)[Lc](r);return at(this,Uc)[Uc](i)}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};function Kte(t,e){const{message:n,details:o=""}=t;t.isRestriction?this.emit("restriction-failed",e,t):this.emit("error",t),this.info({message:n,details:o},"error",this.opts.infoTimeout),this.log(`${n} ${o}`.trim(),"error")}function Yte(t){const{missingFields:e,error:n}=at(this,ll)[ll].getMissingRequiredMetaFields(t);return e.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:e}),this.log(n.message),this.emit("restriction-failed",t,n),!1):!0}function Xte(t){let e=!0;for(const n of Object.values(t))at(this,u0)[u0](n)||(e=!1);return e}function Qte(t){const{allowNewUpload:e}=this.getState();if(e===!1){const n=new il(this.i18n("noMoreFilesAllowed"));throw at(this,Nr)[Nr](n,t),n}}function Zte(t,e){e instanceof File&&(e={name:e.name,type:e.type,size:e.size,data:e});const n=Ote(e),o=Mte(n,e),a=_M(o).extension,s=Boolean(e.isRemote),r=Ate({...e,type:n});if(this.checkIfFileAlreadyExists(r)){const d=new il(this.i18n("noDuplicates",{fileName:o}));throw at(this,Nr)[Nr](d,e),d}const i=e.meta||{};i.name=o,i.type=n;const l=Number.isFinite(e.data.size)?e.data.size:null;let c={source:e.source||"",id:r,name:o,extension:a||"",meta:{...this.getState().meta,...i},type:n,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:s,remote:e.remote||"",preview:e.preview};const u=this.opts.onBeforeFileAdded(c,t);if(u===!1){const d=new il("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",e,d),d}else typeof u=="object"&&u!==null&&(c=u);try{const d=Object.keys(t).map(p=>t[p]);at(this,ll)[ll].validate(c,d)}catch(d){throw at(this,Nr)[Nr](d,c),d}return c}function Jte(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))}function qte(){const t=(e,n,o)=>{let a=e.message||"Unknown error";e.details&&(a+=` ${e.details}`),this.setState({error:a}),n!=null&&n.id in this.getState().files&&this.setFileState(n.id,{error:a,response:o})};this.on("error",t),this.on("upload-error",(e,n,o)=>{if(t(n,e,o),typeof n=="object"&&n.message){const a=new Error(n.message);a.details=n.message,n.details&&(a.details+=` ${n.details}`),a.message=this.i18n("failedToUpload",{file:e==null?void 0:e.name}),at(this,Nr)[Nr](a)}else at(this,Nr)[Nr](n)}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",e=>{if(e==null||!this.getFile(e.id)){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}this.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(e,n)=>{if(e==null||!this.getFile(e.id)){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}const o=this.getFile(e.id).progress;this.setFileState(e.id,{progress:{...o,postprocess:at(this,Su)[Su].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:n,uploadURL:n.uploadURL,isPaused:!1}),e.size==null&&this.setFileState(e.id,{size:n.bytesUploaded||o.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(e,n)=>{if(e==null||!this.getFile(e.id)){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,preprocess:n}})}),this.on("preprocess-complete",e=>{if(e==null||!this.getFile(e.id)){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}const n={...this.getState().files};n[e.id]={...n[e.id],progress:{...n[e.id].progress}},delete n[e.id].progress.preprocess,this.setState({files:n})}),this.on("postprocess-progress",(e,n)=>{if(e==null||!this.getFile(e.id)){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}this.setFileState(e.id,{progress:{...this.getState().files[e.id].progress,postprocess:n}})}),this.on("postprocess-complete",e=>{if(e==null||!this.getFile(e.id)){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}const n={...this.getState().files};n[e.id]={...n[e.id],progress:{...n[e.id].progress}},delete n[e.id].progress.postprocess,this.setState({files:n})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",e=>{e&&at(this,u0)[u0](e)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",at(this,pl)[pl]),window.addEventListener("offline",at(this,pl)[pl]),setTimeout(at(this,pl)[pl],3e3))}function ene(t,e){e===void 0&&(e={});const{forceAllowNewUpload:n=!1}=e,{allowNewUpload:o,currentUploads:a}=this.getState();if(!o&&!n)throw new Error("Cannot create a new upload: already uploading.");const s=p$();return this.emit("upload",{id:s,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[s]:{fileIDs:t,step:0,result:{}}}}),s}function tne(t){const{currentUploads:e}=this.getState();return e[t]}function nne(t){const e={...this.getState().currentUploads};delete e[t],this.setState({currentUploads:e})}async function one(t){let{currentUploads:e}=this.getState(),n=e[t];const o=n.step||0,a=[...at(this,ch)[ch],...at(this,uh)[uh],...at(this,Su)[Su]];try{for(let r=o;r<a.length&&n;r++){const i=a[r],l={...n,step:r};this.setState({currentUploads:{...e,[t]:l}}),await i(l.fileIDs,t),e=this.getState().currentUploads,n=e[t]}}catch(r){throw at(this,ph)[ph](t),r}if(n){n.fileIDs.forEach(c=>{const u=this.getFile(c);u&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const r=n.fileIDs.map(c=>this.getFile(c)),i=r.filter(c=>!c.error),l=r.filter(c=>c.error);await this.addResultData(t,{successful:i,failed:l,uploadID:t}),e=this.getState().currentUploads,n=e[t]}let s;return n&&(s=n.result,this.emit("complete",s),at(this,ph)[ph](t)),s==null&&this.log(`Not setting result for an upload that has been removed: ${t}`),s}PM.VERSION=Wte.version;function ane(t){return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE}function sne(t,e){return e===void 0&&(e=document),typeof t=="string"?e.querySelector(t):ane(t)?t:null}function EM(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}class TM{constructor(e,n){n===void 0&&(n={}),this.uppy=e,this.opts=n}getPluginState(){const{plugins:e}=this.uppy.getState();return e[this.id]||{}}setPluginState(e){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(),this.i18nInit()}i18nInit(){const e=new yM([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}}function TP(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var rne=0;function ine(t){return"__private_"+rne+++"_"+t}function lne(t){let e=null,n=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=a,e||(e=Promise.resolve().then(()=>(e=null,t(...n)))),e}}var F1=ine("updateUI");class Yd extends TM{constructor(){super(...arguments),Object.defineProperty(this,F1,{writable:!0,value:void 0})}getTargetPlugin(e){let n;if(typeof e=="object"&&e instanceof Yd)n=e;else if(typeof e=="function"){const o=e;this.uppy.iteratePlugins(a=>{a instanceof o&&(n=a)})}return n}mount(e,n){const o=n.id,a=sne(e);if(a){this.isTargetDOMEl=!0;const i=document.createElement("div");return i.classList.add("uppy-Root"),TP(this,F1)[F1]=lne(l=>{this.uppy.getPlugin(this.id)&&(xP(this.render(l),i),this.afterUpdate())}),this.uppy.log(`Installing ${o} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),xP(this.render(this.uppy.getState()),i),this.el=i,a.appendChild(i),i.dir=this.opts.direction||EM(i)||"ltr",this.onMount(),this.el}const s=this.getTargetPlugin(e);if(s)return this.uppy.log(`Installing ${o} to ${s.id}`),this.parent=s,this.el=s.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${o}`);let r=`Invalid target option given to ${o}.`;throw typeof e=="function"?r+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":r+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(r)}update(e){if(this.el!=null){var n,o;(n=(o=TP(this,F1))[F1])==null||n.call(o,e)}}unmount(){if(this.isTargetDOMEl){var e;(e=this.el)==null||e.remove()}this.onUnmount()}onMount(){}onUnmount(){}}function cne(t){if(!t.bytesUploaded)return 0;const e=Date.now()-t.uploadStarted;return t.bytesUploaded/(e/1e3)}function une(t){return t.bytesTotal-t.bytesUploaded}const xi={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var Gr={},dne={get exports(){return Gr},set exports(t){Gr=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o=[],a=0;a<arguments.length;a++){var s=arguments[a];if(s){var r=typeof s;if(r==="string"||r==="number")o.push(s);else if(Array.isArray(s)){if(s.length){var i=n.apply(null,s);i&&o.push(i)}}else if(r==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){o.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&o.push(l)}}}return o.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(dne);function H5(t){const e=[];let n,o;for(const{progress:s}of Object.values(t)){const{preprocess:r,postprocess:i}=s;o==null&&(r||i)&&({mode:n,message:o}=r||i),(r==null?void 0:r.mode)==="determinate"&&e.push(r.value),(i==null?void 0:i.mode)==="determinate"&&e.push(i.value)}const a=e.reduce((s,r)=>s+r/e.length,0);return{mode:n,message:o,value:a}}function pne(t){const e=Math.floor(t/3600)%24,n=Math.floor(t/60)%60,o=Math.floor(t%60);return{hours:e,minutes:n,seconds:o}}function hne(t){const e=pne(t),n=e.hours===0?"":`${e.hours}h`,o=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,a=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${o}${a}`}const fne="·",RP=()=>` ${fne} `;function mne(t){const{newFiles:e,isUploadStarted:n,recoveredState:o,i18n:a,uploadState:s,isSomeGhost:r,startUpload:i}=t,l=Gr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":s===xi.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":r}),c=e&&n&&!o?a("uploadXNewFiles",{smart_count:e}):a("uploadXFiles",{smart_count:e});return j("button",{type:"button",className:l,"aria-label":a("uploadXFiles",{smart_count:e}),onClick:i,disabled:r,"data-uppy-super-focusable":!0},c)}function gne(t){const{i18n:e,uppy:n}=t;return j("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>n.retryAll(),"data-uppy-super-focusable":!0},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},j("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}function vne(t){const{i18n:e,uppy:n}=t;return j("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},j("g",{fill:"none",fillRule:"evenodd"},j("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),j("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function yne(t){const{isAllPaused:e,i18n:n,isAllComplete:o,resumableUploads:a,uppy:s}=t,r=n(e?"resume":"pause");function i(){return o?null:a?e?s.resumeAll():s.pauseAll():s.cancelAll()}return j("button",{title:r,"aria-label":r,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:i,"data-uppy-super-focusable":!0},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},j("g",{fill:"none",fillRule:"evenodd"},j("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),j("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function wne(t){const{i18n:e,doneButtonHandler:n}=t;return j("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},e("done"))}function RM(){return j("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},j("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function bne(t){const{progress:e}=t,{value:n,mode:o,message:a}=e,s=Math.round(n*100),r="·";return j("div",{className:"uppy-StatusBar-content"},j(RM,null),o==="determinate"?`${s}% ${r} `:"",a)}function $ne(t){const{numUploads:e,complete:n,totalUploadedSize:o,totalSize:a,totalETA:s,i18n:r}=t,i=e>1;return j("div",{className:"uppy-StatusBar-statusSecondary"},i&&r("filesUploadedOfTotal",{complete:n,smart_count:e}),j("span",{className:"uppy-StatusBar-additionalInfo"},i&&RP(),r("dataUploadedOfTotal",{complete:Lv(o),total:Lv(a)}),RP(),r("xTimeLeft",{time:hne(s)})))}function OM(t){const{i18n:e,complete:n,numUploads:o}=t;return j("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:n,smart_count:o}))}function xne(t){const{i18n:e,newFiles:n,startUpload:o}=t,a=Gr("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return j("div",{className:"uppy-StatusBar-statusSecondary"},j("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:n})),j("button",{type:"button",className:a,"aria-label":e("uploadXFiles",{smart_count:n}),onClick:o},e("upload")))}const _ne=fS($ne,500,{leading:!0,trailing:!0});function Vne(t){const{i18n:e,supportsUploadProgress:n,totalProgress:o,showProgressDetails:a,isUploadStarted:s,isAllComplete:r,isAllPaused:i,newFiles:l,numUploads:c,complete:u,totalUploadedSize:d,totalSize:p,totalETA:f,startUpload:g}=t,v=l&&s;if(!s||r)return null;const y=e(i?"paused":"uploading");function w(){return!i&&!v&&a?n?j(_ne,{numUploads:c,complete:u,totalUploadedSize:d,totalSize:p,totalETA:f,i18n:e}):j(OM,{i18n:e,complete:u,numUploads:c}):null}return j("div",{className:"uppy-StatusBar-content","aria-label":y,title:y},i?null:j(RM,null),j("div",{className:"uppy-StatusBar-status"},j("div",{className:"uppy-StatusBar-statusPrimary"},n?`${y}: ${o}%`:y),w(),v?j(xne,{i18n:e,newFiles:l,startUpload:g}):null))}function Cne(t){const{i18n:e}=t;return j("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},j("div",{className:"uppy-StatusBar-status"},j("div",{className:"uppy-StatusBar-statusPrimary"},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},j("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}function Sne(t){const{error:e,i18n:n,complete:o,numUploads:a}=t;function s(){const r=`${n("uploadFailed")} 

 ${e}`;alert(r)}return j("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},j("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),j("div",{className:"uppy-StatusBar-status"},j("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),j("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:s,type:"button"},"?")),j(OM,{i18n:n,complete:o,numUploads:a})))}const{STATE_ERROR:OP,STATE_WAITING:kP,STATE_PREPROCESSING:B5,STATE_UPLOADING:sy,STATE_POSTPROCESSING:L5,STATE_COMPLETE:ry}=xi;function Pne(t){const{newFiles:e,allowNewUpload:n,isUploadInProgress:o,isAllPaused:a,resumableUploads:s,error:r,hideUploadButton:i,hidePauseResumeButton:l,hideCancelButton:c,hideRetryButton:u,recoveredState:d,uploadState:p,totalProgress:f,files:g,supportsUploadProgress:v,hideAfterFinish:y,isSomeGhost:w,doneButtonHandler:b,isUploadStarted:C,i18n:V,startUpload:_,uppy:x,isAllComplete:S,showProgressDetails:P,numUploads:E,complete:O,totalSize:I,totalETA:F,totalUploadedSize:L}=t;function H(){switch(p){case L5:case B5:{const Ke=H5(g);return Ke.mode==="determinate"?Ke.value*100:f}case OP:return null;case sy:return v?f:null;default:return f}}function W(){switch(p){case L5:case B5:{const{mode:Ke}=H5(g);return Ke==="indeterminate"}case sy:return!v;default:return!1}}function Y(){if(d)return!1;switch(p){case kP:return i||e===0;case ry:return y;default:return!1}}const U=H(),q=Y(),ye=U??100,we=!r&&e&&!o&&!a&&n&&!i,oe=!c&&p!==kP&&p!==ry,pe=s&&!l&&p===sy,he=r&&!S&&!u,Ne=b&&p===ry,Se=Gr("uppy-StatusBar-progress",{"is-indeterminate":W()}),qe=Gr("uppy-StatusBar",`is-${p}`,{"has-ghosts":w});return j("div",{className:qe,"aria-hidden":q},j("div",{className:Se,style:{width:`${ye}%`},role:"progressbar","aria-label":`${ye}%`,"aria-valuetext":`${ye}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":U}),(()=>{switch(p){case B5:case L5:return j(bne,{progress:H5(g)});case ry:return j(Cne,{i18n:V});case OP:return j(Sne,{error:r,i18n:V,numUploads:E,complete:O});case sy:return j(Vne,{i18n:V,supportsUploadProgress:v,totalProgress:f,showProgressDetails:P,isUploadStarted:C,isAllComplete:S,isAllPaused:a,newFiles:e,numUploads:E,complete:O,totalUploadedSize:L,totalSize:I,totalETA:F,startUpload:_});default:return null}})(),j("div",{className:"uppy-StatusBar-actions"},d||we?j(mne,{newFiles:e,isUploadStarted:C,recoveredState:d,i18n:V,isSomeGhost:w,startUpload:_,uploadState:p}):null,he?j(gne,{i18n:V,uppy:x}):null,pe?j(yne,{isAllPaused:a,i18n:V,isAllComplete:S,resumableUploads:s,uppy:x}):null,oe?j(vne,{i18n:V,uppy:x}):null,Ne?j(wne,{i18n:V,doneButtonHandler:b}):null))}const Ene={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},Tne={version:"3.0.1"};function Rne(t){let e=0;return t.forEach(n=>{e+=cne(n.progress)}),e}function One(t){const e=Rne(t);if(e===0)return 0;const n=t.reduce((o,a)=>o+une(a.progress),0);return Math.round(n/e*10)/10}function kne(t,e,n,o){if(t&&!e)return xi.STATE_ERROR;if(e)return xi.STATE_COMPLETE;if(n)return xi.STATE_WAITING;let a=xi.STATE_WAITING;const s=Object.keys(o);for(let r=0;r<s.length;r++){const{progress:i}=o[s[r]];if(i.uploadStarted&&!i.uploadComplete)return xi.STATE_UPLOADING;i.preprocess&&a!==xi.STATE_UPLOADING&&(a=xi.STATE_PREPROCESSING),i.postprocess&&a!==xi.STATE_UPLOADING&&a!==xi.STATE_PREPROCESSING&&(a=xi.STATE_POSTPROCESSING)}return a}class kM extends Yd{constructor(e,n){super(e,n),this.startUpload=()=>{const{recoveredState:a}=this.uppy.getState();if(a){this.uppy.emit("restore-confirmed");return}return this.uppy.upload().catch(()=>{})},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Ene;const o={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};this.opts={...o,...n},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){const{capabilities:n,files:o,allowNewUpload:a,totalProgress:s,error:r,recoveredState:i}=e,{newFiles:l,startedFiles:c,completeFiles:u,inProgressNotPausedFiles:d,isUploadStarted:p,isAllComplete:f,isAllErrored:g,isAllPaused:v,isUploadInProgress:y,isSomeGhost:w}=this.uppy.getObjectOfFilesPerState(),b=i?Object.values(o):l,C=One(d),V=!!n.resumableUploads,_=n.uploadProgress!==!1;let x=0,S=0;return c.forEach(P=>{x+=P.progress.bytesTotal||0,S+=P.progress.bytesUploaded||0}),Pne({error:r,uploadState:kne(r,f,i,e.files||{}),allowNewUpload:a,totalProgress:s,totalSize:x,totalUploadedSize:S,isAllComplete:!1,isAllPaused:v,isAllErrored:g,isUploadStarted:p,isUploadInProgress:y,isSomeGhost:w,recoveredState:i,complete:u.length,newFiles:b.length,numUploads:c.length,totalETA:C,files:o,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:V,supportsUploadProgress:_,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const e=this.el;EM(e)||(e.dir="ltr")}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}kM.VERSION=Tne.version;const AP=300;class Ane extends bl{constructor(){super(...arguments),this.ref=nte()}componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,AP)}componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,AP)}render(){const{children:e}=this.props;return j("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}function Ine(t,e){return Object.assign(t,e)}function Mne(t,e){var n;return(n=t==null?void 0:t.key)!=null?n:e}function Fne(t,e){const n=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return n[e]||(n[e]=o=>{t.refs[e]=o})}function D1(t){const e={};for(let n=0;n<t.length;n++)if(t[n]!=null){const o=Mne(t[n],n.toString(36));e[o]=t[n]}return e}function Dne(t,e){t=t||{},e=e||{};const n=r=>e.hasOwnProperty(r)?e[r]:t[r],o={};let a=[];for(const r in t)e.hasOwnProperty(r)?a.length&&(o[r]=a,a=[]):a.push(r);const s={};for(const r in e){if(o.hasOwnProperty(r))for(let i=0;i<o[r].length;i++){const l=o[r][i];s[o[r][i]]=n(l)}s[r]=n(r)}for(let r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}const Nne=t=>t;class AM extends bl{constructor(e,n){super(e,n),this.refs={},this.state={children:D1($d($d(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const n in e)e[n]&&this.performAppear(n)}componentWillReceiveProps(e){const n=D1($d(e.children)||[]),o=this.state.children;this.setState(s=>({children:Dne(s.children,n)}));let a;for(a in n)if(n.hasOwnProperty(a)){const s=o&&o.hasOwnProperty(a);n[a]&&s&&this.currentlyTransitioningKeys[a]?(this.keysToEnter.push(a),this.keysToAbortLeave.push(a)):n[a]&&!s&&!this.currentlyTransitioningKeys[a]&&this.keysToEnter.push(a)}for(a in o)if(o.hasOwnProperty(a)){const s=n&&n.hasOwnProperty(a);o[a]&&!s&&!this.currentlyTransitioningKeys[a]&&this.keysToLeave.push(a)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(e){const n=this.keysToAbortLeave.indexOf(e);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const n=this.refs[e];n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const o=D1($d(this.props.children)||[]);(!o||!o.hasOwnProperty(e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const n=this.refs[e];n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const o=D1($d(this.props.children)||[]);(!o||!o.hasOwnProperty(e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const o=this.refs[e];o.componentWillLeave?o.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const o=this.refs[e];o.componentDidLeave&&o.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const a=D1($d(this.props.children)||[]);if(a&&a.hasOwnProperty(e))this.performEnter(e);else{const s=Ine({},this.state.children);delete s[e],this.setState({children:s})}}render(e,n){let{childFactory:o,transitionLeave:a,transitionName:s,transitionAppear:r,transitionEnter:i,transitionLeaveTimeout:l,transitionEnterTimeout:c,transitionAppearTimeout:u,component:d,...p}=e,{children:f}=n;const g=Object.entries(f).map(v=>{let[y,w]=v;if(!w)return;const b=Fne(this,y);return gM(o(w),{ref:b,key:y})}).filter(Boolean);return j(d,p,g)}}AM.defaultProps={component:"span",childFactory:Nne};const Hne={version:"3.0.1"};class IM extends Yd{constructor(e,n){super(e,n),this.render=a=>j("div",{className:"uppy uppy-Informer"},j(AM,null,a.info.map(s=>j(Ane,{key:s.message},j("p",{role:"alert"},s.message," ",s.details&&j("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${s.message} 

 ${s.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";const o={};this.opts={...o,...n}}install(){const{target:e}=this.opts;e&&this.mount(e,this)}}IM.VERSION=Hne.version;const Bne=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Lne(t,e,n){var o,a;const s=Bne.exec(t),r=(o=(a=e.mimeType)!=null?a:s==null?void 0:s[1])!=null?o:"plain/text";let i;if(s[2]!=null){const l=atob(decodeURIComponent(s[3])),c=new Uint8Array(l.length);for(let u=0;u<l.length;u++)c[u]=l.charCodeAt(u);i=[c]}else i=[decodeURIComponent(s[3])];return n?new File(i,e.name||"",{type:r}):new Blob(i,{type:r})}function IP(t){return t.startsWith("blob:")}function MP(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function _n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MM=typeof self<"u"?self:global;const d0=typeof navigator<"u",Une=d0&&typeof HTMLImageElement>"u",FP=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),FM=MM.Buffer,DM=!!FM,jne=t=>t!==void 0;function NM(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(jne).length===0)}function ha(t){let e=new Error(t);throw delete e.stack,e}function DP(t){let e=function(n){let o=0;return n.ifd0.enabled&&(o+=1024),n.exif.enabled&&(o+=2048),n.makerNote&&(o+=2048),n.userComment&&(o+=1024),n.gps.enabled&&(o+=512),n.interop.enabled&&(o+=100),n.ifd1.enabled&&(o+=1024),o+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const U5=t=>String.fromCharCode.apply(null,t),NP=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;let yc=class{static from(e,n){return e instanceof this&&e.le===n?e:new yc(e,void 0,void 0,n)}constructor(e,n=0,o,a){if(typeof a=="boolean"&&(this.le=a),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){o===void 0&&(o=e.byteLength-n);let s=new DataView(e,n,o);this._swapDataView(s)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof yc){o===void 0&&(o=e.byteLength-n),(n+=e.byteOffset)+o>e.byteOffset+e.byteLength&&ha("Creating view outside of available memory in ArrayBuffer");let s=new DataView(e.buffer,n,o);this._swapDataView(s)}else if(typeof e=="number"){let s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else ha("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,o=yc){return e instanceof DataView||e instanceof yc?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||ha("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new o(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new yc(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return a=this.getUint8Array(e,n),NP?NP.decode(a):DM?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(U5(a)));var a}getLatin1String(e=0,n=this.byteLength){let o=this.getUint8Array(e,n);return U5(o)}getUnicodeString(e=0,n=this.byteLength){const o=[];for(let a=0;a<n&&e+a<this.byteLength;a+=2)o.push(this.getUint16(e+a));return U5(o)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,o){switch(n){case 1:return this.getUint8(e,o);case 2:return this.getUint16(e,o);case 4:return this.getUint32(e,o);case 8:return this.getUint64&&this.getUint64(e,o)}}getUint(e,n,o){switch(n){case 8:return this.getUint8(e,o);case 16:return this.getUint16(e,o);case 32:return this.getUint32(e,o);case 64:return this.getUint64&&this.getUint64(e,o)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}};function NC(t,e){ha(`${t} '${e}' was not loaded, try using full build of exifr.`)}let mS=class extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||NC(this.kind,e),n&&(e in n||function(o,a){ha(`Unknown ${o} '${a}'.`)}(this.kind,e),n[e].enabled||NC(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};var HM=new mS("file parser"),cl=new mS("segment parser"),gS=new mS("file reader");let zne=MM.fetch;function HP(t,e){return(n=t).startsWith("data:")||n.length>1e4?BC(t,e,"base64"):FP&&t.includes("://")?HC(t,e,"url",BP):FP?BC(t,e,"fs"):d0?HC(t,e,"url",BP):void ha("Invalid input argument");var n}async function HC(t,e,n,o){return gS.has(n)?BC(t,e,n):o?async function(a,s){let r=await s(a);return new yc(r)}(t,o):void ha(`Parser ${n} is not loaded`)}async function BC(t,e,n){let o=new(gS.get(n))(t,e);return await o.read(),o}const BP=t=>zne(t).then(e=>e.arrayBuffer()),LC=t=>new Promise((e,n)=>{let o=new FileReader;o.onloadend=()=>e(o.result||new ArrayBuffer),o.onerror=n,o.readAsArrayBuffer(t)}),vS=new Map,Gne=new Map,Wne=new Map,iy=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],BM=["jfif","xmp","icc","iptc","ihdr"],UC=["tiff",...BM],ua=["ifd0","ifd1","exif","gps","interop"],ly=[...UC,...ua],cy=["makerNote","userComment"],LM=["translateKeys","translateValues","reviveValues","multiSegment"],uy=[...LM,"sanitize","mergeOutput","silentErrors"];class UM{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class N1 extends UM{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,o,a){if(super(),_n(this,"enabled",!1),_n(this,"skip",new Set),_n(this,"pick",new Set),_n(this,"deps",new Set),_n(this,"translateKeys",!1),_n(this,"translateValues",!1),_n(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=ua.includes(e),this.canBeFiltered&&(this.dict=vS.get(e)),o!==void 0)if(Array.isArray(o))this.parse=this.enabled=!0,this.canBeFiltered&&o.length>0&&this.translateTagSet(o,this.pick);else if(typeof o=="object"){if(this.enabled=!0,this.parse=o.parse!==!1,this.canBeFiltered){let{pick:s,skip:r}=o;s&&s.length>0&&this.translateTagSet(s,this.pick),r&&r.length>0&&this.translateTagSet(r,this.skip)}this.applyInheritables(o)}else o===!0||o===!1?this.parse=this.enabled=o:ha(`Invalid options argument: ${o}`)}applyInheritables(e){let n,o;for(n of LM)o=e[n],o!==void 0&&(this[n]=o)}translateTagSet(e,n){if(this.dict){let o,a,{tagKeys:s,tagValues:r}=this.dict;for(o of e)typeof o=="string"?(a=r.indexOf(o),a===-1&&(a=s.indexOf(Number(o))),a!==-1&&n.add(Number(s[a]))):n.add(o)}else for(let o of e)n.add(o)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,g2(this.pick,this.deps)):this.enabled&&this.pick.size>0&&g2(this.pick,this.deps)}}var bs={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},LP=new Map;class yS extends UM{static useCached(e){let n=LP.get(e);return n!==void 0||(n=new this(e),LP.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):ha(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=d0?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of iy)this[e]=bs[e];for(e of uy)this[e]=bs[e];for(e of cy)this[e]=bs[e];for(e of ly)this[e]=new N1(e,bs[e],void 0,this)}setupFromTrue(){let e;for(e of iy)this[e]=bs[e];for(e of uy)this[e]=bs[e];for(e of cy)this[e]=!0;for(e of ly)this[e]=new N1(e,!0,void 0,this)}setupFromArray(e){let n;for(n of iy)this[n]=bs[n];for(n of uy)this[n]=bs[n];for(n of cy)this[n]=bs[n];for(n of ly)this[n]=new N1(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,ua)}setupFromObject(e){let n;for(n of(ua.ifd0=ua.ifd0||ua.image,ua.ifd1=ua.ifd1||ua.thumbnail,Object.assign(this,e),iy))this[n]=j5(e[n],bs[n]);for(n of uy)this[n]=j5(e[n],bs[n]);for(n of cy)this[n]=j5(e[n],bs[n]);for(n of UC)this[n]=new N1(n,bs[n],e[n],this);for(n of ua)this[n]=new N1(n,bs[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,ua,ly),e.tiff===!0?this.batchEnableWithBool(ua,!0):e.tiff===!1?this.batchEnableWithUserValue(ua,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,ua):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,ua)}batchEnableWithBool(e,n){for(let o of e)this[o].enabled=n}batchEnableWithUserValue(e,n){for(let o of e){let a=n[o];this[o].enabled=a!==!1&&a!==void 0}}setupGlobalFilters(e,n,o,a=o){if(e&&e.length){for(let r of a)this[r].enabled=!1;let s=UP(e,o);for(let[r,i]of s)g2(this[r].pick,i),this[r].enabled=!0}else if(n&&n.length){let s=UP(n,o);for(let[r,i]of s)g2(this[r].skip,i)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:o,iptc:a,icc:s}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),o.enabled||e.skip.add(700),a.enabled||e.skip.add(33723),s.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:o,interop:a}=this;a.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),o.needed&&e.deps.add(34853),this.tiff.enabled=ua.some(s=>this[s].enabled===!0)||this.makerNote||this.userComment;for(let s of ua)this[s].finalizeFilters()}get onlyTiff(){return!BM.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of UC)this[e].enabled&&!cl.has(e)&&NC("segment parser",e)}}function UP(t,e){let n,o,a,s,r=[];for(a of e){for(s of(n=vS.get(a),o=[],n))(t.includes(s[0])||t.includes(s[1]))&&o.push(s[0]);o.length&&r.push([a,o])}return r}function j5(t,e){return t!==void 0?t:e!==void 0?e:void 0}function g2(t,e){for(let n of e)t.add(n)}_n(yS,"default",bs);class Kne{constructor(e){_n(this,"parsers",{}),_n(this,"output",{}),_n(this,"errors",[]),_n(this,"pushToErrors",n=>this.errors.push(n)),this.options=yS.useCached(e)}async read(e){this.file=await function(n,o){return typeof n=="string"?HP(n,o):d0&&!Une&&n instanceof HTMLImageElement?HP(n.src,o):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new yc(n):d0&&n instanceof Blob?HC(n,o,"blob",LC):void ha("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[o,a]of HM)if(a.canHandle(e,n))return this.fileParser=new a(this.options,this.file,this.parsers),e[o]=!0;this.file.close&&this.file.close(),ha("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),NM(o=e)?void 0:o;var o}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async o=>{let a=await o.parse();o.assignToOutput(e,a)});this.options.silentErrors&&(n=n.map(o=>o.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,o=cl.get("tiff",e);var a;if(n.tiff?a={start:0,type:"tiff"}:n.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),a===void 0)return;let s=await this.fileParser.ensureSegmentChunk(a),r=this.parsers.tiff=new o(s,e,n),i=await r.extractThumbnail();return n.close&&n.close(),i}}class gm{static findPosition(e,n){let o=e.getUint16(n+2)+2,a=typeof this.headerLength=="function"?this.headerLength(e,n,o):this.headerLength,s=n+a,r=o-a;return{offset:n,length:o,headerLength:a,start:s,size:r,end:s+r}}static parse(e,n={}){return new this(e,new yS({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof yc?e:new yc(e)}constructor(e,n={},o){_n(this,"errors",[]),_n(this,"raw",new Map),_n(this,"handleError",a=>{if(!this.options.silentErrors)throw a;this.errors.push(a.message)}),this.chunk=this.normalizeInput(e),this.file=o,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let o=Wne.get(n),a=Gne.get(n),s=vS.get(n),r=this.options[n],i=r.reviveValues&&!!o,l=r.translateValues&&!!a,c=r.translateKeys&&!!s,u={};for(let[d,p]of e)i&&o.has(d)?p=o.get(d)(p):l&&a.has(d)&&(p=this.translateValue(p,a.get(d))),c&&s.has(d)&&(d=s.get(d)||d),u[d]=p;return u}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,o){if(this.globalOptions.mergeOutput)return Object.assign(e,o);e[n]?Object.assign(e[n],o):e[n]=o}}_n(gm,"headerLength",4),_n(gm,"type",void 0),_n(gm,"multiSegment",!1),_n(gm,"canHandle",()=>!1);function Yne(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function Xne(t){return t>=224&&t<=239}function Qne(t,e,n){for(let[o,a]of cl)if(a.canHandle(t,e,n))return o}class jP extends class{constructor(e,n,o){_n(this,"errors",[]),_n(this,"ensureSegmentChunk",async a=>{let s=a.start,r=a.size||65536;if(this.file.chunked)if(this.file.available(s,r))a.chunk=this.file.subarray(s,r);else try{a.chunk=await this.file.readChunk(s,r)}catch(i){ha(`Couldn't read segment: ${JSON.stringify(a)}. ${i.message}`)}else this.file.byteLength>s+r?a.chunk=this.file.subarray(s,r):a.size===void 0?a.chunk=this.file.subarray(s):ha("Segment unreachable: "+JSON.stringify(a));return a.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=o}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let o=new(cl.get(e))(n,this.options,this.file);return this.parsers[e]=o}createParsers(e){for(let n of e){let{type:o,chunk:a}=n,s=this.options[o];if(s&&s.enabled){let r=this.parsers[o];r&&r.append||r||this.createParser(o,a)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...e){super(...e),_n(this,"appSegments",[]),_n(this,"jpegSegments",[]),_n(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(cl.keyList())):(e=e===void 0?cl.keyList().filter(n=>this.options[n].enabled):e.filter(n=>this.options[n].enabled&&cl.has(n)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:o,findAll:a,wanted:s,remaining:r}=this;if(!a&&this.file.chunked&&(a=Array.from(s).some(i=>{let l=cl.get(i),c=this.options[i];return l.multiSegment&&c.multiSegment}),a&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,o.byteLength),!this.options.onlyTiff&&o.chunked){let i=!1;for(;r.size>0&&!i&&(o.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=o,c=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(i=e>l&&!c?!await o.readNextChunk(e):!await o.readNextChunk(l),(e=this.findAppSegmentsInRange(e,o.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let o,a,s,r,i,l,{file:c,findAll:u,wanted:d,remaining:p,options:f}=this;for(;e<n;e++)if(c.getUint8(e)===255){if(o=c.getUint8(e+1),Xne(o)){if(a=c.getUint16(e+2),s=Qne(c,e,a),s&&d.has(s)&&(r=cl.get(s),i=r.findPosition(c,e),l=f[s],i.type=s,this.appSegments.push(i),!u&&(r.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=i.chunkNumber<i.chunkCount,this.unfinishedMultiSegment||p.delete(s)):p.delete(s),p.size===0)))break;f.recordUnknownSegments&&(i=gm.findPosition(c,e),i.marker=o,this.unknownSegments.push(i)),e+=a+1}else if(Yne(o)){if(a=c.getUint16(e+2),o===218&&f.stopAfterSos!==!1)return;f.recordJpegSegments&&this.jpegSegments.push({offset:e,length:a,marker:o}),e+=a+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let e=function(n,o){let a,s,r,i=new Map;for(let l=0;l<n.length;l++)a=n[l],s=a[o],i.has(s)?r=i.get(s):i.set(s,r=[]),r.push(a);return Array.from(i)}(this.appSegments,"type");this.mergedAppSegments=e.map(([n,o])=>{let a=cl.get(n,this.options);return a.handleMultiSegments?{type:n,chunk:a.handleMultiSegments(o)}:o[0]})}getSegment(e){return this.appSegments.find(n=>n.type===e)}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}_n(jP,"type","jpeg"),HM.set("jpeg",jP);const Zne=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Jne extends gm{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,o=new Map){let{pick:a,skip:s}=this.options[n];a=new Set(a);let r=a.size>0,i=s.size===0,l=this.chunk.getUint16(e);e+=2;for(let c=0;c<l;c++){let u=this.chunk.getUint16(e);if(r){if(a.has(u)&&(o.set(u,this.parseTag(e,u,n)),a.delete(u),a.size===0))break}else!i&&s.has(u)||o.set(u,this.parseTag(e,u,n));e+=12}return o}parseTag(e,n,o){let{chunk:a}=this,s=a.getUint16(e+2),r=a.getUint32(e+4),i=Zne[s];if(i*r<=4?e+=8:e=a.getUint32(e+8),(s<1||s>13)&&ha(`Invalid TIFF value type. block: ${o.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${e}`),e>a.byteLength&&ha(`Invalid TIFF value offset. block: ${o.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${e} is outside of chunk size ${a.byteLength}`),s===1)return a.getUint8Array(e,r);if(s===2)return(l=function(c){for(;c.endsWith("\0");)c=c.slice(0,-1);return c}(l=a.getString(e,r)).trim())===""?void 0:l;var l;if(s===7)return a.getUint8Array(e,r);if(r===1)return this.parseTagValue(s,e);{let c=new(function(d){switch(d){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(s))(r),u=i;for(let d=0;d<r;d++)c[d]=this.parseTagValue(s,e),e+=u;return c}}parseTagValue(e,n){let{chunk:o}=this;switch(e){case 1:return o.getUint8(n);case 3:return o.getUint16(n);case 4:return o.getUint32(n);case 5:return o.getUint32(n)/o.getUint32(n+4);case 6:return o.getInt8(n);case 8:return o.getInt16(n);case 9:return o.getInt32(n);case 10:return o.getInt32(n)/o.getInt32(n+4);case 11:return o.getFloat(n);case 12:return o.getDouble(n);case 13:return o.getUint32(n);default:ha(`Invalid tiff type ${e}`)}}}class z5 extends Jne{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let o=new Map;return this[n]=o,this.parseTags(e,n,o),o}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&ha("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&ha(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,DP(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,DP(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let o=e.get(n);o&&o.length===1&&e.set(n,o[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",zP(...e.get(2),e.get(1))),e.set("longitude",zP(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,o,a={};for(n of ua)if(e=this[n],!NM(e))if(o=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(a,o)}else a[n]=o;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[o,a]of Object.entries(n))this.assignObjectToOutput(e,o,a)}}function zP(t,e,n,o){var a=t+e/60+n/3600;return o!=="S"&&o!=="W"||(a*=-1),a}_n(z5,"type","tiff"),_n(z5,"headerLength",10),cl.set("tiff",z5);const wS={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},wS,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},wS,{tiff:!1,ifd1:!0,mergeOutput:!1});const qne=Object.assign({},wS,{firstChunkSize:4e4,ifd0:[274]});async function eoe(t){let e=new Kne(qne);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const toe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let _v=!0,Vv=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,o]=e;_v=Number(n)+.1*Number(o)<13.4,Vv=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);_v=Vv=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);_v=Vv=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);_v=Vv=Number(e)<77}}async function noe(t){let e=await eoe(t);return Object.assign({canvas:_v,css:Vv},toe[e])}class ooe extends yc{constructor(...e){super(...e),_n(this,"ranges",new aoe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,o){if(e===0&&this.byteLength===0&&o){let a=new DataView(o.buffer||o,o.byteOffset,o.byteLength);this._swapDataView(a)}else{let a=e+n;if(a>this.byteLength){let{dataView:s}=this._extend(a);this._swapDataView(s)}}}_extend(e){let n;n=DM?FM.allocUnsafe(e):new Uint8Array(e);let o=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:o}}subarray(e,n,o=!1){return n=n||this._lengthToEnd(e),o&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,o=!1){o&&this._tryExtend(n,e.byteLength,e);let a=super.set(e,n);return this.ranges.add(n,a.byteLength),a}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class aoe{constructor(){_n(this,"list",[])}get length(){return this.list.length}add(e,n,o=0){let a=e+n,s=this.list.filter(r=>GP(e,r.offset,a)||GP(e,r.end,a));if(s.length>0){e=Math.min(e,...s.map(i=>i.offset)),a=Math.max(a,...s.map(i=>i.end)),n=a-e;let r=s.shift();r.offset=e,r.length=n,r.end=a,this.list=this.list.filter(i=>!s.includes(i))}else this.list.push({offset:e,length:n,end:a})}available(e,n){let o=e+n;return this.list.some(a=>a.offset<=e&&o<=a.end)}}function GP(t,e,n){return t<=e&&e<=n}class soe extends ooe{constructor(e,n){super(0),_n(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,o=await this.readChunk(e,n);return!!o&&o.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}gS.set("blob",class extends soe{async readWhole(){this.chunked=!1;let t=await LC(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,o=this.input.slice(t,n),a=await LC(o);return this.set(a,t,!0)}});const roe={strings:{generatingThumbnails:"Generating thumbnails..."}},ioe={version:"3.0.2"};function loe(t,e,n){try{t.getContext("2d").getImageData(0,0,1,1)}catch(o){if(o.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(o=>{t.toBlob(o,e,n)}).then(o=>{if(o===null)throw new Error("cannot read image, probably an svg with external resources");return o}):Promise.resolve().then(()=>Lne(t.toDataURL(e,n),{})).then(o=>{if(o===null)throw new Error("could not extract blob, probably an old browser");return o})}function coe(t,e){let n=t.width,o=t.height;(e.deg===90||e.deg===270)&&(n=t.height,o=t.width);const a=document.createElement("canvas");a.width=n,a.height=o;const s=a.getContext("2d");return s.translate(n/2,o/2),e.canvas&&(s.rotate(e.rad),s.scale(e.scaleX,e.scaleY)),s.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),a}function uoe(t){const e=t.width/t.height,n=5e6,o=4096;let a=Math.floor(Math.sqrt(n*e)),s=Math.floor(n/Math.sqrt(n*e));if(a>o&&(a=o,s=Math.round(a/e)),s>o&&(s=o,a=Math.round(e*s)),t.width>a){const r=document.createElement("canvas");return r.width=a,r.height=s,r.getContext("2d").drawImage(t,0,0,a,s),r}return t}class jM extends Yd{constructor(e,n){super(e,n),this.onFileAdded=a=>{!a.preview&&a.data&&MP(a.type)&&!a.isRemote&&this.addToQueue(a.id)},this.onCancelRequest=a=>{const s=this.queue.indexOf(a.id);s!==-1&&this.queue.splice(s,1)},this.onFileRemoved=a=>{const s=this.queue.indexOf(a.id);s!==-1&&this.queue.splice(s,1),a.preview&&IP(a.preview)&&URL.revokeObjectURL(a.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(s=>s.isRestored).forEach(s=>{(!s.preview||IP(s.preview))&&this.addToQueue(s.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=a=>{a.forEach(r=>{const i=this.uppy.getFile(r);this.uppy.emit("preprocess-progress",i,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const s=()=>{a.forEach(r=>{const i=this.uppy.getFile(r);this.uppy.emit("preprocess-complete",i)})};return new Promise(r=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{s(),r()}):(s(),r())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=roe;const o={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(this.opts={...o,...n},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(e,n,o){const a=URL.createObjectURL(e.data),s=new Promise((i,l)=>{const c=new Image;c.src=a,c.addEventListener("load",()=>{URL.revokeObjectURL(a),i(c)}),c.addEventListener("error",u=>{URL.revokeObjectURL(a),l(u.error||new Error("Could not create thumbnail"))})}),r=noe(e.data).catch(()=>1);return Promise.all([s,r]).then(i=>{let[l,c]=i;const u=this.getProportionalDimensions(l,n,o,c.deg),d=coe(l,c),p=this.resizeImage(d,u.width,u.height);return loe(p,this.thumbnailType,80)}).then(i=>URL.createObjectURL(i))}getProportionalDimensions(e,n,o,a){let s=e.width/e.height;return(a===90||a===270)&&(s=e.height/e.width),n!=null?{width:n,height:Math.round(n/s)}:o!=null?{width:Math.round(o*s),height:o}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/s)}}resizeImage(e,n,o){let a=uoe(e),s=Math.ceil(Math.log2(a.width/n));s<1&&(s=1);let r=n*2**(s-1),i=o*2**(s-1);const l=2;for(;s--;){const c=document.createElement("canvas");c.width=r,c.height=i,c.getContext("2d").drawImage(a,0,0,r,i),a=c,r=Math.round(r/l),i=Math.round(i/l)}return a}setPreviewURL(e,n){this.uppy.setFileState(e,{preview:n})}addToQueue(e){this.queue.push(e),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(e){return MP(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(e.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${e.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(e.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${e.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(e.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}jM.VERSION=ioe.version;function doe(t){return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE}function WP(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&doe(t)?[t]:null}const Uv=Array.from;function zM(t,e,n,o){let{onSuccess:a}=o;t.readEntries(s=>{const r=[...e,...s];s.length?queueMicrotask(()=>{zM(t,r,n,{onSuccess:a})}):a(r)},s=>{n(s),a(e)})}function GM(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((n,o)=>t.file(n,o))},async*values(){const n=t.createReader();yield*await new Promise(a=>{zM(n,[],e,{onSuccess:s=>a(s.map(r=>GM(r,e)))})})}}}async function*WM(t,e){if(t.kind==="file"){const n=await t.getFile();n!==null&&(n.relativePath=e?`${e}/${t.name}`:null,yield n)}else if(t.kind==="directory")for await(const n of t.values())yield*WM(n,`${e}/${t.name}`)}async function*poe(t,e){const n=await Promise.all(Array.from(t.items,async o=>{var a;const s=o.getAsFile(),r=(a=await(o.getAsFileSystemHandle==null?void 0:o.getAsFileSystemHandle()))!=null?a:GM(o.webkitGetAsEntry(),e);return{lastResortFile:s,entry:r}}));for(const{lastResortFile:o,entry:a}of n)if(a!=null)try{yield*WM(a,"")}catch(s){o?yield o:e(s)}}function hoe(t){const e=Uv(t.files);return Promise.resolve(e)}async function foe(t,e){let{logDropError:n=()=>{}}=e===void 0?{}:e;try{const o=[];for await(const a of poe(t,n))o.push(a);return o}catch{return hoe(t)}}var KP=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function moe(t,e){return!!(t===e||KP(t)&&KP(e))}function goe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!moe(t[n],e[n]))return!1;return!0}function YP(t,e){e===void 0&&(e=goe);var n=null;function o(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(n&&n.lastThis===this&&e(a,n.lastArgs))return n.lastResult;var r=t.apply(this,a);return n={lastResult:r,lastArgs:a,lastThis:this},r}return o.clear=function(){n=null},o}const bS=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function KM(t,e){if(e){const n=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(n)return n}return t}function XP(t,e){const n=e[0];n&&(n.focus(),t.preventDefault())}function voe(t,e){const n=e[e.length-1];n&&(n.focus(),t.preventDefault())}function yoe(t){return t.contains(document.activeElement)}function YM(t,e,n){const o=KM(n,e),a=Uv(o.querySelectorAll(bS)),s=a.indexOf(document.activeElement);yoe(o)?t.shiftKey&&s===0?voe(t,a):!t.shiftKey&&s===a.length-1&&XP(t,a):XP(t,a)}function woe(t,e,n){e===null||YM(t,e,n)}var boe="Expected a function",QP=0/0,$oe="[object Symbol]",xoe=/^\s+|\s+$/g,_oe=/^[-+]0x[0-9a-f]+$/i,Voe=/^0b[01]+$/i,Coe=/^0o[0-7]+$/i,Soe=parseInt,Poe=typeof En=="object"&&En&&En.Object===Object&&En,Eoe=typeof self=="object"&&self&&self.Object===Object&&self,Toe=Poe||Eoe||Function("return this")(),Roe=Object.prototype,Ooe=Roe.toString,koe=Math.max,Aoe=Math.min,G5=function(){return Toe.Date.now()};function Ioe(t,e,n){var o,a,s,r,i,l,c=0,u=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(boe);e=ZP(e)||0,jC(n)&&(u=!!n.leading,d="maxWait"in n,s=d?koe(ZP(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function f(x){var S=o,P=a;return o=a=void 0,c=x,r=t.apply(P,S),r}function g(x){return c=x,i=setTimeout(w,e),u?f(x):r}function v(x){var S=x-l,P=x-c,E=e-S;return d?Aoe(E,s-P):E}function y(x){var S=x-l,P=x-c;return l===void 0||S>=e||S<0||d&&P>=s}function w(){var x=G5();if(y(x))return b(x);i=setTimeout(w,v(x))}function b(x){return i=void 0,p&&o?f(x):(o=a=void 0,r)}function C(){i!==void 0&&clearTimeout(i),c=0,o=l=a=i=void 0}function V(){return i===void 0?r:b(G5())}function _(){var x=G5(),S=y(x);if(o=arguments,a=this,l=x,S){if(i===void 0)return g(l);if(d)return i=setTimeout(w,e),f(l)}return i===void 0&&(i=setTimeout(w,e)),r}return _.cancel=C,_.flush=V,_}function jC(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Moe(t){return!!t&&typeof t=="object"}function Foe(t){return typeof t=="symbol"||Moe(t)&&Ooe.call(t)==$oe}function ZP(t){if(typeof t=="number")return t;if(Foe(t))return QP;if(jC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(xoe,"");var n=Voe.test(t);return n||Coe.test(t)?Soe(t.slice(2),n?2:8):_oe.test(t)?QP:+t}var XM=Ioe;function Doe(){let t=!1;return XM((n,o)=>{const a=KM(n,o),s=a.contains(document.activeElement);if(s&&t)return;const r=a.querySelector("[data-uppy-super-focusable]");if(!(s&&!r))if(r)r.focus({preventScroll:!0}),t=!0;else{const i=a.querySelector(bS);i==null||i.focus({preventScroll:!0}),t=!1}},260)}function Noe(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}var Hoe=function(e,n){if(e===n)return!0;for(var o in e)if(!(o in n))return!1;for(var o in n)if(e[o]!==n[o])return!1;return!0};function Boe(){return j("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},j("g",{fill:"#686DE0",fillRule:"evenodd"},j("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),j("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),j("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function Loe(){return j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},j("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function Uoe(){return j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},j("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function joe(){return j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},j("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function zoe(){return j("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},j("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function Goe(){return j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},j("g",{fill:"#A7AFB7",fillRule:"nonzero"},j("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),j("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function Woe(){return j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},j("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}function $S(t){const e={color:"#838999",icon:Goe()};if(!t)return e;const n=t.split("/")[0],o=t.split("/")[1];return n==="text"?{color:"#5a5e69",icon:Woe()}:n==="image"?{color:"#686de0",icon:Boe()}:n==="audio"?{color:"#068dbb",icon:Loe()}:n==="video"?{color:"#19af67",icon:Uoe()}:n==="application"&&o==="pdf"?{color:"#e25149",icon:joe()}:n==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(o)!==-1?{color:"#00C469",icon:zoe()}:e}function QM(t){const{file:e}=t;if(e.preview)return j("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:n,icon:o}=$S(e.type);return j("div",{className:"uppy-Dashboard-Item-previewIconWrap"},j("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n}},o),j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},j("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}const Koe=(t,e)=>e.filter(o=>o.id===t)[0].name;function ZM(t){const{file:e,toggleFileCard:n,i18n:o,metaFields:a}=t,{missingRequiredMetaFields:s}=e;if(!(s!=null&&s.length))return null;const r=s.map(i=>Koe(i,a)).join(", ");return j("div",{className:"uppy-Dashboard-Item-errorMessage"},o("missingRequiredMetaFields",{smart_count:s.length,fields:r})," ",j("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,e.id)},o("editFile")))}function Yoe(t){return j("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:$S(t.file.type).color}},t.showLinkToFileUploadResult&&t.file.uploadURL&&j("a",{className:"uppy-Dashboard-Item-previewLink",href:t.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.file.meta.name},j("span",{hidden:!0},t.file.meta.name)),j(QM,{file:t.file}),j(ZM,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}function Xoe(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function JP(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function W5(t){return j("div",{className:"uppy-Dashboard-Item-progress"},j("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":JP(t),title:JP(t),onClick:()=>Xoe(t)},t.children))}function dy(t){let{children:e}=t;return j("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}function K5(t){let{progress:e}=t;const n=2*Math.PI*15;return j("g",null,j("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),j("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":n,"stroke-dashoffset":n-n/100*e}))}function Qoe(t){if(!t.file.progress.uploadStarted)return null;if(t.isUploaded)return j("div",{className:"uppy-Dashboard-Item-progress"},j("div",{className:"uppy-Dashboard-Item-progressIndicator"},j(dy,null,j("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),j("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!t.recoveredState)return t.error&&!t.hideRetryButton?j(W5,t,j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},j("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),j("path",{d:"M7.9 3H10v2H7.9z"}),j("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),j("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):t.resumableUploads&&!t.hidePauseResumeButton?j(W5,t,j(dy,null,j(K5,{progress:t.file.progress.percentage}),t.file.isPaused?j("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):j("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},j("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),j("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?j(W5,t,j(dy,null,j(K5,{progress:t.file.progress.percentage}),j("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):j("div",{className:"uppy-Dashboard-Item-progress"},j("div",{className:"uppy-Dashboard-Item-progressIndicator"},j(dy,null,j(K5,{progress:t.file.progress.percentage}))))}var Zoe=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var n=e<0,o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(n&&(e=-e),e<1)return(n?"-":"")+e+" B";var a=Math.min(Math.floor(Math.log(e)/Math.log(1024)),o.length-1);e=Number(e/Math.pow(1024,a));var s=o[a];return e>=10||e%1===0?(n?"-":"")+e.toFixed(0)+" "+s:(n?"-":"")+e.toFixed(1)+" "+s};const Y5="...";function JM(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=Y5.length+1)return`${t.slice(0,e-1)}…`;const n=e-Y5.length,o=Math.ceil(n/2),a=Math.floor(n/2);return t.slice(0,o)+Y5+t.slice(-a)}const Joe=t=>{const{author:e,name:n}=t.file.meta;function o(){return t.singleFile?200:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return j("div",{className:"uppy-Dashboard-Item-name",title:n},JM(n,o()))},qoe=t=>{const{author:e}=t.file.meta,{providerName:n}=t.file.remote,o="·";return e?j("div",{className:"uppy-Dashboard-Item-author"},j("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},JM(e.name,13)),n?j(Wm,null,` ${o} `,n,` ${o} `):null):null},eae=t=>t.file.size&&j("div",{className:"uppy-Dashboard-Item-statusSize"},Zoe(t.file.size)),tae=t=>t.file.isGhost&&j("span",null," • ",j("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:t.toggleAddFilesPanel},t.i18n("reSelect"))),nae=t=>{let{file:e,onClick:n}=t;return e.error?j("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};function oae(t){const{file:e}=t;return j("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},j("div",{className:"uppy-Dashboard-Item-fileName"},Joe(t),j(nae,{file:t.file,onClick:()=>alert(t.file.error)})),j("div",{className:"uppy-Dashboard-Item-status"},qoe(t),eae(t),tae(t)),j(ZM,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}function aae(t,e){return e===void 0&&(e="Copy the URL below"),new Promise(n=>{const o=document.createElement("textarea");o.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),o.value=t,document.body.appendChild(o),o.select();const a=()=>{document.body.removeChild(o),window.prompt(e,t),n()};try{return document.execCommand("copy")?(document.body.removeChild(o),n()):a("copy command unavailable")}catch{return document.body.removeChild(o),a()}})}function sae(t){let{file:e,uploadInProgressOrComplete:n,metaFields:o,canEditFile:a,i18n:s,onClick:r}=t;return!n&&o&&o.length>0||!n&&a(e)?j("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":s("editFileWithFilename",{file:e.meta.name}),title:s("editFileWithFilename",{file:e.meta.name}),onClick:()=>r()},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},j("g",{fillRule:"evenodd"},j("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),j("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),j("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function rae(t){let{i18n:e,onClick:n,file:o}=t;return j("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:o.meta.name}),title:e("removeFile",{file:o.meta.name}),onClick:()=>n()},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},j("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),j("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}const iae=(t,e)=>{aae(e.file.uploadURL,e.i18n("copyLinkToClipboardFallback")).then(()=>{e.uppy.log("Link copied to clipboard."),e.uppy.info(e.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.uppy.log).then(()=>t.target.focus({preventScroll:!0}))};function lae(t){const{i18n:e}=t;return j("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:n=>iae(n,t)},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},j("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function cae(t){const{uppy:e,file:n,uploadInProgressOrComplete:o,canEditFile:a,metaFields:s,showLinkToFileUploadResult:r,showRemoveButton:i,i18n:l,toggleFileCard:c,openFileEditor:u}=t;return j("div",{className:"uppy-Dashboard-Item-actionWrapper"},j(sae,{i18n:l,file:n,uploadInProgressOrComplete:o,canEditFile:a,metaFields:s,onClick:()=>{s&&s.length>0?c(!0,n.id):u(n)}}),r&&n.uploadURL?j(lae,{file:n,uppy:e,i18n:l}):null,i?j(rae,{i18n:l,file:n,uppy:e,onClick:()=>t.uppy.removeFile(n.id,"removed-by-user")}):null)}class uae extends bl{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!Hoe(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,n=e.progress.preprocess||e.progress.postprocess,o=e.progress.uploadComplete&&!n&&!e.error,a=e.progress.uploadStarted||n,s=e.progress.uploadStarted&&!e.progress.uploadComplete||n,r=e.error||!1,{isGhost:i}=e;let l=(this.props.individualCancellation||!s)&&!o;o&&this.props.showRemoveButtonAfterComplete&&(l=!0);const c=Gr({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":n,"is-complete":o,"is-error":!!r,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":i});return j("div",{className:c,id:`uppy_${e.id}`,role:this.props.role},j("div",{className:"uppy-Dashboard-Item-preview"},j(Yoe,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),j(Qoe,{uppy:this.props.uppy,file:e,error:r,isUploaded:o,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),j("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},j(oae,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,singleFile:this.props.singleFile}),j(cae,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:l,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:a,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},zC.apply(this,arguments)}const dae={position:"relative",width:"100%",minHeight:"100%"},pae={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class hae extends bl{constructor(e){super(e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:e}=this.state;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(e){let{data:n,rowHeight:o,renderRow:a,overscanCount:s=10,...r}=e;const{offset:i,height:l}=this.state;let c=Math.floor(i/o),u=Math.floor(l/o);s&&(c=Math.max(0,c-c%s),u+=s);const d=c+u+4,p=n.slice(c,d),f={...dae,height:n.length*o},g={...pae,top:c*o};return j("div",zC({onScroll:this.handleScroll},r),j("div",{role:"presentation",style:f},j("div",{role:"presentation",style:g},p.map(a))))}}function GC(){return GC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},GC.apply(this,arguments)}function fae(t,e){const n=[];let o=[];return t.forEach(a=>{o.length<e?o.push(a):(n.push(o),o=[a])}),o.length&&n.push(o),n}const mae=t=>{const e=t.itemsPerRow===1?71:200,n={id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,acquirers:t.acquirers,resumableUploads:t.resumableUploads,individualCancellation:t.individualCancellation,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,recoveredState:t.recoveredState,singleFile:t.singleFile,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail},o=(i,l)=>t.files[l].isGhost-t.files[i].isGhost,a=Object.keys(t.files);t.recoveredState&&a.sort(o);const s=fae(a,t.itemsPerRow),r=i=>j("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:i[0]},i.map(l=>j(uae,GC({key:l,uppy:t.uppy},n,{role:"listitem",openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,file:t.files[l]}))));return t.singleFile?j("div",{class:"uppy-Dashboard-files"},r(s[0])):j(hae,{class:"uppy-Dashboard-files",role:"list",data:s,renderRow:r,rowHeight:e})};let qM;qM=Symbol.for("uppy test: disable unused locale key warning");class eF extends bl{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=e=>{this.props.handleInputChange(e),e.target.value=null},this.renderHiddenInput=(e,n)=>j("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:n}),this.renderHiddenCameraInput=(e,n,o)=>{const s={photo:"image/*",video:"video/*"}[e];return j("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${e}`,onChange:this.onFileInputChange,capture:n,accept:s,ref:o})},this.renderMyDeviceAcquirer=()=>j("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},j("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},j("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},j("g",{fill:"none",fillRule:"evenodd"},j("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),j("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),j("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>j("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},j("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},j("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},j("g",{fill:"none",fillRule:"evenodd"},j("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),j("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),j("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>j("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},j("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},j("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},j("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),j("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),j("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(e,n)=>{const o=this.props.acquirers.length;return j("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":o===0},e)},this.renderDropPasteBrowseTagline=()=>{const e=this.props.acquirers.length,n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),o=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,s=a.charAt(0).toUpperCase()+a.slice(1);return j("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):e>0?this.props.i18nArray(`dropPasteImport${s}`,{browseFiles:n,browseFolders:o,browse:n}):this.props.i18nArray(`dropPaste${s}`,{browseFiles:n,browseFolders:o,browse:n}))},this.renderAcquirer=e=>j("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},j("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":e.id,"aria-controls":`uppy-DashboardContent-panel--${e.id}`,"aria-selected":this.props.activePickerPanel.id===e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(e.id)},e.icon(),j("div",{className:"uppy-DashboardTab-name"},e.name))),this.renderAcquirers=e=>{const n=[...e],o=n.splice(e.length-2,e.length);return j(Wm,null,n.map(a=>this.renderAcquirer(a)),j("span",{role:"presentation",style:{"white-space":"nowrap"}},o.map(a=>this.renderAcquirer(a))))},this.renderSourcesList=(e,n)=>{const{showNativePhotoCameraButton:o,showNativeVideoCameraButton:a}=this.props;return j("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!n&&this.renderMyDeviceAcquirer(),!n&&o&&this.renderPhotoCamera(),!n&&a&&this.renderVideoCamera(),e.length>0&&this.renderAcquirers(e))}}[qM](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:e}=this.props,n=j("span",null,j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},j("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),j("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),o=e("poweredBy",{uppy:n});return j("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},o)}render(){const{showNativePhotoCameraButton:e,showNativeVideoCameraButton:n,nativeCameraFacingMode:o}=this.props;return j("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),e&&this.renderHiddenCameraInput("photo",o,a=>{this.mobilePhotoFileInput=a}),n&&this.renderHiddenCameraInput("video",o,a=>{this.mobileVideoFileInput=a}),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),j("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&j("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}const gae=t=>j("div",{className:Gr("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":t.showAddFilesPanel},j("div",{className:"uppy-DashboardContent-bar"},j("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18n("addingMoreFiles")),j("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1)},t.i18n("back"))),j(eF,t));function Ed(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function vae(t){let{activePickerPanel:e,className:n,hideAllPanels:o,i18n:a,state:s,uppy:r}=t;return j("div",{className:Gr("uppy-DashboardContent-panel",n),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:Ed,onDragLeave:Ed,onDrop:Ed,onPaste:Ed},j("div",{className:"uppy-DashboardContent-bar"},j("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},a("importFrom",{name:e.name})),j("button",{className:"uppy-DashboardContent-back",type:"button",onClick:o},a("cancel"))),j("div",{className:"uppy-DashboardContent-panelBody"},r.getPlugin(e.id).render(s)))}function yae(t){const e=t.files[t.fileCardFor];return j("div",{className:Gr("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},j("div",{className:"uppy-DashboardContent-bar"},j("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:j("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),j("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel")),j("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),j("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))))}const Hl={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function wae(t,e,n,o){if(o===void 0&&(o={}),t)return Hl.STATE_ERROR;if(e)return Hl.STATE_COMPLETE;if(n)return Hl.STATE_PAUSED;let a=Hl.STATE_WAITING;const s=Object.keys(o);for(let r=0;r<s.length;r++){const{progress:i}=o[s[r]];if(i.uploadStarted&&!i.uploadComplete)return Hl.STATE_UPLOADING;i.preprocess&&a!==Hl.STATE_UPLOADING&&(a=Hl.STATE_PREPROCESSING),i.postprocess&&a!==Hl.STATE_UPLOADING&&a!==Hl.STATE_PREPROCESSING&&(a=Hl.STATE_POSTPROCESSING)}return a}function bae(t){let{files:e,i18n:n,isAllComplete:o,isAllErrored:a,isAllPaused:s,inProgressNotPausedFiles:r,newFiles:i,processingFiles:l}=t;switch(wae(a,o,s,e)){case"uploading":return n("uploadingXFiles",{smart_count:r.length});case"preprocessing":case"postprocessing":return n("processingXFiles",{smart_count:l.length});case"paused":return n("uploadPaused");case"waiting":return n("xFilesSelected",{smart_count:i.length});case"complete":return n("uploadComplete")}}function $ae(t){const{i18n:e,isAllComplete:n,hideCancelButton:o,maxNumberOfFiles:a,toggleAddFilesPanel:s,uppy:r}=t;let{allowNewUpload:i}=t;return i&&a&&(i=t.totalFileCount<t.maxNumberOfFiles),j("div",{className:"uppy-DashboardContent-bar"},!n&&!o?j("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>r.cancelAll()},e("cancel")):j("div",null),j("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},j(bae,t)),i?j("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>s(!0)},j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},j("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),j("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):j("div",null))}class xae extends bl{constructor(e){super(e),this.form=document.createElement("form"),this.updateMeta=(s,r)=>{this.setState(i=>{let{formState:l}=i;return{formState:{...l,[r]:s}}})},this.handleSave=s=>{s.preventDefault();const r=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,r)},this.handleCancel=()=>{const s=this.props.files[this.props.fileCardFor];this.props.uppy.emit("file-editor:cancel",s),this.props.toggleFileCard(!1)},this.saveOnEnter=s=>{if(s.keyCode===13){s.stopPropagation(),s.preventDefault();const r=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,r.id)}},this.renderMetaFields=()=>{const s=this.getMetaFields()||[],r={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return s.map(i=>{const l=`uppy-Dashboard-FileCard-input-${i.id}`,c=this.props.requiredMetaFields.includes(i.id);return j("fieldset",{key:i.id,className:"uppy-Dashboard-FileCard-fieldset"},j("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:l},i.name),i.render!==void 0?i.render({value:this.state.formState[i.id],onChange:u=>this.updateMeta(u,i.id),fieldCSSClasses:r,required:c,form:this.form.id},j):j("input",{className:r.text,id:l,form:this.form.id,type:i.type||"text",required:c,value:this.state.formState[i.id],placeholder:i.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:u=>this.updateMeta(u.target.value,i.id),"data-uppy-super-focusable":!0}))})};const n=this.props.files[this.props.fileCardFor],o=this.getMetaFields()||[],a={};o.forEach(s=>{a[s.id]=n.meta[s.id]||""}),this.state={formState:a},this.form.id=p$()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){const e=this.props.files[this.props.fileCardFor],n=this.props.canEditFile(e);return j("div",{className:Gr("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:Ed,onDragLeave:Ed,onDrop:Ed,onPaste:Ed},j("div",{className:"uppy-DashboardContent-bar"},j("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:j("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),j("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),j("div",{className:"uppy-Dashboard-FileCard-inner"},j("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:$S(e.type).color}},j(QM,{file:e}),n&&j("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:o=>{this.handleSave(o),this.props.openFileEditor(e)},form:this.form.id},this.props.i18n("editFile"))),j("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),j("div",{className:"uppy-Dashboard-FileCard-actions"},j("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),j("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}const Wh="uppy-transition-slideDownUp",qP=250;class py extends bl{constructor(e){super(e),this.state={cachedChildren:null,className:""}}componentWillUpdate(e){const{cachedChildren:n}=this.state,o=$d(e.children)[0];if(n===o)return null;const a={cachedChildren:o};o&&!n&&(a.className=`${Wh}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${Wh}-enter ${Wh}-enter-active`}),this.enterTimeout=setTimeout(()=>{this.setState({className:""})},qP)})),n&&!o&&this.leaveTimeout===void 0&&(a.cachedChildren=n,a.className=`${Wh}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${Wh}-leave ${Wh}-leave-active`}),this.leaveTimeout=setTimeout(()=>{this.setState({cachedChildren:null,className:""})},qP)})),this.setState(a)}render(){const{cachedChildren:e,className:n}=this.state;return e?gM(e,{className:Gr(n,e.props.className)}):null}}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xd.apply(this,arguments)}const e7=900,t7=700,X5=576,_ae=400;function Vae(t){const e=t.totalFileCount===0,n=t.totalFileCount===1,o=t.containerWidth>X5,a=Gr({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>X5,"uppy-size--lg":t.containerWidth>t7,"uppy-size--xl":t.containerWidth>e7,"uppy-size--height-md":t.containerHeight>_ae,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":n});let s=1;t.containerWidth>e7?s=5:t.containerWidth>t7?s=4:t.containerWidth>X5&&(s=3);const r=t.showSelectedFiles&&!e,i=t.recoveredState?Object.keys(t.recoveredState.files).length:null,l=t.files?Object.keys(t.files).filter(d=>t.files[d].isGhost).length:null,c=()=>l>0?t.i18n("recoveredXFiles",{smart_count:l}):t.i18n("recoveredAllFiles");return j("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&Noe(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},j("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),j("div",{className:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:j("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal},j("span",{"aria-hidden":"true"},"×")),j("div",{className:"uppy-Dashboard-innerWrap"},j("div",{className:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),r&&j($ae,t),i&&j("div",{className:"uppy-Dashboard-serviceMsg"},j("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},j("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},j("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),j("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),j("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),j("strong",{className:"uppy-Dashboard-serviceMsg-title"},t.i18n("sessionRestored")),j("div",{className:"uppy-Dashboard-serviceMsg-text"},c())),r?j(mae,xd({},t,{singleFile:n,itemsPerRow:s})):j(eF,xd({},t,{isSizeMD:o})),j(py,null,t.showAddFilesPanel?j(gae,xd({key:"AddFiles"},t,{isSizeMD:o})):null),j(py,null,t.fileCardFor?j(xae,xd({key:"FileCard"},t)):null),j(py,null,t.activePickerPanel?j(vae,xd({key:"Picker"},t)):null),j(py,null,t.showFileEditor?j(yae,xd({key:"Editor"},t)):null),j("div",{className:"uppy-Dashboard-progressindicators"},t.progressindicators.map(d=>t.uppy.getPlugin(d.id).render(t.state))))))}const Cae={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function La(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Sae=0;function kh(t){return"__private_"+Sae+++"_"+t}const Pae={version:"3.2.0"},Q5=YP.default||YP,n7=9,Eae=27;function o7(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}function Tae(){return j("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},j("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var jc=kh("generateLargeThumbnailIfSingleFile"),H1=kh("openFileEditorWhenFilesAdded"),rp=kh("attachRenderFunctionToTarget"),Z5=kh("isTargetSupported"),J5=kh("getAcquirers"),q5=kh("getProgressIndicators"),zc=kh("getEditors");let tF=class extends Yd{constructor(e,n){var o;super(e,n),o=this,this.removeTarget=s=>{const i=this.getPluginState().targets.filter(l=>l.id!==s.id);this.setPluginState({targets:i})},this.addTarget=s=>{const r=s.id||s.constructor.name,i=s.title||r,l=s.type;if(l!=="acquirer"&&l!=="progressindicator"&&l!=="editor"){const p="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";this.uppy.log(p,"error");return}const c={id:r,name:i,type:l},d=this.getPluginState().targets.slice();return d.push(c),this.setPluginState({targets:d}),this.el},this.hideAllPanels=()=>{const s=this.getPluginState(),r={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===r.activePickerPanel&&s.showAddFilesPanel===r.showAddFilesPanel&&s.showFileEditor===r.showFileEditor&&s.activeOverlayType===r.activeOverlayType||this.setPluginState(r)},this.showPanel=s=>{const{targets:r}=this.getPluginState(),i=r.filter(l=>l.type==="acquirer"&&l.id===s)[0];this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",s)},this.canEditFile=s=>{const{targets:r}=this.getPluginState();return La(this,zc)[zc](r).some(l=>this.uppy.getPlugin(l.id).canEditFile(s))},this.openFileEditor=s=>{const{targets:r}=this.getPluginState(),i=La(this,zc)[zc](r);this.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),i.forEach(l=>{this.uppy.getPlugin(l.id).selectFile(s)})},this.saveFileEditor=()=>{const{targets:s}=this.getPluginState();La(this,zc)[zc](s).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.hideAllPanels()},this.openModal=()=>{const{promise:s,resolve:r}=o7();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),s},this.closeModal=function(s){s===void 0&&(s={});const{manualClose:r=!0}=s,{isHidden:i,isClosing:l}=o.getPluginState();if(i||l)return;const{promise:c,resolve:u}=o7();if(o.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),o.opts.animateOpenClose){o.setPluginState({isClosing:!0});const p=()=>{o.setPluginState({isHidden:!0,isClosing:!1}),o.superFocus.cancel(),o.savedActiveElement.focus(),o.el.removeEventListener("animationend",p,!1),u()};o.el.addEventListener("animationend",p,!1)}else o.setPluginState({isHidden:!0}),o.superFocus.cancel(),o.savedActiveElement.focus(),u();if(document.removeEventListener("keydown",o.handleKeyDownInModal),r&&o.opts.browserBackButtonClose){var d;(d=history.state)!=null&&d[o.modalName]&&history.back()}return o.uppy.emit("dashboard:modal-closed"),c},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=s=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:s}})},this.handleSystemDarkModeChange=s=>{const r=s.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)},this.toggleFileCard=(s,r)=>{const i=this.uppy.getFile(r);s?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:s?r:null,activeOverlayType:s?"FileCard":null})},this.toggleAddFilesPanel=s=>{this.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})},this.addFiles=s=>{const r=s.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(s=>{const r=s[0],{width:i,height:l}=r.contentRect;this.uppy.log(`[Dashboard] resized: ${i} / ${l}`,"debug"),this.setPluginState({containerWidth:i,containerHeight:l,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const s=this.getPluginState(),r=!this.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=s=>{this.el.contains(s.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=s=>{const r=Uv(this.el.querySelectorAll(bS));s?r.forEach(i=>{const l=i.getAttribute("tabindex");l&&(i.dataset.inertTabindex=l),i.setAttribute("tabindex","-1")}):r.forEach(i=>{"inertTabindex"in i.dataset?i.setAttribute("tabindex",i.dataset.inertTabindex):i.removeAttribute("tabindex")}),this.dashboardIsDisabled=s},this.updateBrowserHistory=()=>{var s;(s=history.state)!=null&&s[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=s=>{var r;this.isModalOpen()&&(!s.state||!s.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(r=s.state)!=null&&r[this.modalName]&&history.back()},this.handleKeyDownInModal=s=>{s.keyCode===Eae&&this.requestCloseModal(s),s.keyCode===n7&&YM(s,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=s=>{this.uppy.iteratePlugins(i=>{i.type==="acquirer"&&(i.handleRootPaste==null||i.handleRootPaste(s))});const r=Uv(s.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))},this.handleInputChange=s=>{s.preventDefault();const r=Uv(s.target.files);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))},this.handleDragOver=s=>{var r,i;s.preventDefault(),s.stopPropagation();const l=()=>{let p=!0;return this.uppy.iteratePlugins(f=>{f.canHandleRootDrop!=null&&f.canHandleRootDrop(s)&&(p=!0)}),p},c=()=>{const{types:p}=s.dataTransfer;return p.some(f=>f==="Files")},u=l(),d=c();if(!u&&!d||this.opts.disabled||this.opts.disableLocalFiles&&(d||!u)||!this.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}s.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(r=(i=this.opts).onDragOver)==null||r.call(i,s)},this.handleDragLeave=s=>{var r,i;s.preventDefault(),s.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(r=(i=this.opts).onDragLeave)==null||r.call(i,s)},this.handleDrop=async s=>{var r,i;s.preventDefault(),s.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(d=>{d.type==="acquirer"&&(d.handleRootDrop==null||d.handleRootDrop(s))});let l=!1;const c=d=>{this.uppy.log(d,"error"),l||(this.uppy.info(d.message,"error"),l=!0)},u=await foe(s.dataTransfer,{logDropError:c});u.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(u)),(r=(i=this.opts).onDrop)==null||r.call(i,s)},this.handleRequestThumbnail=s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",s)},this.handleCancelThumbnail=s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",s)},this.handleKeyDownInInline=s=>{s.keyCode===n7&&woe(s,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=s=>{this.el.contains(document.activeElement)&&this.handlePaste(s)},this.handleComplete=s=>{let{failed:r}=s;this.opts.closeAfterFinish&&r.length===0&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,jc,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;const s=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:s});const l={...r[0],preview:void 0};i.requestThumbnail(l).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,H1,{writable:!0,value:s=>{const r=s[0];this.canEditFile(r)&&this.openFileEditor(r)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const s=WP(this.opts.trigger);s?s.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",La(this,jc)[jc]),this.uppy.on("file-removed",La(this,jc)[jc]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",La(this,H1)[H1])},this.removeEvents=()=>{const s=WP(this.opts.trigger);!this.opts.inline&&s&&s.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",La(this,jc)[jc]),this.uppy.off("file-removed",La(this,jc)[jc]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",La(this,H1)[H1])},this.superFocusOnEachUpdate=()=>{const s=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,l=!this.opts.inline;i&&(l||s||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableAllFocusableElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(s,r)=>{this.uppy.setFileMeta(r,s),this.toggleFileCard(!1,r)},Object.defineProperty(this,rp,{writable:!0,value:s=>{const r=this.uppy.getPlugin(s.id);return{...s,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}}}),Object.defineProperty(this,Z5,{writable:!0,value:s=>{const r=this.uppy.getPlugin(s.id);return typeof r.isSupported!="function"?!0:r.isSupported()}}),Object.defineProperty(this,J5,{writable:!0,value:Q5(s=>s.filter(r=>r.type==="acquirer"&&La(this,Z5)[Z5](r)).map(La(this,rp)[rp]))}),Object.defineProperty(this,q5,{writable:!0,value:Q5(s=>s.filter(r=>r.type==="progressindicator").map(La(this,rp)[rp]))}),Object.defineProperty(this,zc,{writable:!0,value:Q5(s=>s.filter(r=>r.type==="editor").map(La(this,rp)[rp]))}),this.render=s=>{const r=this.getPluginState(),{files:i,capabilities:l,allowNewUpload:c}=s,{newFiles:u,uploadStartedFiles:d,completeFiles:p,erroredFiles:f,inProgressFiles:g,inProgressNotPausedFiles:v,processingFiles:y,isUploadStarted:w,isAllComplete:b,isAllErrored:C,isAllPaused:V}=this.uppy.getObjectOfFilesPerState(),_=La(this,J5)[J5](r.targets),x=La(this,q5)[q5](r.targets),S=La(this,zc)[zc](r.targets);let P;return this.opts.theme==="auto"?P=l.darkMode?"dark":"light":P=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Vae({state:s,isHidden:r.isHidden,files:i,newFiles:u,uploadStartedFiles:d,completeFiles:p,erroredFiles:f,inProgressFiles:g,inProgressNotPausedFiles:v,processingFiles:y,isUploadStarted:w,isAllComplete:b,isAllErrored:C,isAllPaused:V,totalFileCount:Object.keys(i).length,totalProgress:s.totalProgress,allowNewUpload:c,acquirers:_,theme:P,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:x,editors:S,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:s.recoveredState,metaFields:r.metaFields,resumableUploads:l.resumableUploads||!1,individualCancellation:l.individualCancellation,isMobileDevice:l.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins(s=>{s&&!s.target&&s.opts&&s.opts.target===this.constructor&&this.addTarget(s)})},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:s,closeAfterFinish:r}=this.opts;if(s&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:l}=this.uppy.opts;(i||l)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:c}=this.opts;c&&this.mount(c,this),(this.opts.plugins||[]).forEach(p=>{const f=this.uppy.getPlugin(p);f&&f.mount(this,f)}),this.opts.disableStatusBar||this.uppy.use(kM,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(IM,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(jM,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const d=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${d?"on":"off"}`),this.setDarkModeCapability(d),this.opts.theme==="auto"&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const r=this.uppy.getPlugin(`${this.id}:Informer`);r&&this.uppy.removePlugin(r)}if(!this.opts.disableStatusBar){const r=this.uppy.getPlugin(`${this.id}:StatusBar`);r&&this.uppy.removePlugin(r)}if(!this.opts.disableThumbnailGenerator){const r=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);r&&this.uppy.removePlugin(r)}(this.opts.plugins||[]).forEach(r=>{const i=this.uppy.getPlugin(r);i&&i.unmount()}),this.opts.theme==="auto"&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${p$()}`,this.defaultLocale=Cae;const a={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Tae,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.cancelAll(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...a,...n},this.i18nInit(),this.superFocus=Doe(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}};tF.VERSION=Pae.version;function Rae(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),o=Object.keys(e),a=n.length;if(o.length!==a)return!1;for(var s=0;s<a;s++){var r=n[s];if(t[r]!==e[r]||!Object.prototype.hasOwnProperty.call(e,r))return!1}return!0}const Oae=function(){return arguments.length>0&&typeof(arguments.length<=0?void 0:arguments[0])=="function"},kae=window.Vue,Aae={data(){return{plugin:{}}},props:{uppy:{required:!0},props:{type:Object},plugins:{type:Array}},mounted(){this.installPlugin()},methods:{installPlugin(){const{uppy:t}=this,e={id:"vue:Dashboard",inline:!0,plugins:this.plugins,...this.props,target:this.$refs.container};t.use(tF,e),this.plugin=t.getPlugin(e.id)},uninstallPlugin(t){t.removePlugin(this.plugin)}},beforeDestroy(){this.uninstallPlugin(this.uppy)},beforeUnmount(){this.uninstallPlugin(this.uppy)},watch:{uppy(t,e){e!==t&&(this.uninstallPlugin(e),this.installPlugin())},props(t,e){Rae(t,e)||this.plugin.setOptions({...t})}},render(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Oae(...e)){const[o]=e;return o("div",{ref:"container"})}return kae.h("div",{ref:"container"})}},nF=Array.from;function Iae(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function oF(t,e,n,o){let{onSuccess:a}=o;t.readEntries(s=>{const r=[...e,...s];s.length?queueMicrotask(()=>{oF(t,r,n,{onSuccess:a})}):a(r)},s=>{n(s),a(e)})}function aF(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((n,o)=>t.file(n,o))},async*values(){const n=t.createReader();yield*await new Promise(a=>{oF(n,[],e,{onSuccess:s=>a(s.map(r=>aF(r,e)))})})}}}async function*sF(t,e){if(t.kind==="file"){const n=await t.getFile();n!==null&&(n.relativePath=e?`${e}/${t.name}`:null,yield n)}else if(t.kind==="directory")for await(const n of t.values())yield*sF(n,`${e}/${t.name}`)}async function*Mae(t,e){const n=await Promise.all(Array.from(t.items,async o=>{var a;const s=o.getAsFile(),r=(a=await(o.getAsFileSystemHandle==null?void 0:o.getAsFileSystemHandle()))!=null?a:aF(o.webkitGetAsEntry(),e);return{lastResortFile:s,entry:r}}));for(const{lastResortFile:o,entry:a}of n)if(a!=null)try{yield*sF(a,"")}catch(s){o?yield o:e(s)}}function Fae(t){const e=nF(t.files);return Promise.resolve(e)}async function Dae(t,e){let{logDropError:n=()=>{}}=e===void 0?{}:e;try{const o=[];for await(const a of Mae(t,n))o.push(a);return o}catch{return Fae(t)}}const Nae={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},Hae={version:"3.0.1"};class xS extends Yd{constructor(e,n){super(e,n),this.handleDrop=async a=>{var s,r;a.preventDefault(),a.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});const i=c=>{this.uppy.log(c,"error")},l=await Dae(a.dataTransfer,{logDropError:i});l.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(l)),(s=(r=this.opts).onDrop)==null||s.call(r,a)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=Nae;const o={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};this.opts={...o,...n},this.i18nInit(),this.isDragDropSupported=Iae(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(e){const n=e.map(o=>({source:this.id,name:o.name,type:o.type,data:o,meta:{relativePath:o.relativePath||null}}));try{this.uppy.addFiles(n)}catch(o){this.uppy.log(o)}}onInputChange(e){const n=nF(e.target.files);n.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(n)),e.target.value=null}handleDragOver(e){var n,o;e.preventDefault(),e.stopPropagation();const{types:a}=e.dataTransfer,s=a.some(i=>i==="Files"),{allowNewUpload:r}=this.uppy.getState();if(!s||!r){e.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(n=(o=this.opts).onDragOver)==null||n.call(o,e)}handleDragLeave(e){var n,o;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(n=(o=this.opts).onDragLeave)==null||n.call(o,e)}renderHiddenFileInput(){const{restrictions:e}=this.uppy.opts;return j("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:n=>{this.fileInputRef=n},name:this.opts.inputName,multiple:e.maxNumberOfFiles!==1,accept:e.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return j("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},j("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return j("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:j("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return j("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){const e=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,n={width:this.opts.width,height:this.opts.height};return j("button",{type:"button",className:e,style:n,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),j("div",{className:"uppy-DragDrop-inner"},xS.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:e}=this.opts;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}uninstall(){this.unmount()}}xS.VERSION=Hae.version;const Bae={version:"3.0.1"};class Lae extends Yd{constructor(e,n){super(e,n),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";const o={target:"body",fixed:!1,hideAfterFinish:!0};this.opts={...o,...n},this.render=this.render.bind(this)}render(e){const n=e.totalProgress||0,o=(n===0||n===100)&&this.opts.hideAfterFinish;return j("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":o},j("div",{className:"uppy-ProgressBar-inner",style:{width:`${n}%`}}),j("div",{className:"uppy-ProgressBar-percentage"},n))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}Lae.VERSION=Bae.version;class _S extends Error{constructor(e,n){n===void 0&&(n=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=e,this.isNetworkError=!0,this.request=n}}function ex(){return fetch(...arguments).catch(t=>{throw t.name==="AbortError"?t:new _S(t)})}class Uae extends Error{constructor(e,n){n===void 0&&(n={}),super(e),this.cause=n.cause,this.cause&&vM(this.cause,"isNetworkError")&&(this.isNetworkError=this.cause.isNetworkError)}}class jae extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}}let rF;function Js(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var zae=0;function h$(t){return"__private_"+zae+++"_"+t}const Gae={version:"3.0.2"};function Wae(t){return t.replace(/\/$/,"")}async function tx(t){if(t.status===401)throw new jae;const e=t.json();if(t.status<200||t.status>300){let n=`Failed request with status: ${t.status}. ${t.statusText}`;try{const o=await e;n=o.message?`${n} message: ${o.message}`:n,n=o.requestId?`${n} request-Id: ${o.requestId}`:n}finally{throw new Error(n)}}return e}var Gc=h$("companionHeaders"),ip=h$("getPostResponseFunc"),_u=h$("getUrl"),lp=h$("errorHandler");rF=Symbol.for("uppy test: getCompanionHeaders");class Vh{constructor(e,n){Object.defineProperty(this,lp,{value:Yae}),Object.defineProperty(this,_u,{value:Kae}),Object.defineProperty(this,Gc,{writable:!0,value:void 0}),Object.defineProperty(this,ip,{writable:!0,value:o=>a=>o?a:this.onReceiveResponse(a)}),this.uppy=e,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1,Js(this,Gc)[Gc]=n==null?void 0:n.companionHeaders}setCompanionHeaders(e){Js(this,Gc)[Gc]=e}[rF](){return Js(this,Gc)[Gc]}get hostname(){const{companion:e}=this.uppy.getState(),n=this.opts.companionUrl;return Wae(e&&e[n]?e[n]:n)}headers(){return Promise.resolve({...Vh.defaultHeaders,...Js(this,Gc)[Gc]})}onReceiveResponse(e){const o=this.uppy.getState().companion||{},a=this.opts.companionUrl,{headers:s}=e;return s.has("i-am")&&s.get("i-am")!==o[a]&&this.uppy.setState({companion:{...o,[a]:s.get("i-am")}}),e}preflight(e){return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Js(this,_u)[_u](e),{method:"OPTIONS"}).then(n=>(n.headers.has("access-control-allow-headers")&&(this.allowedHeaders=n.headers.get("access-control-allow-headers").split(",").map(o=>o.trim().toLowerCase())),this.preflightDone=!0,this.allowedHeaders.slice())).catch(n=>(this.uppy.log(`[CompanionClient] unable to make preflight request ${n}`,"warning"),this.preflightDone=!0,this.allowedHeaders.slice()))}preflightAndHeaders(e){return Promise.all([this.preflight(e),this.headers()]).then(n=>{let[o,a]=n;return Object.keys(a).forEach(s=>{o.includes(s.toLowerCase())||(this.uppy.log(`[CompanionClient] excluding disallowed header ${s}`),delete a[s])}),a})}get(e,n){const o="get";return this.preflightAndHeaders(e).then(a=>ex(Js(this,_u)[_u](e),{method:o,headers:a,credentials:this.opts.companionCookiesRule||"same-origin"})).then(Js(this,ip)[ip](n)).then(tx).catch(Js(this,lp)[lp](o,e))}post(e,n,o){const a="post";return this.preflightAndHeaders(e).then(s=>ex(Js(this,_u)[_u](e),{method:a,headers:s,credentials:this.opts.companionCookiesRule||"same-origin",body:JSON.stringify(n)})).then(Js(this,ip)[ip](o)).then(tx).catch(Js(this,lp)[lp](a,e))}delete(e,n,o){const a="delete";return this.preflightAndHeaders(e).then(s=>ex(`${this.hostname}/${e}`,{method:a,headers:s,credentials:this.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null})).then(Js(this,ip)[ip](o)).then(tx).catch(Js(this,lp)[lp](a,e))}}function Kae(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`}function Yae(t,e){return n=>{var o;return(o=n)!=null&&o.isAuthError||(n=new Uae(`Could not ${t} ${Js(this,_u)[_u](e)}`,{cause:n})),Promise.reject(n)}}Vh.VERSION=Gae.version;Vh.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${Vh.VERSION}`};function Xae(t,e){return new Promise(n=>{localStorage.setItem(t,e),n()})}function Qae(t){return Promise.resolve(localStorage.getItem(t))}function Zae(t){return new Promise(e=>{localStorage.removeItem(t),e()})}const Jae=Object.freeze(Object.defineProperty({__proto__:null,getItem:Qae,removeItem:Zae,setItem:Xae},Symbol.toStringTag,{value:"Module"})),qae=t=>t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");class ese extends Vh{constructor(e,n){super(e,n),this.provider=n.provider,this.id=this.provider,this.name=this.opts.name||qae(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}headers(){return Promise.all([super.headers(),this.getAuthToken()]).then(e=>{let[n,o]=e;const a={};return o&&(a["uppy-auth-token"]=o),this.companionKeysParams&&(a["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...n,...a}})}onReceiveResponse(e){e=super.onReceiveResponse(e);const n=this.uppy.getPlugin(this.pluginId),a=n.getPluginState().authenticated?e.status!==401:e.status<400;return n.setPluginState({authenticated:a}),e}setAuthToken(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}async ensurePreAuth(){if(this.companionKeysParams&&!this.preAuthToken&&(await this.fetchPreAuthToken(),!this.preAuthToken))throw new Error("Could not load authentication data required for third-party login. Please try again later.")}authUrl(e){e===void 0&&(e={});const n=new URLSearchParams(e);return this.preAuthToken&&n.set("uppyPreAuthToken",this.preAuthToken),`${this.hostname}/${this.id}/connect?${n}`}fileUrl(e){return`${this.hostname}/${this.id}/get/${e}`}async fetchPreAuthToken(){if(this.companionKeysParams)try{const e=await this.post(`${this.id}/preauth/`,{params:this.companionKeysParams});this.preAuthToken=e.token}catch(e){this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${e}`,"warning")}}list(e){return this.get(`${this.id}/list/${e||""}`)}logout(){return this.get(`${this.id}/logout`).then(e=>Promise.all([e,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(e=>{let[n]=e;return n})}static initPlugin(e,n,o){if(e.type="acquirer",e.files=[],o&&(e.opts={...o,...n}),n.serverUrl||n.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(n.companionAllowedHosts){const a=n.companionAllowedHosts;if(typeof a!="string"&&!Array.isArray(a)&&!(a instanceof RegExp))throw new TypeError(`${e.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);e.opts.companionAllowedHosts=a}else/^(?!https?:\/\/).*$/i.test(n.companionUrl)?e.opts.companionAllowedHosts=`https://${n.companionUrl.replace(/^\/\//,"")}`:e.opts.companionAllowedHosts=new URL(n.companionUrl).origin;e.storage=e.opts.storage||Jae}}let iF,lF;function Oo(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var tse=0;function C0(t){return"__private_"+tse+++"_"+t}var Wc=C0("queued"),cp=C0("emitter"),zi=C0("isOpen"),cs=C0("socket"),nx=C0("handleMessage");iF=Symbol.for("uppy test: getSocket");lF=Symbol.for("uppy test: getQueued");class nse{constructor(e){Object.defineProperty(this,Wc,{writable:!0,value:[]}),Object.defineProperty(this,cp,{writable:!0,value:wM()}),Object.defineProperty(this,zi,{writable:!0,value:!1}),Object.defineProperty(this,cs,{writable:!0,value:void 0}),Object.defineProperty(this,nx,{writable:!0,value:n=>{try{const o=JSON.parse(n.data);this.emit(o.action,o.payload)}catch(o){console.log(o)}}}),this.opts=e,(!e||e.autoOpen!==!1)&&this.open()}get isOpen(){return Oo(this,zi)[zi]}[iF](){return Oo(this,cs)[cs]}[lF](){return Oo(this,Wc)[Wc]}open(){Oo(this,cs)[cs]=new WebSocket(this.opts.target),Oo(this,cs)[cs].onopen=()=>{for(Oo(this,zi)[zi]=!0;Oo(this,Wc)[Wc].length>0&&Oo(this,zi)[zi];){const e=Oo(this,Wc)[Wc].shift();this.send(e.action,e.payload)}},Oo(this,cs)[cs].onclose=()=>{Oo(this,zi)[zi]=!1},Oo(this,cs)[cs].onmessage=Oo(this,nx)[nx]}close(){var e;(e=Oo(this,cs)[cs])==null||e.close()}send(e,n){if(!Oo(this,zi)[zi]){Oo(this,Wc)[Wc].push({action:e,payload:n});return}Oo(this,cs)[cs].send(JSON.stringify({action:e,payload:n}))}on(e,n){Oo(this,cp)[cp].on(e,n)}emit(e,n){Oo(this,cp)[cp].emit(e,n)}once(e,n){Oo(this,cp)[cp].once(e,n)}}function ose(t,e,n){const{progress:o,bytesUploaded:a,bytesTotal:s}=e;o&&(t.uppy.log(`Upload progress: ${o}`),t.uppy.emit("upload-progress",n,{uploader:t,bytesUploaded:a,bytesTotal:s}))}const ase=fS(ose,300,{leading:!0,trailing:!0});function sse(t){const n=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(t)[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${n}`}function rse(t){const e=[],n=[];function o(r){e.push(r)}function a(r){n.push(r)}return Promise.all(t.map(r=>r.then(o,a))).then(()=>({successful:e,failed:n}))}function B1(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var ise=0;function cF(t){return"__private_"+ise+++"_"+t}var up=cF("emitter"),L1=cF("events");class a7{constructor(e){Object.defineProperty(this,up,{writable:!0,value:void 0}),Object.defineProperty(this,L1,{writable:!0,value:[]}),B1(this,up)[up]=e}on(e,n){return B1(this,L1)[L1].push([e,n]),B1(this,up)[up].on(e,n)}remove(){for(const[e,n]of B1(this,L1)[L1].splice(0))B1(this,up)[up].off(e,n)}}function ai(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var lse=0;function f$(t){return"__private_"+lse+++"_"+t}var Kc=f$("aliveTimer"),dp=f$("isDone"),U1=f$("onTimedOut"),pp=f$("timeout");class s7{constructor(e,n){Object.defineProperty(this,Kc,{writable:!0,value:void 0}),Object.defineProperty(this,dp,{writable:!0,value:!1}),Object.defineProperty(this,U1,{writable:!0,value:void 0}),Object.defineProperty(this,pp,{writable:!0,value:void 0}),ai(this,pp)[pp]=e,ai(this,U1)[U1]=n}progress(){ai(this,dp)[dp]||ai(this,pp)[pp]>0&&(clearTimeout(ai(this,Kc)[Kc]),ai(this,Kc)[Kc]=setTimeout(ai(this,U1)[U1],ai(this,pp)[pp]))}done(){ai(this,dp)[dp]||(clearTimeout(ai(this,Kc)[Kc]),ai(this,Kc)[Kc]=null,ai(this,dp)[dp]=!0)}}function xt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var cse=0;function nr(t){return"__private_"+cse+++"_"+t}function use(){return new Error("Cancelled")}var Or=nr("activeRequests"),Ss=nr("queuedHandlers"),Er=nr("paused"),hp=nr("pauseTimer"),us=nr("downLimit"),fp=nr("upperLimit"),Yc=nr("rateLimitingTimer"),jv=nr("call"),Pu=nr("queueNext"),WC=nr("next"),ox=nr("queue"),KC=nr("dequeue"),ax=nr("resume"),mp=nr("increaseLimit");class dse{constructor(e){Object.defineProperty(this,KC,{value:gse}),Object.defineProperty(this,ox,{value:mse}),Object.defineProperty(this,WC,{value:fse}),Object.defineProperty(this,Pu,{value:hse}),Object.defineProperty(this,jv,{value:pse}),Object.defineProperty(this,Or,{writable:!0,value:0}),Object.defineProperty(this,Ss,{writable:!0,value:[]}),Object.defineProperty(this,Er,{writable:!0,value:!1}),Object.defineProperty(this,hp,{writable:!0,value:void 0}),Object.defineProperty(this,us,{writable:!0,value:1}),Object.defineProperty(this,fp,{writable:!0,value:void 0}),Object.defineProperty(this,Yc,{writable:!0,value:void 0}),Object.defineProperty(this,ax,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,mp,{writable:!0,value:()=>{if(xt(this,Er)[Er]){xt(this,Yc)[Yc]=setTimeout(xt(this,mp)[mp],0);return}xt(this,us)[us]=this.limit,this.limit=Math.ceil((xt(this,fp)[fp]+xt(this,us)[us])/2);for(let n=xt(this,us)[us];n<=this.limit;n++)xt(this,Pu)[Pu]();xt(this,fp)[fp]-xt(this,us)[us]>3?xt(this,Yc)[Yc]=setTimeout(xt(this,mp)[mp],2e3):xt(this,us)[us]=Math.floor(xt(this,us)[us]/2)}}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,n){return!xt(this,Er)[Er]&&xt(this,Or)[Or]<this.limit?xt(this,jv)[jv](e):xt(this,ox)[ox](e,n)}wrapPromiseFunction(e,n){var o=this;return function(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];let i;const l=new Promise((c,u)=>{i=o.run(()=>{let d,p;try{p=Promise.resolve(e(...s))}catch(f){p=Promise.reject(f)}return p.then(f=>{d?u(d):(i.done(),c(f))},f=>{d?u(d):(i.done(),u(f))}),()=>{d=use()}},n)});return l.abort=()=>{i.abort()},l}}resume(){xt(this,Er)[Er]=!1,clearTimeout(xt(this,hp)[hp]);for(let e=0;e<this.limit;e++)xt(this,Pu)[Pu]()}pause(e){e===void 0&&(e=null),xt(this,Er)[Er]=!0,clearTimeout(xt(this,hp)[hp]),e!=null&&(xt(this,hp)[hp]=setTimeout(xt(this,ax)[ax],e))}rateLimit(e){clearTimeout(xt(this,Yc)[Yc]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(xt(this,fp)[fp]=this.limit-1,this.limit=xt(this,us)[us],xt(this,Yc)[Yc]=setTimeout(xt(this,mp)[mp],e))}get isPaused(){return xt(this,Er)[Er]}}function pse(t){xt(this,Or)[Or]+=1;let e=!1,n;try{n=t()}catch(o){throw xt(this,Or)[Or]-=1,o}return{abort:()=>{e||(e=!0,xt(this,Or)[Or]-=1,n(),xt(this,Pu)[Pu]())},done:()=>{e||(e=!0,xt(this,Or)[Or]-=1,xt(this,Pu)[Pu]())}}}function hse(){queueMicrotask(()=>xt(this,WC)[WC]())}function fse(){if(xt(this,Er)[Er]||xt(this,Or)[Or]>=this.limit||xt(this,Ss)[Ss].length===0)return;const t=xt(this,Ss)[Ss].shift(),e=xt(this,jv)[jv](t.fn);t.abort=e.abort,t.done=e.done}function mse(t,e){e===void 0&&(e={});const n={fn:t,priority:e.priority||0,abort:()=>{xt(this,KC)[KC](n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},o=xt(this,Ss)[Ss].findIndex(a=>n.priority>a.priority);return o===-1?xt(this,Ss)[Ss].push(n):xt(this,Ss)[Ss].splice(o,0,n),n}function gse(t){const e=xt(this,Ss)[Ss].indexOf(t);e!==-1&&xt(this,Ss)[Ss].splice(e,1)}const sx=Symbol("__queue");function uF(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}const vse={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function rx(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var yse=0;function dF(t){return"__private_"+yse+++"_"+t}const wse={version:"3.0.4"};function r7(t,e){let n=e;return n||(n=new Error("Upload error")),typeof n=="string"&&(n=new Error(n)),n instanceof Error||(n=Object.assign(new Error("Upload error"),{data:n})),uF(t)?(n=new _S(n,t),n):(n.request=t,n)}function i7(t){return t.data.slice(0,t.data.size,t.meta.type)}var j1=dF("queueRequestSocketToken"),ix=dF("requestSocketToken");class pF extends TM{constructor(e,n){super(e,n),Object.defineProperty(this,j1,{writable:!0,value:void 0}),Object.defineProperty(this,ix,{writable:!0,value:async a=>{const s=this.getOptions(a),r=a.remote.providerOptions.provider?ese:Vh,i=new r(this.uppy,a.remote.providerOptions),l=Array.isArray(s.allowedMetaFields)?s.allowedMetaFields:Object.keys(a.meta);return(await i.post(a.remote.url,{...a.remote.body,protocol:"multipart",endpoint:s.endpoint,size:a.data.size,fieldname:s.fieldName,metadata:Object.fromEntries(l.map(u=>[u,a.meta[u]])),httpMethod:s.method,useFormData:s.formData,headers:s.headers})).token}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=vse;const o={formData:!0,fieldName:n.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(a){let s={};try{s=JSON.parse(a)}catch(r){e.log(r)}return s},getResponseError(a,s){let r=new Error("Upload error");return uF(s)&&(r=new _S(r,s)),r},validateStatus(a){return a>=200&&a<300}};if(this.opts={...o,...n},this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),sx in this.opts?this.requests=this.opts[sx]:this.requests=new dse(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((n==null?void 0:n.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null),rx(this,j1)[j1]=this.requests.wrapPromiseFunction(rx(this,ix)[ix],{priority:-1})}getOptions(e){const n=this.uppy.getState().xhrUpload,{headers:o}=this.opts,a={...this.opts,...n||{},...e.xhrUpload||{},headers:{}};return typeof o=="function"?a.headers=o(e):Object.assign(a.headers,this.opts.headers),n&&Object.assign(a.headers,n.headers),e.xhrUpload&&Object.assign(a.headers,e.xhrUpload.headers),a}addMetadata(e,n,o){(Array.isArray(o.allowedMetaFields)?o.allowedMetaFields:Object.keys(n)).forEach(s=>{e.append(s,n[s])})}createFormDataUpload(e,n){const o=new FormData;this.addMetadata(o,e.meta,n);const a=i7(e);return e.name?o.append(n.fieldName,a,e.meta.name):o.append(n.fieldName,a),o}createBundledUpload(e,n){const o=new FormData,{meta:a}=this.uppy.getState();return this.addMetadata(o,a,n),e.forEach(s=>{const r=this.getOptions(s),i=i7(s);s.name?o.append(r.fieldName,i,s.name):o.append(r.fieldName,i)}),o}upload(e,n,o){const a=this.getOptions(e);return this.uppy.log(`uploading ${n} of ${o}`),new Promise((s,r)=>{this.uppy.emit("upload-started",e);const i=a.formData?this.createFormDataUpload(e,a):e.data,l=new XMLHttpRequest;this.uploaderEvents[e.id]=new a7(this.uppy);let c;const u=new s7(a.timeout,()=>{l.abort(),c.done();const p=new Error(this.i18n("timedOut",{seconds:Math.ceil(a.timeout/1e3)}));this.uppy.emit("upload-error",e,p),r(p)}),d=p$();l.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${d} started`)}),l.upload.addEventListener("progress",p=>{this.uppy.log(`[XHRUpload] ${d} progress: ${p.loaded} / ${p.total}`),u.progress(),p.lengthComputable&&this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:p.loaded,bytesTotal:p.total})}),l.addEventListener("load",()=>{if(this.uppy.log(`[XHRUpload] ${d} finished`),u.done(),c.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),a.validateStatus(l.status,l.responseText,l)){const v=a.getResponseData(l.responseText,l),y=v[a.responseUrlFieldName],w={status:l.status,body:v,uploadURL:y};return this.uppy.emit("upload-success",e,w),y&&this.uppy.log(`Download ${e.name} from ${y}`),s(e)}const p=a.getResponseData(l.responseText,l),f=r7(l,a.getResponseError(l.responseText,l)),g={status:l.status,body:p};return this.uppy.emit("upload-error",e,f,g),r(f)}),l.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${d} errored`),u.done(),c.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null);const p=r7(l,a.getResponseError(l.responseText,l));return this.uppy.emit("upload-error",e,p),r(p)}),l.open(a.method.toUpperCase(),a.endpoint,!0),l.withCredentials=a.withCredentials,a.responseType!==""&&(l.responseType=a.responseType),c=this.requests.run(()=>{this.uppy.emit("upload-started",e);const p=this.getOptions(e);return Object.keys(p.headers).forEach(f=>{l.setRequestHeader(f,p.headers[f])}),l.send(i),()=>{u.done(),l.abort()}}),this.onFileRemove(e.id,()=>{c.abort(),r(new Error("File removed"))}),this.onCancelAll(e.id,p=>{let{reason:f}=p;f==="user"&&c.abort(),r(new Error("Upload cancelled"))})})}async uploadRemote(e){try{if(this.uppy.emit("upload-started",e),e.serverToken)return this.connectToServerSocket(e);const n=await rx(this,j1)[j1](e);return this.uppy.getState().files[e.id]?(this.uppy.setFileState(e.id,{serverToken:n}),this.connectToServerSocket(this.uppy.getFile(e.id))):void 0}catch(n){throw this.uppy.emit("upload-error",e,n),n}}connectToServerSocket(e){return new Promise((n,o)=>{const a=this.getOptions(e),s=e.serverToken,r=sse(e.remote.companionUrl);let i;const l=()=>{i==null&&(i=new nse({target:`${r}/api/${s}`}),i.on("progress",d=>ase(this,d,e)),i.on("success",d=>{const p=a.getResponseData(d.response.responseText,d.response),f=p[a.responseUrlFieldName],g={status:d.response.status,body:p,uploadURL:f};return this.uppy.emit("upload-success",e,g),c.done(),i.close(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),n()}),i.on("error",d=>{const p=d.response,f=p?a.getResponseError(p.responseText,p):Object.assign(new Error(d.error.message),{cause:d.error});this.uppy.emit("upload-error",e,f),c.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),o(f)}))};this.uploaderEvents[e.id]=new a7(this.uppy);let c=this.requests.run(()=>{if(e.isPaused){var d;(d=i)==null||d.send("pause",{})}else l();return()=>i.close()});this.onFileRemove(e.id,()=>{var d;(d=i)==null||d.send("cancel",{}),c.abort(),n(`upload ${e.id} was removed`)}),this.onCancelAll(e.id,function(d){let{reason:p}=d===void 0?{}:d;if(p==="user"){var f;(f=i)==null||f.send("cancel",{}),c.abort()}n(`upload ${e.id} was canceled`)});const u=()=>{i==null?c.abort():(i.send("pause",{}),c.done()),c=this.requests.run(()=>(e.isPaused||(i==null?l():i.send("resume",{})),()=>i.close()))};this.onRetry(e.id,u),this.onRetryAll(e.id,u)}).catch(n=>(this.uppy.emit("upload-error",e,n),Promise.reject(n)))}uploadBundle(e){return new Promise((n,o)=>{const{endpoint:a}=this.opts,{method:s}=this.opts,r=this.uppy.getState().xhrUpload,i=this.createBundledUpload(e,{...this.opts,...r||{}}),l=new XMLHttpRequest,c=d=>{e.forEach(p=>{this.uppy.emit("upload-error",p,d)})},u=new s7(this.opts.timeout,()=>{l.abort();const d=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));c(d),o(d)});l.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),u.progress()}),l.upload.addEventListener("progress",d=>{u.progress(),d.lengthComputable&&e.forEach(p=>{this.uppy.emit("upload-progress",p,{uploader:this,bytesUploaded:d.loaded/d.total*p.size,bytesTotal:p.size})})}),l.addEventListener("load",d=>{if(u.done(),this.opts.validateStatus(d.target.status,l.responseText,l)){const f=this.opts.getResponseData(l.responseText,l),g={status:d.target.status,body:f};return e.forEach(v=>{this.uppy.emit("upload-success",v,g)}),n()}const p=this.opts.getResponseError(l.responseText,l)||new Error("Upload error");return p.request=l,c(p),o(p)}),l.addEventListener("error",()=>{u.done();const d=this.opts.getResponseError(l.responseText,l)||new Error("Upload error");return c(d),o(d)}),this.uppy.on("cancel-all",function(d){let{reason:p}=d===void 0?{}:d;p==="user"&&(u.done(),l.abort())}),l.open(s.toUpperCase(),a,!0),l.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(l.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(d=>{l.setRequestHeader(d,this.opts.headers[d])}),l.send(i),e.forEach(d=>{this.uppy.emit("upload-started",d)})})}uploadFiles(e){const n=e.map((o,a)=>{const s=parseInt(a,10)+1,r=e.length;return o.error?Promise.reject(new Error(o.error)):o.isRemote?this.uploadRemote(o,s,r):this.upload(o,s,r)});return rse(n)}onFileRemove(e,n){this.uploaderEvents[e].on("file-removed",o=>{e===o.id&&n(o.id)})}onRetry(e,n){this.uploaderEvents[e].on("upload-retry",o=>{e===o&&n()})}onRetryAll(e,n){this.uploaderEvents[e].on("retry-all",()=>{this.uppy.getFile(e)&&n()})}onCancelAll(e,n){var o=this;this.uploaderEvents[e].on("cancel-all",function(){o.uppy.getFile(e)&&n(...arguments)})}handleUpload(e){if(e.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[sx]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const n=e.map(o=>this.uppy.getFile(o));if(this.opts.bundle){if(n.some(a=>a.isRemote))throw new Error("Can’t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(n)}return this.uploadFiles(n).then(()=>null)}install(){if(this.opts.bundle){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!1}})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!0}})}this.uppy.removeUploader(this.handleUpload)}}pF.VERSION=wse.version;const VS={pluralize(){return 0}};VS.strings={addBulkFilesFailed:"内部错误导致添加 %{smart_count} 个文件失败",addMore:"添加更多文件",addMoreFiles:"添加更多文件",addingMoreFiles:"添加更多文件",allowAccessDescription:"为了通过您的相机进行拍照或录像，请给网站相机的访问权限",allowAccessTitle:"请允许对相机的访问权限",authenticateWith:"连接到 %{pluginName}",authenticateWithTitle:"请使用 %{pluginName} 进行认证以选择文件",back:"返回",browse:"浏览",browseFiles:"浏览",cancel:"取消",cancelUpload:"取消上传",chooseFiles:"选择文件",closeModal:"关闭窗口",companionError:"和 Companion 连接失败了",companionUnauthorizeHint:"请访问 %{url} 以认证您的 %{provider} 账户",complete:"上传完毕",connectedToInternet:"连接至网络",copyLink:"复制链接",copyLinkToClipboardFallback:"复制以下网址",copyLinkToClipboardSuccess:"链接已复制到剪贴板",creatingAssembly:"正在准备上传…",creatingAssemblyFailed:"Transloadit：无法创建程序集",dashboardTitle:"文件上传工具",dashboardWindowTitle:"文件上传工具窗口（点击离开以关闭）",dataUploadedOfTotal:"%{total} / %{complete}",done:"完成",dropHereOr:"拖拽文件到这里，或%{browse}",dropHint:"拖拽文件到这里",dropPasteBoth:"拖拽文件到这里，或者%{browse}文件",dropPasteFiles:"拖拽文件到这里，或者%{browse}文件",dropPasteFolders:"拖拽文件到这里，或者%{browse}文件",dropPasteImportBoth:"拖拽文件到这里，粘贴、%{browse}或者导入",dropPasteImportFiles:"拖拽文件到这里，粘贴、%{browse}或者导入",dropPasteImportFolders:"拖拽文件到这里，粘贴、%{browse}或者导入",editFile:"编辑文件",editing:"正在编辑 %{file}",emptyFolderAdded:"无法从空文件夹添加文件",encoding:"正在编码…",enterCorrectUrl:"错误链接： 请确认您输入的是文件的链接",enterUrlToImport:"输入链接或者导入文件",exceedsSize:"文件超过了最大尺寸限制 %{size}",failedToFetch:"Companion 无法抓取此链接，请确保它是正确的",failedToUpload:"上传 %{file} 失败",fileSource:"文件源：%{name}",filesUploadedOfTotal:"已上传 %{smart_count} 个文件中的 %{complete} 个",filter:"筛选器",finishEditingFile:"完成文件编辑",folderAdded:"从 %{folder} 添加了 %{smart_count} 个文件",generatingThumbnails:"正在生成缩略图…",import:"导入",importFrom:"从 %{name} 导入",inferiorSize:"文件大小必须超过 %{size}",loading:"正在载入…",logOut:"登出",micDisabled:"麦克风的权限访问被用户拒绝",myDevice:"我的设备",noCameraDescription:"为了拍摄照片或录制视频，请连接一个摄像设备",noCameraTitle:"摄像头不可用",noDuplicates:"无法添加重复文件 %{fileName}，该文件已存在",noFilesFound:"这里空空如也",noInternetConnection:"无法连接到网络",noMoreFilesAllowed:"无法添加新文件：已正在上传文件",openFolderNamed:"打开文件夹 %{name}",pause:"暂停",pauseUpload:"暂停上传",paused:"已暂停",poweredBy:"强力驱动于 %{uppy}",processingXFiles:"正在处理 %{smart_count} 个文件",recording:"正在录制",recordingLength:"录制长度 %{recording_length}",recordingStoppedMaxSize:"录像已停止，文件大小即将超过限制",removeFile:"删除文件",resetFilter:"重置筛选器",resume:"恢复",resumeUpload:"恢复上传",retry:"重试",retryUpload:"重试",saveChanges:"保存变更",selectFileNamed:"选择文件 %{name}",selectX:"选择 %{smart_count}",smile:"笑一笑！",startCapturing:"开始屏幕录制",startRecording:"开始视频录制",stopCapturing:"停止屏幕录制",stopRecording:"停止视频录制",streamActive:"视频流已激活",streamPassive:"视频流未激活",submitRecordedFile:"提交已录制视频",takePicture:"拍照",timedOut:"上传已超时 %{seconds} 秒，中止上传",unselectFileNamed:"取消选择文件 %{name}",upload:"上传",uploadComplete:"上传完成",uploadFailed:"上传失败",uploadPaused:"上传暂停",uploadXFiles:"上传 %{smart_count} 个文件",uploadXNewFiles:"新上传了 %{smart_count} 个文件",uploading:"正在上传",uploadingXFiles:"正在上传 %{smart_count} 个文件",xFilesSelected:"%{smart_count} 个文件待上传",xMoreFilesAdded:"又有 %{smart_count} 个文件被添加",xTimeLeft:"剩余 %{time}",youCanOnlyUploadFileTypes:"您只能上传这些文件类型：%{types}",youCanOnlyUploadX:"您只能上传 %{smart_count} 个文件",youHaveToAtLeastSelectX:"您至少要选择 %{smart_count} 个文件"};typeof Uppy<"u"&&(globalThis.Uppy.locales.zh_CN=VS);const bse=window.Vue.defineComponent,l7=window.Vue.unref,$se=window.Vue.openBlock,xse=window.Vue.createBlock,_se=window.Vue.computed,Vse=window.Vue.onUnmounted,Cse=window.HaloComponents.Toast,CS=bse({__name:"UppyUpload",props:{restrictions:{default:void 0},meta:{default:void 0},autoProceed:{type:Boolean,default:!1},allowedMetaFields:{default:void 0},endpoint:null,name:{default:"file"},note:{default:void 0},method:{default:"post"},disabled:{type:Boolean,default:!1}},emits:["uploaded"],setup(t,{emit:e}){const n=t,o=_se(()=>new PM({locale:VS,meta:n.meta,restrictions:n.restrictions,autoProceed:n.autoProceed}).use(pF,{endpoint:`${n.endpoint}`,allowedMetaFields:n.allowedMetaFields,withCredentials:!0,formData:!0,fieldName:n.name,method:n.method,limit:5,timeout:0,getResponseError:a=>{const s=JSON.parse(a),{title:r,detail:i}=s||{},l=[r,i].filter(Boolean).join(": ");return l?(Cse.error(l,{duration:5e3}),new Error(l)):new Error("Internal Server Error")}}));return o.value.on("upload-success",(a,s)=>{e("uploaded",s)}),Vse(()=>{o.value.close({reason:"unmount"})}),(a,s)=>($se(),xse(l7(Aae),{uppy:l7(o),props:{theme:"light",disabled:t.disabled,note:t.note}},null,8,["uppy","props"]))}}),hF=window.Vue.onMounted,Sse=window.Vue.onUnmounted,zv=window.Vue.ref;function SS(t){const{fetchOnMounted:e}=t||{},n=zv([]),o=zv(!1),a=zv(),s=async()=>{try{clearInterval(a.value),o.value=!0;const{data:r}=await X.extension.storage.policy.liststorageHaloRunV1alpha1Policy();n.value=r.items,n.value.filter(l=>!!l.metadata.deletionTimestamp).length&&(a.value=setInterval(()=>{s()},1e3))}catch(r){console.error("Failed to fetch attachment policies",r)}finally{o.value=!1}};return hF(()=>{e&&s()}),Sse(()=>{clearInterval(a.value)}),{policies:n,loading:o,handleFetchPolicies:s}}function fF(t){const{fetchOnMounted:e}=t||{},n=zv([]),o=zv(!1),a=async()=>{try{o.value=!0;const{data:s}=await X.extension.storage.policyTemplate.liststorageHaloRunV1alpha1PolicyTemplate();n.value=s.items}catch(s){console.error("Failed to fetch attachment policy templates",s)}finally{o.value=!1}};return hF(()=>{e&&a()}),{policyTemplates:n,loading:o,handleFetchPolicyTemplates:a}}const Pse=window.Vue.onMounted,Ese=window.Vue.onUnmounted,lx=window.Vue.ref;function m$(t){const{fetchOnMounted:e}=t||{},n=lx([]),o=lx(!1),a=lx(),s=async()=>{try{clearInterval(a.value),o.value=!0;const{data:r}=await X.extension.storage.group.liststorageHaloRunV1alpha1Group();n.value=r.items,n.value.filter(l=>!!l.metadata.deletionTimestamp).length&&(a.value=setInterval(()=>{s()},1e3))}catch(r){console.error("Failed to fetch attachment groups",r)}finally{o.value=!1}};return Pse(()=>{e&&s()}),Ese(()=>{clearInterval(a.value)}),{groups:n,loading:o,handleFetchGroups:s}}const Tse=window.Vue.defineComponent,cx=window.Vue.unref,Rse=window.Vue.toDisplayString,Ose=window.Vue.createTextVNode,kse=window.Vue.mergeProps,Ase=window.Vue.withCtx,Ise=window.Vue.openBlock,Mse=window.Vue.createBlock,Fse=window.HaloComponents.VButton,Dse=window.VueUse.useMagicKeys,Nse=window.Vue.computed,Hse=window.Vue.useAttrs,Bse=window.Vue.watchEffect,Vl=Tse({__name:"SubmitButton",props:{text:{default:"提交"}},emits:["submit"],setup(t,{emit:e}){const n=t,o=/macintosh|mac os x/i.test(navigator.userAgent),a=Hse(),s=Nse(()=>`${n.text} ${o?"⌘":"Ctrl"} + ↵`),{Command_Enter:r,Ctrl_Enter:i}=Dse();return Bse(()=>{(r.value||i.value)&&e("submit")}),(l,c)=>(Ise(),Mse(cx(Fse),kse(cx(a),{onClick:c[0]||(c[0]=u=>e("submit"))}),{default:Ase(()=>[Ose(Rse(cx(s)),1)]),_:1},16))}}),Lse=window.Vue.defineComponent,Gi=window.Vue.unref,c7=window.Vue.resolveComponent,hy=window.Vue.createVNode,z1=window.Vue.withCtx,ux=window.Vue.openBlock,dx=window.Vue.createBlock,u7=window.Vue.createCommentVNode,Use=window.Vue.createTextVNode,jse=window.HaloComponents.Toast,zse=window.HaloComponents.VButton,Gse=window.HaloComponents.VModal,Wse=window.HaloComponents.VSpace,G1=window.Vue.computed,d7=window.Vue.ref,p7=window.Vue.watch,h7=window.Vue.watchEffect,mF=Lse({__name:"AttachmentPolicyEditingModal",props:{visible:{type:Boolean,default:!1},policy:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o={spec:{displayName:"",templateName:"",configMapName:""},apiVersion:"storage.halo.run/v1alpha1",kind:"Policy",metadata:{name:"",generateName:"attachment-policy-"}},a=d7(ot(o)),s=d7(),r=G1(()=>{var x,S;return(S=(x=s.value)==null?void 0:x.spec)==null?void 0:S.settingName}),i=G1({get(){return a.value.spec.configMapName},set(x){a.value.spec.configMapName=x}}),{setting:l,configMapFormData:c,configMap:u,saving:d,handleFetchConfigMap:p,handleFetchSettings:f,handleSaveConfigMap:g,handleReset:v}=Nu(r,i),y=G1(()=>{var S;if(!l.value)return;const{forms:x}=l.value.spec;return(S=x.find(P=>P.group==="default"))==null?void 0:S.formSchema});h7(()=>{r.value&&f()}),h7(()=>{i.value&&l.value&&p()});const w=G1(()=>!!a.value.metadata.creationTimestamp),b=G1(()=>{var x,S,P;return w.value?`编辑策略：${(x=n.policy)==null?void 0:x.spec.displayName}`:`新增策略：${(P=(S=s.value)==null?void 0:S.spec)==null?void 0:P.displayName}`}),C=async()=>{try{d.value=!0,w.value||(u.value.metadata.name="",u.value.metadata.generateName="configMap-"),await g(),w.value?await X.extension.storage.policy.updatestorageHaloRunV1alpha1Policy({name:a.value.metadata.name,policy:a.value}):(a.value.spec.configMapName=u.value.metadata.name,await X.extension.storage.policy.createstorageHaloRunV1alpha1Policy({policy:a.value})),jse.success("保存成功"),_(!1)}catch(x){console.error("Failed to save attachment policy",x)}finally{d.value=!1}},V=()=>{a.value=ot(o),tr("attachment-policy-form")};p7(()=>n.visible,x=>{if(x)Ps("displayNameInput");else{const S=setTimeout(()=>{s.value=void 0,V(),v(),clearTimeout(S)},100)}}),p7(()=>n.policy,async x=>{if(x){a.value=ot(x);const{templateName:S}=a.value.spec;if(S){const{data:P}=await X.extension.storage.policyTemplate.getstorageHaloRunV1alpha1PolicyTemplate({name:S});s.value=P}}else setTimeout(()=>{s.value=void 0,V(),v()},100)});const _=x=>{e("update:visible",x),x||e("close")};return(x,S)=>{const P=c7("FormKit"),E=c7("FormKitSchema");return ux(),dx(Gi(Gse),{title:Gi(b),visible:t.visible,width:600,"onUpdate:visible":_},{footer:z1(()=>[hy(Gi(Wse),null,{default:z1(()=>[t.visible?(ux(),dx(Vl,{key:0,loading:Gi(d),type:"secondary",onSubmit:S[2]||(S[2]=O=>x.$formkit.submit("attachment-policy-form"))},null,8,["loading"])):u7("",!0),hy(Gi(zse),{onClick:S[3]||(S[3]=O=>_(!1))},{default:z1(()=>[Use("取消 Esc")]),_:1})]),_:1})]),default:z1(()=>[Gi(y)&&Gi(c)?(ux(),dx(P,{key:0,id:"attachment-policy-form",modelValue:Gi(c).default,"onUpdate:modelValue":S[1]||(S[1]=O=>Gi(c).default=O),name:"attachment-policy-form",actions:!1,preserve:!0,type:"form",config:{validationVisibility:"submit"},onSubmit:C},{default:z1(()=>[hy(P,{id:"displayNameInput",modelValue:a.value.spec.displayName,"onUpdate:modelValue":S[0]||(S[0]=O=>a.value.spec.displayName=O),label:"名称",type:"text",name:"displayName",validation:"required|length:0,50"},null,8,["modelValue"]),hy(E,{schema:Gi(y),data:Gi(c).default},null,8,["schema","data"])]),_:1},8,["modelValue"])):u7("",!0)]),_:1},8,["title","visible"])}}}),Kse=window.Vue.defineComponent,da=window.Vue.createElementVNode,gr=window.Vue.unref,px=window.Vue.renderList,fy=window.Vue.Fragment,Bl=window.Vue.openBlock,Gu=window.Vue.createElementBlock,my=window.Vue.toDisplayString,f7=window.Vue.normalizeClass,gy=window.Vue.createVNode,Yse=window.Vue.resolveDirective,Xse=window.Vue.withDirectives,Qse=window.Vue.resolveComponent,hx=window.Vue.withCtx,fx=window.Vue.createCommentVNode,m7=window.Vue.createBlock,Zse={class:"w-full p-4"},Jse=da("div",{class:"mb-2"},[da("span",{class:"text-sm text-gray-800"},"选择分组：")],-1),qse={class:"mb-3 grid grid-cols-2 gap-x-2 gap-y-3 sm:grid-cols-4"},ere=["onClick"],tre={class:"flex flex-1 items-center gap-2 truncate"},nre={class:"truncate text-sm"},ore=da("div",{class:"mb-2"},[da("span",{class:"text-sm text-gray-800"},"选择存储策略：")],-1),are={class:"mb-3 grid grid-cols-2 gap-x-2 gap-y-3 sm:grid-cols-4"},sre=["onClick"],rre={class:"flex flex-1 flex-col items-start truncate"},ire={class:"truncate text-sm"},lre={class:"text-xs"},cre={class:"flex h-full cursor-pointer items-center rounded-base bg-gray-100 p-2 text-gray-500 transition-all hover:bg-gray-200 hover:text-gray-900 hover:shadow-sm"},ure=da("div",{class:"flex flex-1 items-center truncate"},[da("span",{class:"truncate text-sm"},"新建策略")],-1),dre={class:"w-72 p-4"},pre={class:"space-y-1"},hre=["onClick"],fre={class:"truncate"},mre={key:0,class:"mb-3"},gre=window.HaloComponents.VModal,vre=window.HaloComponents.IconAddCircle,yre=window.HaloComponents.VAlert,mx=window.Vue.ref,gx=window.Vue.watch,g7=window.VueUse.useLocalStorage,gF=Kse({__name:"AttachmentUploadModal",props:{visible:{type:Boolean,default:!1}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,{groups:o,handleFetchGroups:a}=m$({fetchOnMounted:!1}),{policies:s,handleFetchPolicies:r}=SS({fetchOnMounted:!1}),{policyTemplates:i,handleFetchPolicyTemplates:l}=fF(),c=g7("attachment-upload-group",""),u=g7("attachment-upload-policy",""),d=mx(),p=mx(!1),f=mx(!1);gx(()=>o.value,()=>{if(c.value==="")return;o.value.find(b=>b.metadata.name===c.value)||(c.value=o.value.length>0?o.value[0].metadata.name:"")}),gx(()=>s.value,()=>{s.value.find(b=>b.metadata.name===u.value)||(u.value=s.value.length>0?s.value[0].metadata.name:"")});const g=w=>{d.value={spec:{displayName:"",templateName:w.metadata.name,configMapName:""},apiVersion:"storage.halo.run/v1alpha1",kind:"Policy",metadata:{name:"",generateName:"attachment-policy-"}},f.value=!0},v=async()=>{await r(),d.value=s.value[0]},y=w=>{e("update:visible",w),w||(e("close"),f.value=!1)};return gx(()=>n.visible,w=>{if(w)a(),r(),l(),p.value=!0;else{const b=setTimeout(()=>{p.value=!1,clearTimeout(b)},200)}}),(w,b)=>{const C=Qse("FloatingDropdown"),V=Yse("close-popper");return Bl(),Gu(fy,null,[gy(gr(gre),{"body-class":["!p-0"],visible:t.visible,width:650,title:"上传附件","onUpdate:visible":y},{default:hx(()=>[da("div",Zse,[Jse,da("div",qse,[(Bl(!0),Gu(fy,null,px([{metadata:{name:""},spec:{displayName:"未分组"}},...gr(o)],(_,x)=>(Bl(),Gu("div",{key:x,class:f7([{"!bg-gray-200 !text-gray-900":_.metadata.name===gr(c)},"flex cursor-pointer items-center rounded-base bg-gray-100 p-2 text-gray-500 transition-all hover:bg-gray-200 hover:text-gray-900 hover:shadow-sm"]),onClick:S=>c.value=_.metadata.name},[da("div",tre,[da("span",nre,my(_.spec.displayName),1)])],10,ere))),128))]),ore,da("div",are,[(Bl(!0),Gu(fy,null,px(gr(s),(_,x)=>(Bl(),Gu("div",{key:x,class:f7([{"!bg-gray-200 !text-gray-900":gr(u)===_.metadata.name},"flex cursor-pointer items-center rounded-base bg-gray-100 p-2 text-gray-500 transition-all hover:bg-gray-200 hover:text-gray-900 hover:shadow-sm"]),onClick:S=>u.value=_.metadata.name},[da("div",rre,[da("span",ire,my(_.spec.displayName),1),da("span",lre,my(_.spec.templateName),1)])],10,sre))),128)),gy(C,null,{popper:hx(()=>[da("div",dre,[da("ul",pre,[(Bl(!0),Gu(fy,null,px(gr(i),(_,x)=>{var S;return Xse((Bl(),Gu("li",{key:x,class:"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:P=>g(_)},[da("span",fre,my((S=_.spec)==null?void 0:S.displayName),1)],8,hre)),[[V]])}),128))])])]),default:hx(()=>[da("div",cre,[ure,gy(gr(vre))])]),_:1})]),gr(s).length<=0?(Bl(),Gu("div",mre,[gy(gr(yre),{title:"没有存储策略",description:"在上传之前，需要新建一个存储策略",closable:!1})])):fx("",!0),p.value?(Bl(),m7(CS,{key:1,endpoint:"/apis/api.console.halo.run/v1alpha1/attachments/upload",disabled:!gr(u),meta:{policyName:gr(u),groupName:gr(c)},"allowed-meta-fields":["policyName","groupName"],note:gr(u)?"":"请先选择存储策略"},null,8,["disabled","meta","note"])):fx("",!0)])]),_:1},8,["visible"]),t.visible?(Bl(),m7(mF,{key:0,visible:f.value,"onUpdate:visible":b[0]||(b[0]=_=>f.value=_),policy:d.value,onClose:v},null,8,["visible","policy"])):fx("",!0)],64)}}}),wre={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},bre=Ee("path",{fill:"#c5c5c5",d:"M20.414 2H5v28h22V8.586ZM7 28V4h12v6h6v18Z"},null,-1),$re=[bre];function xre(t,e){return wn(),bn("svg",wre,$re)}const _re={name:"vscode-icons-default-file",render:xre},Vre={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Cre=Ee("path",{fill:"#2dcc9f",d:"M30 5.851v20.298H2V5.851h28"},null,-1),Sre=Ee("path",{fill:"#fff",d:"M24.232 8.541a2.2 2.2 0 1 0 1.127.623a2.212 2.212 0 0 0-1.127-.623M18.111 20.1q-2.724-3.788-5.45-7.575L4.579 23.766h10.9q1.316-1.832 2.634-3.663M22.057 16q-2.793 3.882-5.584 7.765h11.169Q24.851 19.882 22.057 16Z"},null,-1),Pre=[Cre,Sre];function Ere(t,e){return wn(),bn("svg",Vre,Pre)}const W1={name:"vscode-icons-file-type-image",render:Ere},Tre={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Rre=Ee("path",{fill:"#0c0824",d:"M3.167 3.517h25.666v24.966H3.167Z"},null,-1),Ore=Ee("path",{fill:"#31c5f0",d:"M3.167 3.517h25.666v24.966H3.167ZM2 29.65h28V2.35H2Zm18.877-16.1c-.922 0-1.237.467-1.237.852c0 .42.21.712 1.447 1.353c1.832.887 2.4 1.738 2.4 2.987c0 1.867-1.423 2.87-3.348 2.87a5.076 5.076 0 0 1-2.392-.5c-.082-.035-.093-.093-.093-.187v-1.717c0-.117.058-.152.14-.093a4.33 4.33 0 0 0 2.345.688c.922 0 1.307-.385 1.307-.91c0-.42-.268-.793-1.447-1.4c-1.657-.793-2.345-1.6-2.345-2.94c0-1.505 1.178-2.753 3.22-2.753a5.365 5.365 0 0 1 2.088.327a.258.258 0 0 1 .117.233v1.6c0 .093-.058.152-.175.117a3.941 3.941 0 0 0-2.03-.525Zm-10.034 1.388c.268.023.478.023.945.023c1.365 0 2.648-.478 2.648-2.333c0-1.482-.922-2.228-2.473-2.228c-.467 0-.91.023-1.12.035Zm-2.077-6.2c0-.082.163-.14.257-.14a69.782 69.782 0 0 1 3.01-.058c3.232 0 4.492 1.773 4.492 4.037c0 2.963-2.147 4.235-4.783 4.235c-.443 0-.595-.023-.91-.023v4.48c0 .093-.035.14-.14.14H8.907c-.093 0-.14-.035-.14-.14V8.743Z"},null,-1),kre=[Rre,Ore];function Are(t,e){return wn(),bn("svg",Tre,kre)}const Ire={name:"vscode-icons-file-type-photoshop",render:Are},Mre={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Fre=Ee("path",{fill:"#1c0a00",d:"M3.169 3.517h25.666v24.966H3.169Z"},null,-1),Dre=Ee("path",{fill:"#ff7f18",d:"M3.169 3.517h25.666v24.966H3.169ZM2 29.65h28V2.35H2Zm18.34-17.57c0-.093.035-.14.14-.14h1.832c.093 0 .14.035.14.14v9.205c0 .093-.023.14-.14.14h-1.807c-.117 0-.152-.058-.152-.152V12.08h-.012Zm-.128-2.648a1.19 1.19 0 0 1 2.38 0a1.115 1.115 0 0 1-1.213 1.19a1.1 1.1 0 0 1-1.165-1.19Zm-5.25 6.487c-.327-1.3-1.1-4.118-1.388-5.483h-.023c-.245 1.365-.863 3.675-1.353 5.483Zm-3.243 1.89l-.922 3.5c-.023.093-.058.117-.175.117H8.909c-.117 0-.14-.035-.117-.175l3.313-11.6a3.779 3.779 0 0 0 .117-.968c0-.082.035-.117.093-.117h2.45c.082 0 .117.023.14.117l3.71 12.588c.023.093 0 .152-.093.152h-1.937c-.093 0-.152-.023-.175-.1l-.957-3.512H11.72Z"},null,-1),Nre=[Fre,Dre];function Hre(t,e){return wn(),bn("svg",Mre,Nre)}const Bre={name:"vscode-icons-file-type-ai",render:Hre},Lre={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ure=["id"],jre=Ee("stop",{offset:"0","stop-color":"#2368c4"},null,-1),zre=Ee("stop",{offset:".5","stop-color":"#1a5dbe"},null,-1),Gre=Ee("stop",{offset:"1","stop-color":"#1146ac"},null,-1),Wre=[jre,zre,Gre],Kre=y0('<path fill="#41a5ee" d="M28.806 3H9.705a1.192 1.192 0 0 0-1.193 1.191V9.5l11.069 3.25L30 9.5V4.191A1.192 1.192 0 0 0 28.806 3Z"></path><path fill="#2b7cd3" d="M30 9.5H8.512V16l11.069 1.95L30 16Z"></path><path fill="#185abd" d="M8.512 16v6.5l10.418 1.3L30 22.5V16Z"></path><path fill="#103f91" d="M9.705 29h19.1A1.192 1.192 0 0 0 30 27.809V22.5H8.512v5.309A1.192 1.192 0 0 0 9.705 29Z"></path><path d="M16.434 8.2H8.512v16.25h7.922a1.2 1.2 0 0 0 1.194-1.191V9.391A1.2 1.2 0 0 0 16.434 8.2Z" opacity=".1"></path><path d="M15.783 8.85H8.512V25.1h7.271a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191Z" opacity=".2"></path><path d="M15.783 8.85H8.512V23.8h7.271a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191Z" opacity=".2"></path><path d="M15.132 8.85h-6.62V23.8h6.62a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191Z" opacity=".2"></path>',8),Yre=["fill"],Xre=Ee("path",{fill:"#fff",d:"M6.9 17.988c.023.184.039.344.046.481h.028c.01-.13.032-.287.065-.47s.062-.338.089-.465l1.255-5.407h1.624l1.3 5.326a7.761 7.761 0 0 1 .162 1h.022a7.6 7.6 0 0 1 .135-.975l1.039-5.358h1.477l-1.824 7.748h-1.727l-1.237-5.126q-.054-.222-.122-.578t-.084-.52h-.021q-.021.189-.084.561c-.042.249-.075.432-.1.552L7.78 19.871H6.024L4.19 12.127h1.5l1.131 5.418a4.469 4.469 0 0 1 .079.443Z"},null,-1);function Qre(t,e){return wn(),bn("svg",Lre,[Ee("defs",null,[Ee("linearGradient",{id:t.idMap.svgIDa,x1:"4.494",x2:"13.832",y1:"-1712.086",y2:"-1695.914",gradientTransform:"translate(0 1720)",gradientUnits:"userSpaceOnUse"},Wre,8,Ure)]),Kre,Ee("path",{fill:"url(#"+t.idMap.svgIDa+")",d:"M3.194 8.85h11.938a1.193 1.193 0 0 1 1.194 1.191v11.918a1.193 1.193 0 0 1-1.194 1.191H3.194A1.192 1.192 0 0 1 2 21.959V10.041A1.192 1.192 0 0 1 3.194 8.85Z"},null,8,Yre),Xre])}const Zre={name:"vscode-icons-file-type-word",render:Qre,data(){return{idMap:{svgIDa:"uicons-"+(()=>Math.random().toString(36).substr(2,10))()}}}},Jre={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},qre=["id"],eie=Ee("stop",{offset:"0","stop-color":"#ca4c28"},null,-1),tie=Ee("stop",{offset:".5","stop-color":"#c5401e"},null,-1),nie=Ee("stop",{offset:"1","stop-color":"#b62f14"},null,-1),oie=[eie,tie,nie],aie=y0('<path fill="#ed6c47" d="M18.93 17.3L16.977 3h-.146A12.9 12.9 0 0 0 3.953 15.854V16Z"></path><path fill="#ff8f6b" d="M17.123 3h-.146v13l6.511 2.6L30 16v-.146A12.9 12.9 0 0 0 17.123 3Z"></path><path fill="#d35230" d="M30 16v.143A12.905 12.905 0 0 1 17.12 29h-.287a12.907 12.907 0 0 1-12.88-12.857V16Z"></path><path d="M17.628 9.389V23.26a1.2 1.2 0 0 1-.742 1.1a1.16 1.16 0 0 1-.45.091H7.027a10.08 10.08 0 0 1-.521-.65a12.735 12.735 0 0 1-2.553-7.657v-.286A12.705 12.705 0 0 1 6.05 8.85a8.82 8.82 0 0 1 .456-.65h9.93a1.2 1.2 0 0 1 1.192 1.189Z" opacity=".1"></path><path d="M16.977 10.04v13.871a1.15 1.15 0 0 1-.091.448a1.2 1.2 0 0 1-1.1.741H7.62q-.309-.314-.593-.65a10.08 10.08 0 0 1-.521-.65a12.735 12.735 0 0 1-2.553-7.657v-.286A12.705 12.705 0 0 1 6.05 8.85h9.735a1.2 1.2 0 0 1 1.192 1.19Z" opacity=".2"></path><path d="M16.977 10.04v12.571a1.2 1.2 0 0 1-1.192 1.189H6.506a12.735 12.735 0 0 1-2.553-7.657v-.286A12.705 12.705 0 0 1 6.05 8.85h9.735a1.2 1.2 0 0 1 1.192 1.19Z" opacity=".2"></path><path d="M16.326 10.04v12.571a1.2 1.2 0 0 1-1.192 1.189H6.506a12.735 12.735 0 0 1-2.553-7.657v-.286A12.705 12.705 0 0 1 6.05 8.85h9.084a1.2 1.2 0 0 1 1.192 1.19Z" opacity=".2"></path>',7),sie=["fill"],rie=Ee("path",{fill:"#fff",d:"M9.293 12.028a3.287 3.287 0 0 1 2.174.636a2.27 2.27 0 0 1 .756 1.841a2.555 2.555 0 0 1-.373 1.376a2.49 2.49 0 0 1-1.059.935a3.607 3.607 0 0 1-1.591.334H7.687v2.8H6.141v-7.922ZM7.686 15.94h1.331a1.735 1.735 0 0 0 1.177-.351a1.3 1.3 0 0 0 .4-1.025q0-1.309-1.525-1.31H7.686v2.686Z"},null,-1);function iie(t,e){return wn(),bn("svg",Jre,[Ee("defs",null,[Ee("linearGradient",{id:t.idMap.svgIDa,x1:"4.494",x2:"13.832",y1:"-1748.086",y2:"-1731.914",gradientTransform:"translate(0 1756)",gradientUnits:"userSpaceOnUse"},oie,8,qre)]),aie,Ee("path",{fill:"url(#"+t.idMap.svgIDa+")",d:"M3.194 8.85h11.938a1.193 1.193 0 0 1 1.194 1.191v11.918a1.193 1.193 0 0 1-1.194 1.191H3.194A1.192 1.192 0 0 1 2 21.959V10.041A1.192 1.192 0 0 1 3.194 8.85Z"},null,8,sie),rie])}const lie={name:"vscode-icons-file-type-powerpoint",render:iie,data(){return{idMap:{svgIDa:"uicons-"+(()=>Math.random().toString(36).substr(2,10))()}}}},cie={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},uie=["id"],die=Ee("stop",{offset:"0","stop-color":"#18884f"},null,-1),pie=Ee("stop",{offset:".5","stop-color":"#117e43"},null,-1),hie=Ee("stop",{offset:"1","stop-color":"#0b6631"},null,-1),fie=[die,pie,hie],mie=y0('<path fill="#185c37" d="M19.581 15.35L8.512 13.4v14.409A1.192 1.192 0 0 0 9.705 29h19.1A1.192 1.192 0 0 0 30 27.809V22.5Z"></path><path fill="#21a366" d="M19.581 3H9.705a1.192 1.192 0 0 0-1.193 1.191V9.5L19.581 16l5.861 1.95L30 16V9.5Z"></path><path fill="#107c41" d="M8.512 9.5h11.069V16H8.512Z"></path><path d="M16.434 8.2H8.512v16.25h7.922a1.2 1.2 0 0 0 1.194-1.191V9.391A1.2 1.2 0 0 0 16.434 8.2Z" opacity=".1"></path><path d="M15.783 8.85H8.512V25.1h7.271a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191Z" opacity=".2"></path><path d="M15.783 8.85H8.512V23.8h7.271a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191Z" opacity=".2"></path><path d="M15.132 8.85h-6.62V23.8h6.62a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191Z" opacity=".2"></path>',7),gie=["fill"],vie=Ee("path",{fill:"#fff",d:"m5.7 19.873l2.511-3.884l-2.3-3.862h1.847L9.013 14.6c.116.234.2.408.238.524h.017c.082-.188.169-.369.26-.546l1.342-2.447h1.7l-2.359 3.84l2.419 3.905h-1.809l-1.45-2.711A2.355 2.355 0 0 1 9.2 16.8h-.024a1.688 1.688 0 0 1-.168.351l-1.493 2.722Z"},null,-1),yie=Ee("path",{fill:"#33c481",d:"M28.806 3h-9.225v6.5H30V4.191A1.192 1.192 0 0 0 28.806 3Z"},null,-1),wie=Ee("path",{fill:"#107c41",d:"M19.581 16H30v6.5H19.581Z"},null,-1);function bie(t,e){return wn(),bn("svg",cie,[Ee("defs",null,[Ee("linearGradient",{id:t.idMap.svgIDa,x1:"4.494",x2:"13.832",y1:"-2092.086",y2:"-2075.914",gradientTransform:"translate(0 2100)",gradientUnits:"userSpaceOnUse"},fie,8,uie)]),mie,Ee("path",{fill:"url(#"+t.idMap.svgIDa+")",d:"M3.194 8.85h11.938a1.193 1.193 0 0 1 1.194 1.191v11.918a1.193 1.193 0 0 1-1.194 1.191H3.194A1.192 1.192 0 0 1 2 21.959V10.041A1.192 1.192 0 0 1 3.194 8.85Z"},null,8,gie),vie,yie,wie])}const $ie={name:"vscode-icons-file-type-excel",render:bie,data(){return{idMap:{svgIDa:"uicons-"+(()=>Math.random().toString(36).substr(2,10))()}}}},xie={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_ie=Ee("path",{fill:"#c2c2c2",d:"M22.038 2H6.375a1.755 1.755 0 0 0-1.75 1.75v24.5A1.755 1.755 0 0 0 6.375 30h19.25a1.755 1.755 0 0 0 1.75-1.75V6.856Zm.525 2.844l1.663 1.531h-1.663ZM6.375 28.25V3.75h14.438v4.375h4.813V28.25Z"},null,-1),Vie=Ee("path",{fill:"#829ec2",d:"M8.125 15.097h13.076v1.75H8.125zm0 9.342h9.762v1.75H8.125zm0-4.676h15.75v1.75H8.125zm0-9.533h15.75v1.75H8.125z"},null,-1),Cie=[_ie,Vie];function Sie(t,e){return wn(),bn("svg",xie,Cie)}const Pie={name:"vscode-icons-file-type-text",render:Sie},Eie={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Tie=Ee("path",{fill:"#f5de19",d:"M4.014 14.976a2.51 2.51 0 0 0 1.567-.518a2.377 2.377 0 0 0 .805-1.358a15.261 15.261 0 0 0 .214-2.944q.012-2.085.075-2.747a5.236 5.236 0 0 1 .418-1.686a3.025 3.025 0 0 1 .755-1.018A3.046 3.046 0 0 1 9 4.125A6.762 6.762 0 0 1 10.544 4h.7v1.96h-.387a2.338 2.338 0 0 0-1.723.468a3.4 3.4 0 0 0-.425 2.092a36.054 36.054 0 0 1-.137 4.133a4.734 4.734 0 0 1-.768 2.06A4.567 4.567 0 0 1 6.1 16a3.809 3.809 0 0 1 1.992 1.754a8.861 8.861 0 0 1 .618 3.865q0 2.435.05 2.9a1.755 1.755 0 0 0 .504 1.181a2.639 2.639 0 0 0 1.592.337h.387V28h-.7a5.655 5.655 0 0 1-1.773-.2a2.97 2.97 0 0 1-1.324-.93a3.353 3.353 0 0 1-.681-1.63a24.175 24.175 0 0 1-.165-3.234a16.469 16.469 0 0 0-.214-3.106a2.408 2.408 0 0 0-.805-1.361a2.489 2.489 0 0 0-1.567-.524Zm23.972 2.035a2.489 2.489 0 0 0-1.567.524a2.408 2.408 0 0 0-.805 1.361a16.469 16.469 0 0 0-.212 3.109a24.175 24.175 0 0 1-.169 3.234a3.353 3.353 0 0 1-.681 1.63a2.97 2.97 0 0 1-1.324.93a5.655 5.655 0 0 1-1.773.2h-.7V26.04h.387a2.639 2.639 0 0 0 1.592-.337a1.755 1.755 0 0 0 .506-1.186q.05-.462.05-2.9a8.861 8.861 0 0 1 .618-3.865A3.809 3.809 0 0 1 25.9 16a4.567 4.567 0 0 1-1.7-1.286a4.734 4.734 0 0 1-.768-2.06a36.054 36.054 0 0 1-.137-4.133a3.4 3.4 0 0 0-.425-2.092a2.338 2.338 0 0 0-1.723-.468h-.387V4h.7a6.762 6.762 0 0 1 1.54.125a3.046 3.046 0 0 1 1.149.581a3.025 3.025 0 0 1 .755 1.018a5.236 5.236 0 0 1 .418 1.686q.062.662.075 2.747a15.261 15.261 0 0 0 .212 2.947a2.377 2.377 0 0 0 .805 1.355a2.51 2.51 0 0 0 1.567.518Z"},null,-1),Rie=[Tie];function Oie(t,e){return wn(),bn("svg",Eie,Rie)}const kie={name:"vscode-icons-file-type-json",render:Oie},Aie={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Iie=Ee("path",{fill:"#e44f26",d:"M5.902 27.201L3.655 2h24.69l-2.25 25.197L15.985 30L5.902 27.201z"},null,-1),Mie=Ee("path",{fill:"#f1662a",d:"m16 27.858l8.17-2.265l1.922-21.532H16v23.797z"},null,-1),Fie=Ee("path",{fill:"#ebebeb",d:"M16 13.407h-4.09l-.282-3.165H16V7.151H8.25l.074.83l.759 8.517H16v-3.091zm0 8.027l-.014.004l-3.442-.929l-.22-2.465H9.221l.433 4.852l6.332 1.758l.014-.004v-3.216z"},null,-1),Die=Ee("path",{fill:"#fff",d:"M15.989 13.407v3.091h3.806l-.358 4.009l-3.448.93v3.216l6.337-1.757l.046-.522l.726-8.137l.076-.83h-7.185zm0-6.256v3.091h7.466l.062-.694l.141-1.567l.074-.83h-7.743z"},null,-1),Nie=[Iie,Mie,Fie,Die];function Hie(t,e){return wn(),bn("svg",Aie,Nie)}const Bie={name:"vscode-icons-file-type-html",render:Hie},Lie={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Uie=Ee("path",{fill:"#ffe885",d:"M2 12.218c.755 0 1.51-.008 2.264 0l.053.038l2.761 2.758c.891-.906 1.8-1.794 2.7-2.7c.053-.052.11-.113.192-.1h1.823a1.4 1.4 0 0 1 .353.019c-.7.67-1.377 1.369-2.069 2.05L5.545 18.8c-.331.324-.648.663-.989.975c-.754.022-1.511.007-2.266.007c1.223-1.209 2.431-2.433 3.658-3.637c-1.321-1.304-2.63-2.62-3.948-3.927Zm10.7 0h1.839v7.566c-.611 0-1.222.012-1.832-.008v-4.994c-1.6 1.607-3.209 3.2-4.811 4.8c-.089.08-.166.217-.305.194c-.824-.006-1.649 0-2.474 0Q8.916 16 12.7 12.218Zm2.258.002c.47-.009.939 0 1.409 0c.836.853 1.69 1.689 2.536 2.532q1.268-1.267 2.539-2.532h1.4q-.008 3.784 0 7.567c-.471 0-.943.006-1.414 0q.008-2.387 0-4.773c-.844.843-1.676 1.7-2.526 2.536c-.856-.835-1.687-1.695-2.532-2.541c0 1.594-.006 3.188.006 4.781c-.472 0-.943.005-1.415 0q-.003-3.79-.003-7.57Zm8.301-.003c.472 0 .944-.007 1.416 0q-.007 3.083 0 6.166h3.782c.063.006.144-.012.191.045c.448.454.907.9 1.353 1.354q-3.371.007-6.741 0q.007-3.782-.001-7.565Z"},null,-1),jie=[Uie];function zie(t,e){return wn(),bn("svg",Lie,jie)}const Gie={name:"vscode-icons-file-type-yaml",render:zie},Wie={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Kie=Ee("path",{fill:"#f1662a",d:"m20.42 21.157l2.211 2.211L30 16l-7.369-7.369l-2.211 2.212L25.58 16Zm-8.84-10.314L9.369 8.631L2 16l7.369 7.369l2.211-2.211L6.42 16Zm5.831-3.166l1.6.437l-4.42 16.209l-1.6-.437l4.42-16.209Z"},null,-1),Yie=[Kie];function Xie(t,e){return wn(),bn("svg",Wie,Yie)}const Qie={name:"vscode-icons-file-type-xml",render:Xie},Zie={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Jie=Ee("path",{fill:"#5382a1",d:"M12.325 23.654s-1.07.622.761.833a16.023 16.023 0 0 0 5.8-.246a10.088 10.088 0 0 0 1.541.752c-5.481 2.349-12.405-.136-8.1-1.339m-.671-3.066s-1.2.888.633 1.078a22.618 22.618 0 0 0 7.481-.359a3.32 3.32 0 0 0 1.152.7c-6.627 1.938-14.009.153-9.266-1.421m5.644-5.198a2.051 2.051 0 0 1-.355 2.954s3.429-1.77 1.854-3.987c-1.471-2.067-2.6-3.095 3.508-6.636c0 0-9.586 2.394-5.007 7.669"},null,-1),qie=Ee("path",{fill:"#5382a1",d:"M24.552 25.921s.792.652-.872 1.157c-3.164.958-13.168 1.248-15.948.038c-1-.435.874-1.038 1.464-1.164a3.8 3.8 0 0 1 .966-.108c-1.111-.783-7.181 1.537-3.083 2.2c11.176 1.812 20.372-.816 17.473-2.124M12.84 17.412s-5.089 1.209-1.8 1.648a38.225 38.225 0 0 0 6.731-.072a53.11 53.11 0 0 0 4.221-.555a8.934 8.934 0 0 0-1.28.685c-5.168 1.359-15.151.727-12.277-.663a9.629 9.629 0 0 1 4.407-1.042m9.127 5.102c5.253-2.73 2.824-5.353 1.129-5a3.932 3.932 0 0 0-.6.161a.957.957 0 0 1 .449-.346c3.354-1.179 5.933 3.478-1.083 5.322a.458.458 0 0 0 .106-.138M18.8 2s2.909 2.91-2.759 7.386c-4.546 3.59-1.037 5.637 0 7.975c-2.653-2.394-4.6-4.5-3.294-6.463C14.664 8.019 19.976 6.623 18.8 2"},null,-1),ele=Ee("path",{fill:"#5382a1",d:"M13.356 29.912c5.042.323 12.786-.179 12.969-2.565c0 0-.353.9-4.167 1.623a41.458 41.458 0 0 1-12.76.2s.645.533 3.959.746"},null,-1),tle=[Jie,qie,ele];function nle(t,e){return wn(),bn("svg",Zie,tle)}const ole={name:"vscode-icons-file-type-java",render:nle},ale={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},sle=y0('<path fill="#5382a1" d="M12.7 23.56s-1.07.622.761.833a16.023 16.023 0 0 0 5.8-.246a10.088 10.088 0 0 0 1.539.753c-5.481 2.349-12.405-.136-8.1-1.339m-.674-3.067s-1.2.888.633 1.078a22.618 22.618 0 0 0 7.481-.359a3.32 3.32 0 0 0 1.152.7c-6.627 1.938-14.009.153-9.266-1.421"></path><path fill="#e76f00" d="M17.673 15.294a2.051 2.051 0 0 1-.355 2.954s3.429-1.77 1.854-3.987c-1.471-2.067-2.6-3.095 3.508-6.636c0 0-9.586 2.394-5.007 7.669"></path><path fill="#5382a1" d="M24.922 25.827s.792.652-.872 1.157c-3.164.958-13.168 1.248-15.948.038c-1-.435.874-1.038 1.464-1.164a3.8 3.8 0 0 1 .966-.108c-1.111-.783-7.181 1.537-3.083 2.2c11.176 1.812 20.372-.816 17.473-2.124m-11.711-8.508s-5.089 1.209-1.8 1.648a38.225 38.225 0 0 0 6.731-.072a53.11 53.11 0 0 0 4.221-.555a8.934 8.934 0 0 0-1.28.685c-5.17 1.358-15.153.726-12.283-.665a9.629 9.629 0 0 1 4.407-1.042m9.133 5.104c5.253-2.73 2.824-5.353 1.129-5a3.932 3.932 0 0 0-.6.161a.957.957 0 0 1 .449-.346c3.354-1.179 5.933 3.478-1.083 5.322a.458.458 0 0 0 .106-.138"></path><path fill="#e76f00" d="M19.172 1.906s2.909 2.91-2.759 7.386c-4.546 3.59-1.037 5.637 0 7.975c-2.653-2.394-4.6-4.5-3.294-6.463c1.917-2.879 7.229-4.275 6.056-8.9"></path><path fill="#5382a1" d="M13.727 29.818c5.042.323 12.786-.179 12.969-2.565c0 0-.353.9-4.167 1.623a41.458 41.458 0 0 1-12.76.2s.645.533 3.959.746"></path>',5),rle=[sle];function ile(t,e){return wn(),bn("svg",ale,rle)}const lle={name:"vscode-icons-file-type-jar",render:ile},cle={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ule=Ee("path",{fill:"#e76f00",d:"M11.7 23.56s-1.07.622.761.833a16.023 16.023 0 0 0 5.8-.246a10.088 10.088 0 0 0 1.539.753c-5.481 2.349-12.405-.136-8.1-1.339m-.674-3.067s-1.2.888.633 1.078a22.618 22.618 0 0 0 7.481-.359a3.32 3.32 0 0 0 1.152.7c-6.627 1.938-14.009.153-9.266-1.421m5.647-5.198a2.051 2.051 0 0 1-.355 2.954s3.429-1.77 1.854-3.987c-1.471-2.067-2.6-3.095 3.508-6.636c0 0-9.586 2.394-5.007 7.669"},null,-1),dle=Ee("path",{fill:"#e76f00",d:"M23.922 25.827s.792.652-.872 1.157c-3.164.958-13.168 1.248-15.948.038c-1-.435.874-1.038 1.464-1.164a3.8 3.8 0 0 1 .966-.108c-1.111-.783-7.181 1.537-3.083 2.2c11.176 1.812 20.372-.816 17.473-2.124m-11.711-8.508s-5.089 1.209-1.8 1.648a38.225 38.225 0 0 0 6.731-.072a53.11 53.11 0 0 0 4.221-.555a8.934 8.934 0 0 0-1.28.685c-5.17 1.358-15.153.726-12.283-.665a9.629 9.629 0 0 1 4.407-1.042m9.133 5.104c5.253-2.73 2.824-5.353 1.129-5a3.932 3.932 0 0 0-.6.161a.957.957 0 0 1 .449-.346c3.354-1.179 5.933 3.478-1.083 5.322a.458.458 0 0 0 .106-.138M18.172 1.906s2.909 2.91-2.759 7.386c-4.546 3.59-1.037 5.637 0 7.975c-2.653-2.394-4.6-4.5-3.294-6.463c1.917-2.879 7.229-4.275 6.056-8.9"},null,-1),ple=Ee("path",{fill:"#e76f00",d:"M12.727 29.818c5.042.323 12.786-.179 12.969-2.565c0 0-.353.9-4.167 1.623a41.458 41.458 0 0 1-12.76.2s.645.533 3.959.746"},null,-1),hle=[ule,dle,ple];function fle(t,e){return wn(),bn("svg",cle,hle)}const mle={name:"vscode-icons-file-type-class",render:fle},gle={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},vle=Ee("path",{fill:"#f5de19",d:"M2 2h28v28H2z"},null,-1),yle=Ee("path",{d:"M20.809 23.875a2.866 2.866 0 0 0 2.6 1.6c1.09 0 1.787-.545 1.787-1.3c0-.9-.716-1.222-1.916-1.747l-.658-.282c-1.9-.809-3.16-1.822-3.16-3.964c0-1.973 1.5-3.476 3.853-3.476a3.889 3.889 0 0 1 3.742 2.107L25 18.128A1.789 1.789 0 0 0 23.311 17a1.145 1.145 0 0 0-1.259 1.128c0 .789.489 1.109 1.618 1.6l.658.282c2.236.959 3.5 1.936 3.5 4.133c0 2.369-1.861 3.667-4.36 3.667a5.055 5.055 0 0 1-4.795-2.691Zm-9.295.228c.413.733.789 1.353 1.693 1.353c.864 0 1.41-.338 1.41-1.653v-8.947h2.631v8.982c0 2.724-1.6 3.964-3.929 3.964a4.085 4.085 0 0 1-3.947-2.4Z"},null,-1),wle=[vle,yle];function ble(t,e){return wn(),bn("svg",gle,wle)}const $le={name:"vscode-icons-file-type-js-official",render:ble},xle={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_le=Ee("rect",{width:"28",height:"28",x:"2",y:"2",fill:"#3178c6",rx:"1.312"},null,-1),Vle=Ee("path",{fill:"#fff","fill-rule":"evenodd",d:"M18.245 23.759v3.068a6.492 6.492 0 0 0 1.764.575a11.56 11.56 0 0 0 2.146.192a9.968 9.968 0 0 0 2.088-.211a5.11 5.11 0 0 0 1.735-.7a3.542 3.542 0 0 0 1.181-1.266a4.469 4.469 0 0 0 .186-3.394a3.409 3.409 0 0 0-.717-1.117a5.236 5.236 0 0 0-1.123-.877a12.027 12.027 0 0 0-1.477-.734q-.6-.249-1.08-.484a5.5 5.5 0 0 1-.813-.479a2.089 2.089 0 0 1-.516-.518a1.091 1.091 0 0 1-.181-.618a1.039 1.039 0 0 1 .162-.571a1.4 1.4 0 0 1 .459-.436a2.439 2.439 0 0 1 .726-.283a4.211 4.211 0 0 1 .956-.1a5.942 5.942 0 0 1 .808.058a6.292 6.292 0 0 1 .856.177a5.994 5.994 0 0 1 .836.3a4.657 4.657 0 0 1 .751.422V13.9a7.509 7.509 0 0 0-1.525-.4a12.426 12.426 0 0 0-1.9-.129a8.767 8.767 0 0 0-2.064.235a5.239 5.239 0 0 0-1.716.733a3.655 3.655 0 0 0-1.171 1.271a3.731 3.731 0 0 0-.431 1.845a3.588 3.588 0 0 0 .789 2.34a6 6 0 0 0 2.395 1.639q.63.26 1.175.509a6.458 6.458 0 0 1 .942.517a2.463 2.463 0 0 1 .626.585a1.2 1.2 0 0 1 .23.719a1.1 1.1 0 0 1-.144.552a1.269 1.269 0 0 1-.435.441a2.381 2.381 0 0 1-.726.292a4.377 4.377 0 0 1-1.018.105a5.773 5.773 0 0 1-1.969-.35a5.874 5.874 0 0 1-1.805-1.045Zm-5.154-7.638h4v-2.527H5.938v2.527H9.92v11.254h3.171Z"},null,-1),Cle=[_le,Vle];function Sle(t,e){return wn(),bn("svg",xle,Cle)}const Ple={name:"vscode-icons-file-type-typescript-official",render:Sle},Ele={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Tle=Ee("path",{fill:"#41b883",d:"M24.4 3.925H30l-14 24.15L2 3.925h10.71l3.29 5.6l3.22-5.6Z"},null,-1),Rle=Ee("path",{fill:"#41b883",d:"m2 3.925l14 24.15l14-24.15h-5.6L16 18.415L7.53 3.925Z"},null,-1),Ole=Ee("path",{fill:"#35495e",d:"M7.53 3.925L16 18.485l8.4-14.56h-5.18L16 9.525l-3.29-5.6Z"},null,-1),kle=[Tle,Rle,Ole];function Ale(t,e){return wn(),bn("svg",Ele,kle)}const Ile={name:"vscode-icons-file-type-vue",render:Ale},Mle={viewBox:"0 0 254.5 225",width:"1.2em",height:"1.2em"},Fle=Ee("path",{fill:"#00acd7",d:"M-46.926 89c-.621 0-.777-.311-.466-.777l3.262-4.194a2.225 2.225 0 0 1 1.708-.777h55.448c.621 0 .777.466.466.932l-2.64 4.038a2.367 2.367 0 0 1-1.553.932Zm-23.453 14.285c-.621 0-.777-.311-.466-.777l3.262-4.194a2.225 2.225 0 0 1 1.708-.777H4.95a.714.714 0 0 1 .777.932L4.484 102.2a1.358 1.358 0 0 1-1.4.932Zm37.587 14.289c-.621 0-.777-.466-.466-.932l2.174-3.883a2.06 2.06 0 0 1 1.553-.932H1.533c.621 0 .932.466.932 1.087l-.311 3.728a1.167 1.167 0 0 1-1.087 1.087ZM128.426 86.2c-9.785 2.485-16.464 4.349-26.093 6.834c-2.33.621-2.485.777-4.5-1.553c-2.33-2.64-4.038-4.349-7.3-5.9c-9.785-4.815-19.259-3.417-28.112 2.33c-10.561 6.834-16 16.929-15.842 29.51c.155 12.425 8.7 22.676 20.968 24.385c10.561 1.4 19.414-2.33 26.4-10.251c1.4-1.708 2.64-3.572 4.194-5.747H68.163c-3.262 0-4.038-2.019-2.951-4.659c2.019-4.815 5.747-12.891 7.921-16.929a4.194 4.194 0 0 1 3.883-2.485h56.535c-.311 4.194-.311 8.387-.932 12.581a66.239 66.239 0 0 1-12.736 30.442c-11.183 14.752-25.783 23.915-44.265 26.4c-15.221 2.019-29.355-.932-41.78-10.251a48.785 48.785 0 0 1-19.725-34.48c-2.019-16.929 2.951-32.15 13.2-45.508C38.342 66.475 52.942 57.312 70.8 54.05c14.6-2.64 28.578-.932 41.159 7.61a48.686 48.686 0 0 1 18.017 21.9c.935 1.398.313 2.175-1.55 2.64Z"},null,-1),Dle=Ee("path",{fill:"#00acd7",d:"M179.835 172.09c-14.134-.311-27.025-4.349-37.9-13.668a48.711 48.711 0 0 1-16.774-29.976c-2.8-17.551 2.019-33.082 12.581-46.905c11.338-14.91 25.006-22.676 43.488-25.938c15.842-2.8 30.753-1.243 44.265 7.921c12.27 8.387 19.88 19.725 21.9 34.635c2.64 20.968-3.417 38.052-17.861 52.652a71.17 71.17 0 0 1-37.276 19.88c-4.191.778-8.384.933-12.423 1.399Zm36.965-62.747a44.7 44.7 0 0 0-.466-5.125c-2.8-15.376-16.929-24.074-31.684-20.657c-14.444 3.262-23.763 12.425-27.18 27.025a25.579 25.579 0 0 0 14.289 29.355c8.542 3.728 17.085 3.262 25.317-.932c12.269-6.369 18.948-16.309 19.724-29.666Z"},null,-1),Nle=[Fle,Dle];function Hle(t,e){return wn(),bn("svg",Mle,Nle)}const Ble={name:"vscode-icons-file-type-go",render:Hle},Lle={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ule=Ee("path",{fill:"#005f91",d:"M10.676 15.973a10.052 10.052 0 0 0 1.175 5.151a5.446 5.446 0 0 0 6.306 2.408a4.284 4.284 0 0 0 3.09-3.6l.109-.61c1.737.251 4.537.658 6.274.906l-.11.44a11.256 11.256 0 0 1-2.7 5.39a9.439 9.439 0 0 1-5.366 2.688a14.61 14.61 0 0 1-8.277-.819a10.151 10.151 0 0 1-5.777-6.24a16.225 16.225 0 0 1 .019-11.45a10.538 10.538 0 0 1 8.963-7.054a13.353 13.353 0 0 1 6.666.555a9.571 9.571 0 0 1 6.167 6.9c.094.352.114.417.114.417c-1.932.351-4.319.8-6.238 1.215c-.362-1.915-1.265-3.428-3.2-3.9a5.263 5.263 0 0 0-6.616 3.57a10.49 10.49 0 0 0-.385 1.439a12.31 12.31 0 0 0-.214 2.594Z"},null,-1),jle=[Ule];function zle(t,e){return wn(),bn("svg",Lle,jle)}const Gle={name:"vscode-icons-file-type-c",render:zle},Wle={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Kle=Ee("path",{fill:"#984c93",d:"M14.742 24.047a10.242 10.242 0 0 1-4.673.919a7.628 7.628 0 0 1-5.914-2.346A8.876 8.876 0 0 1 2 16.369a9.476 9.476 0 0 1 2.422-6.748a8.216 8.216 0 0 1 6.285-2.588a11.151 11.151 0 0 1 4.035.641v3.761A6.839 6.839 0 0 0 11 10.395a4.813 4.813 0 0 0-3.712 1.535a5.9 5.9 0 0 0-1.413 4.159A5.8 5.8 0 0 0 7.209 20.1a4.57 4.57 0 0 0 3.59 1.493a7.319 7.319 0 0 0 3.943-1.113Zm2.37-9.218v-2.344h2.344v2.344H21.8v2.343h-2.344v2.343h-2.344v-2.343H14.77v-2.344l2.342.001zm8.201 0v-2.344h2.344v2.344H30v2.343h-2.343v2.343h-2.344v-2.343h-2.342v-2.344l2.342.001z"},null,-1),Yle=[Kle];function Xle(t,e){return wn(),bn("svg",Wle,Yle)}const Qle={name:"vscode-icons-file-type-cpp",render:Xle},Zle={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Jle=Ee("path",{fill:"#ff5d01","fill-rule":"evenodd",d:"M5.9 18.847a7.507 7.507 0 0 0-.572 2.624a3.265 3.265 0 0 0 .551 1.553a7.427 7.427 0 0 0 2.093 1.681l5.128 3.414a7.332 7.332 0 0 0 2.1 1.168a3.239 3.239 0 0 0 1.5 0a7.381 7.381 0 0 0 2.117-1.16L24 24.711a7.512 7.512 0 0 0 2.117-1.688a3.241 3.241 0 0 0 .55-1.563a7.515 7.515 0 0 0-.587-2.643L21.547 4.551a3.973 3.973 0 0 0-.54-1.3a1.733 1.733 0 0 0-.7-.51a3.972 3.972 0 0 0-1.4-.122h-5.902a3.932 3.932 0 0 0-1.4.125a1.713 1.713 0 0 0-.7.512a3.94 3.94 0 0 0-.535 1.3L5.9 18.848Zm13.24-13.2a3.329 3.329 0 0 1 .441 1.093l3.892 12.784a16.168 16.168 0 0 0-4.653-1.573l-2.529-8.56a.331.331 0 0 0-.513-.169a.323.323 0 0 0-.119.169l-2.5 8.557a16.14 16.14 0 0 0-4.674 1.579l3.908-12.784a3.281 3.281 0 0 1 .442-1.094a1.458 1.458 0 0 1 .582-.43a3.31 3.31 0 0 1 1.175-.1h2.793a3.314 3.314 0 0 1 1.176.1a1.454 1.454 0 0 1 .583.432ZM16.127 21.06a5.551 5.551 0 0 0 3.4-.923a2.8 2.8 0 0 1-.207 2.182a3.938 3.938 0 0 1-1.547 1.481c-.674.428-1.254.8-1.254 1.787a2.079 2.079 0 0 0 .209.914a2.49 2.49 0 0 1-1.535-2.3v-.061c0-.683 0-1.524-.962-1.524a1.028 1.028 0 0 0-.391.077a1.021 1.021 0 0 0-.552.551a1.03 1.03 0 0 0-.079.391a3.769 3.769 0 0 1-.988-2.644a4.206 4.206 0 0 1 .175-1.248c.4.757 1.92 1.32 3.731 1.32Z"},null,-1),qle=[Jle];function ece(t,e){return wn(),bn("svg",Zle,qle)}const tce={name:"vscode-icons-file-type-astro",render:ece},nce={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},oce=["id"],ace=Ee("stop",{offset:"0","stop-color":"#bedcdc"},null,-1),sce=Ee("stop",{offset:".5","stop-color":"#8e9e9e","stop-opacity":".74"},null,-1),rce=Ee("stop",{offset:"1","stop-color":"#404f5c","stop-opacity":".84"},null,-1),ice=[ace,sce,rce],lce=["id"],cce=Ee("path",{fill:"silver",d:"m24.811 27.318l2.404-2.404l1.202 2.404l-1.202 1.202l-2.404-1.202zm-3.847.125h3.401l-.85 2.55h-1.7l-.851-2.55zm-2.807-2.632l2.404 2.404l-2.404 1.202l-1.203-1.202l1.203-2.404zm-.125-3.847v3.401l-2.55-.85v-1.7l2.55-.851zm2.632-2.807l-2.404 2.404l-1.202-2.404l1.202-1.203l2.404 1.203zm3.846-.125h-3.4l.85-2.55h1.7l.85 2.55zm2.808 2.632l-2.404-2.404l2.404-1.202l1.202 1.202l-1.202 2.404zm.125 3.846v-3.4l2.55.85v1.7l-2.55.85z"},null,-1),uce=Ee("path",{fill:"silver",d:"M27.776 22.737a5.039 5.039 0 1 1-1.476-3.562a5.023 5.023 0 0 1 1.476 3.562Zm-5.039-1.9a1.9 1.9 0 1 0 1.344.557a1.894 1.894 0 0 0-1.344-.557Z"},null,-1),dce=Ee("path",{fill:"#a9a9a9",d:"M22.656 18.074a4.664 4.664 0 1 0 4.744 4.582a4.664 4.664 0 0 0-4.744-4.582Zm.15 8.61a3.947 3.947 0 1 1 3.877-4.015a3.947 3.947 0 0 1-3.877 4.015Z"},null,-1),pce=["fill"],hce=Ee("path",{fill:"#a9a9a9",d:"M22.7 20.665a2.073 2.073 0 1 0 2.11 2.035a2.073 2.073 0 0 0-2.11-2.035Zm.067 3.826a1.754 1.754 0 1 1 1.723-1.784a1.754 1.754 0 0 1-1.722 1.784Z"},null,-1),fce=Ee("path",{fill:"silver",d:"m6.563 16.976l2.275 1.262l-1.464 1.568l-1.365-.757l.554-2.073zm-2.181-3.142l1.34 2.23l-2.052.626l-.804-1.338l1.516-1.518zm-.317-3.811l.045 2.601l-2.09-.484l-.027-1.561l2.072-.556zm1.631-3.46L4.434 8.838L2.866 7.374l.757-1.365l2.073.554zm3.142-2.181l-2.23 1.34l-.626-2.052l1.338-.804l1.518 1.516zm3.812-.317l-2.602.045l.484-2.09l1.561-.027l.557 2.072zm3.459 1.631l-2.275-1.262l1.464-1.568l1.365.757l-.554 2.073zm2.181 3.142l-1.34-2.23l2.052-.626l.804 1.338l-1.516 1.518zm.317 3.812l-.045-2.602l2.09.484l.027 1.561l-2.072.557zm-1.631 3.459l1.262-2.275l1.568 1.464l-.757 1.365l-2.073-.554zm-3.142 2.181l2.23-1.34l.626 2.052l-1.338.804l-1.518-1.516zm-3.811.317l2.601-.045l-.484 2.09l-1.561.027l-.556-2.072z"},null,-1),mce=Ee("path",{fill:"silver",d:"M11.467 18.831a7.5 7.5 0 1 1 5.261-2.288a7.473 7.473 0 0 1-5.261 2.288Zm2.682-7.544a2.814 2.814 0 1 0-.789 2a2.8 2.8 0 0 0 .789-2Z"},null,-1),gce=Ee("path",{fill:"#a9a9a9",d:"M11.218 4.6a6.737 6.737 0 1 0 6.854 6.619A6.737 6.737 0 0 0 11.218 4.6Zm.217 12.436a5.7 5.7 0 1 1 5.6-5.8a5.7 5.7 0 0 1-5.599 5.8Z"},null,-1),vce=["fill"],yce=Ee("path",{fill:"#a9a9a9",d:"M11.282 8.227a3.109 3.109 0 1 0 3.163 3.055a3.109 3.109 0 0 0-3.163-3.055Zm.1 5.74a2.631 2.631 0 1 1 2.585-2.677a2.631 2.631 0 0 1-2.585 2.677Z"},null,-1);function wce(t,e){return wn(),bn("svg",nce,[Ee("defs",null,[Ee("radialGradient",{id:t.idMap.svgIDa,cx:"22.737",cy:"22.737",r:"3.628",gradientTransform:"rotate(-81.5 21.8 23.545) scale(1 1.071)",gradientUnits:"userSpaceOnUse"},ice,8,oce),Ee("radialGradient",{id:t.idMap.svgIDb,cx:"11.336",cy:"11.336",r:"5.201",gradientTransform:"rotate(-81.5 10.869 11.738) scale(1 1.071)",href:"#svgIDa"},null,8,lce)]),cce,uce,dce,Ee("path",{fill:"url(#"+t.idMap.svgIDa+")",d:"M22.674 19.11a3.628 3.628 0 1 0 3.69 3.564a3.628 3.628 0 0 0-3.69-3.564Zm.1 5.7a2.073 2.073 0 1 1 2.037-2.11a2.073 2.073 0 0 1-2.037 2.11Z"},null,8,pce),hce,fce,mce,gce,Ee("path",{fill:"url(#"+t.idMap.svgIDb+")",d:"M11.245 6.136a5.2 5.2 0 1 0 5.29 5.109a5.2 5.2 0 0 0-5.29-5.109Zm.14 8.036a2.837 2.837 0 1 1 2.787-2.886a2.837 2.837 0 0 1-2.786 2.886Z"},null,8,vce),yce])}const bce={name:"vscode-icons-file-type-bat",render:wce,data(){const t=()=>Math.random().toString(36).substr(2,10);return{idMap:{svgIDa:"uicons-"+t(),svgIDb:"uicons-"+t()}}}},$ce={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},xce=y0('<path fill="#1572b6" d="M5.902 27.201L3.656 2h24.688l-2.249 25.197L15.985 30L5.902 27.201z"></path><path fill="#33a9dc" d="m16 27.858l8.17-2.265l1.922-21.532H16v23.797z"></path><path fill="#fff" d="M16 13.191h4.09l.282-3.165H16V6.935h7.75l-.074.829l-.759 8.518H16v-3.091z"></path><path fill="#ebebeb" d="m16.019 21.218l-.014.004l-3.442-.93l-.22-2.465H9.24l.433 4.853l6.331 1.758l.015-.004v-3.216z"></path><path fill="#fff" d="m19.827 16.151l-.372 4.139l-3.447.93v3.216l6.336-1.756l.047-.522l.537-6.007h-3.101z"></path><path fill="#ebebeb" d="M16.011 6.935v3.091H8.545l-.062-.695l-.141-1.567l-.074-.829h7.743zM16 13.191v3.091h-3.399l-.062-.695l-.14-1.567l-.074-.829H16z"></path>',6),_ce=[xce];function Vce(t,e){return wn(),bn("svg",$ce,_ce)}const Cce={name:"vscode-icons-file-type-css",render:Vce},Sce={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Pce=Ee("path",{fill:"#c4c7ce",d:"M8.562 15.256A21.159 21.159 0 0 0 16 16.449a21.159 21.159 0 0 0 7.438-1.194c1.864-.727 2.525-1.535 2.525-2V9.7a10.357 10.357 0 0 1-2.084 1.076A22.293 22.293 0 0 1 16 12.078a22.36 22.36 0 0 1-7.879-1.3A10.28 10.28 0 0 1 6.037 9.7v3.55c0 .474.663 1.278 2.525 2.006Zm0 6.705a15.611 15.611 0 0 0 2.6.741a24.9 24.9 0 0 0 4.838.453a24.9 24.9 0 0 0 4.838-.452a15.614 15.614 0 0 0 2.6-.741c1.864-.727 2.525-1.535 2.525-2v-3.39a10.706 10.706 0 0 1-1.692.825A23.49 23.49 0 0 1 16 18.74a23.49 23.49 0 0 1-8.271-1.348a10.829 10.829 0 0 1-1.692-.825v3.393c0 .466.663 1.271 2.525 2.001ZM16 30c5.5 0 9.963-1.744 9.963-3.894v-2.837a10.5 10.5 0 0 1-1.535.762l-.157.063A23.487 23.487 0 0 1 16 25.445a23.422 23.422 0 0 1-8.271-1.351c-.054-.02-.106-.043-.157-.063a10.5 10.5 0 0 1-1.535-.762v2.837C6.037 28.256 10.5 30 16 30Z"},null,-1),Ece=Ee("ellipse",{cx:"16",cy:"5.894",fill:"#c4c7ce",rx:"9.963",ry:"3.894"},null,-1),Tce=[Pce,Ece];function Rce(t,e){return wn(),bn("svg",Sce,Tce)}const Oce={name:"vscode-icons-file-type-db",render:Rce},kce={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ace=Ee("path",{fill:"#d2d2d2",d:"M21.463 26.37h-1.838a.829.829 0 0 1-.823-.725a2.381 2.381 0 0 0-4.722 0a.829.829 0 0 1-.823.725H11.4a.831.831 0 0 1-.836-.705a2.377 2.377 0 0 0-4.719 0a.837.837 0 0 1-.826.725h-1.9a.832.832 0 0 1-.816-.676a14.3 14.3 0 0 1 .48-7.557A10.655 10.655 0 0 1 6.6 13.079l.389-.277A1.83 1.83 0 0 1 7.9 10.47c6.237-2.972 10.45-.826 13.516.738c2.286 1.169 3.55 1.728 4.7.575A2.048 2.048 0 0 0 23.442 8.7a.836.836 0 0 1-1.087-.075l-.542-.542a.837.837 0 0 1 .006-1.183l.013-.013A4.726 4.726 0 0 1 28.4 7a5.686 5.686 0 0 1 1.58 4.386c-.179 2.531-1.9 5.036-5.12 7.442c-.748.562-2.5 2.339-2.567 6.741a.836.836 0 0 1-.833.826Zm-1.828-.813h1.819c.026-1.6.369-5.489 2.906-7.387c2.968-2.224 4.624-4.572 4.784-6.828a4.825 4.825 0 0 0-1.339-3.733a3.883 3.883 0 0 0-5.388-.1l.526.526a2.89 2.89 0 0 1 3.765 4.365c-1.633 1.633-3.507.683-5.676-.421a18.152 18.152 0 0 0-5.313-1.986a12.346 12.346 0 0 0-7.458 1.258a.979.979 0 0 0-.471 1.3q.018.037.039.075l.066.114L9.6 15.682a.98.98 0 0 0 1.33.388h.005l.043-.023l.055-.026l.689-.385a17.769 17.769 0 0 0 2.427-1.809a.417.417 0 0 1 .59.022a.421.421 0 0 1-.042.584a18.01 18.01 0 0 1-2.548 1.9l-.787.441l-.058.026a1.836 1.836 0 0 1-2.42-.706l-1.5-2.54l-.326.219a9.789 9.789 0 0 0-3.5 4.676a13.469 13.469 0 0 0-.447 7.09h1.897a3.223 3.223 0 0 1 6.391 0h1.842a3.22 3.22 0 0 1 6.387 0Zm1.423-10.45l-1.306-.653a.826.826 0 1 1 1.306.653Z"},null,-1),Ice=[Ace];function Mce(t,e){return wn(),bn("svg",kce,Ice)}const Fce={name:"vscode-icons-file-type-gradle",render:Mce},Dce={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Nce=Ee("path",{fill:"none",stroke:"#755838",d:"M2.5 7.955h27v16.091h-27z"},null,-1),Hce=Ee("path",{fill:"#755838",d:"M5.909 20.636v-9.272h2.727l2.728 3.409l2.727-3.409h2.727v9.272h-2.727v-5.318l-2.727 3.409l-2.728-3.409v5.318H5.909zm17.046 0l-4.091-4.5h2.727v-4.772h2.727v4.772h2.727l-4.09 4.5z"},null,-1),Bce=[Nce,Hce];function Lce(t,e){return wn(),bn("svg",Dce,Bce)}const Uce={name:"vscode-icons-file-type-markdown",render:Lce},jce={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},zce=["id"],Gce=Ee("stop",{offset:"0","stop-color":"#387eb8"},null,-1),Wce=Ee("stop",{offset:"1","stop-color":"#366994"},null,-1),Kce=[Gce,Wce],Yce=["id"],Xce=Ee("stop",{offset:"0","stop-color":"#ffe052"},null,-1),Qce=Ee("stop",{offset:"1","stop-color":"#ffc331"},null,-1),Zce=[Xce,Qce],Jce=["fill"],qce=["fill"];function eue(t,e){return wn(),bn("svg",jce,[Ee("defs",null,[Ee("linearGradient",{id:t.idMap.svgIDa,x1:"-133.268",x2:"-133.198",y1:"-202.91",y2:"-202.84",gradientTransform:"matrix(189.38 0 0 189.81 25243.061 38519.17)",gradientUnits:"userSpaceOnUse"},Kce,8,zce),Ee("linearGradient",{id:t.idMap.svgIDb,x1:"-133.575",x2:"-133.495",y1:"-203.203",y2:"-203.133",gradientTransform:"matrix(189.38 0 0 189.81 25309.061 38583.42)",gradientUnits:"userSpaceOnUse"},Zce,8,Yce)]),Ee("path",{fill:"url(#"+t.idMap.svgIDa+")",d:"M15.885 2.1c-7.1 0-6.651 3.07-6.651 3.07v3.19h6.752v1H6.545S2 8.8 2 16.005s4.013 6.912 4.013 6.912H8.33v-3.361s-.13-4.013 3.9-4.013h6.762s3.772.06 3.772-3.652V5.8s.572-3.712-6.842-3.712Zm-3.732 2.137a1.214 1.214 0 1 1-1.183 1.244v-.02a1.214 1.214 0 0 1 1.214-1.214Z"},null,8,Jce),Ee("path",{fill:"url(#"+t.idMap.svgIDb+")",d:"M16.085 29.91c7.1 0 6.651-3.08 6.651-3.08v-3.18h-6.751v-1h9.47S30 23.158 30 15.995s-4.013-6.912-4.013-6.912H23.64V12.4s.13 4.013-3.9 4.013h-6.765S9.2 16.356 9.2 20.068V26.2s-.572 3.712 6.842 3.712h.04Zm3.732-2.147A1.214 1.214 0 1 1 21 26.519v.03a1.214 1.214 0 0 1-1.214 1.214h.03Z"},null,8,qce)])}const tue={name:"vscode-icons-file-type-python",render:eue,data(){const t=()=>Math.random().toString(36).substr(2,10);return{idMap:{svgIDa:"uicons-"+t(),svgIDb:"uicons-"+t()}}}},nue={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},oue=Ee("path",{fill:"#d9b400",d:"M29.4 27.6H2.5V4.5h26.9Zm-25.9-1h24.9V5.5H3.5Z"},null,-1),aue=Ee("path",{fill:"#d9b400",d:"m6.077 19.316l-.555-.832l4.844-3.229l-4.887-4.071l.641-.768l5.915 4.928l-5.958 3.972zM12.7 18.2h7.8v1h-7.8zM2.5 5.5h26.9v1.9H2.5z"},null,-1),sue=[oue,aue];function rue(t,e){return wn(),bn("svg",nue,sue)}const iue={name:"vscode-icons-file-type-shell",render:rue},lue={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},cue=Ee("path",{fill:"#8993be",d:"M7.6 13.791a2.352 2.352 0 0 1 1.745.483a1.916 1.916 0 0 1 .207 1.66a2.78 2.78 0 0 1-.918 1.748a3.375 3.375 0 0 1-2.07.529h-1.4l.86-4.411ZM2 22.677h2.3l.545-2.8h1.967a7.049 7.049 0 0 0 2.144-.277a4.06 4.06 0 0 0 1.53-.918A4.585 4.585 0 0 0 11.93 16.1a3.288 3.288 0 0 0-.55-2.922a3.671 3.671 0 0 0-2.91-1.049H4.057ZM13.617 9.323H15.9l-.553 2.8h2.031a3.956 3.956 0 0 1 2.645.669a2.213 2.213 0 0 1 .436 2.167l-.954 4.909h-2.31l.908-4.667a1.267 1.267 0 0 0-.114-1.086a1.6 1.6 0 0 0-1.144-.286h-1.823l-1.175 6.044h-2.288Zm11.922 4.468a2.352 2.352 0 0 1 1.745.483a1.916 1.916 0 0 1 .207 1.66a2.78 2.78 0 0 1-.918 1.748a3.375 3.375 0 0 1-2.074.529H23.1l.858-4.416Zm-5.6 8.886h2.3l.545-2.8h1.968A7.049 7.049 0 0 0 26.9 19.6a4.06 4.06 0 0 0 1.53-.918a4.585 4.585 0 0 0 1.439-2.582a3.288 3.288 0 0 0-.55-2.922a3.671 3.671 0 0 0-2.909-1.046h-4.42Z"},null,-1),uue=[cue];function due(t,e){return wn(),bn("svg",lue,uue)}const pue={name:"vscode-icons-file-type-php3",render:due};function Ll(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function v7(t,e){for(var n="",o=0,a=-1,s=0,r,i=0;i<=t.length;++i){if(i<t.length)r=t.charCodeAt(i);else{if(r===47)break;r=47}if(r===47){if(!(a===i-1||s===1))if(a!==i-1&&s===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",o=0):(n=n.slice(0,l),o=n.length-1-n.lastIndexOf("/")),a=i,s=0;continue}}else if(n.length===2||n.length===1){n="",o=0,a=i,s=0;continue}}e&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+t.slice(a+1,i):n=t.slice(a+1,i),o=i-a-1;a=i,s=0}else r===46&&s!==-1?++s:s=-1}return n}function hue(t,e){var n=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+o:n+t+o:o}var Vm={resolve:function(){for(var e="",n=!1,o,a=arguments.length-1;a>=-1&&!n;a--){var s;a>=0?s=arguments[a]:(o===void 0&&(o=process.cwd()),s=o),Ll(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=v7(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Ll(e),e.length===0)return".";var n=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=v7(e,!n),e.length===0&&!n&&(e="."),e.length>0&&o&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Ll(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];Ll(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":Vm.normalize(e)},relative:function(e,n){if(Ll(e),Ll(n),e===n||(e=Vm.resolve(e),n=Vm.resolve(n),e===n))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var a=e.length,s=a-o,r=1;r<n.length&&n.charCodeAt(r)===47;++r);for(var i=n.length,l=i-r,c=s<l?s:l,u=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(n.charCodeAt(r+d)===47)return n.slice(r+d+1);if(d===0)return n.slice(r+d)}else s>c&&(e.charCodeAt(o+d)===47?u=d:d===0&&(u=0));break}var p=e.charCodeAt(o+d),f=n.charCodeAt(r+d);if(p!==f)break;p===47&&(u=d)}var g="";for(d=o+u+1;d<=a;++d)(d===a||e.charCodeAt(d)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+n.slice(r+u):(r+=u,n.charCodeAt(r)===47&&++r,n.slice(r))},_makeLong:function(e){return e},dirname:function(e){if(Ll(e),e.length===0)return".";for(var n=e.charCodeAt(0),o=n===47,a=-1,s=!0,r=e.length-1;r>=1;--r)if(n=e.charCodeAt(r),n===47){if(!s){a=r;break}}else s=!1;return a===-1?o?"/":".":o&&a===1?"//":e.slice(0,a)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ll(e);var o=0,a=-1,s=!0,r;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var i=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(c===47){if(!s){o=r+1;break}}else l===-1&&(s=!1,l=r+1),i>=0&&(c===n.charCodeAt(i)?--i===-1&&(a=r):(i=-1,a=l))}return o===a?a=l:a===-1&&(a=e.length),e.slice(o,a)}else{for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===47){if(!s){o=r+1;break}}else a===-1&&(s=!1,a=r+1);return a===-1?"":e.slice(o,a)}},extname:function(e){Ll(e);for(var n=-1,o=0,a=-1,s=!0,r=0,i=e.length-1;i>=0;--i){var l=e.charCodeAt(i);if(l===47){if(!s){o=i+1;break}continue}a===-1&&(s=!1,a=i+1),l===46?n===-1?n=i:r!==1&&(r=1):n!==-1&&(r=-1)}return n===-1||a===-1||r===0||r===1&&n===a-1&&n===o+1?"":e.slice(n,a)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return hue("/",e)},parse:function(e){Ll(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var o=e.charCodeAt(0),a=o===47,s;a?(n.root="/",s=1):s=0;for(var r=-1,i=0,l=-1,c=!0,u=e.length-1,d=0;u>=s;--u){if(o=e.charCodeAt(u),o===47){if(!c){i=u+1;break}continue}l===-1&&(c=!1,l=u+1),o===46?r===-1?r=u:d!==1&&(d=1):r!==-1&&(d=-1)}return r===-1||l===-1||d===0||d===1&&r===l-1&&r===i+1?l!==-1&&(i===0&&a?n.base=n.name=e.slice(1,l):n.base=n.name=e.slice(i,l)):(i===0&&a?(n.name=e.slice(1,r),n.base=e.slice(1,l)):(n.name=e.slice(i,r),n.base=e.slice(i,l)),n.ext=e.slice(r,l)),i>0?n.dir=e.slice(0,i-1):a&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Vm.posix=Vm;var fue=Vm;const mue=window.Vue.defineComponent,vy=window.Vue.unref,gue=window.Vue.resolveDynamicComponent,vue=window.Vue.normalizeClass,vx=window.Vue.openBlock,yue=window.Vue.createBlock,wue=window.Vue.toDisplayString,y7=window.Vue.createElementBlock,bue=window.Vue.createCommentVNode,$ue={class:"flex h-full w-full flex-col items-center justify-center gap-1"},xue={key:0,class:"font-sans text-xs text-gray-500"},yx=window.Vue.computed,tn=window.Vue.markRaw,YC=mue({__name:"AttachmentFileTypeIcon",props:{fileName:{default:void 0},displayExt:{type:Boolean,default:!0},width:{default:10},height:{default:10}},setup(t){const e=t,n={".jpg":tn(W1),".png":tn(W1),".gif":tn(W1),".webp":tn(W1),".svg":tn(W1),".docx":tn(Zre),".pptx":tn(lie),".xlsx":tn($ie),".psd":tn(Ire),".ai":tn(Bre),".txt":tn(Pie),".json":tn(kie),".html":tn(Bie),".yaml":tn(Gie),".xml":tn(Qie),".java":tn(ole),".jar":tn(lle),".class":tn(mle),".js":tn($le),".ts":tn(Ple),".vue":tn(Ile),".go":tn(Ble),".c":tn(Gle),".cpp":tn(Qle),".astro":tn(tce),".bat":tn(bce),".css":tn(Cce),".db":tn(Oce),".gradle":tn(Fce),".md":tn(Uce),".py":tn(tue),".sh":tn(iue),".php":tn(pue)},o=yx(()=>{const r=fue.extname(e.fileName);if(r)return r.toLowerCase()}),a=yx(()=>{const r=n[o.value];return r||tn(_re)}),s=yx(()=>[`w-${e.width}`,`h-${e.height}`]);return(r,i)=>(vx(),y7("div",$ue,[(vx(),yue(gue(vy(a)),{class:vue(vy(s))},null,8,["class"])),vy(o)&&t.displayExt?(vx(),y7("span",xue,wue(vy(o)),1)):bue("",!0)]))}}),_ue=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Vue=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Cue=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Sue=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],w7=(t,e,n)=>{let o=t;return typeof e=="string"||Array.isArray(e)?o=t.toLocaleString(e,n):(e===!0||n!==void 0)&&(o=t.toLocaleString(void 0,n)),o};function vF(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);e={bits:!1,binary:!1,...e};const n=e.bits?e.binary?Sue:Cue:e.binary?Vue:_ue;if(e.signed&&t===0)return` 0 ${n[0]}`;const o=t<0,a=o?"-":e.signed?"+":"";o&&(t=-t);let s;if(e.minimumFractionDigits!==void 0&&(s={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(s={maximumFractionDigits:e.maximumFractionDigits,...s}),t<1){const c=w7(t,e.locale,s);return a+c+" "+n[0]}const r=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),n.length-1);t/=(e.binary?1024:1e3)**r,s||(t=t.toPrecision(3));const i=w7(Number(t),e.locale,s),l=n[r];return a+i+" "+l}var v2={},Pue={get exports(){return v2},set exports(t){v2=t}};(function(t,e){(function(n,o){t.exports=o()})(En,function(){var n=1e3,o=6e4,a=36e5,s="millisecond",r="second",i="minute",l="hour",c="day",u="week",d="month",p="quarter",f="year",g="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var H=["th","st","nd","rd"],W=L%100;return"["+L+(H[(W-20)%10]||H[W]||H[0])+"]"}},C=function(L,H,W){var Y=String(L);return!Y||Y.length>=H?L:""+Array(H+1-Y.length).join(W)+L},V={s:C,z:function(L){var H=-L.utcOffset(),W=Math.abs(H),Y=Math.floor(W/60),U=W%60;return(H<=0?"+":"-")+C(Y,2,"0")+":"+C(U,2,"0")},m:function L(H,W){if(H.date()<W.date())return-L(W,H);var Y=12*(W.year()-H.year())+(W.month()-H.month()),U=H.clone().add(Y,d),q=W-U<0,ye=H.clone().add(Y+(q?-1:1),d);return+(-(Y+(W-U)/(q?U-ye:ye-U))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:d,y:f,w:u,d:c,D:g,h:l,m:i,s:r,ms:s,Q:p}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},_="en",x={};x[_]=b;var S=function(L){return L instanceof I},P=function L(H,W,Y){var U;if(!H)return _;if(typeof H=="string"){var q=H.toLowerCase();x[q]&&(U=q),W&&(x[q]=W,U=q);var ye=H.split("-");if(!U&&ye.length>1)return L(ye[0])}else{var we=H.name;x[we]=H,U=we}return!Y&&U&&(_=U),U||!Y&&_},E=function(L,H){if(S(L))return L.clone();var W=typeof H=="object"?H:{};return W.date=L,W.args=arguments,new I(W)},O=V;O.l=P,O.i=S,O.w=function(L,H){return E(L,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var I=function(){function L(W){this.$L=P(W.locale,null,!0),this.parse(W)}var H=L.prototype;return H.parse=function(W){this.$d=function(Y){var U=Y.date,q=Y.utc;if(U===null)return new Date(NaN);if(O.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var ye=U.match(y);if(ye){var we=ye[2]-1||0,oe=(ye[7]||"0").substring(0,3);return q?new Date(Date.UTC(ye[1],we,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,oe)):new Date(ye[1],we,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,oe)}}return new Date(U)}(W),this.$x=W.x||{},this.init()},H.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},H.$utils=function(){return O},H.isValid=function(){return this.$d.toString()!==v},H.isSame=function(W,Y){var U=E(W);return this.startOf(Y)<=U&&U<=this.endOf(Y)},H.isAfter=function(W,Y){return E(W)<this.startOf(Y)},H.isBefore=function(W,Y){return this.endOf(Y)<E(W)},H.$g=function(W,Y,U){return O.u(W)?this[Y]:this.set(U,W)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(W,Y){var U=this,q=!!O.u(Y)||Y,ye=O.p(W),we=function(Z,me){var He=O.w(U.$u?Date.UTC(U.$y,me,Z):new Date(U.$y,me,Z),U);return q?He:He.endOf(c)},oe=function(Z,me){return O.w(U.toDate()[Z].apply(U.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(me)),U)},pe=this.$W,he=this.$M,Ne=this.$D,Se="set"+(this.$u?"UTC":"");switch(ye){case f:return q?we(1,0):we(31,11);case d:return q?we(1,he):we(0,he+1);case u:var qe=this.$locale().weekStart||0,Ke=(pe<qe?pe+7:pe)-qe;return we(q?Ne-Ke:Ne+(6-Ke),he);case c:case g:return oe(Se+"Hours",0);case l:return oe(Se+"Minutes",1);case i:return oe(Se+"Seconds",2);case r:return oe(Se+"Milliseconds",3);default:return this.clone()}},H.endOf=function(W){return this.startOf(W,!1)},H.$set=function(W,Y){var U,q=O.p(W),ye="set"+(this.$u?"UTC":""),we=(U={},U[c]=ye+"Date",U[g]=ye+"Date",U[d]=ye+"Month",U[f]=ye+"FullYear",U[l]=ye+"Hours",U[i]=ye+"Minutes",U[r]=ye+"Seconds",U[s]=ye+"Milliseconds",U)[q],oe=q===c?this.$D+(Y-this.$W):Y;if(q===d||q===f){var pe=this.clone().set(g,1);pe.$d[we](oe),pe.init(),this.$d=pe.set(g,Math.min(this.$D,pe.daysInMonth())).$d}else we&&this.$d[we](oe);return this.init(),this},H.set=function(W,Y){return this.clone().$set(W,Y)},H.get=function(W){return this[O.p(W)]()},H.add=function(W,Y){var U,q=this;W=Number(W);var ye=O.p(Y),we=function(he){var Ne=E(q);return O.w(Ne.date(Ne.date()+Math.round(he*W)),q)};if(ye===d)return this.set(d,this.$M+W);if(ye===f)return this.set(f,this.$y+W);if(ye===c)return we(1);if(ye===u)return we(7);var oe=(U={},U[i]=o,U[l]=a,U[r]=n,U)[ye]||1,pe=this.$d.getTime()+W*oe;return O.w(pe,this)},H.subtract=function(W,Y){return this.add(-1*W,Y)},H.format=function(W){var Y=this,U=this.$locale();if(!this.isValid())return U.invalidDate||v;var q=W||"YYYY-MM-DDTHH:mm:ssZ",ye=O.z(this),we=this.$H,oe=this.$m,pe=this.$M,he=U.weekdays,Ne=U.months,Se=function(me,He,Ie,Ge){return me&&(me[He]||me(Y,q))||Ie[He].slice(0,Ge)},qe=function(me){return O.s(we%12||12,me,"0")},Ke=U.meridiem||function(me,He,Ie){var Ge=me<12?"AM":"PM";return Ie?Ge.toLowerCase():Ge},Z={YY:String(this.$y).slice(-2),YYYY:this.$y,M:pe+1,MM:O.s(pe+1,2,"0"),MMM:Se(U.monthsShort,pe,Ne,3),MMMM:Se(Ne,pe),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:Se(U.weekdaysMin,this.$W,he,2),ddd:Se(U.weekdaysShort,this.$W,he,3),dddd:he[this.$W],H:String(we),HH:O.s(we,2,"0"),h:qe(1),hh:qe(2),a:Ke(we,oe,!0),A:Ke(we,oe,!1),m:String(oe),mm:O.s(oe,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:ye};return q.replace(w,function(me,He){return He||Z[me]||ye.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(W,Y,U){var q,ye=O.p(Y),we=E(W),oe=(we.utcOffset()-this.utcOffset())*o,pe=this-we,he=O.m(this,we);return he=(q={},q[f]=he/12,q[d]=he,q[p]=he/3,q[u]=(pe-oe)/6048e5,q[c]=(pe-oe)/864e5,q[l]=pe/a,q[i]=pe/o,q[r]=pe/n,q)[ye]||pe,U?he:O.a(he)},H.daysInMonth=function(){return this.endOf(d).$D},H.$locale=function(){return x[this.$L]},H.locale=function(W,Y){if(!W)return this.$L;var U=this.clone(),q=P(W,Y,!0);return q&&(U.$L=q),U},H.clone=function(){return O.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},L}(),F=I.prototype;return E.prototype=F,[["$ms",s],["$s",r],["$m",i],["$H",l],["$W",c],["$M",d],["$y",f],["$D",g]].forEach(function(L){F[L[1]]=function(H){return this.$g(H,L[0],L[1])}}),E.extend=function(L,H){return L.$i||(L(H,I,E),L.$i=!0),E},E.locale=P,E.isDayjs=S,E.unix=function(L){return E(1e3*L)},E.en=x[_],E.Ls=x,E.p={},E})})(Pue);const Km=v2;var b7={},Eue={get exports(){return b7},set exports(t){b7=t}};(function(t,e){(function(n,o){t.exports=o(v2)})(En,function(n){function o(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var a=o(n),s={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(r,i){return i==="W"?r+"周":r+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(r,i){var l=100*r+i;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return a.default.locale(s,null,!0),s})})(Eue);var XC={},Tue={get exports(){return XC},set exports(t){XC=t}};(function(t,e){(function(n,o){t.exports=o()})(En,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},o={};return function(a,s,r){var i,l=function(p,f,g){g===void 0&&(g={});var v=new Date(p),y=function(w,b){b===void 0&&(b={});var C=b.timeZoneName||"short",V=w+"|"+C,_=o[V];return _||(_=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:w,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:C}),o[V]=_),_}(f,g);return y.formatToParts(v)},c=function(p,f){for(var g=l(p,f),v=[],y=0;y<g.length;y+=1){var w=g[y],b=w.type,C=w.value,V=n[b];V>=0&&(v[V]=parseInt(C,10))}var _=v[3],x=_===24?0:_,S=v[0]+"-"+v[1]+"-"+v[2]+" "+x+":"+v[4]+":"+v[5]+":000",P=+p;return(r.utc(S).valueOf()-(P-=P%1e3))/6e4},u=s.prototype;u.tz=function(p,f){p===void 0&&(p=i);var g=this.utcOffset(),v=this.toDate(),y=v.toLocaleString("en-US",{timeZone:p}),w=Math.round((v-new Date(y))/1e3/60),b=r(y).$set("millisecond",this.$ms).utcOffset(15*-Math.round(v.getTimezoneOffset()/15)-w,!0);if(f){var C=b.utcOffset();b=b.add(g-C,"minute")}return b.$x.$timezone=p,b},u.offsetName=function(p){var f=this.$x.$timezone||r.tz.guess(),g=l(this.valueOf(),f,{timeZoneName:p}).find(function(v){return v.type.toLowerCase()==="timezonename"});return g&&g.value};var d=u.startOf;u.startOf=function(p,f){if(!this.$x||!this.$x.$timezone)return d.call(this,p,f);var g=r(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return d.call(g,p,f).tz(this.$x.$timezone,!0)},r.tz=function(p,f,g){var v=g&&f,y=g||f||i,w=c(+r(),y);if(typeof p!="string")return r(p).tz(y);var b=function(x,S,P){var E=x-60*S*1e3,O=c(E,P);if(S===O)return[E,S];var I=c(E-=60*(O-S)*1e3,P);return O===I?[E,O]:[x-60*Math.min(O,I)*1e3,Math.max(O,I)]}(r.utc(p,v).valueOf(),w,y),C=b[0],V=b[1],_=r(C).utcOffset(V);return _.$x.$timezone=y,_},r.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},r.tz.setDefault=function(p){i=p}}})})(Tue);const Rue=XC;var QC={},Oue={get exports(){return QC},set exports(t){QC=t}};(function(t,e){(function(n,o){t.exports=o()})(En,function(){var n="minute",o=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(s,r,i){var l=r.prototype;i.utc=function(v){var y={date:v,utc:!0,args:arguments};return new r(y)},l.utc=function(v){var y=i(this.toDate(),{locale:this.$L,utc:!0});return v?y.add(this.utcOffset(),n):y},l.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),c.call(this,v)};var u=l.init;l.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else u.call(this)};var d=l.utcOffset;l.utcOffset=function(v,y){var w=this.$utils().u;if(w(v))return this.$u?0:w(this.$offset)?d.call(this):this.$offset;if(typeof v=="string"&&(v=function(_){_===void 0&&(_="");var x=_.match(o);if(!x)return null;var S=(""+x[0]).match(a)||["-",0,0],P=S[0],E=60*+S[1]+ +S[2];return E===0?0:P==="+"?E:-E}(v),v===null))return this;var b=Math.abs(v)<=16?60*v:v,C=this;if(y)return C.$offset=b,C.$u=v===0,C;if(v!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(b+V,n)).$offset=b,C.$x.$localOffset=V}else C=this.utc();return C};var p=l.format;l.format=function(v){var y=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,y)},l.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var f=l.toDate;l.toDate=function(v){return v==="s"&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var g=l.diff;l.diff=function(v,y,w){if(v&&this.$u===v.$u)return g.call(this,v,y,w);var b=this.local(),C=i(v).local();return g.call(b,C,y,w)}}})})(Oue);const kue=QC;Km.extend(Rue);Km.extend(kue);Km.locale("zh-cn");function Ma(t,e){return t?Km(t).tz(e).format("YYYY-MM-DD HH:mm"):""}function yF(t){return t?Km(t).utc(!1).toISOString():""}function ZC(t,e){return t?Km(t).tz(e).format("YYYY-MM-DDTHH:mm"):""}const Aue=window.Vue.defineComponent,$7=window.Vue.renderSlot,gp=window.Vue.unref,Iue=window.Vue.resolveDirective,gn=window.Vue.createElementVNode,Mue=window.Vue.withDirectives,K1=window.Vue.openBlock,yy=window.Vue.createElementBlock,Fue=window.Vue.createCommentVNode,vp=window.Vue.withCtx,wx=window.Vue.createVNode,Wu=window.Vue.toDisplayString,Due=window.Vue.createTextVNode,Nue=window.Vue.resolveComponent,Hue=window.Vue.createBlock,Bue={class:"overflow-hidden bg-white"},Lue={key:0,class:"flex justify-center"},Uue=["alt","src"],jue={key:1},zue={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Gue=gn("dt",{class:"text-sm font-medium text-gray-900"},"预览",-1),Wue={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Kue=gn("span",{class:"text-gray-400"},"加载中...",-1),Yue=gn("span",{class:"text-red-400"},"加载异常",-1),Xue={key:1},Que={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Zue=gn("dt",{class:"text-sm font-medium text-gray-900"},"存储策略",-1),Jue={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},que={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ede=gn("dt",{class:"text-sm font-medium text-gray-900"},"所在分组",-1),tde={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},nde={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ode=gn("dt",{class:"text-sm font-medium text-gray-900"},"文件名称",-1),ade={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},sde={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},rde=gn("dt",{class:"text-sm font-medium text-gray-900"},"文件类型",-1),ide={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},lde={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},cde=gn("dt",{class:"text-sm font-medium text-gray-900"},"文件大小",-1),ude={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},dde={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},pde=gn("dt",{class:"text-sm font-medium text-gray-900"},"上传者",-1),hde={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},fde={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},mde=gn("dt",{class:"text-sm font-medium text-gray-900"},"上传时间",-1),gde={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},vde={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},yde=gn("dt",{class:"text-sm font-medium text-gray-900"},"原始链接",-1),wde={class:"mt-1 text-sm text-gray-900 hover:text-blue-600 sm:col-span-2 sm:mt-0"},bde=["href"],$de=window.HaloComponents.VButton,xde=window.HaloComponents.VModal,_de=window.HaloComponents.VSpace;window.HaloComponents.VTag;const x7=window.Vue.ref,Vde=window.Vue.watch,Cde=window.Vue.watchEffect,wF=Aue({__name:"AttachmentDetailModal",props:{visible:{type:Boolean,default:!1},attachment:{default:null},mountToBody:{type:Boolean,default:!1}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,{groups:o,handleFetchGroups:a}=m$(),s=x7(),r=x7(!1);Cde(async()=>{if(n.attachment){const{policyName:c}=n.attachment.spec;if(!c)return;const{data:u}=await X.extension.storage.policy.getstorageHaloRunV1alpha1Policy({name:c});s.value=u}}),Vde(()=>n.visible,c=>{c&&a()});const i=c=>{const u=o.value.find(d=>d.metadata.name===c);return(u==null?void 0:u.spec.displayName)||c},l=c=>{e("update:visible",c),c||(s.value=void 0,r.value=!1,e("close"))};return(c,u)=>{var p;Nue("RouterLink");const d=Iue("tooltip");return K1(),Hue(gp(xde),{title:`附件：${((p=t.attachment)==null?void 0:p.spec.displayName)||""}`,visible:t.visible,width:1e3,"mount-to-body":t.mountToBody,height:"calc(100vh - 20px)","onUpdate:visible":l},{actions:vp(()=>[$7(c.$slots,"actions")]),footer:vp(()=>[wx(gp(_de),null,{default:vp(()=>[wx(gp($de),{type:"default",onClick:u[2]||(u[2]=f=>l(!1))},{default:vp(()=>[Due("关闭 Esc")]),_:1}),$7(c.$slots,"footer")]),_:3})]),default:vp(()=>{var f,g,v,y,w,b,C,V,_,x,S,P,E,O,I,F,L,H,W;return[gn("div",Bue,[r.value&&gp(d2)((f=t.attachment)==null?void 0:f.spec.mediaType)?(K1(),yy("div",Lue,[Mue(gn("img",{alt:(g=t.attachment)==null?void 0:g.spec.displayName,src:(y=(v=t.attachment)==null?void 0:v.status)==null?void 0:y.permalink,class:"w-auto cursor-pointer rounded",onClick:u[0]||(u[0]=Y=>r.value=!r.value)},null,8,Uue),[[d,"点击退出预览",void 0,{bottom:!0}]])])):(K1(),yy("dl",jue,[gn("div",zue,[Gue,gn("dd",Wue,[gp(d2)((w=t.attachment)==null?void 0:w.spec.mediaType)?(K1(),yy("div",{key:0,onClick:u[1]||(u[1]=Y=>r.value=!r.value)},[wx(Gm,{alt:(b=t.attachment)==null?void 0:b.spec.displayName,src:(V=(C=t.attachment)==null?void 0:C.status)==null?void 0:V.permalink,classes:"max-w-full cursor-pointer rounded sm:max-w-[50%]"},{loading:vp(()=>[Kue]),error:vp(()=>[Yue]),_:1},8,["alt","src"])])):(K1(),yy("span",Xue," 此文件不支持预览 "))])]),gn("div",Que,[Zue,gn("dd",Jue,Wu((_=s.value)==null?void 0:_.spec.displayName),1)]),gn("div",que,[ede,gn("dd",tde,Wu(i((x=t.attachment)==null?void 0:x.spec.groupName)||"未分组"),1)]),gn("div",nde,[ode,gn("dd",ade,Wu((S=t.attachment)==null?void 0:S.spec.displayName),1)]),gn("div",sde,[rde,gn("dd",ide,Wu((P=t.attachment)==null?void 0:P.spec.mediaType),1)]),gn("div",lde,[cde,gn("dd",ude,Wu(gp(vF)(((E=t.attachment)==null?void 0:E.spec.size)||0)),1)]),gn("div",dde,[pde,gn("dd",hde,Wu((O=t.attachment)==null?void 0:O.spec.ownerName),1)]),gn("div",fde,[mde,gn("dd",gde,Wu(gp(Ma)((I=t.attachment)==null?void 0:I.metadata.creationTimestamp)),1)]),gn("div",vde,[yde,gn("dd",wde,[gn("a",{target:"_blank",href:(L=(F=t.attachment)==null?void 0:F.status)==null?void 0:L.permalink},Wu((W=(H=t.attachment)==null?void 0:H.status)==null?void 0:W.permalink),9,bde)])]),Fue("",!0)]))])]}),_:3},8,["title","visible","mount-to-body"])}}}),Sde=window.Vue.defineComponent,wy=window.Vue.unref,Pde=window.Vue.resolveComponent,by=window.Vue.createVNode,Y1=window.Vue.withCtx,_7=window.Vue.openBlock,V7=window.Vue.createBlock,Ede=window.Vue.createCommentVNode,Tde=window.Vue.createTextVNode,Rde=window.HaloComponents.Toast,Ode=window.HaloComponents.VButton,kde=window.HaloComponents.VModal,Ade=window.HaloComponents.VSpace,C7=window.Vue.computed,S7=window.Vue.ref,P7=window.Vue.watch,Ide=Sde({__name:"AttachmentGroupEditingModal",props:{visible:{type:Boolean,default:!1},group:{default:null}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o={spec:{displayName:""},apiVersion:"storage.halo.run/v1alpha1",kind:"Group",metadata:{name:"",generateName:"attachment-group-"}},a=S7(ot(o)),s=S7(!1),r=C7(()=>!!a.value.metadata.creationTimestamp),i=C7(()=>r.value?"编辑附件分组":"新增附件分组"),l=async()=>{try{s.value=!0,r.value?await X.extension.storage.group.updatestorageHaloRunV1alpha1Group({name:a.value.metadata.name,group:a.value}):await X.extension.storage.group.createstorageHaloRunV1alpha1Group({group:a.value}),Rde.success("保存成功"),c(!1)}catch(d){console.error("Failed to save attachment group",d)}finally{s.value=!1}},c=d=>{e("update:visible",d),d||e("close")},u=()=>{a.value=ot(o),tr("attachment-group-form")};return P7(()=>n.visible,d=>{d?Ps("displayNameInput"):u()}),P7(()=>n.group,d=>{d?a.value=ot(d):u()}),(d,p)=>{const f=Pde("FormKit");return _7(),V7(wy(kde),{title:wy(i),visible:t.visible,width:500,"onUpdate:visible":c},{footer:Y1(()=>[by(wy(Ade),null,{default:Y1(()=>[t.visible?(_7(),V7(Vl,{key:0,loading:s.value,type:"secondary",onSubmit:p[1]||(p[1]=g=>d.$formkit.submit("attachment-group-form"))},null,8,["loading"])):Ede("",!0),by(wy(Ode),{onClick:p[2]||(p[2]=g=>c(!1))},{default:Y1(()=>[Tde("取消 Esc")]),_:1})]),_:1})]),default:Y1(()=>[by(f,{id:"attachment-group-form",name:"attachment-group-form",config:{validationVisibility:"submit"},type:"form",actions:!1,onSubmit:l},{default:Y1(()=>[by(f,{id:"displayNameInput",modelValue:a.value.spec.displayName,"onUpdate:modelValue":p[0]||(p[0]=g=>a.value.spec.displayName=g),label:"名称",type:"text",name:"displayName",validation:"required|length:0,50"},null,8,["modelValue"])]),_:1})]),_:1},8,["title","visible"])}}}),Mde=window.Vue.defineComponent,Wi=window.Vue.openBlock,Kh=window.Vue.createBlock,$y=window.Vue.createCommentVNode,E7=window.Vue.renderList,bx=window.Vue.Fragment,X1=window.Vue.createElementBlock,T7=window.Vue.toDisplayString,mc=window.Vue.createElementVNode,R7=window.Vue.normalizeClass,Ul=window.Vue.unref,$x=window.Vue.resolveDirective,Yh=window.Vue.withDirectives,Fde=window.Vue.withModifiers,Xh=window.Vue.createVNode,xy=window.Vue.createTextVNode,jl=window.Vue.withCtx,Dde=window.Vue.resolveComponent,Nde={class:"mb-5 grid grid-cols-2 gap-x-2 gap-y-3 sm:grid-cols-6"},Hde=["onClick"],Bde={class:"flex flex-1 items-center"},Lde={class:"text-sm"},Ude=["onClick"],jde={class:"flex flex-1 items-center gap-2 truncate"},zde={class:"truncate text-sm"},Gde={class:"w-48 p-2"},Wde={class:"w-52 p-2"},Kde=mc("div",{class:"flex flex-1 items-center truncate"},[mc("span",{class:"truncate text-sm"},"添加分组")],-1),Yde=window.Vue.onMounted,xx=window.Vue.ref,Xde=window.Vue.watch,O7=window.HaloComponents.Dialog,Qde=window.HaloComponents.IconAddCircle,Zde=window.HaloComponents.IconMore,k7=window.HaloComponents.Toast,_y=window.HaloComponents.VButton,A7=window.HaloComponents.VSpace,Jde=window.HaloComponents.VStatusDot,qde=window.VueUse.useRouteQuery,bF=Mde({__name:"AttachmentGroupList",props:{selectedGroup:{default:void 0},readonly:{type:Boolean,default:!1}},emits:["update:selectedGroup","select","update","reload-attachments"],setup(t,{emit:e}){const n=t,o=[{spec:{displayName:"全部"},apiVersion:"",kind:"",metadata:{name:""}},{spec:{displayName:"未分组"},apiVersion:"",kind:"",metadata:{name:"ungrouped"}}],{groups:a,handleFetchGroups:s}=m$(),r=xx(null),i=xx(!1),l=xx(!1),c=qde("group"),u=v=>{e("update:selectedGroup",v),e("select",v),n.readonly||(c.value=v.metadata.name)},d=v=>{r.value=v,l.value=!0},p=()=>{e("update"),s()},f=v=>{O7.warning({title:"确定要删除该分组吗？",description:"将删除分组，并将分组下的附件移动至未分组，该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{const{data:y}=await X.attachment.searchAttachments({group:v.metadata.name,page:0,size:0});await X.extension.storage.group.deletestorageHaloRunV1alpha1Group({name:v.metadata.name});const w=y.items.map(b=>(b.spec.groupName=void 0,X.extension.storage.attachment.updatestorageHaloRunV1alpha1Attachment({name:b.metadata.name,attachment:b})));await Promise.all(w),s(),e("reload-attachments"),e("update"),k7.success(`删除成功，${y.total} 个附件已移动至未分组`)}})},g=v=>{O7.warning({title:"确定要删除该分组吗？",description:"将删除分组以及分组下的所有附件，该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{const{data:y}=await X.attachment.searchAttachments({group:v.metadata.name,page:0,size:0});await X.extension.storage.group.deletestorageHaloRunV1alpha1Group({name:v.metadata.name});const w=y.items.map(b=>X.extension.storage.attachment.deletestorageHaloRunV1alpha1Attachment({name:b.metadata.name}));await Promise.all(w),s(),e("reload-attachments"),e("update"),k7.success(`删除成功，${y.total} 个附件已被同时删除`)}})};return Xde(()=>a.value.length,()=>{[...o,...a.value].findIndex(w=>w.metadata.name===c.value)<0&&u(o[0])}),Yde(async()=>{if(await s(),c.value&&!n.readonly){const y=[...o,...a.value].find(w=>w.metadata.name===c.value);if(y){u(y);return}}u(o[0])}),(v,y)=>{const w=Dde("FloatingDropdown"),b=$x("tooltip"),C=$x("close-popper"),V=$x("permission");return Wi(),X1(bx,null,[t.readonly?$y("",!0):(Wi(),Kh(Ide,{key:0,visible:l.value,"onUpdate:visible":y[0]||(y[0]=_=>l.value=_),group:r.value,onClose:p},null,8,["visible","group"])),mc("div",Nde,[(Wi(),X1(bx,null,E7(o,(_,x)=>{var S;return mc("div",{key:x,class:R7([{"!bg-gray-200 !text-gray-900":_.metadata.name===((S=t.selectedGroup)==null?void 0:S.metadata.name)},"flex cursor-pointer items-center rounded-base bg-gray-100 p-2 text-gray-500 transition-all hover:bg-gray-200 hover:text-gray-900 hover:shadow-sm"]),onClick:P=>u(_)},[mc("div",Bde,[mc("span",Lde,T7(_.spec.displayName),1)])],10,Hde)}),64)),(Wi(!0),X1(bx,null,E7(Ul(a),(_,x)=>{var S;return Wi(),X1("div",{key:x,class:R7([{"!bg-gray-200 !text-gray-900":_.metadata.name===((S=t.selectedGroup)==null?void 0:S.metadata.name)},"flex cursor-pointer items-center rounded-base bg-gray-100 p-2 text-gray-500 transition-all hover:bg-gray-200 hover:text-gray-900 hover:shadow-sm"]),onClick:P=>u(_)},[mc("div",jde,[mc("span",zde,T7(_.spec.displayName),1),_.metadata.deletionTimestamp?Yh((Wi(),Kh(Ul(Jde),{key:0,state:"warning",animate:""},null,512)),[[b,"删除中"]]):$y("",!0)]),t.readonly?$y("",!0):Yh((Wi(),Kh(w,{key:0},{popper:jl(()=>[mc("div",Gde,[Xh(Ul(A7),{class:"w-full",direction:"column"},{default:jl(()=>[Yh((Wi(),Kh(Ul(_y),{block:"",type:"secondary",onClick:P=>d(_)},{default:jl(()=>[xy(" 重命名 ")]),_:2},1032,["onClick"])),[[C]]),Xh(w,{class:"w-full",placement:"right",triggers:["click"]},{popper:jl(()=>[mc("div",Wde,[Xh(Ul(A7),{class:"w-full",direction:"column"},{default:jl(()=>[Yh((Wi(),Kh(Ul(_y),{block:"",type:"danger",size:"sm",onClick:P=>f(_)},{default:jl(()=>[xy(" 删除并将附件移动至未分组 ")]),_:2},1032,["onClick"])),[[C,void 0,void 0,{all:!0}]]),Yh((Wi(),Kh(Ul(_y),{block:"",type:"danger",size:"sm",onClick:P=>g(_)},{default:jl(()=>[xy(" 删除并同时删除附件 ")]),_:2},1032,["onClick"])),[[C,void 0,void 0,{all:!0}]])]),_:2},1024)])]),default:jl(()=>[Xh(Ul(_y),{block:"",type:"danger"},{default:jl(()=>[xy("删除")]),_:1})]),_:2},1024)]),_:2},1024)])]),default:jl(()=>[Xh(Ul(Zde),{onClick:y[1]||(y[1]=Fde(()=>{},["stop"]))})]),_:2},1024)),[[V,["system:attachments:manage"]]])],10,Ude)}),128)),!i.value&&!t.readonly?Yh((Wi(),X1("div",{key:0,class:"flex cursor-pointer items-center rounded-base bg-gray-100 p-2 text-gray-500 transition-all hover:bg-gray-200 hover:text-gray-900 hover:shadow-sm",onClick:y[2]||(y[2]=_=>l.value=!0)},[Kde,Xh(Ul(Qde))])),[[V,["system:attachments:manage"]]]):$y("",!0)])],64)}}}),epe=window.Vue.withAsyncContext,tpe=window.Vue.defineComponent,Ua=window.Vue.createVNode,It=window.Vue.unref,_x=window.Vue.createTextVNode,Ki=window.Vue.withCtx,zl=window.Vue.openBlock,Qh=window.Vue.createElementBlock,npe=window.Vue.createCommentVNode,Vy=window.Vue.createBlock,ope=window.Vue.renderList,I7=window.Vue.Fragment,ul=window.Vue.createElementVNode,ape=window.Vue.toDisplayString,M7=window.Vue.withModifiers,Vx=window.Vue.normalizeClass,spe={key:0,class:"mb-5"},rpe={key:2,class:"mt-2 grid grid-cols-3 gap-x-2 gap-y-3 sm:grid-cols-3 md:grid-cols-6 xl:grid-cols-8 2xl:grid-cols-10",role:"list"},ipe={class:"group relative bg-white"},lpe={class:"aspect-w-10 aspect-h-8 block h-full w-full cursor-pointer overflow-hidden bg-gray-100"},cpe=ul("div",{class:"flex h-full items-center justify-center object-cover"},[ul("span",{class:"text-xs text-gray-400"},"加载中...")],-1),upe=ul("div",{class:"flex h-full items-center justify-center object-cover"},[ul("span",{class:"text-xs text-red-400"},"加载异常")],-1),dpe={class:"pointer-events-none block truncate px-2 py-1 text-center text-xs font-medium text-gray-700"},ppe={class:"mt-4 bg-white sm:flex sm:items-center sm:justify-end"},F7=window.HaloComponents.IconCheckboxFill,hpe=window.HaloComponents.IconArrowLeft,fpe=window.HaloComponents.IconArrowRight,mpe=window.HaloComponents.VCard,gpe=window.HaloComponents.VEmpty,vpe=window.HaloComponents.VSpace,Cx=window.HaloComponents.VButton,D7=window.HaloComponents.IconUpload,ype=window.HaloComponents.VPagination,wpe=window.HaloComponents.IconEye,bpe=window.HaloComponents.IconCheckboxCircle,$pe=window.Vue.watchEffect,Sx=window.Vue.ref,xpe=tpe({__name:"CoreSelectorProvider",props:{selected:{default:()=>[]}},emits:["update:selected","change-provider"],async setup(t,{emit:e}){let n,o;const a=Sx(),{attachments:s,loading:r,selectedAttachment:i,selectedAttachments:l,handleFetchAttachments:c,handlePaginationChange:u,handleSelect:d,handleSelectPrevious:p,handleSelectNext:f,handleReset:g,isChecked:v}=sM({group:a}),y=Sx(!1),w=Sx(!1);$pe(()=>{e("update:selected",Array.from(l.value))});const b=V=>{i.value=V,w.value=!0},C=()=>{g(),c()};return[n,o]=epe(()=>c()),await n,o(),(V,_)=>(zl(),Qh(I7,null,[Ua(bF,{"selected-group":a.value,"onUpdate:selected-group":_[0]||(_[0]=x=>a.value=x),readonly:"",onSelect:C},null,8,["selected-group"]),It(s).total>0?(zl(),Qh("div",spe,[Ua(It(Cx),{onClick:_[1]||(_[1]=x=>y.value=!0)},{icon:Ki(()=>[Ua(It(D7),{class:"h-full w-full"})]),default:Ki(()=>[_x(" 上传 ")]),_:1})])):npe("",!0),!It(s).total&&!It(r)?(zl(),Vy(It(gpe),{key:1,message:"当前没有附件，你可以尝试刷新或者上传附件",title:"当前没有附件"},{actions:Ki(()=>[Ua(It(vpe),null,{default:Ki(()=>[Ua(It(Cx),{onClick:It(c)},{default:Ki(()=>[_x("刷新")]),_:1},8,["onClick"]),Ua(It(Cx),{type:"secondary",onClick:_[2]||(_[2]=x=>y.value=!0)},{icon:Ki(()=>[Ua(It(D7),{class:"h-full w-full"})]),default:Ki(()=>[_x(" 上传附件 ")]),_:1})]),_:1})]),_:1})):(zl(),Qh("div",rpe,[(zl(!0),Qh(I7,null,ope(It(s).items,(x,S)=>(zl(),Vy(It(mpe),{key:S,"body-class":["!p-0"],class:Vx([{"ring-1 ring-primary":It(v)(x)},"hover:shadow"]),onClick:M7(P=>It(d)(x),["stop"])},{default:Ki(()=>{var P;return[ul("div",ipe,[ul("div",lpe,[It(d2)(x.spec.mediaType)?(zl(),Vy(Gm,{key:x.metadata.name,alt:x.spec.displayName,src:(P=x.status)==null?void 0:P.permalink,classes:"pointer-events-none object-cover group-hover:opacity-75"},{loading:Ki(()=>[cpe]),error:Ki(()=>[upe]),_:2},1032,["alt","src"])):(zl(),Vy(YC,{key:1,"file-name":x.spec.displayName},null,8,["file-name"]))]),ul("p",dpe,ape(x.spec.displayName),1),ul("div",{class:Vx([{"!flex":It(l).has(x)},"absolute top-0 left-0 hidden h-1/3 w-full justify-end bg-gradient-to-b from-gray-300 to-transparent ease-in-out group-hover:flex"])},[Ua(It(wpe),{class:"mt-1 mr-1 hidden h-6 w-6 cursor-pointer text-white transition-all hover:text-primary group-hover:block",onClick:M7(E=>b(x),["stop"])},null,8,["onClick"]),Ua(It(F7),{class:Vx([{"!text-primary":It(l).has(x)},"mt-1 mr-1 h-6 w-6 cursor-pointer text-white transition-all hover:text-primary"])},null,8,["class"])],2)])]}),_:2},1032,["class","onClick"]))),128))])),ul("div",ppe,[Ua(It(ype),{page:It(s).page,size:It(s).size,total:It(s).total,"size-options":[60,120,200],onChange:It(u)},null,8,["page","size","total","onChange"])]),Ua(gF,{visible:y.value,"onUpdate:visible":_[3]||(_[3]=x=>y.value=x),onClose:It(c)},null,8,["visible","onClose"]),Ua(wF,{visible:w.value,"onUpdate:visible":_[8]||(_[8]=x=>w.value=x),"mount-to-body":!0,attachment:It(i),onClose:_[9]||(_[9]=x=>i.value=void 0)},{actions:Ki(()=>[It(i)&&It(l).has(It(i))?(zl(),Qh("span",{key:0,onClick:_[4]||(_[4]=x=>It(d)(It(i)))},[Ua(It(F7))])):(zl(),Qh("span",{key:1,onClick:_[5]||(_[5]=x=>It(d)(It(i)))},[Ua(It(bpe))])),ul("span",{onClick:_[6]||(_[6]=(...x)=>It(p)&&It(p)(...x))},[Ua(It(hpe))]),ul("span",{onClick:_[7]||(_[7]=(...x)=>It(f)&&It(f)(...x))},[Ua(It(fpe))])]),_:1},8,["visible","attachment"])],64))}}),PS=Um("plugin",{state:()=>({pluginModules:[]}),actions:{registerPluginModule(t){this.pluginModules.push(t)}}}),_pe=window.Vue.defineComponent,Px=window.Vue.unref,N7=window.Vue.createVNode,Vpe=window.Vue.renderList,Cpe=window.Vue.Fragment,Zh=window.Vue.openBlock,Ex=window.Vue.createElementBlock,Spe=window.Vue.resolveDynamicComponent,Tx=window.Vue.createBlock,Rx=window.Vue.createCommentVNode,H7=window.Vue.createTextVNode,Ppe=window.Vue.Suspense,Q1=window.Vue.withCtx,Epe=window.Vue.toDisplayString,Tpe={key:0,class:"mt-2"},Rpe={key:0},Ope=window.HaloComponents.VButton,kpe=window.HaloComponents.VModal,Ape=window.HaloComponents.VTabbar,Ox=window.Vue.ref,Ipe=window.Vue.markRaw,Mpe=window.Vue.onMounted,$F=_pe({__name:"AttachmentSelectorModal",props:{visible:{type:Boolean,default:!1}},emits:["update:visible","close","select"],setup(t,{emit:e}){const n=Ox([]),o=Ox([{id:"core",label:"附件库",component:Ipe(xpe)}]),{pluginModules:a}=PS();Mpe(()=>{a.forEach(c=>{const{extensionPoints:u}=c;if(!(u!=null&&u["attachment:selector:create"]))return;const d=u["attachment:selector:create"]();d&&d.forEach(p=>{o.value.push(p)})})});const s=Ox(o.value[0].id),r=c=>{e("update:visible",c),c||e("close")},i=c=>{o.value.find(d=>d.id===c)&&(s.value=c)},l=()=>{e("select",Array.from(n.value)),r(!1)};return(c,u)=>(Zh(),Tx(Px(kpe),{visible:t.visible,width:1240,"mount-to-body":!0,title:"选择附件",height:"calc(100vh - 20px)","onUpdate:visible":r},{footer:Q1(()=>[N7(Px(Ope),{type:"secondary",onClick:l},{default:Q1(()=>[H7(" 确定 "),n.value.length?(Zh(),Ex("span",Rpe," （已选择 "+Epe(n.value.length)+" 项） ",1)):Rx("",!0)]),_:1})]),default:Q1(()=>[N7(Px(Ape),{"active-id":s.value,"onUpdate:active-id":u[0]||(u[0]=d=>s.value=d),items:o.value,class:"w-full",type:"outline"},null,8,["active-id","items"]),t.visible?(Zh(),Ex("div",Tpe,[(Zh(!0),Ex(Cpe,null,Vpe(o.value,(d,p)=>(Zh(),Tx(Ppe,{key:p},{fallback:Q1(()=>[H7(" 加载中 ")]),default:Q1(()=>[s.value===d.id?(Zh(),Tx(Spe(d.component),{key:0,selected:n.value,"onUpdate:selected":u[1]||(u[1]=f=>n.value=f),onChangeProvider:i},null,40,["selected"])):Rx("",!0)]),_:2},1024))),128))])):Rx("",!0)]),_:1},8,["visible"]))}}),Fpe=window.Vue.defineComponent,Dpe=window.Vue.mergeProps,B7=window.Vue.createElementVNode,Npe=window.Vue.unref,L7=window.Vue.createVNode,Hpe=window.Vue.Fragment,Bpe=window.Vue.openBlock,Lpe=window.Vue.createElementBlock,Upe=["id","value","name"],jpe=window.HaloComponents.IconFolder,zpe=window.Vue.ref,Gpe=Fpe({__name:"AttachmentInput",props:{context:{type:Object,required:!0}},setup(t){const e=t,n=zpe(!1),o=s=>{e.context.handlers.DOMInput(s)},a=s=>{const r=s.map(i=>{var l;if(typeof i=="string")return i;if("url"in i)return i.url;if("spec"in i)return(l=i.status)==null?void 0:l.permalink});r.length&&e.context.node.input(r[0])};return(s,r)=>(Bpe(),Lpe(Hpe,null,[B7("input",Dpe({id:t.context.id,value:t.context._value,class:t.context.classes.input,name:t.context.node.name},t.context.attrs,{type:"text",onBlur:r[0]||(r[0]=i=>t.context.handlers.blur()),onInput:o}),null,16,Upe),B7("div",{class:"group flex h-full cursor-pointer items-center border-l px-3 transition-all hover:bg-gray-100",onClick:r[1]||(r[1]=i=>n.value=!0)},[L7(Npe(jpe),{class:"h-4 w-4 text-gray-500 group-hover:text-gray-700"})]),L7($F,{visible:n.value,"onUpdate:visible":r[2]||(r[2]=i=>n.value=i),onSelect:a},null,8,["visible"])],64))}}),Wpe=aM(Gpe,{type:"input",props:[],forceTypeProp:"text",features:[NI]}),Kpe=window.Vue.defineComponent,kx=window.Vue.unref,Ype=window.Vue.mergeProps,Xpe=window.Vue.openBlock,Qpe=window.Vue.createBlock,Zpe=window.HaloComponents.VCodemirror,Jpe=Kpe({__name:"CodeInput",props:{context:{type:Object,required:!0}},setup(t){const e=t,n=e.context.height,o=e.context.language,a=s=>{e.context.node.input(s)};return(s,r)=>(Xpe(),Qpe(kx(Zpe),Ype({"model-value":e.context._value},t.context.attrs,{height:kx(n),language:kx(o),class:"block w-full",onChange:a}),null,16,["model-value","height","language"]))}}),qpe=aM(Jpe,{type:"input",props:["height","language"],forceTypeProp:"textarea"}),ehe=Lt("repeaterItems",()=>({$cmp:"Repeater",props:{context:"$node.context"}})),the=window.Vue.defineComponent,nhe=window.Vue.renderList,U7=window.Vue.Fragment,Cy=window.Vue.openBlock,Ax=window.Vue.createElementBlock,ohe=window.Vue.renderSlot,ahe=window.Vue.resolveComponent,Ix=window.Vue.withCtx,she=window.Vue.createBlock,yp=window.Vue.normalizeClass,Xc=window.Vue.createElementVNode,Jh=window.Vue.unref,qh=window.Vue.createVNode,rhe=window.Vue.createTextVNode,ihe={class:"flex flex-col items-center justify-center gap-1.5 py-2"},lhe={class:"cursor-pointer text-gray-500 transition-all hover:text-primary"},che={class:"cursor-pointer text-gray-500 transition-all hover:text-primary"},uhe=window.HaloComponents.VButton,j7=window.HaloComponents.IconAddCircle,dhe=window.HaloComponents.IconCloseCircle,phe=window.HaloComponents.IconArrowUpCircleLine,hhe=window.HaloComponents.IconArrowDownCircleLine,fhe=the({__name:"Repeater",props:{context:{type:Object,required:!0}},setup(t){const e=t,n=r=>{const i=ot(e.context._value);i.splice(r+1,0,{}),e.context.node.input(i)},o=r=>{const i=ot(e.context._value);i.splice(r,1),e.context.node.input(i)},a=r=>{if(r===0)return;const i=ot(e.context._value);i.splice(r-1,0,i.splice(r,1)[0]),e.context.node.input(i)},s=r=>{if(r===e.context._value.length-1)return;const i=ot(e.context._value);i.splice(r+1,0,i.splice(r,1)[0]),e.context.node.input(i)};return(r,i)=>{const l=ahe("FormKit");return Cy(),Ax(U7,null,[Xc("ul",{class:yp(t.context.classes.items)},[(Cy(!0),Ax(U7,null,nhe(t.context._value,(c,u)=>(Cy(),Ax("li",{key:u,class:yp(t.context.classes.item)},[Xc("div",{class:yp(t.context.classes.content)},[(Cy(),she(l,{id:`${t.context.node.name}-group-${u}`,key:`${t.context.node.name}-group-${u}`,"model-value":c,type:"group"},{default:Ix(()=>[ohe(r.$slots,"default")]),_:2},1032,["id","model-value"]))],2),Xc("div",{class:yp(t.context.classes.controls)},[Xc("ul",ihe,[Xc("li",{class:yp(["cursor-pointer text-gray-500 transition-all hover:text-primary",{"cursor-not-allowed opacity-50 hover:!text-gray-500":u===0}])},[qh(Jh(phe),{class:"h-5 w-5",onClick:d=>a(u)},null,8,["onClick"])],2),Xc("li",lhe,[qh(Jh(dhe),{class:"h-5 w-5",onClick:d=>o(u)},null,8,["onClick"])]),Xc("li",che,[qh(Jh(j7),{class:"h-5 w-5",onClick:d=>n(u)},null,8,["onClick"])]),Xc("li",{class:yp(["cursor-pointer text-gray-500 transition-all hover:text-primary",{"cursor-not-allowed opacity-50 hover:!text-gray-500":u===t.context._value.length-1}])},[qh(Jh(hhe),{class:"h-5 w-5",onClick:d=>s(u)},null,8,["onClick"])],2)])],2)],2))),128))],2),Xc("div",{class:yp(t.context.classes.add)},[qh(Jh(uhe),{type:"secondary",onClick:i[0]||(i[0]=c=>n(t.context._value.length))},{icon:Ix(()=>[qh(Jh(j7),{class:"h-full w-full"})]),default:Ix(()=>[rhe(" 添加 ")]),_:1})],2)],64)}}}),mhe={schema:_l(rS(iS("$label"),zr("$help"),Pi(Ur(),ehe("$slots.default"),jr())),Kr(Yr("$message.value"))),type:"list",library:{Repeater:fhe}};function ghe(t){t.on("created",async()=>{const{data:e}=await X.extension.menu.listv1alpha1Menu();t.props.options=e.items.map(n=>({value:n.metadata.name,label:n.spec.displayName}))})}const vhe={...u$,props:["onValue","offValue"],forceTypeProp:"checkbox",features:[ghe,i$,Lr("decorator","checkboxDecorator")]};function yhe(t){t.on("created",async()=>{const{data:e}=await X.extension.menu.listv1alpha1Menu();t.props.options=e.items.map(n=>({value:n.metadata.name,label:n.spec.displayName}))})}const whe={...UI,props:["onValue","offValue"],forceTypeProp:"radio",features:[yhe,HI,Lr("decorator","radioDecorator")]};function bhe(t){t.on("created",async()=>{const{data:e}=await X.extension.menuItem.listv1alpha1MenuItem({fieldSelector:[`name=(${t.props.menuItems.join(",")})`]});t.props.options=e.items.map(n=>{var o;return{value:n.metadata.name,label:(o=n.status)==null?void 0:o.displayName}})})}const $he={...d$,props:["placeholder","menuItems"],forceTypeProp:"select",features:[bhe,c$,Lr("select","select")]};var Ad=(t=>(t.NAME="plugin.halo.run/plugin-name",t))(Ad||{}),vh=(t=>(t.TEMPLATE="halo.run/role-template",t.SYSTEM_RESERVED="rbac.authorization.halo.run/system-reserved",t))(vh||{}),bc=(t=>(t.DELETED="content.halo.run/deleted",t.PUBLISHED="content.halo.run/published",t.OWNER="content.halo.run/owner",t.VISIBLE="content.halo.run/visible",t.PHASE="content.halo.run/phase",t))(bc||{}),$c=(t=>(t.DELETED="content.halo.run/deleted",t.PUBLISHED="content.halo.run/published",t.OWNER="content.halo.run/owner",t.VISIBLE="content.halo.run/visible",t.PHASE="content.halo.run/phase",t))($c||{});function xhe(t){t.on("created",async()=>{const{data:e}=await X.post.listPosts({labelSelector:[`${bc.DELETED}=false`,`${bc.PUBLISHED}=true`]});t.props.options=e.items.map(n=>({value:n.post.metadata.name,label:n.post.spec.title}))})}const _he={...d$,props:["placeholder"],forceTypeProp:"select",features:[xhe,c$,Lr("select","select")]};function Vhe(t){t.on("created",async()=>{const{data:e}=await X.singlePage.listSinglePages({labelSelector:[`${$c.DELETED}=false`,`${$c.PUBLISHED}=true`]});t.props.options=e.items.map(n=>({value:n.page.metadata.name,label:n.page.spec.title}))})}const Che={...d$,props:["placeholder"],forceTypeProp:"select",features:[Vhe,c$,Lr("select","select")]};function Ho(t,e){let n=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(r=>[r]));let o=e[0].length,a=e[0].map((r,i)=>e.map(l=>l[i])),s=t.map(r=>a.map(i=>{let l=0;if(!Array.isArray(r)){for(let c of i)l+=r*c;return l}for(let c=0;c<r.length;c++)l+=r[c]*(i[c]||0);return l}));return n===1&&(s=s[0]),o===1?s.map(r=>r[0]):s}function S0(t){return Id(t)==="string"}function Id(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function y2(t,e){t=+t,e=+e;let n=(Math.floor(t)+"").length;if(e>n)return+t.toFixed(e-n);{let o=10**(n-e);return Math.round(t/o)*o}}function xF(t){if(!t)return;t=t.trim();const e=/^([a-z]+)\((.+?)\)$/i,n=/^-?[\d.]+$/;let o=t.match(e);if(o){let a=[];return o[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,(s,r)=>{/%$/.test(r)?(r=new Number(r.slice(0,-1)/100),r.type="<percentage>"):/deg$/.test(r)?(r=new Number(+r.slice(0,-3)),r.type="<angle>",r.unit="deg"):n.test(r)&&(r=new Number(r),r.type="<number>"),s.startsWith("/")&&(r=r instanceof Number?r:new Number(r),r.alpha=!0),a.push(r)}),{name:o[1].toLowerCase(),rawName:o[1],rawArgs:o[2],args:a}}}function _F(t){return t[t.length-1]}function w2(t,e,n){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*n}function VF(t,e,n){return(n-t)/(e-t)}function ES(t,e,n){return w2(e[0],e[1],VF(t[0],t[1],n))}function CF(t){return t.map(e=>e.split("|").map(n=>{n=n.trim();let o=n.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(o){let a=new String(o[1]);return a.range=[+o[2],+o[3]],a}return n}))}var She=Object.freeze({__proto__:null,isString:S0,type:Id,toPrecision:y2,parseFunction:xF,last:_F,interpolate:w2,interpolateInv:VF,mapRange:ES,parseCoordGrammar:CF,multiplyMatrices:Ho});class Phe{add(e,n,o){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(a){this[a]=this[a]||[],n&&this[a][o?"unshift":"push"](n)},this)}run(e,n){this[e]=this[e]||[],this[e].forEach(function(o){o.call(n&&n.context?n.context:n,n)})}}const Bd=new Phe;var Tc={gamut_mapping:"lch.c",precision:5,deltaE:"76"};const yl={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function JC(t){return Array.isArray(t)?t:yl[t]}function b2(t,e,n,o={}){if(t=JC(t),e=JC(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return n;let a={W1:t,W2:e,XYZ:n,options:o};if(Bd.run("chromatic-adaptation-start",a),a.M||(a.W1===yl.D65&&a.W2===yl.D50?a.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:a.W1===yl.D50&&a.W2===yl.D65&&(a.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),Bd.run("chromatic-adaptation-end",a),a.M)return Ho(a.M,a.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const Ehe=75e-6;var v0,qC,Sm,H2,SF;const rl=class{constructor(e){Jm(this,v0);Jm(this,H2);Jm(this,Sm,void 0);var a,s,r;this.id=e.id,this.name=e.name,this.base=e.base?rl.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let n=e.coords??this.base.coords;this.coords=n;let o=e.white??this.base.white??"D65";this.white=JC(o),this.formats=e.formats??{};for(let i in this.formats){let l=this.formats[i];l.type||(l.type="function"),l.name||(l.name=i)}e.cssId&&!((a=this.formats.functions)!=null&&a.color)?(this.formats.color={id:e.cssId},Object.defineProperty(this,"cssId",{value:e.cssId})):(s=this.formats)!=null&&s.color&&!((r=this.formats)!=null&&r.color.id)&&(this.formats.color.id=this.id),this.referred=e.referred,H$(this,Sm,D0(this,H2,SF).call(this).reverse()),Bd.run("colorspace-init-end",this)}inGamut(e,{epsilon:n=Ehe}={}){if(this.isPolar)return e=this.toBase(e),this.base.inGamut(e,{epsilon:n});let o=Object.values(this.coords);return e.every((a,s)=>{let r=o[s];if(r.type!=="angle"&&r.range){if(Number.isNaN(a))return!0;let[i,l]=r.range;return(i===void 0||a>=i-n)&&(l===void 0||a<=l+n)}return!0})}get cssId(){var e,n;return((n=(e=this.formats.functions)==null?void 0:e.color)==null?void 0:n.id)||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=D0(this,v0,qC).call(this,e),e;let n;return e==="default"?n=Object.values(this.formats)[0]:n=this.formats[e],n?(n=D0(this,v0,qC).call(this,n),n):null}to(e,n){if(arguments.length===1&&([e,n]=[e.space,e.coords]),e=rl.get(e),this===e)return n;n=n.map(i=>Number.isNaN(i)?0:i);let o=Nh(this,Sm),a=Nh(e,Sm),s,r;for(let i=0;i<o.length&&o[i]===a[i];i++)s=o[i],r=i;if(!s)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let i=o.length-1;i>r;i--)n=o[i].toBase(n);for(let i=r+1;i<a.length;i++)n=a[i].fromBase(n);return n}from(e,n){return arguments.length===1&&([e,n]=[e.space,e.coords]),e=rl.get(e),e.to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let n in this.coords){let o=this.coords[n],a=o.range||o.refRange;e.push((a==null?void 0:a.min)??0)}return e}static get all(){return[...new Set(Object.values(rl.registry))]}static register(e,n){if(arguments.length===1&&(n=arguments[0],e=n.id),n=this.get(n),this.registry[e]&&this.registry[e]!==n)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=n,arguments.length===1&&n.aliases)for(let o of n.aliases)this.register(o,n);return n}static get(e,...n){if(!e||e instanceof rl)return e;if(Id(e)==="string"){let a=rl.registry[e.toLowerCase()];if(!a)throw new TypeError(`No color space found with id = "${e}"`);return a}if(n.length)return rl.get(...n);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,n){var l;let o=Id(e),a,s;if(o==="string"?e.includes(".")?[a,s]=e.split("."):[a,s]=[,e]:Array.isArray(e)?[a,s]=e:(a=e.space,s=e.coordId),a=rl.get(a),a||(a=n),!a)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(o=Id(s),o==="number"||o==="string"&&s>=0){let c=Object.entries(a.coords)[s];if(c)return{space:a,id:c[0],index:s,...c[1]}}a=rl.get(a);let r=s.toLowerCase(),i=0;for(let c in a.coords){let u=a.coords[c];if(c.toLowerCase()===r||((l=u.name)==null?void 0:l.toLowerCase())===r)return{space:a,id:c,index:i,...u};i++}throw new TypeError(`No "${s}" coordinate found in ${a.name}. Its coordinates are: ${Object.keys(a.coords).join(", ")}`)}};let yt=rl;v0=new WeakSet,qC=function(e){if(e.coords&&!e.coordGrammar){e.type||(e.type="function"),e.name||(e.name="color"),e.coordGrammar=CF(e.coords);let n=Object.entries(this.coords).map(([o,a],s)=>{let r=e.coordGrammar[s][0],i=a.range||a.refRange,l=r.range,c="";return r=="<percentage>"?(l=[0,100],c="%"):r=="<angle>"&&(c="deg"),{fromRange:i,toRange:l,suffix:c}});e.serializeCoords=(o,a)=>o.map((s,r)=>{let{fromRange:i,toRange:l,suffix:c}=n[r];return i&&l&&(s=ES(i,l,s)),s=y2(s,a),c&&(s+=c),s})}return e},Sm=new WeakMap,H2=new WeakSet,SF=function(){let e=[this];for(let n=this;n=n.base;)e.push(n);return e},D$(yt,"registry",{}),D$(yt,"DEFAULT_FORMAT",{type:"functions",name:"color"});var Ci=new yt({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class or extends yt{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=Ci),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=n=>{let o=Ho(e.toXYZ_M,n);return this.white!==this.base.white&&(o=b2(this.white,this.base.white,o)),o}),e.fromBase??(e.fromBase=n=>(n=b2(this.base.white,this.white,n),Ho(e.fromXYZ_M,n)))),e.referred??(e.referred="display"),super(e)}}function PF(t){var n,o,a,s,r;let e={str:(n=String(t))==null?void 0:n.trim()};if(Bd.run("parse-start",e),e.color)return e.color;if(e.parsed=xF(e.str),e.parsed){let i=e.parsed.name;if(i==="color"){let l=e.parsed.args.shift(),c=e.parsed.rawArgs.indexOf("/")>0?e.parsed.args.pop():1;for(let d of yt.all){let p=d.getFormat("color");if(p&&(l===p.id||(o=p.ids)!=null&&o.includes(l))){let f=Object.keys(d.coords).length,g=Array(f).fill(0);return g.forEach((v,y)=>g[y]=e.parsed.args[y]||0),{spaceId:d.id,coords:g,alpha:c}}}let u="";if(l in yt.registry){let d=(r=(s=(a=yt.registry[l].formats)==null?void 0:a.functions)==null?void 0:s.color)==null?void 0:r.id;d&&(u=`Did you mean color(${d})?`)}throw new TypeError(`Cannot parse color(${l}). `+(u||"Missing a plugin?"))}else for(let l of yt.all){let c=l.getFormat(i);if(c&&c.type==="function"){let u=1;(c.lastAlpha||_F(e.parsed.args).alpha)&&(u=e.parsed.args.pop());let d=e.parsed.args;return c.coordGrammar&&Object.entries(l.coords).forEach(([p,f],g)=>{var C;let v=c.coordGrammar[g],y=(C=d[g])==null?void 0:C.type;if(v=v.find(V=>V==y),!v){let V=f.name||p;throw new TypeError(`${y} not allowed for ${V} in ${i}()`)}let w=v.range;y==="<percentage>"&&(w||(w=[0,1]));let b=f.range||f.refRange;w&&b&&(d[g]=ES(w,b,d[g]))}),{spaceId:l.id,coords:d,alpha:u}}}}else for(let i of yt.all)for(let l in i.formats){let c=i.formats[l];if(c.type!=="custom"||c.test&&!c.test(e.str))continue;let u=c.parse(e.str);if(u)return u.alpha??(u.alpha=1),u}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function Rn(t){if(!t)throw new TypeError("Empty color reference");S0(t)&&(t=PF(t));let e=t.space||t.spaceId;return e instanceof yt||(t.space=yt.get(e)),t.alpha===void 0&&(t.alpha=1),t}function P0(t,e){return e=yt.get(e),e.from(t)}function Si(t,e){let{space:n,index:o}=yt.resolveCoord(e,t.space);return P0(t,n)[o]}function EF(t,e,n){return e=yt.get(e),t.coords=e.to(t.space,n),t}function Ch(t,e,n){if(t=Rn(t),arguments.length===2&&Id(arguments[1])==="object"){let o=arguments[1];for(let a in o)Ch(t,a,o[a])}else{typeof n=="function"&&(n=n(Si(t,e)));let{space:o,index:a}=yt.resolveCoord(e,t.space),s=P0(t,o);s[a]=n,EF(t,o,s)}return t}var TS=new yt({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Ci,fromBase:t=>b2(Ci.white,"D50",t),toBase:t=>b2("D50",Ci.white,t),formats:{color:{}}});const The=216/24389,z7=24/116,Sy=24389/27;let Mx=yl.D50;var Hr=new yt({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Mx,base:TS,fromBase(t){let n=t.map((o,a)=>o/Mx[a]).map(o=>o>The?Math.cbrt(o):(Sy*o+16)/116);return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>z7?Math.pow(e[0],3):(116*e[0]-16)/Sy,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Sy,e[2]>z7?Math.pow(e[2],3):(116*e[2]-16)/Sy].map((o,a)=>o*Mx[a])},formats:{lab:{coords:["<number> | <percentage>","<number>","<number>"]}}});function g$(t){return(t%360+360)%360}function Rhe(t,e){if(t==="raw")return e;let[n,o]=e.map(g$),a=o-n;return t==="increasing"?a<0&&(o+=360):t==="decreasing"?a>0&&(n+=360):t==="longer"?-180<a&&a<180&&(a>0?o+=360:n+=360):t==="shorter"&&(a>180?n+=360:a<-180&&(o+=360)),[n,o]}var p0=new yt({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Hr,fromBase(t){let[e,n,o]=t,a;const s=.02;return Math.abs(n)<s&&Math.abs(o)<s?a=NaN:a=Math.atan2(o,n)*180/Math.PI,[e,Math.sqrt(n**2+o**2),g$(a)]},toBase(t){let[e,n,o]=t;return n<0&&(n=0),isNaN(o)&&(o=0),[e,n*Math.cos(o*Math.PI/180),n*Math.sin(o*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number>","<number> | <angle>"]}}});const G7=25**7,$2=Math.PI,W7=180/$2,ef=$2/180;function e4(t,e,{kL:n=1,kC:o=1,kH:a=1}={}){let[s,r,i]=Hr.from(t),l=p0.from(Hr,[s,r,i])[1],[c,u,d]=Hr.from(e),p=p0.from(Hr,[c,u,d])[1];l<0&&(l=0),p<0&&(p=0);let g=((l+p)/2)**7,v=.5*(1-Math.sqrt(g/(g+G7))),y=(1+v)*r,w=(1+v)*u,b=Math.sqrt(y**2+i**2),C=Math.sqrt(w**2+d**2),V=y===0&&i===0?0:Math.atan2(i,y),_=w===0&&d===0?0:Math.atan2(d,w);V<0&&(V+=2*$2),_<0&&(_+=2*$2),V*=W7,_*=W7;let x=c-s,S=C-b,P=_-V,E=V+_,O=Math.abs(P),I;b*C===0?I=0:O<=180?I=P:P>180?I=P-360:P<-180?I=P+360:console.log("the unthinkable has happened");let F=2*Math.sqrt(C*b)*Math.sin(I*ef/2),L=(s+c)/2,H=(b+C)/2,W=Math.pow(H,7),Y;b*C===0?Y=E:O<=180?Y=E/2:E<360?Y=(E+360)/2:Y=(E-360)/2;let U=(L-50)**2,q=1+.015*U/Math.sqrt(20+U),ye=1+.045*H,we=1;we-=.17*Math.cos((Y-30)*ef),we+=.24*Math.cos(2*Y*ef),we+=.32*Math.cos((3*Y+6)*ef),we-=.2*Math.cos((4*Y-63)*ef);let oe=1+.015*H*we,pe=30*Math.exp(-1*((Y-275)/25)**2),he=2*Math.sqrt(W/(W+G7)),Ne=-1*Math.sin(2*pe*ef)*he,Se=(x/(n*q))**2;return Se+=(S/(o*ye))**2,Se+=(F/(a*oe))**2,Se+=Ne*(S/(o*ye))*(F/(a*oe)),Math.sqrt(Se)}const Ohe=75e-6;function Gv(t,e=t.space,{epsilon:n=Ohe}={}){t=Rn(t),e=yt.get(e);let o=t.coords;return e!==t.space&&(o=e.from(t)),e.inGamut(o,{epsilon:n})}function h0(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function Ld(t,{method:e=Tc.gamut_mapping,space:n=t.space}={}){if(S0(arguments[1])&&(n=arguments[1]),n=yt.get(n),Gv(t,n,{epsilon:0}))return t;let o=Vi(t,n);if(e!=="clip"&&!Gv(t,n)){let a=Ld(h0(o),{method:"clip",space:n});if(e4(t,a)>2){let s=yt.resolveCoord(e),r=s.space,i=s.id,l=Vi(o,r),u=(s.range||s.refRange)[0],d=.01,p=u,f=Si(l,i);for(;f-p>d;){let g=h0(l);g=Ld(g,{space:n,method:"clip"}),e4(l,g)-2<d?p=Si(l,i):f=Si(l,i),Ch(l,i,(p+f)/2)}o=Vi(l,n)}else o=a}if(e==="clip"||!Gv(o,n,{epsilon:0})){let a=Object.values(n.coords).map(s=>s.range||[]);o.coords=o.coords.map((s,r)=>{let[i,l]=a[r];return i!==void 0&&(s=Math.max(i,s)),l!==void 0&&(s=Math.min(s,l)),s})}return n!==t.space&&(o=Vi(o,t.space)),t.coords=o.coords,t}Ld.returns="color";function Vi(t,e,{inGamut:n}={}){t=Rn(t),e=yt.get(e);let o=e.from(t),a={space:e,coords:o,alpha:t.alpha};return n&&(a=Ld(a)),a}Vi.returns="color";function x2(t,{precision:e=Tc.precision,format:n="default",inGamut:o=!0,...a}={}){var l;let s;t=Rn(t);let r=n;n=t.space.getFormat(n)??t.space.getFormat("default")??yt.DEFAULT_FORMAT,o||(o=n.toGamut);let i=t.coords;if(i=i.map(c=>c||0),o&&!Gv(t)&&(i=Ld(h0(t),o===!0?void 0:o).coords),n.type==="custom")if(a.precision=e,n.serialize)s=n.serialize(i,t.alpha,a);else throw new TypeError(`format ${r} can only be used to parse colors, not for serialization`);else{let c=n.name||"color";n.serializeCoords?i=n.serializeCoords(i,e):e!==null&&(i=i.map(f=>y2(f,e)));let u=[...i];if(c==="color"){let f=n.id||((l=n.ids)==null?void 0:l[0])||t.space.id;u.unshift(f)}let d=t.alpha;e!==null&&(d=y2(d,e));let p=t.alpha<1&&!n.noAlpha?`${n.commas?",":" /"} ${d}`:"";s=`${c}(${u.join(n.commas?", ":" ")}${p})`}return s}const khe=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],Ahe=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var v$=new or({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:khe,fromXYZ_M:Ahe});const Py=1.09929682680944,K7=.018053968510807;var TF=new or({id:"rec2020",name:"REC.2020",base:v$,toBase(t){return t.map(function(e){return e<K7*4.5?e/4.5:Math.pow((e+Py-1)/Py,1/.45)})},fromBase(t){return t.map(function(e){return e>=K7?Py*Math.pow(e,.45)-(Py-1):4.5*e})},formats:{color:{}}});const Ihe=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Mhe=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var RF=new or({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:Ihe,fromXYZ_M:Mhe});const Fhe=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],Dhe=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var OF=new or({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:Fhe,fromXYZ_M:Dhe,formats:{color:{}}}),Y7={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let X7=Array(3).fill("<percentage> | <number>[0, 255]"),Q7=Array(3).fill("<number>[0, 255]");var f0=new or({id:"srgb",name:"sRGB",base:OF,fromBase:t=>t.map(e=>{let n=e<0?-1:1,o=e*n;return o>.0031308?n*(1.055*o**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let n=e<0?-1:1,o=e*n;return o<.04045?e/12.92:n*((o+.055)/1.055)**2.4}),formats:{rgb:{coords:X7},rgb_number:{name:"rgb",commas:!0,coords:Q7,noAlpha:!0},color:{},rgba:{coords:X7,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Q7},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,n=>{e.push(parseInt(n,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:n=!0}={})=>{e<1&&t.push(e),t=t.map(s=>Math.round(s*255));let o=n&&t.every(s=>s%17===0);return"#"+t.map(s=>o?(s/17).toString(16):s.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=Y7.black,e.alpha=0):e.coords=Y7[t],e.coords)return e}}}}),kF=new or({id:"p3",name:"P3",base:RF,fromBase:f0.fromBase,toBase:f0.toBase,formats:{color:{id:"display-p3"}}});Tc.display_space=f0;if(typeof CSS<"u"&&CSS.supports)for(let t of[Hr,TF,kF]){let e=t.getMinCoords(),o=x2({space:t,coords:e,alpha:1});if(CSS.supports("color",o)){Tc.display_space=t;break}}function Nhe(t,{space:e=Tc.display_space,...n}={}){let o=x2(t,n);if(typeof CSS>"u"||CSS.supports("color",o)||!Tc.display_space)o=new String(o),o.color=t;else{let a=Vi(t,e);o=new String(x2(a,n)),o.color=a}return o}function AF(t,e,n="lab"){n=yt.get(n);let o=n.from(t),a=n.from(e);return Math.sqrt(o.reduce((s,r,i)=>{let l=a[i];return isNaN(r)||isNaN(l)?s:s+(l-r)**2},0))}function Hhe(t,e){return t=Rn(t),e=Rn(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((n,o)=>n===e.coords[o])}function Ud(t){return Si(t,[Ci,"y"])}function IF(t){set(t,[Ci,"y"],value)}function Bhe(t){Object.defineProperty(t.prototype,"luminance",{get(){return Ud(this)},set(e){IF(this)}})}var Lhe=Object.freeze({__proto__:null,getLuminance:Ud,setLuminance:IF,register:Bhe});function Uhe(t,e){t=Rn(t),e=Rn(e);let n=Math.max(Ud(t),0),o=Math.max(Ud(e),0);return o>n&&([n,o]=[o,n]),(n+.05)/(o+.05)}const jhe=.56,zhe=.57,Ghe=.62,Whe=.65,Z7=.022,Khe=1.414,Yhe=.1,Xhe=5e-4,Qhe=1.14,J7=.027,Zhe=1.14;function q7(t){return t>=Z7?t:t+(Z7-t)**Khe}function tf(t){let e=t<0?-1:1,n=Math.abs(t);return e*Math.pow(n,2.4)}function Jhe(t,e){e=Rn(e),t=Rn(t);let n,o,a,s,r,i;e=Vi(e,"srgb"),[s,r,i]=e.coords;let l=tf(s)*.2126729+tf(r)*.7151522+tf(i)*.072175;t=Vi(t,"srgb"),[s,r,i]=t.coords;let c=tf(s)*.2126729+tf(r)*.7151522+tf(i)*.072175,u=q7(l),d=q7(c),p=d>u;return Math.abs(d-u)<Xhe?o=0:p?(n=d**jhe-u**zhe,o=n*Qhe):(n=d**Whe-u**Ghe,o=n*Zhe),Math.abs(o)<Yhe?a=0:o>0?a=o-J7:a=o+J7,a*100}function qhe(t,e){t=Rn(t),e=Rn(e);let n=Math.max(Ud(t),0),o=Math.max(Ud(e),0);o>n&&([n,o]=[o,n]);let a=n+o;return a===0?0:(n-o)/a}const efe=5e4;function tfe(t,e){t=Rn(t),e=Rn(e);let n=Math.max(Ud(t),0),o=Math.max(Ud(e),0);return o>n&&([n,o]=[o,n]),o===0?efe:(n-o)/o}function nfe(t,e){t=Rn(t),e=Rn(e);let n=Si(t,[Hr,"l"]),o=Si(e,[Hr,"l"]);return Math.abs(n-o)}const ofe=216/24389,e9=24/116,Ey=24389/27;let Fx=yl.D65;var t4=new yt({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Fx,base:Ci,fromBase(t){let n=t.map((o,a)=>o/Fx[a]).map(o=>o>ofe?Math.cbrt(o):(Ey*o+16)/116);return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>e9?Math.pow(e[0],3):(116*e[0]-16)/Ey,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Ey,e[2]>e9?Math.pow(e[2],3):(116*e[2]-16)/Ey].map((o,a)=>o*Fx[a])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number>","<number>"]}}});const Dx=Math.pow(5,.5)*.5+.5;function afe(t,e){t=Rn(t),e=Rn(e);let n=Si(t,[t4,"l"]),o=Si(e,[t4,"l"]),a=Math.abs(Math.pow(n,Dx)-Math.pow(o,Dx)),s=Math.pow(a,1/Dx)*Math.SQRT2-40;return s<7.5?0:s}var $b=Object.freeze({__proto__:null,contrastWCAG21:Uhe,contrastAPCA:Jhe,contrastMichelson:qhe,contrastWeber:tfe,contrastLstar:nfe,contrastDeltaPhi:afe});function sfe(t,e,n={}){S0(n)&&(n={algorithm:n});let{algorithm:o,...a}=n;if(!o){let s=Object.keys($b).map(r=>r.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${s}`)}t=Rn(t),e=Rn(e);for(let s in $b)if("contrast"+o.toLowerCase()===s.toLowerCase())return $b[s](t,e,a);throw new TypeError(`Unknown contrast algorithm: ${o}`)}function MF(t){let[e,n,o]=P0(t,Ci),a=e+15*n+3*o;return[4*e/a,9*n/a]}function FF(t){let[e,n,o]=P0(t,Ci),a=e+n+o;return[e/a,n/a]}function rfe(t){Object.defineProperty(t.prototype,"uv",{get(){return MF(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return FF(this)}})}var ife=Object.freeze({__proto__:null,uv:MF,xy:FF,register:rfe});function lfe(t,e){return AF(t,e,"lab")}const cfe=Math.PI,t9=cfe/180;function ufe(t,e,{l:n=2,c:o=1}={}){let[a,s,r]=Hr.from(t),[,i,l]=p0.from(Hr,[a,s,r]),[c,u,d]=Hr.from(e),p=p0.from(Hr,[c,u,d])[1];i<0&&(i=0),p<0&&(p=0);let f=a-c,g=i-p,v=s-u,y=r-d,w=v**2+y**2-g**2,b=.511;a>=16&&(b=.040975*a/(1+.01765*a));let C=.0638*i/(1+.0131*i)+.638,V;Number.isNaN(l)&&(l=0),l>=164&&l<=345?V=.56+Math.abs(.2*Math.cos((l+168)*t9)):V=.36+Math.abs(.4*Math.cos((l+35)*t9));let _=Math.pow(i,4),x=Math.sqrt(_/(_+1900)),S=C*(x*V+1-x),P=(f/(n*b))**2;return P+=(g/(o*C))**2,P+=w/S**2,Math.sqrt(P)}const n9=203;var RS=new yt({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Ci,fromBase(t){return t.map(e=>Math.max(e*n9,0))},toBase(t){return t.map(e=>Math.max(e/n9,0))}});const Ty=1.15,Ry=.66,o9=2610/2**14,dfe=2**14/2610,a9=3424/2**12,s9=2413/2**7,r9=2392/2**7,pfe=1.7*2523/2**5,i9=2**5/(1.7*2523),Oy=-.56,Nx=16295499532821565e-27,hfe=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],ffe=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],mfe=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],gfe=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var DF=new yt({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:RS,fromBase(t){let[e,n,o]=t,a=Ty*e-(Ty-1)*o,s=Ry*n-(Ry-1)*e,i=Ho(hfe,[a,s,o]).map(function(p){let f=a9+s9*(p/1e4)**o9,g=1+r9*(p/1e4)**o9;return(f/g)**pfe}),[l,c,u]=Ho(mfe,i);return[(1+Oy)*l/(1+Oy*l)-Nx,c,u]},toBase(t){let[e,n,o]=t,a=(e+Nx)/(1+Oy-Oy*(e+Nx)),r=Ho(gfe,[a,n,o]).map(function(p){let f=a9-p**i9,g=r9*p**i9-s9;return 1e4*(f/g)**dfe}),[i,l,c]=Ho(ffe,r),u=(i+(Ty-1)*c)/Ty,d=(l+(Ry-1)*u)/Ry;return[u,d,c]},formats:{color:{}}}),n4=new yt({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:DF,fromBase(t){let[e,n,o]=t,a;const s=2e-4;return Math.abs(n)<s&&Math.abs(o)<s?a=NaN:a=Math.atan2(o,n)*180/Math.PI,[e,Math.sqrt(n**2+o**2),g$(a)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]},formats:{color:{}}});function vfe(t,e){let[n,o,a]=n4.from(t),[s,r,i]=n4.from(e),l=n-s,c=o-r;Number.isNaN(a)&&Number.isNaN(i)?(a=0,i=0):Number.isNaN(a)?a=i:Number.isNaN(i)&&(i=a);let u=a-i,d=2*Math.sqrt(o*r)*Math.sin(u/2*(Math.PI/180));return Math.sqrt(l**2+c**2+d**2)}const NF=3424/4096,HF=2413/128,BF=2392/128,l9=2610/16384,yfe=2523/32,wfe=16384/2610,c9=32/2523,bfe=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],$fe=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],xfe=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],_fe=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]];var o4=new yt({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:RS,fromBase(t){let e=Ho(bfe,t);return Vfe(e)},toBase(t){let e=Cfe(t);return Ho(_fe,e)},formats:{color:{}}});function Vfe(t){let e=t.map(function(n){let o=NF+HF*(n/1e4)**l9,a=1+BF*(n/1e4)**l9;return(o/a)**yfe});return Ho($fe,e)}function Cfe(t){return Ho(xfe,t).map(function(o){let a=Math.max(o**c9-NF,0),s=HF-BF*o**c9;return 1e4*(a/s)**wfe})}function Sfe(t,e){let[n,o,a]=o4.from(t),[s,r,i]=o4.from(e);return 720*Math.sqrt((n-s)**2+.25*(o-r)**2+(a-i)**2)}const Pfe=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],Efe=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],Tfe=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],Rfe=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var _2=new yt({id:"oklab",name:"OKLab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Ci,fromBase(t){let n=Ho(Pfe,t).map(o=>Math.cbrt(o));return Ho(Tfe,n)},toBase(t){let n=Ho(Rfe,t).map(o=>o**3);return Ho(Efe,n)},formats:{oklab:{coords:["<number> | <percentage>","<number>","<number>"]}}});function Ofe(t,e){let[n,o,a]=_2.from(t),[s,r,i]=_2.from(e),l=n-s,c=o-r,u=a-i;return Math.sqrt(l**2+c**2+u**2)}var a4=Object.freeze({__proto__:null,deltaE76:lfe,deltaECMC:ufe,deltaE2000:e4,deltaEJz:vfe,deltaEITP:Sfe,deltaEOK:Ofe});function Cv(t,e,n={}){S0(n)&&(n={method:n});let{method:o=Tc.deltaE,...a}=n;t=Rn(t),e=Rn(e);for(let s in a4)if("deltae"+o.toLowerCase()===s.toLowerCase())return a4[s](t,e,a);throw new TypeError(`Unknown deltaE method: ${o}`)}function kfe(t,e=.25){let o=[yt.get("oklch","lch"),"l"];return Ch(t,o,a=>a*(1+e))}function Afe(t,e=.25){let o=[yt.get("oklch","lch"),"l"];return Ch(t,o,a=>a*(1-e))}var Ife=Object.freeze({__proto__:null,lighten:kfe,darken:Afe});function LF(t,e,n=.5,o={}){[t,e]=[Rn(t),Rn(e)],Id(n)==="object"&&([n,o]=[.5,n]);let{space:a,outputSpace:s,premultiplied:r}=o;return E0(t,e,{space:a,outputSpace:s,premultiplied:r})(n)}function UF(t,e,n={}){let o;OS(t)&&([o,n]=[t,e],[t,e]=o.rangeArgs.colors);let{maxDeltaE:a,deltaEMethod:s,steps:r=2,maxSteps:i=1e3,...l}=n;o||([t,e]=[Rn(t),Rn(e)],o=E0(t,e,l));let c=Cv(t,e),u=a>0?Math.max(r,Math.ceil(c/a)+1):r,d=[];if(i!==void 0&&(u=Math.min(u,i)),u===1)d=[{p:.5,color:o(.5)}];else{let p=1/(u-1);d=Array.from({length:u},(f,g)=>{let v=g*p;return{p:v,color:o(v)}})}if(a>0){let p=d.reduce((f,g,v)=>{if(v===0)return 0;let y=Cv(g.color,d[v-1].color,s);return Math.max(f,y)},0);for(;p>a;){p=0;for(let f=1;f<d.length&&d.length<i;f++){let g=d[f-1],v=d[f],y=(v.p+g.p)/2,w=o(y);p=Math.max(p,Cv(w,g.color),Cv(w,v.color)),d.splice(f,0,{p:y,color:o(y)}),f++}}}return d=d.map(p=>p.color),d}function E0(t,e,n={}){if(OS(t)){let[l,c]=[t,e];return E0(...l.rangeArgs.colors,{...l.rangeArgs.options,...c})}let{space:o,outputSpace:a,progression:s,premultiplied:r}=n;t=Rn(t),e=Rn(e),t=h0(t),e=h0(e);let i={colors:[t,e],options:n};if(o?o=yt.get(o):o=yt.registry[Tc.interpolationSpace]||t.space,a=a?yt.get(a):o,t=Vi(t,o),e=Vi(e,o),t=Ld(t),e=Ld(e),o.coords.h&&o.coords.h.type==="angle"){let l=n.hue=n.hue||"shorter",c=[o,"h"],[u,d]=[Si(t,c),Si(e,c)];[u,d]=Rhe(l,[u,d]),Ch(t,c,u),Ch(e,c,d)}return r&&(t.coords=t.coords.map(l=>l*t.alpha),e.coords=e.coords.map(l=>l*e.alpha)),Object.assign(l=>{l=s?s(l):l;let c=t.coords.map((p,f)=>{let g=e.coords[f];return w2(p,g,l)}),u=w2(t.alpha,e.alpha,l),d={space:o,coords:c,alpha:u};return r&&(d.coords=d.coords.map(p=>p/u)),a!==o&&(d=Vi(d,a)),d},{rangeArgs:i})}function OS(t){return Id(t)==="function"&&!!t.rangeArgs}Tc.interpolationSpace="lab";function Mfe(t){t.defineFunction("mix",LF,{returns:"color"}),t.defineFunction("range",E0,{returns:"function<color>"}),t.defineFunction("steps",UF,{returns:"array<color>"})}var Ffe=Object.freeze({__proto__:null,mix:LF,steps:UF,range:E0,isRange:OS,register:Mfe}),jF=new yt({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:f0,fromBase:t=>{let e=Math.max(...t),n=Math.min(...t),[o,a,s]=t,[r,i,l]=[NaN,0,(n+e)/2],c=e-n;if(c!==0){switch(i=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case o:r=(a-s)/c+(a<s?6:0);break;case a:r=(s-o)/c+2;break;case s:r=(o-a)/c+4}r=r*60}return[r,i*100,l*100]},toBase:t=>{let[e,n,o]=t;e=e%360,e<0&&(e+=360),n/=100,o/=100;function a(s){let r=(s+e/30)%12,i=n*Math.min(o,1-o);return o-i*Math.max(-1,Math.min(r-3,9-r,1))}return[a(0),a(8),a(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),zF=new yt({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:jF,fromBase(t){let[e,n,o]=t;n/=100,o/=100;let a=o+n*Math.min(o,1-o);return[e,a===0?0:200*(1-o/a),100*a]},toBase(t){let[e,n,o]=t;n/=100,o/=100;let a=o*(1-n/2);return[e,a===0||a===1?0:(o-a)/Math.min(a,1-a)*100,a*100]},formats:{color:{toGamut:!0}}}),Dfe=new yt({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:zF,fromBase(t){let[e,n,o]=t;return[e,o*(100-n)/100,100-o]},toBase(t){let[e,n,o]=t;n/=100,o/=100;let a=n+o;if(a>=1){let i=n/a;return[e,0,i*100]}let s=1-o,r=s===0?0:1-n/s;return[e,r*100,s*100]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});const Nfe=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],Hfe=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var GF=new or({id:"a98rgb-linear",name:"Linear Adobe® 98 RGB compatible",white:"D65",toXYZ_M:Nfe,fromXYZ_M:Hfe}),Bfe=new or({id:"a98rgb",name:"Adobe® 98 RGB compatible",base:GF,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e)),formats:{color:{id:"a98-rgb"}}});const Lfe=[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],Ufe=[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]];var WF=new or({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:TS,toXYZ_M:Lfe,fromXYZ_M:Ufe});const jfe=1/512,zfe=16/512;var Gfe=new or({id:"prophoto",name:"ProPhoto",base:WF,toBase(t){return t.map(e=>e<zfe?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=jfe?e**(1/1.8):16*e)},formats:{color:{id:"prophoto-rgb"}}}),Wfe=new yt({id:"oklch",name:"OKLCh",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:_2,fromBase(t){let[e,n,o]=t,a;const s=2e-4;return Math.abs(n)<s&&Math.abs(o)<s?a=NaN:a=Math.atan2(o,n)*180/Math.PI,[e,Math.sqrt(n**2+o**2),g$(a)]},toBase(t){let[e,n,o]=t,a,s;return isNaN(o)?(a=0,s=0):(a=n*Math.cos(o*Math.PI/180),s=n*Math.sin(o*Math.PI/180)),[e,a,s]},formats:{oklch:{coords:["<number> | <percentage>","<number>","<number> | <angle>"]}}});const u9=203,d9=2610/2**14,Kfe=2**14/2610,Yfe=2523/2**5,p9=2**5/2523,h9=3424/2**12,f9=2413/2**7,m9=2392/2**7;var Xfe=new or({id:"rec2100pq",name:"REC.2100-PQ",base:v$,toBase(t){return t.map(function(e){return(Math.max(e**p9-h9,0)/(f9-m9*e**p9))**Kfe*1e4/u9})},fromBase(t){return t.map(function(e){let n=Math.max(e*u9/1e4,0),o=h9+f9*n**d9,a=1+m9*n**d9;return(o/a)**Yfe})},formats:{color:{id:"rec2100-pq"}}});const g9=.17883277,v9=.28466892,y9=.55991073;var Qfe=new or({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:v$,toBase(t){return t.map(function(e){return e<=1/12?Math.sqrt(3*e):g9*Math.log(12*e-v9)+y9})},fromBase(t){return t.map(function(e){return e<=.5?e**2/3:Math.exp((e-y9)/g9+v9)/12})},formats:{color:{id:"rec2100-hlg"}}});const KF={};Bd.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=YF(t.W1,t.W2,t.options.method))});Bd.add("chromatic-adaptation-end",t=>{t.M||(t.M=YF(t.W1,t.W2,t.options.method))});function y$({id:t,toCone_M:e,fromCone_M:n}){KF[t]=arguments[0]}function YF(t,e,n="Bradford"){let o=KF[n],[a,s,r]=Ho(o.toCone_M,t),[i,l,c]=Ho(o.toCone_M,e),u=[[i/a,0,0],[0,l/s,0],[0,0,c/r]],d=Ho(u,o.toCone_M);return Ho(o.fromCone_M,d)}y$({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]});y$({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]});y$({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]});y$({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]});Object.assign(yl,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});yl.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];const Zfe=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],Jfe=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var XF=new or({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:yl.ACES,toXYZ_M:Zfe,fromXYZ_M:Jfe,formats:{color:{}}});const ky=2**-16,Hx=-.35828683,Ay=(Math.log2(65504)+9.72)/17.52;var qfe=new or({id:"acescc",name:"ACEScc",coords:{r:{range:[Hx,Ay],name:"Red"},g:{range:[Hx,Ay],name:"Green"},b:{range:[Hx,Ay],name:"Blue"}},referred:"scene",base:XF,toBase(t){const e=-.3013698630136986;return t.map(function(n){return n<=e?(2**(n*17.52-9.72)-ky)*2:n<Ay?2**(n*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(ky)+9.72)/17.52:e<ky?(Math.log2(ky+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})},formats:{color:{}}}),w9=Object.freeze({__proto__:null,XYZ_D65:Ci,XYZ_D50:TS,XYZ_ABS_D65:RS,Lab_D65:t4,Lab:Hr,LCH:p0,sRGB_Linear:OF,sRGB:f0,HSL:jF,HWB:Dfe,HSV:zF,P3_Linear:RF,P3:kF,A98RGB_Linear:GF,A98RGB:Bfe,ProPhoto_Linear:WF,ProPhoto:Gfe,REC_2020_Linear:v$,REC_2020:TF,OKLab:_2,OKLCH:Wfe,Jzazbz:DF,JzCzHz:n4,ICTCP:o4,REC_2100_PQ:Xfe,REC_2100_HLG:Qfe,ACEScg:XF,ACEScc:qfe}),hh;const _s=class{constructor(...e){Jm(this,hh,void 0);let n;e.length===1&&(n=Rn(e[0]));let o,a,s;n?(o=n.space||n.spaceId,a=n.coords,s=n.alpha):[o,a,s]=e,H$(this,hh,yt.get(o)),this.coords=a?a.slice():[0,0,0],this.alpha=s<1?s:1;for(let r=0;r<this.coords.length;r++)this.coords[r]==="NaN"&&(this.coords[r]=NaN);for(let r in Nh(this,hh).coords)Object.defineProperty(this,r,{get:()=>this.get(r),set:i=>this.set(r,i)})}get space(){return Nh(this,hh)}get spaceId(){return Nh(this,hh).id}clone(){return new _s(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let n=Nhe(this,...e);return n.color=new _s(n.color),n}static get(e,...n){return e instanceof _s?e:new _s(e,...n)}static defineFunction(e,n,o=n){let{instance:a=!0,returns:s}=o,r=function(...i){let l=n(...i);if(s==="color")l=_s.get(l);else if(s==="function<color>"){let c=l;l=function(...u){let d=c(...u);return _s.get(d)},Object.assign(l,c)}else s==="array<color>"&&(l=l.map(c=>_s.get(c)));return l};e in _s||(_s[e]=r),a&&(_s.prototype[e]=function(...i){return r(this,...i)})}static defineFunctions(e){for(let n in e)_s.defineFunction(n,e[n],e[n])}static extend(e){if(e.register)e.register(_s);else for(let n in e)_s.defineFunction(n,e[n])}};let Ts=_s;hh=new WeakMap;Ts.defineFunctions({get:Si,getAll:P0,set:Ch,setAll:EF,to:Vi,equals:Hhe,inGamut:Gv,toGamut:Ld,distance:AF,toString:x2});Object.assign(Ts,{util:She,hooks:Bd,WHITES:yl,Space:yt,spaces:yt.registry,parse:PF,defaults:Tc});for(let t of Object.keys(w9))yt.register(w9[t]);for(let t in yt.registry)QF(t,yt.registry[t]);Bd.add("colorspace-init-end",QF);function QF(t,e){Object.keys(e.coords),Object.values(e.coords).map(o=>o.name);let n=t.replace(/-/g,"_");Object.defineProperty(Ts.prototype,n,{get(){let o=this.getAll(t);return typeof Proxy>"u"?o:new Proxy(o,{has:(a,s)=>{try{return yt.resolveCoord([e,s]),!0}catch{}return Reflect.has(a,s)},get:(a,s,r)=>{if(s&&typeof s!="symbol"&&!(s in a)){let{index:i}=yt.resolveCoord([e,s]);if(i>=0)return a[i]}return Reflect.get(a,s,r)},set:(a,s,r,i)=>{if(s&&typeof s!="symbol"&&!(s in a)||s>=0){let{index:l}=yt.resolveCoord([e,s]);if(l>=0)return a[l]=r,this.setAll(t,a),!0}return Reflect.set(a,s,r,i)}})},set(o){this.setAll(t,o)},configurable:!0,enumerable:!0})}Ts.extend(a4);Ts.extend({deltaE:Cv});Ts.extend(Ife);Ts.extend({contrast:sfe});Ts.extend(ife);Ts.extend(Lhe);Ts.extend(Ffe);Ts.extend($b);const eme=window.Vue.defineComponent,b9=window.Vue.unref,tme=window.Vue.toDisplayString,nme=window.Vue.renderSlot,ome=window.Vue.createTextVNode,$9=window.Vue.withCtx,ame=window.Vue.openBlock,sme=window.Vue.createBlock,rme=window.HaloComponents.VTag,ime=window.Vue.computed,lme=window.VueRouter.useRouter,Sh=eme({__name:"PostTag",props:{tag:null,rounded:{type:Boolean,default:!1},route:{type:Boolean,default:!1}},setup(t){const e=t,n=ime(()=>{const{color:s}=e.tag.spec;if(!s)return"inherit";const r=Math.abs(Ts.contrast(s,"white","APCA")),i=Math.abs(Ts.contrast(s,"black","APCA"));return r>i?"white":"#333"}),o=lme(),a=()=>{e.route&&o.push({name:"Tags",query:{name:e.tag.metadata.name}})};return(s,r)=>(ame(),sme(b9(rme),{styles:{background:t.tag.spec.color,color:b9(n)},rounded:t.rounded,onClick:a},{rightIcon:$9(()=>[nme(s.$slots,"rightIcon")]),default:$9(()=>[ome(tme(t.tag.spec.displayName)+" ",1)]),_:3},8,["styles","rounded"]))}}),cme=window.Vue.defineComponent,nf=window.Vue.unref,x9=window.Vue.renderList,_9=window.Vue.Fragment,Ku=window.Vue.openBlock,wp=window.Vue.createElementBlock,Yu=window.Vue.normalizeClass,Iy=window.Vue.createVNode,ume=window.Vue.withCtx,dme=window.Vue.withKeys,of=window.Vue.createElementVNode,pme=window.Vue.toDisplayString,hme=window.Vue.resolveDirective,fme=window.Vue.withDirectives,Bx=window.Vue.createCommentVNode,mme=window.Vue.createBlock,gme=["value","onKeydown"],vme={class:"p-1"},yme={class:"text-xs text-gray-700 group-hover:text-gray-900"},wme=["id","onClick"],bme={class:"inline-flex items-center overflow-hidden"},Lx=window.Vue.computed,$me=window.Vue.onMounted,Z1=window.Vue.ref,xme=window.Vue.watch,_me=window.HaloComponents.IconCheckboxCircle,Vme=window.HaloComponents.IconArrowRight,Cme=window.HaloComponents.IconClose,Sme=window.VueUse.onClickOutside,Pme=cme({__name:"TagSelect",props:{context:{type:Object,required:!0}},setup(t){const e=t,{currentUserHasPermission:n}=To(),o=Lx(()=>{const{multiple:V}=e.context;return V===void 0?!1:typeof V=="boolean"?V:V==="true"}),a=Z1([]),s=Z1(),r=Z1(!1),i=Z1(""),l=Z1();Sme(l,()=>{r.value=!1});let c;const u=Lx(()=>!c||!i.value?a.value:c==null?void 0:c.search(i.value).map(V=>V.item));xme(()=>u.value,V=>{(V==null?void 0:V.length)>0&&i.value?(s.value=V[0],y()):s.value=void 0});const d=async()=>{const{data:V}=await X.extension.tag.listcontentHaloRunV1alpha1Tag({page:0,size:0});a.value=V.items,c=new Wr(V.items,{keys:["spec.displayName","spec.slug"],useExtendedSearch:!0,threshold:.2})},p=Lx(()=>o.value?(e.context._value||[]).map(x=>a.value.find(S=>S.metadata.name===x)).filter(Boolean):[a.value.find(_=>_.metadata.name===e.context._value)].filter(Boolean)),f=V=>o.value?(e.context._value||[]).includes(V.metadata.name):e.context._value===V.metadata.name,g=V=>{if(o.value){const _=e.context._value||[];_.includes(V.metadata.name)?e.context.node.input(_.filter(x=>x!==V.metadata.name)):e.context.node.input([..._,V.metadata.name]);return}e.context.node.input(V.metadata.name===e.context._value?"":V.metadata.name)},v=V=>{if(V.key==="ArrowDown"){V.preventDefault();const _=u.value.findIndex(x=>{var S;return x.metadata.name===((S=s.value)==null?void 0:S.metadata.name)});_<u.value.length-1&&(s.value=u.value[_+1]),y()}if(V.key==="ArrowUp"){V.preventDefault();const _=u.value.findIndex(x=>{var S;return x.metadata.name===((S=s.value)==null?void 0:S.metadata.name)});_>0&&(s.value=u.value[_-1]),y()}if(V.key==="Enter"){if(u.value.length===0&&i.value){w();return}s.value&&(g(s.value),i.value="",V.preventDefault())}},y=()=>{var _;if(!s.value)return;const V=document.getElementById((_=s.value)==null?void 0:_.metadata.name);V&&V.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},w=async()=>{if(!n(["system:posts:manage"]))return;const{data:V}=await X.extension.tag.createcontentHaloRunV1alpha1Tag({tag:{spec:{displayName:i.value,slug:i.value,color:"#ffffff",cover:""},apiVersion:"content.halo.run/v1alpha1",kind:"Tag",metadata:{name:"",generateName:"tag-"}}});d(),g(V),i.value=""},b=V=>{i.value=V.target.value},C=()=>{if(!i.value){if(o.value){const V=e.context._value||[];e.context.node.input(V.slice(0,-1));return}e.context.node.input("")}};return $me(d),(V,_)=>{const x=hme("permission");return Ku(),wp("div",{ref_key:"wrapperRef",ref:l,class:Yu(t.context.classes["post-tags-wrapper"]),onKeydown:v},[of("div",{class:Yu(t.context.classes["post-tags"])},[(Ku(!0),wp(_9,null,x9(nf(p),(S,P)=>(Ku(),wp("div",{key:P,class:Yu(t.context.classes["post-tag-wrapper"])},[Iy(Sh,{tag:S,rounded:""},{rightIcon:ume(()=>[Iy(nf(Cme),{class:Yu(t.context.classes["post-tag-close"]),onClick:E=>g(S)},null,8,["class","onClick"])]),_:2},1032,["tag"])],2))),128)),of("input",{value:i.value,class:Yu(t.context.classes.input),type:"text",onInput:b,onFocus:_[0]||(_[0]=S=>r.value=!0),onKeydown:dme(C,["delete"])},null,42,gme)],2),of("div",{class:Yu(t.context.classes["post-tags-button"]),onClick:_[1]||(_[1]=S=>r.value=!r.value)},[Iy(nf(Vme),{class:"rotate-90 text-gray-500 hover:text-gray-700"})],2),r.value?(Ku(),wp("div",{key:0,class:Yu(t.context.classes["dropdown-wrapper"])},[of("ul",vme,[i.value.trim()&&nf(u).length<=0?fme((Ku(),wp("li",{key:0,class:"group flex cursor-pointer items-center justify-between rounded bg-gray-100 p-2",onClick:w},[of("span",yme," 创建 "+pme(i.value)+" 标签 ",1)])),[[x,["system:posts:manage"]]]):Bx("",!0),(Ku(!0),wp(_9,null,x9(nf(u),S=>{var P;return Ku(),wp("li",{id:S.metadata.name,key:S.metadata.name,class:Yu(["group flex cursor-pointer items-center justify-between rounded p-2 hover:bg-gray-100",{"bg-gray-100":((P=s.value)==null?void 0:P.metadata.name)===S.metadata.name}]),onClick:E=>g(S)},[of("div",bme,[Iy(Sh,{tag:S},null,8,["tag"])]),f(S)?(Ku(),mme(nf(_me),{key:0,class:"text-primary"})):Bx("",!0)],10,wme)}),128))])],2)):Bx("",!0)],34)}}}),Eme=Lt("TagSelectSection",()=>({$cmp:"TagSelect",props:{context:"$node.context"}})),Tme={schema:_l(Kd(Oh("$label"),Pi(xo("prefix"),Ur(),Eme(),jr(),xo("suffix"))),zr("$help"),Kr(Yr("$message.value"))),type:"input",props:["multiple"],library:{TagSelect:Pme}};function Rme(t){const e=ot(t),n={},o={};e.forEach(s=>{n[s.metadata.name]=s,s.spec.children.forEach(r=>{o[r]=s.metadata.name}),s.spec.children=[]}),e.forEach(s=>{const r=o[s.metadata.name];r&&n[r]&&n[r].spec.children.push(s)});const a=e.filter(s=>o[s.metadata.name]===void 0);return ZF(a)}function ZF(t){return t.sort((e,n)=>e.spec.priority<n.spec.priority?-1:e.spec.priority>n.spec.priority?1:0).map(e=>e.spec.children.length?{...e,spec:{...e.spec,children:ZF(e.spec.children)}}:e)}function JF(t){for(let e=0;e<t.length;e++)t[e].spec.priority=e,t[e].spec.children&&JF(t[e].spec.children);return t}function s4(t){const e=[],n=new Map,o=a=>{if(!a)return;const s=a.spec.children||[];n.set(a.metadata.name,{...a,spec:{...a.spec,children:s.map(r=>r.metadata.name)}}),s.forEach(r=>{o(r)})};return t.forEach(a=>{o(a)}),n.forEach(a=>{e.push(a)}),e}function Ome(t){const e=t.spec.children.map(n=>n.metadata.name);return{...t,spec:{...t.spec,children:e}}}const kS=(t,e,n=[])=>{for(const o of t){if(o.metadata&&o.metadata.name===e)return n.concat([o]);if(o.spec&&o.spec.children){const a=kS(o.spec.children,e,n.concat([o]));if(a)return a}}},kme=window.Vue.onUnmounted,Ame=window.Vue.onMounted,My=window.Vue.ref,Ime=window.HaloComponents.Dialog,Mme=window.HaloComponents.Toast,Fme=window.VueRouter.onBeforeRouteLeave;function AS(t){const{fetchOnMounted:e}=t||{},n=My([]),o=My([]),a=My(!1),s=My(),r=async l=>{try{clearInterval(s.value),l!=null&&l.mute||(a.value=!0);const{data:c}=await X.extension.category.listcontentHaloRunV1alpha1Category({page:0,size:0});n.value=c.items,o.value=Rme(c.items),n.value.filter(d=>!!d.metadata.deletionTimestamp).length&&(s.value=setInterval(()=>{r({mute:!0})},3e3))}catch(c){console.error("Failed to fetch categories",c)}finally{a.value=!1}};kme(()=>{clearInterval(s.value)}),Fme(()=>{clearInterval(s.value)});const i=async l=>{Ime.warning({title:"确定要删除该分类吗？",description:"删除此分类之后，对应文章的关联将被解除。该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{try{await X.extension.category.deletecontentHaloRunV1alpha1Category({name:l.metadata.name}),Mme.success("删除成功")}catch(c){console.error("Failed to delete tag",c)}finally{await r()}}})};return Ame(()=>{e&&r()}),{categories:n,categoriesTree:o,loading:a,handleFetchCategories:r,handleDelete:i}}const Dme=window.Vue.defineComponent,J1=window.Vue.unref,Nme=window.Vue.toDisplayString,Ux=window.Vue.normalizeClass,V9=window.Vue.createElementVNode,Hme=window.Vue.createVNode,Bme=window.Vue.renderList,Lme=window.Vue.Fragment,Fy=window.Vue.openBlock,jx=window.Vue.createElementBlock,Ume=window.Vue.resolveComponent,jme=window.Vue.createBlock,zme=window.Vue.createCommentVNode,Gme=["id"],Wme={key:0,class:"my-2.5 ml-2.5 border-l pl-1.5"},Kme=window.HaloComponents.IconCheckboxCircle,C9=window.Vue.inject,Yme=window.Vue.ref,Xme=Dme({__name:"CategoryListItem",props:{category:null},emits:["select"],setup(t,{emit:e}){const n=C9("isSelected"),o=C9("selectedCategory",Yme(void 0)),a=s=>{e("select",s)};return(s,r)=>{var l,c,u,d;const i=Ume("CategoryListItem",!0);return Fy(),jx("li",{id:`category-${t.category.metadata.name}`},[V9("div",{class:Ux(["flex cursor-pointer items-center justify-between rounded p-2 hover:bg-gray-100",{"bg-gray-100":((l=J1(o))==null?void 0:l.metadata.name)===t.category.metadata.name}]),onClick:r[0]||(r[0]=p=>e("select",t.category))},[V9("span",{class:Ux(["flex-1 truncate text-xs text-gray-700 group-hover:text-gray-900",{"text-gray-900":((c=J1(n))==null?void 0:c(t.category))&&((u=J1(o))==null?void 0:u.metadata.name)===t.category.metadata.name}])},Nme(t.category.spec.displayName),3),Hme(J1(Kme),{class:Ux(["text-primary opacity-0",{"opacity-100":(d=J1(n))==null?void 0:d(t.category)}])},null,8,["class"])],2),t.category.spec.children.length>0?(Fy(),jx("ul",Wme,[(Fy(!0),jx(Lme,null,Bme(t.category.spec.children,(p,f)=>(Fy(),jme(i,{key:f,category:p,onSelect:a},null,8,["category"]))),128))])):zme("",!0)],8,Gme)}}}),Qme=window.Vue.defineComponent,S9=window.Vue.unref,Zme=window.Vue.toDisplayString,P9=window.Vue.createElementVNode,Jme=window.Vue.createVNode,qme=window.Vue.openBlock,e1e=window.Vue.createElementBlock,t1e={class:"inline-flex items-center p-1"},n1e={class:"box-border inline-flex min-h-[1.25rem] items-center gap-1 rounded-full border border-solid border-[#d9d9d9] bg-white px-1 align-middle"},o1e={class:"flex-1 text-xs"},a1e=window.Vue.computed,s1e=window.Vue.inject,r1e=window.Vue.ref,i1e=window.HaloComponents.IconClose,l1e=Qme({__name:"CategoryTag",props:{category:null},emits:["select"],setup(t,{emit:e}){const n=t,o=s1e("categoriesTree",r1e([])),a=a1e(()=>kS(o.value,n.category.metadata.name).map(r=>r.spec.displayName).join(" / "));return(s,r)=>(qme(),e1e("div",t1e,[P9("div",n1e,[P9("span",o1e,Zme(S9(a)),1),Jme(S9(i1e),{class:"h-4 w-4 cursor-pointer text-gray-600 hover:text-gray-900",onClick:r[0]||(r[0]=i=>e("select",t.category))})])]))}}),c1e=window.Vue.defineComponent,af=window.Vue.unref,u1e=window.Vue.toDisplayString,zx=window.Vue.normalizeClass,E9=window.Vue.createElementVNode,d1e=window.Vue.createVNode,p1e=window.Vue.openBlock,h1e=window.Vue.createElementBlock,f1e=["id"],m1e=window.HaloComponents.IconCheckboxCircle,g1e=window.Vue.computed,Gx=window.Vue.inject,T9=window.Vue.ref,v1e=c1e({__name:"SearchResultListItem",props:{category:null},emits:["select"],setup(t,{emit:e}){const n=t,o=Gx("categoriesTree",T9([])),a=Gx("selectedCategory",T9(void 0)),s=Gx("isSelected"),r=g1e(()=>kS(o.value,n.category.metadata.name).map(l=>l.spec.displayName).join(" / "));return(i,l)=>{var c,u,d,p;return p1e(),h1e("li",{id:`category-${t.category.metadata.name}`},[E9("div",{class:zx(["flex cursor-pointer items-center justify-between rounded p-2 hover:bg-gray-100",{"bg-gray-100":((c=af(a))==null?void 0:c.metadata.name)===t.category.metadata.name}]),onClick:l[0]||(l[0]=f=>e("select",t.category))},[E9("span",{class:zx(["flex-1 truncate text-xs text-gray-700 group-hover:text-gray-900",{"text-gray-900":((u=af(s))==null?void 0:u(t.category))&&((d=af(a))==null?void 0:d.metadata.name)===t.category.metadata.name}])},u1e(af(r)),3),d1e(af(m1e),{class:zx(["h-5 w-5 text-primary opacity-0",{"opacity-100":(p=af(s))==null?void 0:p(t.category)}])},null,8,["class"])],2)],8,f1e)}}}),y1e=window.Vue.defineComponent,q1=window.Vue.unref,Wx=window.Vue.renderList,Kx=window.Vue.Fragment,Qc=window.Vue.openBlock,sf=window.Vue.createElementBlock,Yx=window.Vue.createBlock,w1e=window.Vue.withKeys,eg=window.Vue.normalizeClass,tg=window.Vue.createElementVNode,b1e=window.Vue.createVNode,$1e=window.Vue.toDisplayString,x1e=window.Vue.resolveDirective,_1e=window.Vue.withDirectives,R9=window.Vue.createCommentVNode,V1e=["value","onKeydown"],C1e={class:"p-1"},S1e={key:0,class:"group flex cursor-pointer items-center justify-between rounded bg-gray-100 p-2"},P1e={class:"text-xs text-gray-700 group-hover:text-gray-900"},Xx=window.Vue.computed,Qx=window.Vue.provide,Dy=window.Vue.ref,O9=window.Vue.watch,E1e=window.HaloComponents.IconArrowRight,T1e=window.VueUse.onClickOutside,R1e=y1e({__name:"CategorySelect",props:{context:{type:Object,required:!0}},setup(t){const e=t,{currentUserHasPermission:n}=To(),o=Xx(()=>{const{multiple:_}=e.context;return _===void 0?!1:typeof _=="boolean"?_:_==="true"}),{categories:a,categoriesTree:s,handleFetchCategories:r}=AS({fetchOnMounted:!0});Qx("categoriesTree",s);const i=Dy();Qx("selectedCategory",i);const l=Dy(!1),c=Dy(""),u=Dy();T1e(u,()=>{l.value=!1});let d;const p=Xx(()=>c.value?(d==null?void 0:d.search(c.value).map(_=>_.item))||[]:a.value);O9(()=>p.value,_=>{(_==null?void 0:_.length)>0&&c.value?(i.value=_[0],w()):i.value=void 0}),O9(()=>a.value,()=>{d=new Wr(a.value,{keys:["spec.displayName","spec.slug"],useExtendedSearch:!0,threshold:.2})});const f=Xx(()=>o.value?(e.context._value||[]).map(S=>a.value.find(P=>P.metadata.name===S)).filter(Boolean):[a.value.find(x=>x.metadata.name===e.context._value)].filter(Boolean));Qx("isSelected",_=>o.value?(e.context._value||[]).includes(_.metadata.name):e.context._value===_.metadata.name);const v=_=>{if(o.value){const x=e.context._value||[];x.includes(_.metadata.name)?e.context.node.input(x.filter(S=>S!==_.metadata.name)):e.context.node.input([...x,_.metadata.name]);return}e.context.node.input(_.metadata.name===e.context._value?"":_.metadata.name)},y=_=>{if(_.key==="ArrowDown"){_.preventDefault();const x=c.value?p.value:s4(s.value),S=x.findIndex(P=>{var E;return P.metadata.name===((E=i.value)==null?void 0:E.metadata.name)});S<p.value.length-1&&(i.value=x[S+1]),w()}if(_.key==="ArrowUp"){_.preventDefault();const x=c.value?p.value:s4(s.value),S=x.findIndex(P=>{var E;return P.metadata.name===((E=i.value)==null?void 0:E.metadata.name)});S>0&&(i.value=x[S-1]),w()}if(_.key==="Enter"){if(p.value.length===0&&c.value){b();return}i.value&&(v(i.value),c.value="",_.preventDefault())}},w=()=>{var x;if(!i.value)return;const _=document.getElementById(`category-${(x=i.value)==null?void 0:x.metadata.name}`);_&&_.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},b=async()=>{if(!n(["system:posts:manage"]))return;const{data:_}=await X.extension.category.createcontentHaloRunV1alpha1Category({category:{spec:{displayName:c.value,slug:c.value,description:"",cover:"",template:"",priority:a.value.length+1,children:[]},apiVersion:"content.halo.run/v1alpha1",kind:"Category",metadata:{name:"",generateName:"category-"}}});r(),v(_),c.value=""},C=_=>{c.value=_.target.value},V=()=>{if(!c.value){if(o.value){const _=e.context._value||[];e.context.node.input(_.slice(0,-1));return}e.context.node.input("")}};return(_,x)=>{const S=x1e("permission");return Qc(),sf("div",{ref_key:"wrapperRef",ref:u,class:eg(t.context.classes["post-categories-wrapper"]),onKeydown:y},[tg("div",{class:eg(t.context.classes["post-categories"])},[(Qc(!0),sf(Kx,null,Wx(q1(f),(P,E)=>(Qc(),Yx(l1e,{key:E,category:P,onSelect:v},null,8,["category"]))),128)),tg("input",{value:c.value,class:eg(t.context.classes.input),type:"text",onInput:C,onFocus:x[0]||(x[0]=P=>l.value=!0),onKeydown:w1e(V,["delete"])},null,42,V1e)],2),tg("div",{class:eg(t.context.classes["post-categories-button"]),onClick:x[1]||(x[1]=P=>l.value=!l.value)},[b1e(q1(E1e),{class:"rotate-90 text-gray-500 hover:text-gray-700"})],2),l.value?(Qc(),sf("div",{key:0,class:eg(t.context.classes["dropdown-wrapper"])},[tg("ul",C1e,[c.value.trim()&&q1(p).length<=0?_1e((Qc(),sf("li",S1e,[tg("span",P1e," 创建 "+$1e(c.value)+" 分类 ",1)])),[[S,["system:posts:manage"]]]):R9("",!0),c.value?(Qc(!0),sf(Kx,{key:1},Wx(q1(p),P=>(Qc(),Yx(v1e,{key:P.metadata.name,category:P,onSelect:v},null,8,["category"]))),128)):(Qc(!0),sf(Kx,{key:2},Wx(q1(s),P=>(Qc(),Yx(Xme,{key:P.metadata.name,category:P,onSelect:v},null,8,["category"]))),128))])],2)):R9("",!0)],34)}}}),O1e=Lt("CategorySelectSection",()=>({$cmp:"CategorySelect",props:{context:"$node.context"}})),k1e={schema:_l(Kd(Oh("$label"),Pi(xo("prefix"),Ur(),O1e(),jr(),xo("suffix"))),zr("$help"),Kr(Yr("$message.value"))),type:"input",props:["multiple"],library:{CategorySelect:R1e}};function A1e(t){t.on("created",async()=>{const{data:e}=await X.extension.category.listcontentHaloRunV1alpha1Category();t.props.options=e.items.map(n=>({value:n.metadata.name,label:n.spec.displayName}))})}const I1e={...u$,props:["onValue","offValue"],forceTypeProp:"checkbox",features:[A1e,i$,Lr("decorator","checkboxDecorator")]};function M1e(t){t.on("created",async()=>{const{data:e}=await X.extension.tag.listcontentHaloRunV1alpha1Tag();t.props.options=e.items.map(n=>({value:n.metadata.name,label:n.spec.displayName}))})}const F1e={...u$,props:["onValue","offValue"],forceTypeProp:"checkbox",features:[M1e,i$,Lr("decorator","checkboxDecorator")]};let D1e=0;function N1e(t){t.props.type==="radio"&&(t.props.altName=`radio_${t.name}_${++D1e}`)}const H1e=window.Vue.onMounted,B1e=window.VueRouter.useRoute;function L1e(t){t.key=="Enter"&&t.altKey==!1&&t.ctrlKey==!1&&t.metaKey==!1&&(t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation())}const U1e=["text","search","url","email","password","date","month","week","time","datetime-local","number"],Wv=new Map,j1e=t=>{Wv.size&&Wv.forEach((e,n)=>{t.includes(n)||(e.abort(),Wv.delete(n))})},z1e=t=>{const e=t.props.id??"";t.type=="group"&&H1e(()=>{const{path:n}=B1e();let o=Wv.get(n);if(t.children.length==1&&t.props.type=="form"&&U1e.includes(t.children[0].props.type)){o||(o=new AbortController,Wv.set(n,o));const a=document.getElementById(e);a==null||a.addEventListener("keydown",L1e,{signal:o.signal})}})};Hd.beforeEach(({fullPath:t})=>{j1e(t)});const G1e={config:{classes:see(zee)},plugins:[N1e,z1e],inputs:{form:Gee,attachment:Wpe,code:qpe,repeater:mhe,menuCheckbox:vhe,menuRadio:whe,menuItemSelect:$he,postSelect:_he,categorySelect:k1e,tagSelect:Tme,singlePageSelect:Che,categoryCheckbox:I1e,tagCheckbox:F1e},locales:{zh:oee},locale:"zh"};function W1e(t){t.use(AJ),t.use(Iee,jee({...G1e})),t.directive("tooltip",PJ),t.directive("close-popper",EJ),t.component("FloatingDropdown",TJ),t.component("FloatingTooltip",OJ),t.component("FloatingMenu",RJ)}const K1e=window.Vue.defineComponent,vr=window.Vue.unref,Gl=window.Vue.createVNode,k9=window.Vue.createTextVNode,si=window.Vue.withCtx,Bs=window.Vue.openBlock,bp=window.Vue.createBlock,Zx=window.Vue.createCommentVNode,Y1e=window.Vue.toDisplayString,Jx=window.Vue.renderList,ng=window.Vue.Fragment,$p=window.Vue.createElementBlock,A9=window.Vue.resolveDynamicComponent,I9=window.Vue.resolveComponent,X1e=window.Vue.isRef,Q1e=window.Vue.createElementVNode,Z1e={class:"dashboard m-4"},J1e={key:0,class:"absolute top-2 right-2"},q1e={key:0,class:"mt-4"},ege=window.HaloComponents.IconAddCircle,tge=window.HaloComponents.IconCloseCircle,nge=window.HaloComponents.IconDashboard,oge=window.HaloComponents.IconSave,age=window.HaloComponents.IconSettings,M9=window.HaloComponents.VButton,sge=window.HaloComponents.VModal,rge=window.HaloComponents.VPageHeader,ige=window.HaloComponents.VSpace,lge=window.HaloComponents.VTabbar,cge=window.Vue.onMounted,uge=window.Vue.provide,Ny=window.Vue.ref,dge=window.VueUse.useStorage,pge=K1e({__name:"Dashboard",setup(t){const e=[{id:"post",label:"文章",widgets:[{x:0,y:0,w:3,h:3,i:0,widget:"PostStatsWidget"},{x:0,y:0,w:6,h:10,i:1,widget:"RecentPublishedWidget"}]},{id:"page",label:"页面",widgets:[{x:0,y:0,w:3,h:3,i:0,widget:"SinglePageStatsWidget"}]},{id:"comment",label:"评论",widgets:[{x:0,y:0,w:3,h:3,i:0,widget:"CommentStatsWidget"}]},{id:"user",label:"用户",widgets:[{x:0,y:0,w:3,h:3,i:0,widget:"UserStatsWidget"},{x:0,y:0,w:3,h:3,i:1,widget:"UserProfileWidget"}]},{id:"other",label:"其他",widgets:[{x:0,y:0,w:3,h:3,i:0,widget:"ViewsStatsWidget"},{x:0,y:0,w:6,h:10,i:1,widget:"QuickLinkWidget"}]}],n=Ny(!1),o=Ny(!1),a=Ny(e[0].id),s=dge("widgets",[{x:0,y:0,w:3,h:3,i:0,widget:"PostStatsWidget"},{x:3,y:0,w:3,h:3,i:1,widget:"UserStatsWidget"},{x:6,y:0,w:3,h:3,i:2,widget:"CommentStatsWidget"},{x:9,y:0,w:3,h:3,i:3,widget:"ViewsStatsWidget"},{x:0,y:3,w:4,h:10,i:4,widget:"QuickLinkWidget"},{x:4,y:3,w:4,h:10,i:5,widget:"RecentPublishedWidget"}]);function r(u){s.value=[...s.value,{...u,i:s.value.length}]}function i(u){const d=ot(s.value);d.splice(u.i,1),s.value=d.map((p,f)=>({...p,i:f}))}const l=Ny({posts:0,comments:0,approvedComments:0,users:0,visits:0});return uge("dashboardStats",l),cge(async()=>{const{data:u}=await X.stats.getStats();l.value=u}),(u,d)=>{const p=I9("grid-item"),f=I9("grid-layout");return Bs(),$p(ng,null,[Gl(vr(rge),{title:"仪表盘"},{icon:si(()=>[Gl(vr(nge),{class:"mr-2 self-center"})]),actions:si(()=>[Gl(vr(ige),null,{default:si(()=>[n.value?(Bs(),bp(vr(M9),{key:0,onClick:d[0]||(d[0]=g=>o.value=!0)},{icon:si(()=>[Gl(vr(ege),{class:"h-full w-full"})]),default:si(()=>[k9(" 添加组件 ")]),_:1})):Zx("",!0),Gl(vr(M9),{type:"secondary",onClick:d[1]||(d[1]=g=>n.value=!n.value)},{icon:si(()=>[n.value?(Bs(),bp(vr(oge),{key:1,class:"h-full w-full"})):(Bs(),bp(vr(age),{key:0,class:"h-full w-full"}))]),default:si(()=>[k9(" "+Y1e(n.value?"完成":"设置"),1)]),_:1})]),_:1})]),_:1}),Q1e("div",Z1e,[Gl(f,{layout:vr(s),"onUpdate:layout":d[2]||(d[2]=g=>X1e(s)?s.value=g:null),"col-num":12,"is-draggable":n.value,"is-resizable":n.value,margin:[10,10],responsive:!1,"row-height":30,"use-css-transforms":!0,"vertical-compact":!0},{default:si(()=>[(Bs(!0),$p(ng,null,Jx(vr(s),(g,v)=>(Bs(),bp(p,{key:v,h:g.h,i:g.i,w:g.w,x:g.x,y:g.y},{default:si(()=>[(Bs(),bp(A9(g.widget))),n.value?(Bs(),$p("div",J1e,[Gl(vr(tge),{class:"cursor-pointer text-lg text-gray-500 hover:text-gray-900",onClick:y=>i(g)},null,8,["onClick"])])):Zx("",!0)]),_:2},1032,["h","i","w","x","y"]))),128))]),_:1},8,["layout","is-draggable","is-resizable"])]),Gl(vr(sge),{visible:o.value,"onUpdate:visible":d[4]||(d[4]=g=>o.value=g),height:"calc(100vh - 20px)",width:1280,title:"小组件"},{default:si(()=>[Gl(vr(lge),{"active-id":a.value,"onUpdate:active-id":d[3]||(d[3]=g=>a.value=g),items:e.map(g=>({id:g.id,label:g.label})),type:"outline"},null,8,["active-id","items"]),(Bs(),$p(ng,null,Jx(e,(g,v)=>(Bs(),$p(ng,{key:v},[a.value===g.id?(Bs(),$p("div",q1e,[Gl(f,{"col-num":12,"is-draggable":!1,"is-resizable":!1,layout:g.widgets,margin:[10,10],responsive:!0,"row-height":30,"use-css-transforms":!0,"vertical-compact":!0},{default:si(()=>[(Bs(!0),$p(ng,null,Jx(g.widgets,(y,w)=>(Bs(),bp(p,{key:w,h:y.h,i:y.i,w:y.w,x:y.x,y:y.y,class:"cursor-pointer",onClick:b=>r(y)},{default:si(()=>[(Bs(),bp(A9(y.widget)))]),_:2},1032,["h","i","w","x","y","onClick"]))),128))]),_:2},1032,["layout"])])):Zx("",!0)],64))),64))]),_:1},8,["visible"])],64)}}});const qF=window.Vue.computed,hge=window.Vue.ref,F9=window.HaloComponents.Dialog,D9=window.HaloComponents.Toast;function w$(t){const e=hge(!1),n=Th(),{activatedTheme:o}=z2(n),a=qF(()=>{var l,c;return((l=o==null?void 0:o.value)==null?void 0:l.metadata.name)===((c=t.value)==null?void 0:c.metadata.name)});return{loading:e,isActivated:a,getFailedMessage:()=>{var c,u,d;if(((u=(c=t.value)==null?void 0:c.status)==null?void 0:u.phase)!=="FAILED")return;const l=(d=t.value.status.conditions)==null?void 0:d[0];if(l)return[l.type,l.message].join("：")},handleActiveTheme:async()=>{var l;F9.info({title:"是否确认启用当前主题",description:(l=t.value)==null?void 0:l.spec.displayName,onConfirm:async()=>{var c,u;try{const{data:d}=await X.extension.configMap.getv1alpha1ConfigMap({name:"system"});if(d.data){const p=JSON.parse(((c=d.data)==null?void 0:c.theme)||"{}");p.active=(u=t.value)==null?void 0:u.metadata.name,d.data.theme=JSON.stringify(p),await X.extension.configMap.updatev1alpha1ConfigMap({name:"system",configMap:d})}D9.success("启用成功")}catch(d){console.error("Failed to active theme",d)}finally{n.fetchActivatedTheme()}}})},handleResetSettingConfig:async()=>{F9.warning({title:"确定要重置主题的所有配置吗？",description:"该操作会删除已保存的配置，重置为默认配置。",confirmType:"danger",onConfirm:async()=>{try{if(!(t!=null&&t.value))return;await X.theme.resetThemeConfig({name:t.value.metadata.name}),D9.success("重置配置成功")}catch(l){console.error("Failed to reset theme setting config",l)}}})}}}function IS(t){const e=Th();return{templates:qF(()=>{var s;const o=[{label:"默认模板",value:""}];if(!e.activatedTheme)return o;const{customTemplates:a}=e.activatedTheme.spec;return a!=null&&a[t]?[...o,...((s=a[t])==null?void 0:s.map(r=>({value:r.file,label:r.name||r.file})))||[]]:o})}}const fge=window.Vue.defineComponent,yr=window.Vue.unref,Dm=window.Vue.createElementVNode,Zc=window.Vue.withCtx,og=window.Vue.openBlock,ag=window.Vue.createBlock,N9=window.Vue.createVNode,qx=window.Vue.createTextVNode,mge=window.Vue.createCommentVNode,gge=window.Vue.resolveDirective,H9=window.Vue.withDirectives,vge={class:"w-32"},yge={class:"group aspect-w-4 aspect-h-3 block w-full overflow-hidden rounded border bg-gray-100"},wge=Dm("div",{class:"flex h-full items-center justify-center object-cover"},[Dm("span",{class:"text-xs text-gray-400"},"加载中...")],-1),bge=Dm("div",{class:"flex h-full items-center justify-center object-cover"},[Dm("span",{class:"text-xs text-red-400"},"加载异常")],-1),$ge=window.HaloComponents.VEntity,B9=window.HaloComponents.VEntityField,xge=window.HaloComponents.VTag,L9=window.HaloComponents.VButton,_ge=window.Vue.toRefs,Vge=fge({__name:"ThemePreviewListItem",props:{theme:null,isSelected:{type:Boolean,default:!1}},emits:["open-settings"],setup(t,{emit:e}){const n=t,{theme:o}=_ge(n),{isActivated:a,handleActiveTheme:s}=w$(o);return(r,i)=>{const l=gge("close-popper");return og(),ag(yr($ge),{"is-selected":t.isSelected},{start:Zc(()=>[N9(yr(B9),null,{description:Zc(()=>[Dm("div",vge,[Dm("div",yge,[(og(),ag(Gm,{key:yr(o).metadata.name,src:yr(o).spec.logo,alt:yr(o).spec.displayName,classes:"pointer-events-none object-cover group-hover:opacity-75"},{loading:Zc(()=>[wge]),error:Zc(()=>[bge]),_:1},8,["src","alt"]))])])]),_:1}),N9(yr(B9),{title:yr(o).spec.displayName,description:yr(o).spec.version},{extra:Zc(()=>[yr(a)?(og(),ag(yr(xge),{key:0},{default:Zc(()=>[qx(" 当前启用 ")]),_:1})):mge("",!0)]),_:1},8,["title","description"])]),dropdownItems:Zc(()=>[H9((og(),ag(yr(L9),{block:"",type:"secondary",onClick:yr(s)},{default:Zc(()=>[qx(" 启用 ")]),_:1},8,["onClick"])),[[l]]),H9((og(),ag(yr(L9),{block:"",type:"default",onClick:i[0]||(i[0]=c=>e("open-settings"))},{default:Zc(()=>[qx(" 设置 ")]),_:1})),[[l]])]),_:1},8,["is-selected"])}}}),Cge=window.Vue.defineComponent,So=window.Vue.unref,ds=window.Vue.createVNode,Hy=window.Vue.normalizeClass,U9=window.Vue.resolveDirective,Ls=window.Vue.openBlock,ri=window.Vue.createElementBlock,xp=window.Vue.withDirectives,_p=window.Vue.createElementVNode,j9=window.Vue.renderList,z9=window.Vue.Fragment,G9=window.Vue.resolveComponent,Wl=window.Vue.withCtx,W9=window.Vue.createBlock,By=window.Vue.createCommentVNode,Sge=window.Vue.createTextVNode,K9=window.Vue.vShow,Ly=window.Vue.Transition,Pge=["href"],Ege={class:"flex h-full items-center justify-center divide-x divide-gray-100 transition-all"},Tge={class:"mb-20"},Rge={class:"bg-white p-3"},Oge={class:"pt-5"},kge={class:"flex justify-start"},Age={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},Ige=["onClick"],Mge={key:0,class:"fixed bottom-2 left-2"},Fge={class:"flex h-full flex-1 items-center justify-center transition-all duration-300"},Dge=["src"],Nge=window.HaloComponents.VModal,Hge=window.HaloComponents.IconLink,Bge=window.HaloComponents.IconPalette,Lge=window.HaloComponents.IconSettings,Uge=window.HaloComponents.IconArrowLeft,Y9=window.HaloComponents.VTabbar,X9=window.HaloComponents.VButton,jge=window.HaloComponents.IconComputer,zge=window.HaloComponents.IconPhone,Gge=window.HaloComponents.IconTablet,Wge=window.HaloComponents.IconRefreshLine,rf=window.Vue.computed,e_=window.Vue.markRaw,Jc=window.Vue.ref,Q9=window.Vue.watch,MS=Cge({__name:"ThemePreviewModal",props:{visible:{type:Boolean,default:!1},title:{default:void 0},theme:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,{activatedTheme:o}=z2(Th()),a=Jc(null),s=Jc([]),r=Jc(!1),i=Jc(!1),l=Jc(),c=async()=>{try{const{data:U}=await X.theme.listThemes({page:0,size:0,uninstalled:!1});s.value=U.items}catch(U){console.error("Failed to fetch themes",U)}};Q9(()=>n.visible,U=>{U?(c(),l.value=n.theme||(o==null?void 0:o.value)):(r.value=!1,w.value=!1)});const u=U=>{e("update:visible",U),U||e("close")},d=()=>{w.value=!1,r.value=!r.value},p=U=>{l.value=U},f=rf(()=>l.value?`/?preview-theme=${l.value.metadata.name}`:"#"),g=rf(()=>{var U;return n.title?n.title:`预览主题：${(U=l.value)==null?void 0:U.spec.displayName}`}),v=Jc([]),y=Jc(""),w=Jc(!1),b=rf(()=>{var U;return(U=l.value)==null?void 0:U.spec.settingName}),C=rf(()=>{var U;return(U=l.value)==null?void 0:U.spec.configMapName}),{setting:V,configMapFormData:_,saving:x,handleFetchConfigMap:S,handleFetchSettings:P,handleSaveConfigMap:E}=Nu(b,C);Q9(()=>l.value,async()=>{if(l.value){if(await P(),await S(),V.value){const{forms:U}=V.value.spec;v.value=U.map(q=>({id:q.group,label:q.label||""}))}y.value=v.value[0].id}});const O=U=>{U&&(l.value=U),r.value=!1,w.value=!w.value},I=rf(()=>{var q;if(!V.value)return;const{forms:U}=V.value.spec;return(q=U.find(ye=>ye.group===y.value))==null?void 0:q.formSchema}),F=async()=>{await E(),L()},L=()=>{var U,q;(q=(U=a.value)==null?void 0:U.contentWindow)==null||q.location.reload()},H=[{id:"desktop",icon:e_(jge)},{id:"tablet",icon:e_(Gge)},{id:"phone",icon:e_(zge)}],W=Jc(H[0].id),Y=rf(()=>W.value==="desktop"?"w-full h-full":W.value==="tablet"?"w-2/3 h-2/3 ring-2 rounded ring-gray-300":"w-96 h-[50rem] ring-2 rounded ring-gray-300");return(U,q)=>{const ye=G9("FormKitSchema"),we=G9("FormKit"),oe=U9("tooltip"),pe=U9("permission");return Ls(),W9(So(Nge),{"body-class":["!p-0"],visible:t.visible,fullscreen:"",title:So(g),"mount-to-body":!0,"onUpdate:visible":u},{center:Wl(()=>[ds(So(Y9),{"active-id":W.value,"onUpdate:active-id":q[0]||(q[0]=he=>W.value=he),items:H,type:"outline"},null,8,["active-id"])]),actions:Wl(()=>[xp((Ls(),ri("span",{class:Hy({"bg-gray-200":r.value}),onClick:d},[ds(So(Bge))],2)),[[oe,{content:"切换主题",delay:300}]]),xp((Ls(),ri("span",{class:Hy({"bg-gray-200":w.value}),onClick:q[1]||(q[1]=he=>O(void 0))},[ds(So(Lge))],2)),[[oe,{content:"主题设置",delay:300}]]),xp((Ls(),ri("span",{onClick:L},[ds(So(Wge))])),[[oe,{content:"刷新",delay:300}]]),xp((Ls(),ri("span",null,[_p("a",{href:So(f),target:"_blank"},[ds(So(Hge))],8,Pge)])),[[oe,{content:"新窗口打开",delay:300}]])]),default:Wl(()=>[_p("div",Ege,[ds(Ly,{"enter-active-class":"transform transition ease-in-out duration-300","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transform transition ease-in-out duration-300","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full",appear:""},{default:Wl(()=>[r.value||w.value?(Ls(),ri("div",{key:0,class:Hy(["relative h-full w-96 overflow-y-auto",{"!overflow-hidden":i.value}]),style:{"overflow-y":"overlay"}},[ds(Ly,{"enter-active-class":"transform transition ease-in-out duration-300 delay-150","enter-from-class":"translate-x-full","enter-to-class":"-translate-x-0","leave-active-class":"transform transition ease-in-out duration-300","leave-from-class":"-translate-x-0","leave-to-class":"translate-x-full",onBeforeEnter:q[4]||(q[4]=he=>i.value=!0),onAfterEnter:q[5]||(q[5]=he=>i.value=!1),onBeforeLeave:q[6]||(q[6]=he=>i.value=!0),onAfterLeave:q[7]||(q[7]=he=>i.value=!1)},{default:Wl(()=>[xp(_p("div",Tge,[ds(So(Y9),{"active-id":y.value,"onUpdate:active-id":q[2]||(q[2]=he=>y.value=he),items:v.value,class:"w-full !rounded-none",type:"outline"},null,8,["active-id","items"]),_p("div",Rge,[(Ls(!0),ri(z9,null,j9(v.value,(he,Ne)=>(Ls(),ri("div",{key:Ne},[he.id===y.value&&So(_)&&So(I)?(Ls(),W9(we,{id:he.id,key:he.id,modelValue:So(_)[he.id],"onUpdate:modelValue":Se=>So(_)[he.id]=Se,name:he.id,actions:!1,preserve:!0,type:"form",onSubmit:F},{default:Wl(()=>[ds(ye,{schema:So(I),data:So(_)[he.id]},null,8,["schema","data"])]),_:2},1032,["id","modelValue","onUpdate:modelValue","name"])):By("",!0)]))),128)),xp((Ls(),ri("div",Oge,[_p("div",kge,[ds(So(X9),{loading:So(x),type:"secondary",onClick:q[3]||(q[3]=he=>U.$formkit.submit(y.value||""))},{default:Wl(()=>[Sge(" 保存 ")]),_:1},8,["loading"])])])),[[pe,["system:configmaps:manage"]]])])],512),[[K9,w.value]])]),_:1}),ds(Ly,{"enter-active-class":"transform transition ease-in-out duration-300 delay-150","enter-from-class":"-translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transform transition ease-in-out duration-300","leave-from-class":"translate-x-0","leave-to-class":"-translate-x-full",onBeforeEnter:q[8]||(q[8]=he=>i.value=!0),onAfterEnter:q[9]||(q[9]=he=>i.value=!1),onBeforeLeave:q[10]||(q[10]=he=>i.value=!0),onAfterLeave:q[11]||(q[11]=he=>i.value=!1)},{default:Wl(()=>[xp(_p("ul",Age,[(Ls(!0),ri(z9,null,j9(s.value,(he,Ne)=>{var Se;return Ls(),ri("li",{key:Ne,onClick:qe=>p(he)},[ds(Vge,{theme:he,"is-selected":((Se=l.value)==null?void 0:Se.metadata.name)===he.metadata.name,onOpenSettings:qe=>O(he)},null,8,["theme","is-selected","onOpenSettings"])],8,Ige)}),128))],512),[[K9,r.value]])]),_:1}),ds(Ly,{"enter-active-class":"transform transition ease-in-out duration-300","enter-from-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transform transition ease-in-out duration-300","leave-from-class":"translate-y-0","leave-to-class":"translate-y-full"},{default:Wl(()=>[w.value?(Ls(),ri("div",Mge,[ds(So(X9),{size:"md",circle:"",type:"primary",onClick:d},{default:Wl(()=>[ds(So(Uge))]),_:1})])):By("",!0)]),_:1})],2)):By("",!0)]),_:1}),_p("div",Fge,[t.visible?(Ls(),ri("iframe",{key:0,ref_key:"previewFrame",ref:a,class:Hy(["border-none transition-all duration-500",So(Y)]),src:So(f)},null,10,Dge)):By("",!0)])])]),_:1},8,["visible","title"])}}}),Kge=window.Vue.defineComponent,Yge=window.Vue.renderList,Z9=window.Vue.Fragment,t_=window.Vue.openBlock,J9=window.Vue.createElementBlock,Xge=window.Vue.resolveDynamicComponent,Qge=window.Vue.createBlock,Vp=window.Vue.createElementVNode,Zge=window.Vue.toDisplayString,q9=window.Vue.unref,n_=window.Vue.createVNode,Jge=window.Vue.resolveDirective,qge=window.Vue.withDirectives,eve=window.Vue.withCtx,tve={class:"grid grid-cols-1 gap-2 overflow-hidden @sm:grid-cols-2 @md:grid-cols-3"},nve=["onClick"],ove={class:"inline-flex rounded-lg bg-teal-50 p-3 text-teal-700 ring-4 ring-white"},ave={class:"mt-8"},sve={class:"text-sm font-semibold"},rve={"aria-hidden":"true",class:"pointer-events-none absolute top-6 right-6 text-gray-300 transition-all group-hover:translate-x-1 group-hover:text-gray-400"},ive=window.HaloComponents.IconArrowRight,lve=window.HaloComponents.IconBookRead,cve=window.HaloComponents.IconFolder,uve=window.HaloComponents.IconPages,dve=window.HaloComponents.IconPlug,pve=window.HaloComponents.IconUserSettings,hve=window.HaloComponents.IconPalette,fve=window.HaloComponents.IconWindowLine,mve=window.HaloComponents.VCard,gve=window.HaloComponents.IconUserLine,Xu=window.Vue.markRaw,vve=window.Vue.ref,yve=window.VueRouter.useRouter,wve=Kge({__name:"QuickLinkWidget",setup(t){const e=yve(),n=vve(!1),o=[{icon:Xu(gve),title:"个人资料",action:()=>{e.push({name:"UserDetail",params:{name:"-"}})}},{icon:Xu(fve),title:"查看站点",action:()=>{n.value=!0}},{icon:Xu(lve),title:"创建文章",action:()=>{e.push({name:"PostEditor"})},permissions:["system:posts:manage"]},{icon:Xu(uve),title:"创建页面",action:()=>{e.push({name:"SinglePageEditor"})},permissions:["system:singlepages:manage"]},{icon:Xu(cve),title:"附件上传",action:()=>{e.push({name:"Attachments",query:{action:"upload"}})},permissions:["system:attachments:manage"]},{icon:Xu(hve),title:"主题管理",action:()=>{e.push({name:"ThemeDetail"})},permissions:["system:themes:view"]},{icon:Xu(dve),title:"插件管理",action:()=>{e.push({name:"Plugins"})},permissions:["system:plugins:view"]},{icon:Xu(pve),title:"新建用户",action:()=>{e.push({name:"Users",query:{action:"create"}})},permissions:["system:users:manage"]}];return(a,s)=>{const r=Jge("permission");return t_(),J9(Z9,null,[n_(q9(mve),{"body-class":["h-full","overflow-y-auto","@container"],class:"h-full",title:"快捷访问"},{default:eve(()=>[Vp("div",tve,[(t_(),J9(Z9,null,Yge(o,(i,l)=>qge(Vp("div",{key:l,class:"group relative cursor-pointer rounded-lg bg-gray-50 p-4 transition-all hover:bg-gray-100",onClick:i.action},[Vp("div",null,[Vp("span",ove,[(t_(),Qge(Xge(i.icon)))])]),Vp("div",ave,[Vp("h3",sve,Zge(i.title),1)]),Vp("span",rve,[n_(q9(ive))])],8,nve),[[r,i.permissions]])),64))])]),_:1}),n_(MS,{visible:n.value,"onUpdate:visible":s[0]||(s[0]=i=>n.value=i),title:"查看站点"},null,8,["visible"])],64)}}}),bve=window.Vue.defineComponent,o_=window.Vue.unref,$ve=window.Vue.createVNode,cm=window.Vue.createElementVNode,xve=window.Vue.toDisplayString,_ve=window.Vue.withCtx,Vve=window.Vue.openBlock,Cve=window.Vue.createBlock,Sve={class:"flex h-full"},Pve={class:"flex items-center gap-4"},Eve={class:"hidden rounded-full bg-gray-100 p-2.5 text-gray-600 sm:block"},Tve=cm("span",{class:"text-sm text-gray-500"},"浏览量",-1),Rve={class:"text-2xl font-medium text-gray-900"},Ove=window.HaloComponents.VCard,kve=window.HaloComponents.IconEye,Ave=window.Vue.inject,Ive=bve({__name:"ViewsStatsWidget",setup(t){const e=Ave("dashboardStats");return(n,o)=>(Vve(),Cve(o_(Ove),{class:"h-full","body-class":["h-full"]},{default:_ve(()=>{var a;return[cm("div",Sve,[cm("div",Pve,[cm("span",Eve,[$ve(o_(kve),{class:"h-5 w-5"})]),cm("div",null,[Tve,cm("p",Rve,xve(((a=o_(e))==null?void 0:a.visits)||0),1)])])])]}),_:1}))}}),Mve=window.HaloComponents.IconDashboard,Fve=window.Vue.markRaw,Dve={components:{QuickLinkWidget:wve,ViewsStatsWidget:Ive},routes:[{path:"/",component:Es,name:"Root",redirect:"/dashboard",children:[{path:"dashboard",name:"Dashboard",component:pge,meta:{title:"仪表盘",searchable:!0,menu:{name:"仪表盘",group:"dashboard",icon:Fve(Mve),priority:0,mobile:!0}}}]}]},Nve=window.Vue.defineComponent,Hve=window.Vue.unref,Bve=window.Vue.openBlock,Lve=window.Vue.createBlock,Uve=window.VueRouter.RouterView,V2=Nve({__name:"BlankLayout",setup(t){return(e,n)=>(Bve(),Lve(Hve(Uve)))}}),jve=window.Vue.onMounted,eE=window.Vue.ref;function eD(t){const{fetchOnMounted:e}=t||{},n=eE([]),o=eE(!1),a=async()=>{try{o.value=!0;const{data:s}=await X.extension.user.listv1alpha1User();n.value=s.items}catch(s){console.error("Failed to fetch users",s)}finally{o.value=!1}};return jve(()=>{e&&a()}),{users:n,loading:o,handleFetchUsers:a}}const zve=window.Vue.defineComponent,Gve=window.Vue.renderSlot,tE=window.Vue.resolveComponent,sg=window.Vue.createVNode,Uy=window.Vue.createElementVNode,rg=window.Vue.unref,Wve=window.Vue.renderList,Kve=window.Vue.Fragment,a_=window.Vue.openBlock,nE=window.Vue.createElementBlock,jy=window.Vue.withCtx,Yve=window.Vue.resolveDirective,Xve=window.Vue.withDirectives,Qve=window.Vue.createBlock,Zve={class:"h-96 w-80"},Jve={class:"border-b border-b-gray-100 bg-white p-4"},qve={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},e0e=["onClick"],t0e=window.HaloComponents.VAvatar,n0e=window.HaloComponents.VEntity,oE=window.HaloComponents.VEntityField,o0e=window.Vue.computed,a0e=window.Vue.ref,s0e=window.Vue.watch,b$=zve({__name:"UserDropdownSelector",props:{selected:{default:void 0}},emits:["update:selected","select"],setup(t,{emit:e}){const n=t,{users:o,handleFetchUsers:a}=eD(),s=u=>{if(n.selected&&u.metadata.name===n.selected.metadata.name){e("update:selected",void 0),e("select",void 0);return}e("update:selected",u),e("select",u)};function r(){a(),setTimeout(()=>{Ps("userDropdownSelectorInput")},200)}const i=a0e("");let l;s0e(()=>o.value,()=>{l=new Wr(o.value,{keys:["spec.displayName","metadata.name","spec.email"],useExtendedSearch:!0})});const c=o0e(()=>!l||!i.value?o.value:l==null?void 0:l.search(i.value).map(u=>u.item));return(u,d)=>{const p=tE("FormKit"),f=tE("FloatingDropdown"),g=Yve("close-popper");return a_(),Qve(f,{onShow:r},{popper:jy(()=>[Uy("div",Zve,[Uy("div",Jve,[sg(p,{id:"userDropdownSelectorInput",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=v=>i.value=v),placeholder:"输入关键词搜索",type:"text"},null,8,["modelValue"])]),Uy("div",null,[Uy("ul",qve,[(a_(!0),nE(Kve,null,Wve(rg(c),(v,y)=>{var w;return Xve((a_(),nE("li",{key:y,onClick:b=>s(v)},[sg(rg(n0e),{"is-selected":((w=t.selected)==null?void 0:w.metadata.name)===v.metadata.name},{start:jy(()=>[sg(rg(oE),null,{description:jy(()=>[sg(rg(t0e),{alt:v.spec.displayName,src:v.spec.avatar,size:"md"},null,8,["alt","src"])]),_:2},1024),sg(rg(oE),{title:v.spec.displayName,description:v.metadata.name},null,8,["title","description"])]),_:2},1032,["is-selected"])],8,e0e)),[[g]])}),128))])])])]),default:jy(()=>[Gve(u.$slots,"default")]),_:3})}}}),r0e=window.Vue.defineComponent,i0e=window.Vue.renderSlot,aE=window.Vue.resolveComponent,zy=window.Vue.createVNode,Gy=window.Vue.createElementVNode,Wy=window.Vue.unref,l0e=window.Vue.renderList,c0e=window.Vue.Fragment,s_=window.Vue.openBlock,sE=window.Vue.createElementBlock,Ky=window.Vue.withCtx,u0e=window.Vue.resolveDirective,d0e=window.Vue.withDirectives,p0e=window.Vue.createBlock,h0e={class:"h-96 w-80"},f0e={class:"border-b border-b-gray-100 bg-white p-4"},m0e={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},g0e=["onClick"],v0e=window.HaloComponents.VEntity,rE=window.HaloComponents.VEntityField,y0e=window.Vue.computed,w0e=window.Vue.ref,b0e=window.Vue.watch,$0e=r0e({__name:"CategoryDropdownSelector",props:{selected:{default:void 0}},emits:["update:selected","select"],setup(t,{emit:e}){const n=t,{categories:o,handleFetchCategories:a}=AS({fetchOnMounted:!1}),s=u=>{if(n.selected&&u.metadata.name===n.selected.metadata.name){e("update:selected",void 0),e("select",void 0);return}e("update:selected",u),e("select",u)};function r(){a(),setTimeout(()=>{Ps("categoryDropdownSelectorInput")},200)}const i=w0e("");let l;b0e(()=>o.value,()=>{l=new Wr(o.value,{keys:["spec.displayName","metadata.name"],useExtendedSearch:!0})});const c=y0e(()=>!l||!i.value?o.value:l==null?void 0:l.search(i.value).map(u=>u.item));return(u,d)=>{const p=aE("FormKit"),f=aE("FloatingDropdown"),g=u0e("close-popper");return s_(),p0e(f,{onShow:r},{popper:Ky(()=>[Gy("div",h0e,[Gy("div",f0e,[zy(p,{id:"categoryDropdownSelectorInput",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=v=>i.value=v),placeholder:"输入关键词搜索",type:"text"},null,8,["modelValue"])]),Gy("div",null,[Gy("ul",m0e,[(s_(!0),sE(c0e,null,l0e(Wy(c),(v,y)=>{var w;return d0e((s_(),sE("li",{key:y,onClick:b=>s(v)},[zy(Wy(v0e),{"is-selected":((w=t.selected)==null?void 0:w.metadata.name)===v.metadata.name},{start:Ky(()=>{var b;return[zy(Wy(rE),{title:v.spec.displayName,description:(b=v.status)==null?void 0:b.permalink},null,8,["title","description"])]}),end:Ky(()=>{var b;return[zy(Wy(rE),{description:`${((b=v.status)==null?void 0:b.postCount)||0} 篇文章`},null,8,["description"])]}),_:2},1032,["is-selected"])],8,g0e)),[[g]])}),128))])])])]),default:Ky(()=>[i0e(u.$slots,"default")]),_:3})}}}),x0e=["__key","__init","__shim","__original","__index","__prevKey"];function tD(){return Math.random().toString(36).substring(2,15)}function nD(t,e,n=!0,o=["__key"]){if(t===e)return!0;if(typeof e=="object"&&typeof t=="object"){if(t instanceof Map||t instanceof Set||t instanceof Date||t===null||e===null||Object.keys(t).length!==Object.keys(e).length)return!1;for(const a of o)if((a in t||a in e)&&t[a]!==e[a])return!1;for(const a in t)if(!(a in e)||t[a]!==e[a]&&!n||n&&!nD(t[a],e[a],n,o))return!1;return!0}return!1}function _0e(t){return t.replace(/-([a-z0-9])/gi,(e,n)=>n.toUpperCase())}function V0e(t){return t.replace(/([a-z0-9])([A-Z])/g,(e,n,o)=>n+"-"+o.toLowerCase()).replace(" ","-").toLowerCase()}function C2(t,e=x0e){if(t===null||t instanceof RegExp||t instanceof Date||t instanceof Map||t instanceof Set||typeof File=="function"&&t instanceof File)return t;let n;Array.isArray(t)?n=t.map(o=>typeof o=="object"?C2(o,e):o):n=Object.keys(t).reduce((o,a)=>(o[a]=typeof t[a]=="object"?C2(t[a],e):t[a],o),{});for(const o of e)o in t&&Object.defineProperty(n,o,{enumerable:!1,value:t[o]});return n}function xb(t){return typeof t=="object"?C2(t):t}function iE(t){return t!==void 0&&t!=="false"&&t!==!1?!0:void 0}function m0(t){return Object.isFrozen(t)?t:Object.defineProperty(t,"__init",{enumerable:!1,value:!0})}function C0e(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function oD(){const t=[];let e=0;const n=a=>t.push(a),o=a=>{const s=t[e];return typeof s=="function"?s(a,r=>(e++,o(r===void 0?a:r))):(e=0,a)};return n.dispatch=o,n.unshift=a=>t.unshift(a),n.remove=a=>{const s=t.indexOf(a);s>-1&&t.splice(s,1)},n}function S0e(){const t=new Map,e=new Map;let n;const o=(a,s)=>{if(n){n.set(s.name,[a,s]);return}t.has(s.name)&&t.get(s.name).forEach(r=>{(s.origin===a||r.modifiers.includes("deep"))&&r.listener(s)}),s.bubble&&a.bubble(s)};return o.on=(a,s)=>{const[r,...i]=a.split("."),l=s.receipt||tD(),c={modifiers:i,event:r,listener:s,receipt:l};return t.has(r)?t.get(r).push(c):t.set(r,[c]),e.has(l)?e.get(l).push(r):e.set(l,[r]),l},o.off=a=>{var s;e.has(a)&&((s=e.get(a))===null||s===void 0||s.forEach(r=>{const i=t.get(r);Array.isArray(i)&&t.set(r,i.filter(l=>l.receipt!==a))}),e.delete(a))},o.pause=a=>{n||(n=new Map),a&&a.walk(s=>s._e.pause())},o.play=a=>{if(!n)return;const s=n;n=void 0,s.forEach(([r,i])=>o(r,i)),a&&a.walk(r=>r._e.play())},o}function P0e(t,e,n,o,a=!0){return e._e(t,{payload:o,name:n,bubble:a,origin:t}),t}function E0e(t,e,n){return FS(t.parent)&&t.parent._e(t.parent,n),t}function T0e(t,e,n,o){return e._e.on(n,o)}function R0e(t,e,n){return e._e.off(n),t}const aD=oD();aD((t,e)=>(t.message||(t.message=String(`E${t.code}`)),e(t)));const sD=oD();sD((t,e)=>{t.message||(t.message=String(`W${t.code}`));const n=e(t);return console&&typeof console.warn=="function"&&console.warn(n.message),n});function rD(t,e={}){sD.dispatch({code:t,data:e})}function g0(t,e={}){throw Error(aD.dispatch({code:t,data:e}).message)}function iD(t,e){const n={blocking:!1,key:tD(),meta:{},type:"state",visible:!0,...t};return e&&n.value&&n.meta.localize!==!1&&(n.value=e.t(n),n.meta.locale=e.config.locale),n}function O0e(t,...e){const n=`${t.name}-set`,o=a=>iD({key:C0e(a),type:"error",value:a,meta:{source:n,autoClear:!0}});return e.filter(a=>!!a).map(a=>{if(typeof a=="string"&&(a=[a]),Array.isArray(a))return a.map(s=>o(s));{const s={};for(const r in a)Array.isArray(a[r])?s[r]=a[r].map(i=>o(i)):s[r]=[o(a[r])];return s}})}const lD=new Map,r_=new Map,k0e=S0e();function A0e(t){if(r_.has(t)){const e=r_.get(t);r_.delete(t),lD.delete(e),k0e(t,{payload:null,name:e,bubble:!1,origin:t})}}function I0e(t){return lD.get(t)}function lE(t,e,n){let o=!0;return e in t.config._t?o=!1:t.emit(`config:${e}`,n,!1),e in t.props||(t.emit("prop",{prop:e,value:n}),t.emit(`prop:${e}`,n)),o}function M0e(t){const e=document.getElementById(t);if(e instanceof HTMLFormElement){const n=new Event("submit",{cancelable:!0,bubbles:!0});e.dispatchEvent(n);return}rD(151,t)}function F0e(t){const e=n=>{for(const o in n.store){const a=n.store[o];a.type==="error"||a.type==="ui"&&o==="incomplete"?n.store.remove(o):a.type==="state"&&n.store.set({...a,value:!1})}};e(t),t.walk(e)}function D0e(t,e){const n=typeof t=="string"?I0e(t):t;if(n){const o=s=>xb(s.props.initial)||(s.type==="group"?{}:s.type==="list"?[]:void 0);n._e.pause(n),n.input(xb(e)||o(n),!1),n.walk(s=>s.input(o(s),!1));const a=o(n);return n.input(typeof a=="object"?xb(e)||m0(a):a,!1),n._e.play(n),F0e(n),n.emit("reset",n),n}rD(152,t)}const N0e={delimiter:".",delay:0,locale:"en",rootClasses:t=>({[`formkit-${V0e(t)}`]:!0})},H0e=Symbol("index"),r4=Symbol("removed"),i4=Symbol("moved"),cD=Symbol("inserted");function B0e(t){return t.type==="list"&&Array.isArray(t._value)}function FS(t){return t&&typeof t=="object"&&t.__FKNode__===!0}const _b=(t,e,n)=>{g0(102,[t,n])};fn(aye,_b,!1),fn(Q0e),fn(X0e),fn(rye,_b,!1),fn(iye),fn(E0e),fn(gye),fn(W0e),fn(!1),fn(Y0e),fn(G0e),fn(K0e),fn(z0e),fn(oye,nye,!1),fn(U0e),fn(q0e),fn(P0e),fn(cye),fn(T0e),fn(R0e),fn(!1,Z0e),fn(!1),fn(J0e),fn(dye,_b,!1),fn(mye),fn(tye),fn(pD),fn(fye),fn(hye),fn(dD),fn(sye,!1,!1),fn(eye);function fn(t,e,n=!0){return{get:t?(o,a)=>n?(...s)=>t(o,a,...s):t(o,a):!1,set:e!==void 0?e:_b.bind(null)}}function L0e(t){return t.type==="group"?m0(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)?t.value:{}):t.type==="list"?m0(Array.isArray(t.value)?t.value:[]):t.value}function U0e(t,e,n,o=!0){return e._value=j0e(t,t.hook.input.dispatch(n)),t.emit("input",e._value),e.isSettled&&t.disturb(),o?(e._tmo&&clearTimeout(e._tmo),e._tmo=setTimeout(S2,t.props.delay,t,e)):S2(t,e),e.settled}function j0e(t,e){switch(t.type){case"input":break;case"group":(!e||typeof e!="object")&&g0(107,[t,e]);break;case"list":Array.isArray(e)||g0(108,[t,e]);break}return e}function S2(t,e,n=!0,o=!0){e._value=e.value=t.hook.commit.dispatch(e._value),t.type!=="input"&&o&&t.hydrate(),t.emit("commit",e.value),n&&t.calm()}function uD(t,{name:e,value:n,from:o}){if(!Object.isFrozen(t._value)){if(B0e(t)){const a=n===r4?[]:n===i4&&typeof o=="number"?t._value.splice(o,1):[n];t._value.splice(e,n===i4||o===cD?0:1,...a);return}n!==r4?t._value[e]=n:delete t._value[e]}}function z0e(t,e){const n=e._value;return e.children.forEach(o=>{if(typeof n=="object")if(o.name in n){const a=o.type!=="input"||n[o.name]&&typeof n[o.name]=="object"?m0(n[o.name]):n[o.name];o.input(a,!1)}else(t.type!=="list"||typeof o.name=="number")&&uD(e,{name:o.name,value:o.value}),n.__init||(o.type==="group"?o.input({},!1):o.type==="list"?o.input([],!1):o.input(void 0,!1))}),t}function G0e(t,e){var n;return e._d<=0&&(e.isSettled=!1,t.emit("settled",!1,!1),e.settled=new Promise(o=>{e._resolve=o}),t.parent&&((n=t.parent)===null||n===void 0||n.disturb())),e._d++,t}function W0e(t,e,n){var o;if(n!==void 0&&t.type!=="input")return uD(e,n),S2(t,e,!0,!1);e._d>0&&e._d--,e._d===0&&(e.isSettled=!0,t.emit("settled",!0,!1),t.parent&&((o=t.parent)===null||o===void 0||o.calm({name:t.name,value:e.value})),e._resolve&&e._resolve(e.value))}function K0e(t,e){t.emit("destroying",t),t.store.filter(()=>!1),t.parent&&t.parent.remove(t),A0e(t),e._value=e.value=void 0,t.emit("destroyed",t)}function Y0e(t,e,n){e.type=n.type,e.props.definition=C2(n),e.value=e._value=L0e({type:t.type,value:e.value}),n.forceTypeProp&&(t.props.type&&(t.props.originalType=t.props.type),e.props.type=n.forceTypeProp),n.family&&(e.props.family=n.family),n.features&&n.features.forEach(o=>o(t)),n.props&&t.addProps(n.props),t.emit("defined",n)}function X0e(t,e,n){var o;if(t.props.attrs){const a={...t.props.attrs};t.props._emit=!1;for(const r in a){const i=_0e(r);n.includes(i)&&(t.props[i]=a[r],delete a[r])}const s=xb(e._value);t.props.initial=t.type!=="input"?m0(s):s,t.props._emit=!0,t.props.attrs=a,t.props.definition&&(t.props.definition.props=[...((o=t.props.definition)===null||o===void 0?void 0:o.props)||[],...n])}return t.emit("added-props",n),t}function Q0e(t,e,n,o){if(t.type==="input"&&g0(100,t),n.parent&&n.parent!==t&&n.parent.remove(n),e.children.includes(n)||(o!==void 0&&t.type==="list"?(e.children.splice(o,0,n),Array.isArray(t.value)&&t.value.length<e.children.length&&t.disturb().calm({name:o,value:n.value,from:cD})):e.children.push(n),n.isSettled||t.disturb()),n.parent!==t){if(n.parent=t,n.parent!==t)return t.remove(n),n.parent.add(n),t}else n.use(t.plugins);return S2(t,e,!1),t.ledger.merge(n),t.emit("child",n),t}function Z0e(t,e,n,o){return FS(o)?(t.parent&&t.parent!==o&&t.parent.remove(t),e.parent=o,t.resetConfig(),o.children.includes(t)?t.use(o.plugins):o.add(t),!0):o===null?(e.parent=null,!0):!1}function J0e(t,e,n){const o=e.children.indexOf(n);if(o!==-1){n.isSettled&&t.disturb(),e.children.splice(o,1);let a=iE(n.props.preserve),s=n.parent;for(;a===void 0&&s;)a=iE(s.props.preserve),s=s.parent;a?t.calm():t.calm({name:t.type==="list"?o:n.name,value:r4}),n.parent=null,n.config._rmn=n}return t.ledger.unmerge(n),t}function q0e(t,e,n){e.children.forEach(o=>n(o))}function eye(t,e,n,o=!1){e.children.forEach(a=>{(n(a)!==!1||!o)&&a.walk(n,o)})}function tye(t,e){const n=t.parent||void 0;e.config=pye(t.config._t,n),t.walk(o=>o.resetConfig())}function dD(t,e,n,o=!0,a=!0){return Array.isArray(n)||n instanceof Set?(n.forEach(s=>dD(t,e,s)),t):(e.plugins.has(n)||(a&&typeof n.library=="function"&&n.library(t),o&&n(t)!==!1&&(e.plugins.add(n),t.children.forEach(s=>s.use(n)))),t)}function nye(t,e,n,o){if(FS(t.parent)){const a=t.parent.children,s=o>=a.length?a.length-1:o<0?0:o,r=a.indexOf(t);return r===-1?!1:(a.splice(r,1),a.splice(s,0,t),t.parent.children=a,t.parent.type==="list"&&t.parent.disturb().calm({name:s,value:i4,from:r}),!0)}return!1}function oye(t){if(t.parent){const e=[...t.parent.children].indexOf(t);return e===-1?t.parent.children.length:e}return-1}function aye(t,e){return e}function sye(t,e){var n;return((n=t.parent)===null||n===void 0?void 0:n.type)==="list"?t.index:e.name!==H0e?e.name:t.index}function rye(t,e){return e.parent?e.parent.address.concat([t.name]):[t.name]}function iye(t,e,n){const o=typeof n=="string"?n.split(t.config.delimiter):n;if(!o.length)return;const a=o[0];let s=t.parent;for(s||(String(o[0])===String(t.name)&&o.shift(),s=t),a==="$parent"&&o.shift();s&&o.length;){const r=o.shift();switch(r){case"$root":s=t.root;break;case"$parent":s=s.parent;break;case"$self":s=t;break;default:s=s.children.find(i=>String(i.name)===String(r))||lye(s,r)}}return s||void 0}function lye(t,e){const n=String(e).match(/^(find)\((.*)\)$/);if(n){const[,o,a]=n,s=a.split(",").map(r=>r.trim());switch(o){case"find":return t.find(s[0],s[1]);default:return}}}function cye(t,e,n,o){return uye(t,n,o)}function uye(t,e,n="name"){const o=typeof n=="string"?s=>s[n]==e:n,a=[t];for(;a.length;){const s=a.shift();if(o(s,e))return s;a.push(...s.children)}}function dye(t){let e=t;for(;e.parent;)e=e.parent;return e}function pye(t={},e){let n;return new Proxy(t,{get(...o){const a=o[1];if(a==="_t")return t;const s=Reflect.get(...o);if(s!==void 0)return s;if(e){const r=e.config[a];if(r!==void 0)return r}if(t.rootConfig&&typeof a=="string"){const r=t.rootConfig[a];if(r!==void 0)return r}return a==="delay"&&(n==null?void 0:n.type)==="input"?20:N0e[a]},set(...o){const a=o[1],s=o[2];if(a==="_n")return n=s,t.rootConfig&&t.rootConfig._add(n),!0;if(a==="_rmn")return t.rootConfig&&t.rootConfig._rm(n),n=void 0,!0;if(!nD(t[a],s,!1)){const r=Reflect.set(...o);return n&&(n.emit(`config:${a}`,s,!1),lE(n,a,s),n.walk(i=>lE(i,a,s),!0)),r}return!0}})}function hye(t,e,n,o="ui"){const a=typeof n=="string"?{key:n,value:n,type:o}:n,s=t.hook.text.dispatch(a);return t.emit("text",s,!1),s.value}function fye(t){const e=t.name;do{if(t.props.isForm===!0)break;t.parent||g0(106,e),t=t.parent}while(t);t.props.id&&M0e(t.props.id)}function mye(t,e,n){return D0e(t,n)}function pD(t,e,n,o){const a=`${t.name}-set`,s=t.hook.setErrors.dispatch({localErrors:n,childErrors:o});return O0e(t,s.localErrors,s.childErrors).forEach(r=>{t.store.apply(r,i=>i.meta.source===a)}),t}function gye(t,e,n=!0,o){return pD(t,e,[]),n&&(o=o||`${t.name}-set`,t.walk(a=>{a.store.filter(s=>!(s.type==="error"&&s.meta&&s.meta.source===o))})),t}iD({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function cE(t){const e=new Map,n=o=>{const a=[];for(const s in o.store){const r=o.store[s];r.type==="validation"&&r.blocking&&r.visible&&typeof r.value=="string"&&a.push(r)}return a.length&&e.set(o,a),o};return n(t).walk(n),e}const vye=window.Vue.defineComponent,i_=window.Vue.unref,yye=window.Vue.renderList,uE=window.Vue.Fragment,lf=window.Vue.openBlock,l_=window.Vue.createElementBlock,dE=window.Vue.resolveComponent,c_=window.Vue.createBlock,u_=window.Vue.createCommentVNode,d_=window.Vue.withCtx,p_=window.Vue.createVNode,wye={class:"flex flex-col gap-3 divide-y divide-gray-100"},pE=window.Vue.computed,bye=window.Vue.nextTick,$ye=window.Vue.onMounted,ig=window.Vue.ref,xye=window.Vue.watch,Ym=vye({__name:"AnnotationsForm",props:{group:null,kind:null,value:{default:null}},setup(t,{expose:e}){const n=t,o=Th();function a(w){return!(l!=null&&l[w.value])}const s=ig([]),r=pE(()=>s.value.filter(w=>{var b,C,V;return(b=w.metadata.labels)!=null&&b["theme.halo.run/theme-name"]?((C=w.metadata.labels)==null?void 0:C["theme.halo.run/theme-name"])===((V=o.activatedTheme)==null?void 0:V.metadata.name):!0})),i=async()=>{try{const{data:w}=await X.extension.annotationSetting.listv1alpha1AnnotationSetting({labelSelector:[`halo.run/target-ref=${[n.group,n.kind].join("/")}`]});s.value=w.items}catch(w){console.log("Failed to fetch annotation settings",w)}},l=ig({}),c=ig([]),u=pE(()=>c.value.reduce((w,b)=>(w[b.key]=b.value,w),{})),d=()=>{let w=[];r.value.forEach(b=>{var C;w=w.concat((C=b.spec)==null?void 0:C.formSchema)}),c.value=Object.entries(n.value||{}).map(([b,C])=>{if(!w.some(_=>typeof _=="object"&&"$formkit"in _?_.name===b:!1))return{key:b,value:C}}).filter(b=>b),l.value=Object.entries(n.value||{}).map(([b,C])=>{if(w.some(_=>typeof _=="object"&&"$formkit"in _?_.name===b:!1))return{key:b,value:C}}).filter(b=>b).reduce((b,C)=>(C&&(b[C.key]=C.value),b),{})};$ye(async()=>{l.value=ot(n.value)||{},await i(),d()}),xye(()=>n.value,w=>{tr("specForm"),tr("customForm"),l.value=ot(n.value)||{},w&&d()});const p=ig(!0),f=ig(!0),g=async()=>{r.value.length?Ec("specForm"):p.value=!1,Ec("customForm"),await bye()},v=async w=>{if(!w)return;const b=cE(w);p.value=b.size>0},y=async w=>{if(!w)return;const b=cE(w);f.value=b.size>0};return e({handleSubmit:g,specFormInvalid:p,customFormInvalid:f,annotations:l,customAnnotations:u}),(w,b)=>{const C=dE("FormKitSchema"),V=dE("FormKit");return lf(),l_("div",wye,[l.value&&i_(r).length>0?(lf(),c_(V,{key:0,id:"specForm",modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=_=>l.value=_),type:"form",preserve:!0,onSubmitInvalid:v,onSubmit:b[1]||(b[1]=_=>p.value=!1)},{default:d_(()=>[(lf(!0),l_(uE,null,yye(i_(r),(_,x)=>{var S,P;return lf(),l_(uE,null,[(S=_.spec)!=null&&S.formSchema?(lf(),c_(C,{key:x,schema:(P=_.spec)==null?void 0:P.formSchema},null,8,["schema"])):u_("",!0)],64)}),256))]),_:1},8,["modelValue"])):u_("",!0),l.value?(lf(),c_(V,{key:1,id:"customForm",type:"form",preserve:!0,"form-class":`${i_(r).length?"py-4":""}`,onSubmitInvalid:y,onSubmit:b[3]||(b[3]=_=>f.value=!1)},{default:d_(()=>[p_(V,{modelValue:c.value,"onUpdate:modelValue":b[2]||(b[2]=_=>c.value=_),type:"repeater",label:"自定义"},{default:d_(()=>[p_(V,{type:"text",label:"Key",name:"key",validation:"required|keyValidationRule","validation-rules":{keyValidationRule:a},"validation-messages":{keyValidationRule:"当前 Key 已被占用"}},null,8,["validation-rules"]),p_(V,{type:"text",label:"Value",name:"value",validation:"required"})]),_:1},8,["modelValue"])]),_:1},8,["form-class"])):u_("",!0)])}}}),$$=[{label:"新闻",value:"news"},{label:"快讯",value:"flash"},{label:"深度",value:"article"},{label:"专题",value:"topic"}];function hD(t){if(!t)return"未定义";let e="未知";return $$.forEach(n=>{n.value===t&&(e=n.label)}),e}const _ye=window.Vue.defineComponent,Vye=window.Vue.renderSlot,Do=window.Vue.createElementVNode,Cye=window.Vue.resolveComponent,ja=window.Vue.createVNode,Kl=window.Vue.unref,cf=window.Vue.openBlock,lg=window.Vue.createBlock,hE=window.Vue.createCommentVNode,qc=window.Vue.withCtx,Yy=window.Vue.createTextVNode,Sye=window.Vue.Fragment,Pye=window.Vue.createElementBlock,Eye={class:"md:grid md:grid-cols-4 md:gap-6"},Tye=Do("div",{class:"md:col-span-1"},[Do("div",{class:"sticky top-0"},[Do("span",{class:"text-base font-medium text-gray-900"}," 常规设置 ")])],-1),Rye={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},Oye=Do("div",{class:"py-5"},[Do("div",{class:"border-t border-gray-200"})],-1),kye={class:"md:grid md:grid-cols-4 md:gap-6"},Aye=Do("div",{class:"md:col-span-1"},[Do("div",{class:"sticky top-0"},[Do("span",{class:"text-base font-medium text-gray-900"}," 高级设置 ")])],-1),Iye={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},Mye=Do("div",{class:"py-5"},[Do("div",{class:"border-t border-gray-200"})],-1),Fye={class:"md:grid md:grid-cols-4 md:gap-6"},Dye=Do("div",{class:"md:col-span-1"},[Do("div",{class:"sticky top-0"},[Do("span",{class:"text-base font-medium text-gray-900"}," 元数据 ")])],-1),Nye={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},h_=window.HaloComponents.Toast,Xy=window.HaloComponents.VButton,Hye=window.HaloComponents.VModal,Bye=window.HaloComponents.VSpace,fE=window.Vue.computed,f_=window.Vue.nextTick,uf=window.Vue.ref,Lye=window.Vue.watchEffect,fD=_ye({__name:"PostSettingModal",props:{visible:{type:Boolean,default:!1},post:{default:void 0},publishSupport:{type:Boolean,default:!0},onlyEmit:{type:Boolean,default:!1}},emits:["update:visible","close","saved","published"],setup(t,{emit:e}){const n=t,o={spec:{title:"",slug:"",template:"",cover:"",deleted:!1,publish:!1,publishTime:"",pinned:!1,allowComment:!0,visible:"PUBLIC",priority:0,excerpt:{autoGenerate:!0,raw:""},categories:[],tags:[],htmlMetas:[]},apiVersion:"content.halo.run/v1alpha1",kind:"Post",metadata:{name:w0(),type:""}},a=uf(ot(o)),s=uf(!1),r=uf(!1),i=uf(!1),l=uf(),c=fE(()=>!!a.value.metadata.creationTimestamp),u=_=>{e("update:visible",_),_||e("close")},d=()=>{l.value==="publish"&&v(),l.value==="save"&&g()},p=()=>{l.value="save",f_(()=>{Ec("post-setting-form")})},f=()=>{n.onlyEmit||v(),l.value="publish",f_(()=>{Ec("post-setting-form")})},g=async()=>{var E;(E=V.value)==null||E.handleSubmit(),await f_();const{customAnnotations:_,annotations:x,customFormInvalid:S,specFormInvalid:P}=V.value||{};if(!(S||P)){if(a.value.metadata.annotations={...x,..._},n.onlyEmit){e("saved",a.value);return}try{s.value=!0;const{data:O}=c.value?await X.extension.post.updatecontentHaloRunV1alpha1Post({name:a.value.metadata.name,post:a.value}):await X.extension.post.createcontentHaloRunV1alpha1Post({post:a.value});a.value=O,e("saved",O),u(!1),h_.success("保存成功")}catch(O){console.error("Failed to save post",O)}finally{s.value=!1}}},v=async()=>{if(n.onlyEmit){e("published",a.value);return}try{r.value=!0;const{data:_}=await X.post.publishPost({name:a.value.metadata.name});a.value=_,e("published",_),u(!1),h_.success("发布成功")}catch(_){console.error("Failed to publish post",_)}finally{r.value=!1}},y=async()=>{try{i.value=!0,await X.post.unpublishPost({name:a.value.metadata.name}),u(!1),h_.success("取消发布成功")}catch(_){console.error("Failed to publish post",_)}finally{i.value=!1}};Lye(()=>{n.post&&(a.value=ot(n.post))});const{templates:w}=IS("post"),b=fE(()=>{const{publishTime:_}=a.value.spec;return _?(console.log(ZC(_)),ZC(_)):""}),C=_=>{a.value.spec.publishTime=_?yF(_):void 0},V=uf();return(_,x)=>{const S=Cye("FormKit");return cf(),lg(Kl(Hye),{visible:t.visible,width:700,title:"文章设置",centered:!1,"onUpdate:visible":u},{actions:qc(()=>[Vye(_.$slots,"actions")]),footer:qc(()=>[ja(Kl(Bye),null,{default:qc(()=>{var P;return[t.publishSupport?(cf(),Pye(Sye,{key:0},[((P=a.value.metadata.labels)==null?void 0:P[Kl(bc).PUBLISHED])!=="true"?(cf(),lg(Kl(Xy),{key:0,loading:r.value,type:"secondary",onClick:x[12]||(x[12]=E=>f())},{default:qc(()=>[Yy(" 发布 ")]),_:1},8,["loading"])):(cf(),lg(Kl(Xy),{key:1,loading:i.value,type:"danger",onClick:x[13]||(x[13]=E=>y())},{default:qc(()=>[Yy(" 取消发布 ")]),_:1},8,["loading"]))],64)):hE("",!0),ja(Kl(Xy),{loading:s.value,type:"secondary",onClick:x[14]||(x[14]=E=>p())},{default:qc(()=>[Yy(" 保存 ")]),_:1},8,["loading"]),ja(Kl(Xy),{type:"default",onClick:x[15]||(x[15]=E=>u(!1))},{default:qc(()=>[Yy(" 关闭 ")]),_:1})]}),_:1})]),default:qc(()=>[ja(S,{id:"post-setting-form",type:"form",name:"post-setting-form",config:{validationVisibility:"submit"},onSubmit:d},{default:qc(()=>[Do("div",null,[Do("div",Eye,[Tye,Do("div",Rye,[ja(S,{modelValue:a.value.spec.title,"onUpdate:modelValue":x[0]||(x[0]=P=>a.value.spec.title=P),label:"标题",type:"text",name:"title",validation:"required|length:0,100"},null,8,["modelValue"]),ja(S,{modelValue:a.value.spec.slug,"onUpdate:modelValue":x[1]||(x[1]=P=>a.value.spec.slug=P),label:"别名",name:"slug",type:"text",validation:"required|length:0,100"},null,8,["modelValue"]),ja(S,{modelValue:a.value.metadata.type,"onUpdate:modelValue":x[2]||(x[2]=P=>a.value.metadata.type=P),help:"类型区分",name:"type",label:"类型",type:"select",options:Kl($$)},null,8,["modelValue","options"]),ja(S,{modelValue:a.value.spec.categories,"onUpdate:modelValue":x[3]||(x[3]=P=>a.value.spec.categories=P),label:"分类目录",name:"categories",type:"categorySelect",multiple:!0},null,8,["modelValue"]),ja(S,{modelValue:a.value.spec.tags,"onUpdate:modelValue":x[4]||(x[4]=P=>a.value.spec.tags=P),label:"标签",name:"tags",type:"tagSelect",multiple:!0},null,8,["modelValue"]),ja(S,{modelValue:a.value.spec.excerpt.autoGenerate,"onUpdate:modelValue":x[5]||(x[5]=P=>a.value.spec.excerpt.autoGenerate=P),options:[{label:"是",value:!0},{label:"否",value:!1}],name:"autoGenerate",label:"自动生成摘要",type:"radio"},null,8,["modelValue"]),a.value.spec.excerpt.autoGenerate?hE("",!0):(cf(),lg(S,{key:0,modelValue:a.value.spec.excerpt.raw,"onUpdate:modelValue":x[6]||(x[6]=P=>a.value.spec.excerpt.raw=P),label:"自定义摘要",name:"raw",type:"textarea",rows:5,validation:"length:0,1024"},null,8,["modelValue"]))])]),Oye,Do("div",kye,[Aye,Do("div",Iye,[ja(S,{modelValue:a.value.spec.allowComment,"onUpdate:modelValue":x[7]||(x[7]=P=>a.value.spec.allowComment=P),options:[{label:"是",value:!0},{label:"否",value:!1}],label:"允许评论",type:"radio"},null,8,["modelValue"]),ja(S,{modelValue:a.value.spec.pinned,"onUpdate:modelValue":x[8]||(x[8]=P=>a.value.spec.pinned=P),options:[{label:"是",value:!0},{label:"否",value:!1}],label:"是否置顶",name:"pinned",type:"radio"},null,8,["modelValue"]),ja(S,{modelValue:a.value.spec.visible,"onUpdate:modelValue":x[9]||(x[9]=P=>a.value.spec.visible=P),options:[{label:"公开",value:"PUBLIC"},{label:"私有",value:"PRIVATE"}],label:"可见性",name:"visible",type:"select"},null,8,["modelValue"]),ja(S,{"model-value":Kl(b),label:"发表时间",type:"datetime-local",onInput:C},null,8,["model-value"]),ja(S,{modelValue:a.value.spec.template,"onUpdate:modelValue":x[10]||(x[10]=P=>a.value.spec.template=P),options:Kl(w),label:"自定义模板",name:"template",type:"select"},null,8,["modelValue","options"]),ja(S,{modelValue:a.value.spec.cover,"onUpdate:modelValue":x[11]||(x[11]=P=>a.value.spec.cover=P),name:"cover",label:"封面图",type:"attachment",validation:"length:0,1024"},null,8,["modelValue"])])])])]),_:1}),Mye,Do("div",Fye,[Dye,Do("div",Nye,[(cf(),lg(Ym,{key:a.value.metadata.name,ref_key:"annotationsFormRef",ref:V,value:a.value.metadata.annotations,kind:"Post",group:"content.halo.run"},null,8,["value"]))])])]),_:3},8,["visible"])}}}),Uye=window.Vue.defineComponent,jye=window.Vue.renderSlot,mE=window.Vue.openBlock,gE=window.Vue.createElementBlock,zye=window.Vue.createCommentVNode,Gye=window.Vue.unref,Wye=window.Vue.createVNode,Kye=window.Vue.createElementVNode,Yye={class:"group inline-flex cursor-pointer items-center justify-center gap-1.5 rounded-full bg-primary px-2 py-1 ring-1 ring-primary transition-all duration-300 hover:shadow-sm hover:ring-opacity-50"},Xye={key:0,class:"text-xs text-white transition-all"},Qye=window.HaloComponents.IconCloseCircle,Gn=Uye({__name:"FilterTag",emits:["close"],setup(t,{emit:e}){return(n,o)=>(mE(),gE("div",Yye,[n.$slots.default?(mE(),gE("span",Xye,[jye(n.$slots,"default")])):zye("",!0),Kye("div",{class:"h-4 w-4 rounded-full ring-white transition-all group-hover:ring-1",onClick:o[0]||(o[0]=a=>e("close"))},[Wye(Gye(Qye),{class:"h-4 w-4 text-gray-200 transition-all group-hover:text-white"})])]))}}),Zye=window.Vue.defineComponent,Jye=window.Vue.unref,qye=window.Vue.createVNode,ewe=window.Vue.createElementVNode,twe=window.Vue.openBlock,nwe=window.Vue.createElementBlock,owe={class:"group inline-flex cursor-pointer items-center justify-center rounded-full bg-primary px-1 py-1 opacity-80 ring-1 ring-primary transition-all duration-300 hover:opacity-100 hover:shadow-sm hover:ring-opacity-50"},awe={class:"h-4 w-4 rounded-full transition-all"},swe=window.HaloComponents.IconDeleteBin,T0=Zye({__name:"FilterCleanButton",setup(t){return(e,n)=>(twe(),nwe("div",owe,[ewe("div",awe,[qye(Jye(swe),{class:"h-full w-full text-gray-200 transition-all group-hover:text-white"})])]))}}),rwe=window.Vue.onUnmounted,iwe=window.Vue.onMounted,m_=window.Vue.ref,lwe=window.HaloComponents.Dialog,cwe=window.HaloComponents.Toast,uwe=window.VueRouter.onBeforeRouteLeave;function mD(t){const{fetchOnMounted:e}=t||{},n=m_([]),o=m_(!1),a=m_(),s=async i=>{try{clearInterval(a.value),i!=null&&i.mute||(o.value=!0);const{data:l}=await X.extension.tag.listcontentHaloRunV1alpha1Tag({page:0,size:0});n.value=l.items,n.value.filter(u=>!!u.metadata.deletionTimestamp).length&&(a.value=setInterval(()=>{s({mute:!0})},3e3))}catch(l){console.error("Failed to fetch tags",l)}finally{o.value=!1}};rwe(()=>{clearInterval(a.value)}),uwe(()=>{clearInterval(a.value)});const r=async i=>{lwe.warning({title:"确定要删除该标签吗？",description:"删除此标签之后，对应文章的关联将被解除。该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{try{await X.extension.tag.deletecontentHaloRunV1alpha1Tag({name:i.metadata.name}),cwe.success("删除成功")}catch(l){console.error("Failed to delete tag",l)}finally{await s()}}})};return iwe(()=>{e&&s()}),{tags:n,loading:o,handleFetchTags:s,handleDelete:r}}const dwe=window.Vue.defineComponent,pwe=window.Vue.renderSlot,vE=window.Vue.resolveComponent,cg=window.Vue.createVNode,Qy=window.Vue.createElementVNode,Zy=window.Vue.unref,hwe=window.Vue.renderList,fwe=window.Vue.Fragment,g_=window.Vue.openBlock,yE=window.Vue.createElementBlock,ug=window.Vue.withCtx,mwe=window.Vue.resolveDirective,gwe=window.Vue.withDirectives,vwe=window.Vue.createBlock,ywe={class:"h-96 w-80"},wwe={class:"border-b border-b-gray-100 bg-white p-4"},bwe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},$we=["onClick"],xwe=window.HaloComponents.VEntity,wE=window.HaloComponents.VEntityField,_we=window.Vue.computed,Vwe=window.Vue.ref,Cwe=window.Vue.watch,Swe=dwe({__name:"TagDropdownSelector",props:{selected:{default:void 0}},emits:["update:selected","select"],setup(t,{emit:e}){const n=t,{tags:o,handleFetchTags:a}=mD({fetchOnMounted:!1}),s=u=>{if(n.selected&&u.metadata.name===n.selected.metadata.name){e("update:selected",void 0),e("select",void 0);return}e("update:selected",u),e("select",u)};function r(){a(),setTimeout(()=>{Ps("tagDropdownSelectorInput")},200)}const i=Vwe("");let l;Cwe(()=>o.value,()=>{l=new Wr(o.value,{keys:["spec.displayName","metadata.name","spec.email"],useExtendedSearch:!0})});const c=_we(()=>!l||!i.value?o.value:l==null?void 0:l.search(i.value).map(u=>u.item));return(u,d)=>{const p=vE("FormKit"),f=vE("FloatingDropdown"),g=mwe("close-popper");return g_(),vwe(f,{onShow:r},{popper:ug(()=>[Qy("div",ywe,[Qy("div",wwe,[cg(p,{id:"tagDropdownSelectorInput",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=v=>i.value=v),placeholder:"输入关键词搜索",type:"text"},null,8,["modelValue"])]),Qy("div",null,[Qy("ul",bwe,[(g_(!0),yE(fwe,null,hwe(Zy(c),(v,y)=>{var w;return gwe((g_(),yE("li",{key:y,onClick:b=>s(v)},[cg(Zy(xwe),{"is-selected":((w=t.selected)==null?void 0:w.metadata.name)===v.metadata.name},{start:ug(()=>{var b;return[cg(Zy(wE),{description:(b=v.status)==null?void 0:b.permalink},{title:ug(()=>[cg(Sh,{tag:v},null,8,["tag"])]),_:2},1032,["description"])]}),end:ug(()=>{var b;return[cg(Zy(wE),{description:`${((b=v.status)==null?void 0:b.postCount)||0} 篇文章`},null,8,["description"])]}),_:2},1032,["is-selected"])],8,$we)),[[g]])}),128))])])])]),default:ug(()=>[pwe(u.$slots,"default")]),_:3})}}}),Pwe=window.Vue.defineComponent,ht=window.Vue.unref,v_=window.Vue.resolveDirective,Tt=window.Vue.createVNode,Wo=window.Vue.withDirectives,ut=window.Vue.createElementVNode,it=window.Vue.withCtx,Ko=window.Vue.createTextVNode,zt=window.Vue.openBlock,oo=window.Vue.createBlock,bE=window.Vue.vModelCheckbox,za=window.Vue.createElementBlock,y_=window.Vue.resolveComponent,Ewe=window.Vue.withKeys,xa=window.Vue.toDisplayString,_a=window.Vue.createCommentVNode,Qu=window.Vue.renderList,eu=window.Vue.Fragment,Jy=window.Vue.normalizeClass,$E=window.Vue.Transition,xE=window.Vue.createSlots,Twe={class:"m-0 md:m-4"},Rwe={class:"block w-full bg-gray-50 px-4 py-3"},Owe={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},kwe={class:"mr-4 hidden items-center sm:flex"},Awe={class:"flex w-full flex-1 items-center sm:w-auto"},Iwe={key:0,class:"flex items-center gap-2"},Mwe={class:"mt-4 flex sm:mt-0"},Fwe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},Dwe=ut("span",{class:"mr-0.5"},"类型",-1),Nwe={class:"w-72 p-4"},Hwe={class:"space-y-1"},Bwe=["onClick"],Lwe={class:"truncate"},Uwe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},jwe=ut("span",{class:"mr-0.5"},"状态",-1),zwe={class:"w-72 p-4"},Gwe={class:"space-y-1"},Wwe=["onClick"],Kwe={class:"truncate"},Ywe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},Xwe=ut("span",{class:"mr-0.5"}," 可见性 ",-1),Qwe={class:"w-72 p-4"},Zwe={class:"space-y-1"},Jwe=["onClick"],qwe={class:"truncate"},ebe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},tbe=ut("span",{class:"mr-0.5"},"分类",-1),nbe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},obe=ut("span",{class:"mr-0.5"},"标签",-1),abe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},sbe=ut("span",{class:"mr-0.5"},"作者",-1),rbe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},ibe=ut("span",{class:"mr-0.5"},"排序",-1),lbe={class:"w-72 p-4"},cbe={class:"space-y-1"},ube=["onClick"],dbe={class:"truncate"},pbe={class:"flex flex-row gap-2"},hbe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},fbe=["value"],mbe=["href","title"],gbe={key:0,class:"inline-flex flex-wrap gap-1 text-xs text-gray-500"},vbe=["href","title"],ybe={class:"text-xs text-gray-500"},wbe={class:"text-xs text-gray-500"},bbe={key:1,class:"text-xs text-gray-500"},$be={class:"truncate text-xs tabular-nums text-gray-500"},xbe={class:"bg-white sm:flex sm:items-center sm:justify-end"},_E=window.HaloComponents.IconAddCircle,Cp=window.HaloComponents.IconArrowDown,_be=window.HaloComponents.IconArrowLeft,Vbe=window.HaloComponents.IconArrowRight,Cbe=window.HaloComponents.IconBookRead,Sbe=window.HaloComponents.IconEye,Pbe=window.HaloComponents.IconEyeOff;window.HaloComponents.IconTeam;const Ebe=window.HaloComponents.IconRefreshLine,Tbe=window.HaloComponents.IconExternalLinkLine,VE=window.HaloComponents.Dialog,tu=window.HaloComponents.VButton,Rbe=window.HaloComponents.VCard,Obe=window.HaloComponents.VEmpty,kbe=window.HaloComponents.VPageHeader,Abe=window.HaloComponents.VPagination,df=window.HaloComponents.VSpace,Ibe=window.HaloComponents.VAvatar,w_=window.HaloComponents.VStatusDot,Mbe=window.HaloComponents.VEntity,pf=window.HaloComponents.VEntityField,Fbe=window.HaloComponents.VLoading,CE=window.HaloComponents.Toast,Dbe=window.Vue.computed,Nbe=window.Vue.onMounted,ps=window.Vue.ref,Hbe=window.Vue.watch,Bbe=window.VueRouter.onBeforeRouteLeave,Lbe=Pwe({__name:"PostList",setup(t){const{currentUserHasPermission:e}=To(),n=ps({page:1,size:20,total:0,items:[],first:!0,last:!1,hasNext:!1,hasPrevious:!1,totalPages:0}),o=ps(!1),a=ps(!1),s=ps(),r=ps(!1),i=ps([]),l=ps(),c=async Z=>{var me,He,Ie;try{clearInterval(l.value),Z!=null&&Z.mute||(o.value=!0);let Ge,Fe,fe;const Ue=["content.halo.run/deleted=false"];let _e;E.value.value&&(_e=["type="+E.value.value]),L.value&&(Ge=[L.value.metadata.name,L.value.metadata.name]),H.value&&(Fe=[H.value.metadata.name]),W.value&&(fe=[W.value.metadata.name]),I.value.value!==void 0&&Ue.push(`${bc.PUBLISHED}=${I.value.value}`),Z!=null&&Z.page&&(n.value.page=Z.page);const{data:Et}=await X.post.listPosts({labelSelector:Ue,page:n.value.page,size:n.value.size,visible:(me=O.value)==null?void 0:me.value,sort:(He=F.value)==null?void 0:He.sort,sortOrder:(Ie=F.value)==null?void 0:Ie.sortOrder,keyword:Y.value,category:Ge,tag:Fe,contributor:fe,fieldSelector:_e});n.value=Et,n.value.items.filter(Ut=>{var ct;const{spec:ft,metadata:xe,status:tt}=Ut.post;return ft.deleted||ft.publish&&((ct=xe.labels)==null?void 0:ct[bc.PUBLISHED])!=="true"||ft.releaseSnapshot===ft.headSnapshot&&(tt==null?void 0:tt.inProgress)}).length&&(l.value=setInterval(()=>{c({mute:!0})},3e3))}catch(Ge){console.error("Failed to fetch posts",Ge)}finally{o.value=!1}};Bbe(()=>{clearInterval(l.value)});const u=({page:Z,size:me})=>{n.value.page=Z,n.value.size=me,c()},d=async Z=>{const{data:me}=await X.extension.post.getcontentHaloRunV1alpha1Post({name:Z.metadata.name});s.value=me,a.value=!0},p=()=>{s.value=void 0,c({mute:!0})},f=async()=>{const{items:Z,hasPrevious:me}=n.value,He=Z.findIndex(Ie=>{var Ge;return Ie.post.metadata.name===((Ge=s.value)==null?void 0:Ge.metadata.name)});if(He>0){const{data:Ie}=await X.extension.post.getcontentHaloRunV1alpha1Post({name:Z[He-1].post.metadata.name});s.value=Ie;return}He===0&&me&&(n.value.page--,await c(),s.value=n.value.items[n.value.items.length-1].post)},g=async()=>{const{items:Z,hasNext:me}=n.value,He=Z.findIndex(Ie=>{var Ge;return Ie.post.metadata.name===((Ge=s.value)==null?void 0:Ge.metadata.name)});if(He<Z.length-1){const{data:Ie}=await X.extension.post.getcontentHaloRunV1alpha1Post({name:Z[He+1].post.metadata.name});s.value=Ie;return}He===Z.length-1&&me&&(n.value.page++,await c(),s.value=n.value.items[0].post)},v=Z=>{var me;return Z.metadata.name===((me=s.value)==null?void 0:me.metadata.name)||i.value.includes(Z.metadata.name)},y=Z=>{const{labels:me}=Z.metadata;return(me==null?void 0:me[bc.PUBLISHED])==="true"?"已发布":"未发布"},w=Z=>{var Ge;const{spec:me,status:He,metadata:Ie}=Z;return me.publish&&((Ge=Ie.labels)==null?void 0:Ge[bc.PUBLISHED])!=="true"||me.releaseSnapshot===me.headSnapshot&&(He==null?void 0:He.inProgress)},b=Z=>{const{checked:me}=Z.target;me?i.value=n.value.items.map(He=>He.post.metadata.name)||[]:i.value=[]},C=async Z=>{VE.warning({title:"确定要删除该文章吗？",description:"该操作会将文章放入回收站，后续可以从回收站恢复",confirmType:"danger",onConfirm:async()=>{await X.post.recyclePost({name:Z.metadata.name}),await c(),CE.success("删除成功")}})},V=async()=>{VE.warning({title:"确定要删除选中的文章吗？",description:"该操作会将文章放入回收站，后续可以从回收站恢复",confirmType:"danger",onConfirm:async()=>{await Promise.all(i.value.map(Z=>{var He;const me=(He=n.value.items.find(Ie=>Ie.post.metadata.name===Z))==null?void 0:He.post;return me?(me.spec.deleted=!0,X.extension.post.updatecontentHaloRunV1alpha1Post({name:me.metadata.name,post:me})):Promise.resolve()})),await c(),i.value=[],CE.success("删除成功")}})};Hbe(i,Z=>{var me;r.value=Z.length===((me=n.value.items)==null?void 0:me.length)}),Nbe(()=>{c()});const _=[{label:"全部",value:void 0}];$$.forEach(Z=>{_.push(Z)});const x=[{label:"全部",value:void 0},{label:"公开",value:"PUBLIC"},{label:"私有",value:"PRIVATE"}],S=[{label:"全部",value:void 0},{label:"已发布",value:!0},{label:"未发布",value:!1}],P=[{label:"较近发布",sort:"PUBLISH_TIME",sortOrder:!1},{label:"较早发布",sort:"PUBLISH_TIME",sortOrder:!0},{label:"较近创建",sort:"CREATE_TIME",sortOrder:!1},{label:"较早创建",sort:"CREATE_TIME",sortOrder:!0}],E=ps(_[0]),O=ps(x[0]),I=ps(S[0]),F=ps(),L=ps(),H=ps(),W=ps(),Y=ps("");function U(Z){E.value=Z,c({page:1})}function q(Z){O.value=Z,c({page:1})}function ye(Z){I.value=Z,c({page:1})}function we(Z){F.value=Z,c({page:1})}function oe(Z){L.value=Z,c({page:1})}function pe(Z){H.value=Z,c({page:1})}function he(Z){W.value=Z,c({page:1})}function Ne(){const Z=Ti("keywordInput");Z&&(Y.value=Z._value),c({page:1})}function Se(){Y.value="",c({page:1})}function qe(){E.value=_[0],O.value=x[0],I.value=S[0],F.value=void 0,L.value=void 0,H.value=void 0,W.value=void 0,Y.value="",c({page:1})}const Ke=Dbe(()=>O.value.value||I.value.value!==void 0||F.value||L.value||H.value||W.value||Y.value);return(Z,me)=>{const He=y_("FormKit"),Ie=y_("FloatingDropdown"),Ge=y_("RouterLink"),Fe=v_("tooltip"),fe=v_("permission"),Ue=v_("close-popper");return zt(),za(eu,null,[Tt(fD,{visible:a.value,"onUpdate:visible":me[0]||(me[0]=_e=>a.value=_e),post:s.value,onClose:p},{actions:it(()=>[ut("span",{onClick:f},[Wo(Tt(ht(_be),null,null,512),[[Fe,"上一项"]])]),ut("span",{onClick:g},[Wo(Tt(ht(Vbe),null,null,512),[[Fe,"下一项"]])])]),_:1},8,["visible","post"]),Tt(ht(kbe),{title:"文章"},{icon:it(()=>[Tt(ht(Cbe),{class:"mr-2 self-center"})]),actions:it(()=>[Tt(ht(df),null,{default:it(()=>[Tt(ht(tu),{route:{name:"Categories"},size:"sm"},{default:it(()=>[Ko("分类")]),_:1}),Tt(ht(tu),{route:{name:"Tags"},size:"sm"},{default:it(()=>[Ko("标签")]),_:1}),Tt(ht(tu),{route:{name:"DeletedPosts"},size:"sm"},{default:it(()=>[Ko("回收站")]),_:1}),Wo((zt(),oo(ht(tu),{route:{name:"PostEditor"},type:"secondary"},{icon:it(()=>[Tt(ht(_E),{class:"h-full w-full"})]),default:it(()=>[Ko(" 新建 ")]),_:1})),[[fe,["system:posts:manage"]]])]),_:1})]),_:1}),ut("div",Twe,[Tt(ht(Rbe),{"body-class":["!p-0"]},{header:it(()=>[ut("div",Rwe,[ut("div",Owe,[Wo((zt(),za("div",kwe,[Wo(ut("input",{"onUpdate:modelValue":me[1]||(me[1]=_e=>r.value=_e),class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onChange:b},null,544),[[bE,r.value]])])),[[fe,["system:posts:manage"]]]),ut("div",Awe,[i.value.length?(zt(),oo(ht(df),{key:1},{default:it(()=>[Tt(ht(tu),{type:"danger",onClick:V},{default:it(()=>[Ko(" 删除 ")]),_:1})]),_:1})):(zt(),za("div",Iwe,[Tt(He,{id:"keywordInput","outer-class":"!p-0",placeholder:"输入关键词搜索",type:"text",name:"keyword","model-value":Y.value,onKeyup:Ewe(Ne,["enter"])},null,8,["model-value","onKeyup"]),Y.value?(zt(),oo(Gn,{key:0,onClose:me[2]||(me[2]=_e=>Se())},{default:it(()=>[Ko(" 关键词："+xa(Y.value),1)]),_:1})):_a("",!0),E.value.value!==void 0?(zt(),oo(Gn,{key:1,onClose:me[3]||(me[3]=_e=>U(_[0]))},{default:it(()=>[Ko(" 类型："+xa(E.value.label),1)]),_:1})):_a("",!0),I.value.value!==void 0?(zt(),oo(Gn,{key:2,onClose:me[4]||(me[4]=_e=>ye(S[0]))},{default:it(()=>[Ko(" 状态："+xa(I.value.label),1)]),_:1})):_a("",!0),O.value.value?(zt(),oo(Gn,{key:3,onClose:me[5]||(me[5]=_e=>q(x[0]))},{default:it(()=>[Ko(" 可见性："+xa(O.value.label),1)]),_:1})):_a("",!0),L.value?(zt(),oo(Gn,{key:4,onClose:me[6]||(me[6]=_e=>oe())},{default:it(()=>[Ko(" 分类："+xa(L.value.spec.displayName),1)]),_:1})):_a("",!0),H.value?(zt(),oo(Gn,{key:5,onClick:me[7]||(me[7]=_e=>pe())},{default:it(()=>[Ko(" 标签："+xa(H.value.spec.displayName),1)]),_:1})):_a("",!0),W.value?(zt(),oo(Gn,{key:6,onClose:me[8]||(me[8]=_e=>he())},{default:it(()=>[Ko(" 作者："+xa(W.value.spec.displayName),1)]),_:1})):_a("",!0),F.value?(zt(),oo(Gn,{key:7,onClose:me[9]||(me[9]=_e=>we())},{default:it(()=>[Ko(" 排序："+xa(F.value.label),1)]),_:1})):_a("",!0),ht(Ke)?(zt(),oo(T0,{key:8,onClick:qe})):_a("",!0)]))]),ut("div",Mwe,[Tt(ht(df),{spacing:"lg"},{default:it(()=>[Tt(Ie,null,{popper:it(()=>[ut("div",Nwe,[ut("ul",Hwe,[(zt(),za(eu,null,Qu(_,(_e,Et)=>Wo(ut("li",{key:Et,class:Jy([{"bg-gray-100":E.value.value===_e.value},"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900"]),onClick:dt=>U(_e)},[ut("span",Lwe,xa(_e.label),1)],10,Bwe),[[Ue]])),64))])])]),default:it(()=>[ut("div",Fwe,[Dwe,ut("span",null,[Tt(ht(Cp))])])]),_:1}),Tt(Ie,null,{popper:it(()=>[ut("div",zwe,[ut("ul",Gwe,[(zt(),za(eu,null,Qu(S,(_e,Et)=>Wo(ut("li",{key:Et,class:Jy([{"bg-gray-100":I.value.value===_e.value},"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900"]),onClick:dt=>ye(_e)},[ut("span",Kwe,xa(_e.label),1)],10,Wwe),[[Ue]])),64))])])]),default:it(()=>[ut("div",Uwe,[jwe,ut("span",null,[Tt(ht(Cp))])])]),_:1}),Tt(Ie,null,{popper:it(()=>[ut("div",Qwe,[ut("ul",Zwe,[(zt(),za(eu,null,Qu(x,(_e,Et)=>Wo(ut("li",{key:Et,class:Jy([{"bg-gray-100":O.value.value===_e.value},"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900"]),onClick:dt=>q(_e)},[ut("span",qwe,xa(_e.label),1)],10,Jwe),[[Ue]])),64))])])]),default:it(()=>[ut("div",Ywe,[Xwe,ut("span",null,[Tt(ht(Cp))])])]),_:1}),Tt($0e,{selected:L.value,"onUpdate:selected":me[10]||(me[10]=_e=>L.value=_e),onSelect:oe},{default:it(()=>[ut("div",ebe,[tbe,ut("span",null,[Tt(ht(Cp))])])]),_:1},8,["selected"]),Tt(Swe,{selected:H.value,"onUpdate:selected":me[11]||(me[11]=_e=>H.value=_e),onSelect:pe},{default:it(()=>[ut("div",nbe,[obe,ut("span",null,[Tt(ht(Cp))])])]),_:1},8,["selected"]),Tt(b$,{selected:W.value,"onUpdate:selected":me[12]||(me[12]=_e=>W.value=_e),onSelect:he},{default:it(()=>[ut("div",abe,[sbe,ut("span",null,[Tt(ht(Cp))])])]),_:1},8,["selected"]),Tt(Ie,null,{popper:it(()=>[ut("div",lbe,[ut("ul",cbe,[(zt(),za(eu,null,Qu(P,(_e,Et)=>Wo(ut("li",{key:Et,class:"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:dt=>we(_e)},[ut("span",dbe,xa(_e.label),1)],8,ube),[[Ue]])),64))])])]),default:it(()=>[ut("div",rbe,[ibe,ut("span",null,[Tt(ht(Cp))])])]),_:1}),ut("div",pbe,[ut("div",{class:"group cursor-pointer rounded p-1 hover:bg-gray-200",onClick:me[13]||(me[13]=_e=>c())},[Wo(Tt(ht(Ebe),{class:Jy([{"animate-spin text-gray-900":o.value},"h-4 w-4 text-gray-600 group-hover:text-gray-900"])},null,8,["class"]),[[Fe,"刷新"]])])])]),_:1})])])])]),footer:it(()=>[ut("div",xbe,[Tt(ht(Abe),{page:n.value.page,size:n.value.size,total:n.value.total,"size-options":[20,30,50,100],onChange:u},null,8,["page","size","total"])])]),default:it(()=>[o.value?(zt(),oo(ht(Fbe),{key:0})):n.value.items.length?(zt(),oo($E,{key:2,appear:"",name:"fade"},{default:it(()=>[ut("ul",hbe,[(zt(!0),za(eu,null,Qu(n.value.items,(_e,Et)=>(zt(),za("li",{key:Et},[Tt(ht(Mbe),{"is-selected":v(_e.post)},xE({start:it(()=>[Ko(xa(ht(hD)(_e.post.metadata.type))+" ",1),Tt(ht(pf),{title:_e.post.spec.title,route:{name:"PostEditor",query:{name:_e.post.metadata.name}},width:"27rem"},{extra:it(()=>[Tt(ht(df),{class:"mt-1 sm:mt-0"},{default:it(()=>{var dt,Ut,ft,xe;return[(dt=_e.post.status)!=null&&dt.inProgress?Wo((zt(),oo(Ge,{key:0,to:{name:"PostEditor",query:{name:_e.post.metadata.name}},class:"flex items-center"},{default:it(()=>[Tt(ht(w_),{state:"success",animate:""})]),_:2},1032,["to"])),[[Fe,"当前有内容已保存，但还未发布。"]]):_a("",!0),(zt(!0),za(eu,null,Qu(_e.tags,(tt,ct)=>(zt(),oo(Sh,{key:ct,tag:tt,route:""},null,8,["tag"]))),128)),(Ut=_e.post.status)!=null&&Ut.permalink?(zt(),za("a",{key:1,target:"_blank",href:(ft=_e.post.status)==null?void 0:ft.permalink,title:(xe=_e.post.status)==null?void 0:xe.permalink,class:"hidden text-gray-600 transition-all hover:text-gray-900 group-hover:inline-block"},[Tt(ht(Tbe),{class:"h-3.5 w-3.5"})],8,mbe)):_a("",!0)]}),_:2},1024)]),description:it(()=>[Tt(ht(df),{class:"flex-wrap !gap-y-1"},{default:it(()=>[_e.categories.length?(zt(),za("p",gbe,[Ko(" 分类："),(zt(!0),za(eu,null,Qu(_e.categories,(dt,Ut)=>{var ft,xe;return zt(),za("a",{key:Ut,href:(ft=dt.status)==null?void 0:ft.permalink,title:(xe=dt.status)==null?void 0:xe.permalink,target:"_blank",class:"cursor-pointer hover:text-gray-900"},xa(dt.spec.displayName),9,vbe)}),128))])):_a("",!0),ut("span",ybe," 访问量 "+xa(_e.stats.visit||0),1),ut("span",wbe," 评论 "+xa(_e.stats.totalComment||0),1),_e.post.spec.pinned?(zt(),za("span",bbe," 已置顶 ")):_a("",!0)]),_:2},1024)]),_:2},1032,["title","route"])]),end:it(()=>{var dt;return[Tt(ht(pf),null,{description:it(()=>[(zt(!0),za(eu,null,Qu(_e.contributors,(Ut,ft)=>(zt(),oo(Ge,{key:ft,to:{name:"UserDetail",params:{name:Ut.name}},class:"flex items-center"},{default:it(()=>[Wo(Tt(ht(Ibe),{size:"xs",src:Ut.avatar,alt:Ut.displayName,circle:""},null,8,["src","alt"]),[[Fe,Ut.displayName]])]),_:2},1032,["to"]))),128))]),_:2},1024),Tt(ht(pf),{description:y(_e.post)},xE({_:2},[w(_e.post)?{name:"description",fn:it(()=>[Tt(ht(w_),{text:"发布中",animate:""})]),key:"0"}:void 0]),1032,["description"]),Tt(ht(pf),null,{description:it(()=>[_e.post.spec.visible==="PUBLIC"?Wo((zt(),oo(ht(Sbe),{key:0,class:"cursor-pointer text-sm transition-all hover:text-blue-600"},null,512)),[[Fe,"公开访问"]]):_a("",!0),_e.post.spec.visible==="PRIVATE"?Wo((zt(),oo(ht(Pbe),{key:1,class:"cursor-pointer text-sm transition-all hover:text-blue-600"},null,512)),[[Fe,"私有访问"]]):_a("",!0),_a("",!0)]),_:2},1024),(dt=_e==null?void 0:_e.post)!=null&&dt.spec.deleted?(zt(),oo(ht(pf),{key:0},{description:it(()=>[Wo(Tt(ht(w_),{state:"warning",animate:""},null,512),[[Fe,"删除中"]])]),_:1})):_a("",!0),Tt(ht(pf),null,{description:it(()=>[ut("span",$be,xa(ht(Ma)(_e.post.spec.publishTime)),1)]),_:2},1024)]}),_:2},[ht(e)(["system:posts:manage"])?{name:"checkbox",fn:it(()=>[Wo(ut("input",{"onUpdate:modelValue":me[14]||(me[14]=dt=>i.value=dt),value:_e.post.metadata.name,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",name:"post-checkbox",type:"checkbox"},null,8,fbe),[[bE,i.value]])]),key:"0"}:void 0,ht(e)(["system:posts:manage"])?{name:"dropdownItems",fn:it(()=>[Wo((zt(),oo(ht(tu),{block:"",type:"secondary",onClick:dt=>d(_e.post)},{default:it(()=>[Ko(" 设置 ")]),_:2},1032,["onClick"])),[[Ue]]),Wo((zt(),oo(ht(tu),{block:"",type:"danger",onClick:dt=>C(_e.post)},{default:it(()=>[Ko(" 删除 ")]),_:2},1032,["onClick"])),[[Ue]])]),key:"1"}:void 0]),1032,["is-selected"])]))),128))])]),_:1})):(zt(),oo($E,{key:1,appear:"",name:"fade"},{default:it(()=>[Tt(ht(Obe),{message:"你可以尝试刷新或者新建文章",title:"当前没有文章"},{actions:it(()=>[Tt(ht(df),null,{default:it(()=>[Tt(ht(tu),{onClick:c},{default:it(()=>[Ko("刷新")]),_:1}),Wo((zt(),oo(ht(tu),{route:{name:"PostEditor"},type:"primary"},{icon:it(()=>[Tt(ht(_E),{class:"h-full w-full"})]),default:it(()=>[Ko(" 新建文章 ")]),_:1})),[[fe,["system:posts:manage"]]])]),_:1})]),_:1})]),_:1}))]),_:1})])],64)}}}),Ube=window.Vue.defineComponent,nn=window.Vue.unref,Xn=window.Vue.createVNode,Yl=window.Vue.createTextVNode,Jt=window.Vue.withCtx,b_=window.Vue.resolveDirective,fo=window.Vue.openBlock,ii=window.Vue.createBlock,nu=window.Vue.withDirectives,SE=window.Vue.vModelCheckbox,Us=window.Vue.createElementVNode,Xl=window.Vue.createElementBlock,PE=window.Vue.resolveComponent,jbe=window.Vue.withKeys,dg=window.Vue.toDisplayString,qy=window.Vue.createCommentVNode,zbe=window.Vue.normalizeClass,EE=window.Vue.Transition,ew=window.Vue.renderList,pg=window.Vue.Fragment,Gbe=window.Vue.createSlots,Wbe={class:"m-0 md:m-4"},Kbe={class:"block w-full bg-gray-50 px-4 py-3"},Ybe={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},Xbe={class:"mr-4 hidden items-center sm:flex"},Qbe={class:"flex w-full flex-1 items-center sm:w-auto"},Zbe={key:0,class:"flex items-center gap-2"},Jbe={class:"mt-4 flex sm:mt-0"},qbe={class:"flex flex-row gap-2"},e2e={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},t2e=["value"],n2e={key:0,class:"inline-flex flex-wrap gap-1 text-xs text-gray-500"},o2e={class:"text-xs text-gray-500"},a2e={class:"text-xs text-gray-500"},s2e={class:"truncate text-xs tabular-nums text-gray-500"},r2e={class:"bg-white sm:flex sm:items-center sm:justify-end"},i2e=window.HaloComponents.IconAddCircle,l2e=window.HaloComponents.IconDeleteBin,c2e=window.HaloComponents.IconRefreshLine,tw=window.HaloComponents.Dialog,Zu=window.HaloComponents.VButton,u2e=window.HaloComponents.VCard,d2e=window.HaloComponents.VEmpty,p2e=window.HaloComponents.VPageHeader,h2e=window.HaloComponents.VPagination,hf=window.HaloComponents.VSpace,f2e=window.HaloComponents.VAvatar,TE=window.HaloComponents.VStatusDot,m2e=window.HaloComponents.VEntity,hg=window.HaloComponents.VEntityField,g2e=window.HaloComponents.VLoading,nw=window.HaloComponents.Toast,v2e=window.Vue.onMounted,ff=window.Vue.ref,y2e=window.Vue.watch,w2e=window.VueRouter.onBeforeRouteLeave,b2e=Ube({__name:"DeletedPostList",setup(t){const{currentUserHasPermission:e}=To(),n=ff({page:1,size:50,total:0,items:[],first:!0,last:!1,hasNext:!1,hasPrevious:!1,totalPages:0}),o=ff(!1),a=ff(!1),s=ff([]),r=ff(),i=ff(""),l=async b=>{try{clearInterval(r.value),o.value=!0,b&&(n.value.page=b);const{data:C}=await X.post.listPosts({labelSelector:["content.halo.run/deleted=true"],page:n.value.page,size:n.value.size,keyword:i.value});n.value=C,n.value.items.filter(_=>!!_.post.metadata.deletionTimestamp||!_.post.spec.deleted).length&&(r.value=setInterval(()=>{l()},3e3))}catch(C){console.error("Failed to fetch deleted posts",C)}finally{o.value=!1}};w2e(()=>{clearInterval(r.value)});const c=({page:b,size:C})=>{n.value.page=b,n.value.size=C,l()},u=b=>s.value.includes(b.metadata.name),d=b=>{const{checked:C}=b.target;C?s.value=n.value.items.map(V=>V.post.metadata.name)||[]:s.value=[]},p=async b=>{tw.warning({title:"确定要永久删除该文章吗？",description:"删除之后将无法恢复",confirmType:"danger",onConfirm:async()=>{await X.extension.post.deletecontentHaloRunV1alpha1Post({name:b.metadata.name}),await l(),nw.success("删除成功")}})},f=async()=>{tw.warning({title:"确定要永久删除选中的文章吗？",description:"删除之后将无法恢复",confirmType:"danger",onConfirm:async()=>{await Promise.all(s.value.map(b=>X.extension.post.deletecontentHaloRunV1alpha1Post({name:b}))),await l(),s.value=[],nw.success("删除成功")}})},g=async b=>{tw.warning({title:"确定要恢复该文章吗？",description:"该操作会将文章恢复到被删除之前的状态",onConfirm:async()=>{const C=ot(b);C.spec.deleted=!1,await X.extension.post.updatecontentHaloRunV1alpha1Post({name:C.metadata.name,post:C}),await l(),nw.success("恢复成功")}})},v=async()=>{tw.warning({title:"确定要恢复选中的文章吗？",description:"该操作会将文章恢复到被删除之前的状态",onConfirm:async()=>{await Promise.all(s.value.map(b=>{var V;const C=(V=n.value.items.find(_=>_.post.metadata.name===b))==null?void 0:V.post;return C?(C.spec.deleted=!1,X.extension.post.updatecontentHaloRunV1alpha1Post({name:C.metadata.name,post:C})):Promise.resolve()})),await l(),s.value=[],nw.success("恢复成功")}})};y2e(s,b=>{var C;a.value=b.length===((C=n.value.items)==null?void 0:C.length)}),v2e(()=>{l()});function y(){const b=Ti("keywordInput");b&&(i.value=b._value),l(1)}function w(){i.value="",l(1)}return(b,C)=>{const V=PE("FormKit"),_=PE("RouterLink"),x=b_("permission"),S=b_("tooltip"),P=b_("close-popper");return fo(),Xl(pg,null,[Xn(nn(p2e),{title:"文章回收站"},{icon:Jt(()=>[Xn(nn(l2e),{class:"mr-2 self-center text-green-600"})]),actions:Jt(()=>[Xn(nn(hf),null,{default:Jt(()=>[Xn(nn(Zu),{route:{name:"Posts"},size:"sm"},{default:Jt(()=>[Yl("返回")]),_:1}),nu((fo(),ii(nn(Zu),{route:{name:"PostEditor"},type:"secondary"},{icon:Jt(()=>[Xn(nn(i2e),{class:"h-full w-full"})]),default:Jt(()=>[Yl(" 新建 ")]),_:1})),[[x,["system:posts:manage"]]])]),_:1})]),_:1}),Us("div",Wbe,[Xn(nn(u2e),{"body-class":["!p-0"]},{header:Jt(()=>[Us("div",Kbe,[Us("div",Ybe,[nu((fo(),Xl("div",Xbe,[nu(Us("input",{"onUpdate:modelValue":C[0]||(C[0]=E=>a.value=E),class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onChange:d},null,544),[[SE,a.value]])])),[[x,["system:posts:manage"]]]),Us("div",Qbe,[s.value.length?(fo(),ii(nn(hf),{key:1},{default:Jt(()=>[Xn(nn(Zu),{type:"danger",onClick:f},{default:Jt(()=>[Yl(" 永久删除 ")]),_:1}),Xn(nn(Zu),{type:"default",onClick:v},{default:Jt(()=>[Yl(" 恢复 ")]),_:1})]),_:1})):(fo(),Xl("div",Zbe,[Xn(V,{id:"keywordInput","outer-class":"!p-0",placeholder:"输入关键词搜索",type:"text",name:"keyword","model-value":i.value,onKeyup:jbe(y,["enter"])},null,8,["model-value","onKeyup"]),i.value?(fo(),ii(Gn,{key:0,onClose:C[1]||(C[1]=E=>w())},{default:Jt(()=>[Yl(" 关键词："+dg(i.value),1)]),_:1})):qy("",!0)]))]),Us("div",Jbe,[Xn(nn(hf),{spacing:"lg"},{default:Jt(()=>[Us("div",qbe,[Us("div",{class:"group cursor-pointer rounded p-1 hover:bg-gray-200",onClick:C[2]||(C[2]=E=>l())},[Xn(nn(c2e),{class:zbe([{"animate-spin text-gray-900":o.value},"h-4 w-4 text-gray-600 group-hover:text-gray-900"])},null,8,["class"])])])]),_:1})])])])]),footer:Jt(()=>[Us("div",r2e,[Xn(nn(h2e),{page:n.value.page,size:n.value.size,total:n.value.total,"size-options":[20,30,50,100],onChange:c},null,8,["page","size","total"])])]),default:Jt(()=>[o.value?(fo(),ii(nn(g2e),{key:0})):n.value.items.length?(fo(),ii(EE,{key:2,appear:"",name:"fade"},{default:Jt(()=>[Us("ul",e2e,[(fo(!0),Xl(pg,null,ew(n.value.items,(E,O)=>(fo(),Xl("li",{key:O},[Xn(nn(m2e),{"is-selected":u(E.post)},Gbe({start:Jt(()=>[Xn(nn(hg),{title:E.post.spec.title,width:"27rem"},{extra:Jt(()=>[Xn(nn(hf),{class:"mt-1 sm:mt-0"},{default:Jt(()=>[(fo(!0),Xl(pg,null,ew(E.tags,(I,F)=>(fo(),ii(Sh,{key:F,tag:I,route:""},null,8,["tag"]))),128))]),_:2},1024)]),description:Jt(()=>[Xn(nn(hf),{class:"flex-wrap !gap-y-1"},{default:Jt(()=>[E.categories.length?(fo(),Xl("p",n2e,[Yl(" 分类："),(fo(!0),Xl(pg,null,ew(E.categories,(I,F)=>(fo(),Xl("span",{key:F,class:"cursor-pointer hover:text-gray-900"},dg(I.spec.displayName),1))),128))])):qy("",!0),Us("span",o2e," 访问量 "+dg(E.stats.visit||0),1),Us("span",a2e," 评论 "+dg(E.stats.totalComment||0),1)]),_:2},1024)]),_:2},1032,["title"])]),end:Jt(()=>{var I,F;return[Xn(nn(hg),null,{description:Jt(()=>[(fo(!0),Xl(pg,null,ew(E.contributors,(L,H)=>(fo(),ii(_,{key:H,to:{name:"UserDetail",params:{name:L.name}},class:"flex items-center"},{default:Jt(()=>[nu(Xn(nn(f2e),{size:"xs",src:L.avatar,alt:L.displayName,circle:""},null,8,["src","alt"]),[[S,L.displayName]])]),_:2},1032,["to"]))),128))]),_:2},1024),(I=E==null?void 0:E.post)!=null&&I.spec.deleted?qy("",!0):(fo(),ii(nn(hg),{key:0},{description:Jt(()=>[nu(Xn(nn(TE),{state:"success",animate:""},null,512),[[S,"恢复中"]])]),_:1})),(F=E==null?void 0:E.post)!=null&&F.metadata.deletionTimestamp?(fo(),ii(nn(hg),{key:1},{description:Jt(()=>[nu(Xn(nn(TE),{state:"warning",animate:""},null,512),[[S,"删除中"]])]),_:1})):qy("",!0),Xn(nn(hg),null,{description:Jt(()=>[Us("span",s2e,dg(nn(Ma)(E.post.spec.publishTime)),1)]),_:2},1024)]}),_:2},[nn(e)(["system:posts:manage"])?{name:"checkbox",fn:Jt(()=>[nu(Us("input",{"onUpdate:modelValue":C[3]||(C[3]=I=>s.value=I),value:E.post.metadata.name,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",name:"post-checkbox",type:"checkbox"},null,8,t2e),[[SE,s.value]])]),key:"0"}:void 0,nn(e)(["system:posts:manage"])?{name:"dropdownItems",fn:Jt(()=>[nu((fo(),ii(nn(Zu),{block:"",type:"danger",onClick:I=>p(E.post)},{default:Jt(()=>[Yl(" 永久删除 ")]),_:2},1032,["onClick"])),[[P]]),nu((fo(),ii(nn(Zu),{block:"",type:"default",onClick:I=>g(E.post)},{default:Jt(()=>[Yl(" 恢复 ")]),_:2},1032,["onClick"])),[[P]])]),key:"1"}:void 0]),1032,["is-selected"])]))),128))])]),_:1})):(fo(),ii(EE,{key:1,appear:"",name:"fade"},{default:Jt(()=>[Xn(nn(d2e),{message:"你可以尝试刷新或者返回文章管理",title:"没有文章被放入回收站"},{actions:Jt(()=>[Xn(nn(hf),null,{default:Jt(()=>[Xn(nn(Zu),{onClick:l},{default:Jt(()=>[Yl("刷新")]),_:1}),Xn(nn(Zu),{route:{name:"Posts"},type:"primary"},{default:Jt(()=>[Yl(" 返回 ")]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})])],64)}}}),$2e=window.Vue.defineComponent,RE=window.Vue.unref,x2e=window.Vue.createVNode,$_=window.Vue.createElementVNode,OE=window.Vue.openBlock,_2e=window.Vue.createElementBlock,V2e=window.Vue.createCommentVNode,kE=window.Vue.withCtx,C2e=window.Vue.createBlock,S2e={href:"https://halo.run/archives/halo-154-released.html",target:"_blank"},P2e={class:"flex h-full items-center justify-center"},E2e={key:0,class:"h-full w-full border-none transition-all duration-300",src:"https://halo.run/archives/halo-154-released.html"},T2e=window.HaloComponents.VModal,R2e=window.HaloComponents.IconLink,gD=$2e({__name:"PostPreviewModal",props:{visible:{type:Boolean,default:!1},post:{default:null}},emits:["update:visible","close"],setup(t,{emit:e}){const n=o=>{e("update:visible",o),o||e("close")};return(o,a)=>(OE(),C2e(RE(T2e),{"body-class":["!p-0"],visible:t.visible,fullscreen:"",title:"文章预览","onUpdate:visible":n},{actions:kE(()=>[$_("span",null,[$_("a",S2e,[x2e(RE(R2e))])])]),default:kE(()=>[$_("div",P2e,[t.visible?(OE(),_2e("iframe",E2e)):V2e("",!0)])]),_:1},8,["visible"]))}}),O2e=window.VueUse.useLocalStorage,AE=window.HaloComponents.Toast;function vD(t,e,n){const o=O2e(t,[]),a=()=>{if(e){const i=o.value.find(l=>l.name===e);i&&(AE.info("已从缓存中恢复未保存的内容"),n.value=i.content)}else{const i=o.value.find(l=>l.name===""&&l.content);i&&(AE.info("已从缓存中恢复未保存的内容"),n.value=i.content)}},s=XM(()=>{if(e){const i=o.value.find(l=>l.name===e);i?i.content=n==null?void 0:n.value:o.value.push({name:e,content:n==null?void 0:n.value})}else{const i=o.value.find(l=>l.name==="");i?i.content=n==null?void 0:n.value:o.value.push({name:"",content:n==null?void 0:n.value})}},500);return{handleClearCache:i=>{if(i){const l=o.value.findIndex(c=>c.name===i);l>-1&&o.value.splice(l,1)}else{const l=o.value.findIndex(c=>c.name==="");l>-1&&o.value.splice(l,1)}},handleResetCache:a,handleSetContentCache:s}}const k2e="modulepreload",A2e=function(t){return"/console/"+t},IE={},yD=function(e,n,o){if(!n||n.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=A2e(s),s in IE)return;IE[s]=!0;const r=s.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(!!o)for(let u=a.length-1;u>=0;u--){const d=a[u];if(d.href===s&&(!r||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":k2e,r||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),r)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},I2e="/console/assets/logo-4027558e.png",M2e=window.Vue.onMounted,F2e=window.Vue.ref,D2e=window.Vue.defineAsyncComponent,N2e=window.HaloComponents.VLoading;function DS(){const{pluginModules:t}=PS(),e=F2e([{name:"default",displayName:"默认编辑器",component:D2e({loader:()=>yD(()=>import("./DefaultEditor-e5ed3d15.js"),[]),loadingComponent:N2e,delay:200}),rawType:"HTML",logo:I2e}]);return M2e(()=>{t.forEach(n=>{const{extensionPoints:o}=n;if(!(o!=null&&o["editor:create"]))return;const a=o["editor:create"]();a&&a.forEach(s=>{var r;e.value.push({...s,logo:(r=n.extension.status)==null?void 0:r.logo})})})}),{editorProviders:e}}const H2e=window.Vue.defineComponent,fg=window.Vue.unref,ow=window.Vue.openBlock,ME=window.Vue.createBlock,B2e=window.Vue.createCommentVNode,FE=window.Vue.toDisplayString,aw=window.Vue.createElementVNode,x_=window.Vue.createVNode,L2e=window.Vue.renderList,U2e=window.Vue.Fragment,DE=window.Vue.createElementBlock,NE=window.Vue.normalizeClass,j2e=window.Vue.resolveDirective,z2e=window.Vue.withDirectives,__=window.Vue.withCtx,G2e=window.Vue.resolveComponent,W2e={class:"group flex w-full cursor-pointer items-center gap-2 rounded p-1 hover:bg-gray-100"},K2e={class:"select-none text-sm text-gray-600 group-hover:text-gray-900"},Y2e={class:"w-48 p-2"},X2e=["onClick"],HE=window.HaloComponents.VAvatar,Q2e=window.HaloComponents.VSpace,Z2e=window.HaloComponents.IconExchange,wD=H2e({__name:"EditorProviderSelector",props:{provider:{default:void 0}},emits:["select"],setup(t,{emit:e}){const{editorProviders:n}=DS();return(o,a)=>{const s=G2e("FloatingDropdown"),r=j2e("close-popper");return ow(),ME(s,null,{popper:__(()=>[aw("div",Y2e,[x_(fg(Q2e),{class:"w-full",direction:"column"},{default:__(()=>[(ow(!0),DE(U2e,null,L2e(fg(n),(i,l)=>{var c,u;return z2e((ow(),DE("div",{key:l,class:NE(["group flex w-full cursor-pointer items-center gap-2 rounded p-1 hover:bg-gray-100",{"bg-gray-100":i.name===((c=t.provider)==null?void 0:c.name)}]),onClick:d=>e("select",i)},[x_(fg(HE),{src:i.logo,size:"xs"},null,8,["src"]),aw("div",{class:NE(["text-sm text-gray-600 group-hover:text-gray-900",{"text-gray-900":i.name===((u=t.provider)==null?void 0:u.name)}])},FE(i.displayName),3)],10,X2e)),[[r]])}),128))]),_:1})])]),default:__(()=>{var i,l;return[aw("div",W2e,[(i=t.provider)!=null&&i.logo?(ow(),ME(fg(HE),{key:0,src:t.provider.logo,size:"xs"},null,8,["src"])):B2e("",!0),aw("div",K2e,FE((l=t.provider)==null?void 0:l.displayName),1),x_(fg(Z2e),{class:"h-4 w-4 text-gray-600 group-hover:text-gray-900"})])]}),_:1})}}}),J2e=window.Vue.defineComponent,hs=window.Vue.unref,Ql=window.Vue.createVNode,sw=window.Vue.openBlock,V_=window.Vue.createBlock,rw=window.Vue.createCommentVNode,C_=window.Vue.createTextVNode,ou=window.Vue.withCtx,q2e=window.Vue.resolveDynamicComponent,e$e=window.Vue.createElementVNode,t$e=window.Vue.Fragment,n$e=window.Vue.createElementBlock,o$e={class:"editor border-t",style:{height:"calc(100vh - 3.5rem)"}},a$e=window.HaloComponents.IconBookRead,s$e=window.HaloComponents.IconSave,r$e=window.HaloComponents.IconSettings,i$e=window.HaloComponents.IconSendPlaneFill,S_=window.HaloComponents.VButton,l$e=window.HaloComponents.VPageHeader,c$e=window.HaloComponents.VSpace,iw=window.HaloComponents.Toast,u$e=window.HaloComponents.Dialog,lw=window.Vue.computed,d$e=window.Vue.nextTick,p$e=window.Vue.onMounted,P_=window.Vue.provide,mf=window.Vue.ref,h$e=window.Vue.toRef,BE=window.VueUse.useRouteQuery,f$e=window.VueRouter.useRouter,m$e=window.VueUse.useLocalStorage,g$e=J2e({__name:"PostEditor",setup(t){const e=f$e(),{editorProviders:n}=DS(),o=mf(),a=m$e("editor-provider-name",""),s=E=>{o.value=E,a.value=E.name,i.value.post.metadata.annotations={"content.halo.run/preferred-editor":E.name}},r={post:{spec:{title:"",slug:"",template:"",cover:"",deleted:!1,publish:!1,publishTime:"",pinned:!1,allowComment:!0,visible:"PUBLIC",priority:0,excerpt:{autoGenerate:!0,raw:""},categories:[],tags:[],htmlMetas:[]},apiVersion:"content.halo.run/v1alpha1",kind:"Post",metadata:{name:w0(),annotations:{}}},content:{raw:"",content:"",rawType:"HTML"}},i=mf(ot(r)),l=mf(!1),c=mf(!1),u=mf(!1),d=mf(!1),p=lw(()=>!!i.value.post.metadata.creationTimestamp);P_("owner",lw(()=>i.value.post.spec.owner)),P_("publishTime",lw(()=>i.value.post.spec.publishTime)),P_("permalink",lw(()=>{var E;return(E=i.value.post.status)==null?void 0:E.permalink}));const f=async()=>{try{if(u.value=!0,i.value.post.spec.title||(i.value.post.spec.title="无标题文章"),i.value.post.spec.slug||(i.value.post.spec.slug=new Date().getTime().toString()),p.value){const{data:E}=await X.post.updatePostContent({name:i.value.post.metadata.name,content:i.value.content});i.value.post=E}else{const{data:E}=await X.post.draftPost({postRequest:i.value});i.value.post=E,_.value=E.metadata.name}iw.success("保存成功"),P(_.value),await w()}catch(E){console.error("Failed to save post",E),iw.error("保存失败，请重试")}finally{u.value=!1}},g=BE("returnToView"),v=async()=>{try{if(d.value=!0,p.value){const{name:E}=i.value.post.metadata,{permalink:O}=i.value.post.status||{};await X.post.updatePostContent({name:E,content:i.value.content}),await X.post.publishPost({name:E}),g.value==="true"&&O?window.location.href=O:e.push({name:"Posts"})}else{const{data:E}=await X.post.draftPost({postRequest:i.value});await X.post.publishPost({name:E.metadata.name}),e.push({name:"Posts"})}iw.success("发布成功",{duration:2e3}),P(_.value)}catch(E){console.error("Failed to publish post",E),iw.error("发布失败，请重试")}finally{d.value=!1}},y=()=>{p.value?v():l.value=!0},w=async()=>{if(!i.value.post.spec.headSnapshot)return;const{data:E}=await X.content.obtainSnapshotContent({snapshotName:i.value.post.spec.headSnapshot});if(!o.value){const I=n.value.find(F=>{var L;return F.name===((L=i.value.post.metadata.annotations)==null?void 0:L["content.halo.run/preferred-editor"])})||n.value.find(F=>F.rawType===E.rawType);if(I){o.value=I,i.value.post.metadata.annotations={...i.value.post.metadata.annotations,"content.halo.run/preferred-editor":I.name};const{data:F}=await X.extension.post.updatecontentHaloRunV1alpha1Post({name:i.value.post.metadata.name,post:i.value.post});i.value.post=F}else u$e.warning({title:"警告",description:`未找到符合 ${E.rawType} 格式的编辑器，请检查是否已安装编辑器插件`,onConfirm:()=>{e.back()}});await d$e()}i.value.content=Object.assign(i.value.content,E)},b=async()=>{const{data:E}=await X.extension.post.getcontentHaloRunV1alpha1Post({name:i.value.post.metadata.name});i.value.post=E,l.value=!0},C=E=>{p.value||(_.value=E.metadata.name),i.value.post=E,l.value=!1,p.value||f()},V=E=>{i.value.post=E,l.value=!1,v()},_=BE("name");p$e(async()=>{if(_.value){const{data:E}=await X.extension.post.getcontentHaloRunV1alpha1Post({name:_.value});i.value.post=E,await w()}else{const E=n.value.find(O=>O.name===a.value)||n.value[0];E&&(o.value=E,i.value.content.rawType=E.rawType),i.value.post.metadata.annotations={"content.halo.run/preferred-editor":E.name}}S()});const{handleSetContentCache:x,handleResetCache:S,handleClearCache:P}=vD("post-content-cache",_.value,h$e(i.value.content,"raw"));return(E,O)=>(sw(),n$e(t$e,null,[Ql(fD,{visible:l.value,"onUpdate:visible":O[0]||(O[0]=I=>l.value=I),post:i.value.post,"publish-support":!hs(p),"only-emit":!hs(p),onSaved:C,onPublished:V},null,8,["visible","post","publish-support","only-emit"]),Ql(gD,{visible:c.value,"onUpdate:visible":O[1]||(O[1]=I=>c.value=I),post:i.value.post},null,8,["visible","post"]),Ql(hs(l$e),{title:"文章"},{icon:ou(()=>[Ql(hs(a$e),{class:"mr-2 self-center"})]),actions:ou(()=>[Ql(hs(c$e),null,{default:ou(()=>[hs(n).length>1&&!hs(p)?(sw(),V_(wD,{key:0,provider:o.value,onSelect:s},null,8,["provider"])):rw("",!0),rw("",!0),Ql(hs(S_),{loading:u.value,size:"sm",type:"default",onClick:f},{icon:ou(()=>[Ql(hs(s$e),{class:"h-full w-full"})]),default:ou(()=>[C_(" 保存 ")]),_:1},8,["loading"]),hs(p)?(sw(),V_(hs(S_),{key:2,size:"sm",type:"default",onClick:b},{icon:ou(()=>[Ql(hs(r$e),{class:"h-full w-full"})]),default:ou(()=>[C_(" 设置 ")]),_:1})):rw("",!0),Ql(hs(S_),{type:"secondary",loading:d.value,onClick:y},{icon:ou(()=>[Ql(hs(i$e),{class:"h-full w-full"})]),default:ou(()=>[C_(" 发布 ")]),_:1},8,["loading"])]),_:1})]),_:1}),e$e("div",o$e,[o.value?(sw(),V_(q2e(o.value.component),{key:0,raw:i.value.content.raw,"onUpdate:raw":O[3]||(O[3]=I=>i.value.content.raw=I),content:i.value.content.content,"onUpdate:content":O[4]||(O[4]=I=>i.value.content.content=I),class:"h-full",onUpdate:hs(x)},null,40,["raw","content","onUpdate"])):rw("",!0)])],64))}}),v$e=window.Vue.defineComponent,gf=window.Vue.unref,Ir=window.Vue.createElementVNode,y$e=window.Vue.resolveComponent,au=window.Vue.createVNode,mg=window.Vue.withCtx,E_=window.Vue.openBlock,T_=window.Vue.createBlock,w$e=window.Vue.createCommentVNode,b$e=window.Vue.createTextVNode,$$e={class:"md:grid md:grid-cols-4 md:gap-6"},x$e=Ir("div",{class:"md:col-span-1"},[Ir("div",{class:"sticky top-0"},[Ir("span",{class:"text-base font-medium text-gray-900"}," 常规 ")])],-1),_$e={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},V$e=Ir("div",{class:"py-5"},[Ir("div",{class:"border-t border-gray-200"})],-1),C$e={class:"md:grid md:grid-cols-4 md:gap-6"},S$e=Ir("div",{class:"md:col-span-1"},[Ir("div",{class:"sticky top-0"},[Ir("span",{class:"text-base font-medium text-gray-900"}," 元数据 ")])],-1),P$e={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},LE=window.Vue.computed,E$e=window.Vue.nextTick,R_=window.Vue.ref,UE=window.Vue.watch,T$e=window.HaloComponents.Toast,R$e=window.HaloComponents.VButton,O$e=window.HaloComponents.VModal,k$e=window.HaloComponents.VSpace,A$e=v$e({__name:"CategoryEditingModal",props:{visible:{type:Boolean,default:!1},category:{default:null}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o={spec:{displayName:"",slug:"",description:"",cover:"",template:"",priority:0,children:[]},status:{},apiVersion:"content.halo.run/v1alpha1",kind:"Category",metadata:{name:"",generateName:"category-",type:""}},a=R_(ot(o)),s=R_(!1),r=LE(()=>!!a.value.metadata.creationTimestamp),i=LE(()=>r.value?"编辑文章分类":"新增文章分类"),l=R_(),c=async()=>{var w;(w=l.value)==null||w.handleSubmit(),await E$e();const{customAnnotations:f,annotations:g,customFormInvalid:v,specFormInvalid:y}=l.value||{};if(!(v||y)){a.value.metadata.annotations={...g,...f};try{s.value=!0,r.value?await X.extension.category.updatecontentHaloRunV1alpha1Category({name:a.value.metadata.name,category:a.value}):await X.extension.category.createcontentHaloRunV1alpha1Category({category:a.value}),u(!1),T$e.success("保存成功")}catch(b){console.error("Failed to create category",b)}finally{s.value=!1}}},u=f=>{e("update:visible",f),f||e("close")},d=()=>{a.value=ot(o),tr("category-form")};UE(()=>n.visible,f=>{f?Ps("displayNameInput"):d()}),UE(()=>n.category,f=>{f?a.value=ot(f):d()});const{templates:p}=IS("category");return(f,g)=>{const v=y$e("FormKit");return E_(),T_(gf(O$e),{title:gf(i),visible:t.visible,width:700,"onUpdate:visible":u},{footer:mg(()=>[au(gf(k$e),null,{default:mg(()=>[t.visible?(E_(),T_(Vl,{key:0,loading:s.value,type:"secondary",onSubmit:g[6]||(g[6]=y=>f.$formkit.submit("category-form"))},null,8,["loading"])):w$e("",!0),au(gf(R$e),{onClick:g[7]||(g[7]=y=>u(!1))},{default:mg(()=>[b$e("取消 Esc")]),_:1})]),_:1})]),default:mg(()=>[au(v,{id:"category-form",type:"form",name:"category-form",config:{validationVisibility:"submit"},onSubmit:c},{default:mg(()=>[Ir("div",null,[Ir("div",$$e,[x$e,Ir("div",_$e,[au(v,{id:"displayNameInput",modelValue:a.value.spec.displayName,"onUpdate:modelValue":g[0]||(g[0]=y=>a.value.spec.displayName=y),name:"displayName",label:"名称",type:"text",validation:"required|length:0,50"},null,8,["modelValue"]),au(v,{modelValue:a.value.spec.slug,"onUpdate:modelValue":g[1]||(g[1]=y=>a.value.spec.slug=y),help:"通常作为分类访问地址标识",name:"slug",label:"别名",type:"text",validation:"required|length:0,50"},null,8,["modelValue"]),au(v,{modelValue:a.value.metadata.type,"onUpdate:modelValue":g[2]||(g[2]=y=>a.value.metadata.type=y),help:"类型区分",name:"type",label:"类型",type:"select",options:gf($$)},null,8,["modelValue","options"]),au(v,{modelValue:a.value.spec.template,"onUpdate:modelValue":g[3]||(g[3]=y=>a.value.spec.template=y),options:gf(p),label:"自定义模板",type:"select",name:"template"},null,8,["modelValue","options"]),au(v,{modelValue:a.value.spec.cover,"onUpdate:modelValue":g[4]||(g[4]=y=>a.value.spec.cover=y),help:"需要主题适配以支持",name:"cover",label:"封面图",type:"attachment",validation:"length:0,1024"},null,8,["modelValue"]),au(v,{modelValue:a.value.spec.description,"onUpdate:modelValue":g[5]||(g[5]=y=>a.value.spec.description=y),name:"description",help:"需要主题适配以支持",label:"描述",type:"textarea",validation:"length:0,200"},null,8,["modelValue"])])])])]),_:1}),V$e,Ir("div",C$e,[S$e,Ir("div",P$e,[(E_(),T_(Ym,{key:a.value.metadata.name,ref_key:"annotationsFormRef",ref:l,value:a.value.metadata.annotations,kind:"Category",group:"content.halo.run"},null,8,["value"]))])])]),_:1},8,["title","visible"])}}});var l4={},I$e={get exports(){return l4},set exports(t){l4=t}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function jE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function Rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(n),!0).forEach(function(o){M$e(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Vb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vb=function(e){return typeof e}:Vb=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function M$e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ei(){return Ei=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ei.apply(this,arguments)}function F$e(t,e){if(t==null)return{};var n={},o=Object.keys(t),a,s;for(s=0;s<o.length;s++)a=o[s],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function D$e(t,e){if(t==null)return{};var n=F$e(t,e),o,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)o=s[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function N$e(t){return H$e(t)||B$e(t)||L$e(t)||U$e()}function H$e(t){if(Array.isArray(t))return c4(t)}function B$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L$e(t,e){if(t){if(typeof t=="string")return c4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c4(t,e)}}function c4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function U$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j$e="1.14.0";function Iu(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Bu=Iu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),R0=Iu(/Edge/i),zE=Iu(/firefox/i),Kv=Iu(/safari/i)&&!Iu(/chrome/i)&&!Iu(/android/i),bD=Iu(/iP(ad|od|hone)/i),z$e=Iu(/chrome/i)&&Iu(/android/i),$D={capture:!1,passive:!1};function Zt(t,e,n){t.addEventListener(e,n,!Bu&&$D)}function Kt(t,e,n){t.removeEventListener(e,n,!Bu&&$D)}function P2(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function G$e(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function dl(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&P2(t,e):P2(t,e))||o&&t===n)return t;if(t===n)break}while(t=G$e(t))}return null}var GE=/\s+/g;function co(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(GE," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(GE," ")}}function st(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function yh(t,e){var n="";if(typeof t=="string")n=t;else do{var o=st(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function xD(t,e,n){if(t){var o=t.getElementsByTagName(e),a=0,s=o.length;if(n)for(;a<s;a++)n(o[a],a);return o}return[]}function Vc(){var t=document.scrollingElement;return t||document.documentElement}function eo(t,e,n,o,a){if(!(!t.getBoundingClientRect&&t!==window)){var s,r,i,l,c,u,d;if(t!==window&&t.parentNode&&t!==Vc()?(s=t.getBoundingClientRect(),r=s.top,i=s.left,l=s.bottom,c=s.right,u=s.height,d=s.width):(r=0,i=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(a=a||t.parentNode,!Bu))do if(a&&a.getBoundingClientRect&&(st(a,"transform")!=="none"||n&&st(a,"position")!=="static")){var p=a.getBoundingClientRect();r-=p.top+parseInt(st(a,"border-top-width")),i-=p.left+parseInt(st(a,"border-left-width")),l=r+s.height,c=i+s.width;break}while(a=a.parentNode);if(o&&t!==window){var f=yh(a||t),g=f&&f.a,v=f&&f.d;f&&(r/=v,i/=g,d/=g,u/=v,l=r+u,c=i+d)}return{top:r,left:i,bottom:l,right:c,width:d,height:u}}}function WE(t,e,n){for(var o=Td(t,!0),a=eo(t)[e];o;){var s=eo(o)[n],r=void 0;if(n==="top"||n==="left"?r=a>=s:r=a<=s,!r)return o;if(o===Vc())break;o=Td(o,!1)}return!1}function Nm(t,e,n,o){for(var a=0,s=0,r=t.children;s<r.length;){if(r[s].style.display!=="none"&&r[s]!==_t.ghost&&(o||r[s]!==_t.dragged)&&dl(r[s],n.draggable,t,!1)){if(a===e)return r[s];a++}s++}return null}function NS(t,e){for(var n=t.lastElementChild;n&&(n===_t.ghost||st(n,"display")==="none"||e&&!P2(n,e));)n=n.previousElementSibling;return n||null}function $o(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==_t.clone&&(!e||P2(t,e))&&n++;return n}function KE(t){var e=0,n=0,o=Vc();if(t)do{var a=yh(t),s=a.a,r=a.d;e+=t.scrollLeft*s,n+=t.scrollTop*r}while(t!==o&&(t=t.parentNode));return[e,n]}function W$e(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function Td(t,e){if(!t||!t.getBoundingClientRect)return Vc();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=st(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Vc();if(o||e)return n;o=!0}}while(n=n.parentNode);return Vc()}function K$e(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function O_(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Yv;function _D(t,e){return function(){if(!Yv){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),Yv=setTimeout(function(){Yv=void 0},e)}}}function Y$e(){clearTimeout(Yv),Yv=void 0}function VD(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function HS(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function YE(t,e){st(t,"position","absolute"),st(t,"top",e.top),st(t,"left",e.left),st(t,"width",e.width),st(t,"height",e.height)}function k_(t){st(t,"position",""),st(t,"top",""),st(t,"left",""),st(t,"width",""),st(t,"height","")}var es="Sortable"+new Date().getTime();function X$e(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(st(a,"display")==="none"||a===_t.ghost)){t.push({target:a,rect:eo(a)});var s=Rc({},t[t.length-1].rect);if(a.thisAnimationDuration){var r=yh(a,!0);r&&(s.top-=r.f,s.left-=r.e)}a.fromRect=s}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(W$e(t,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var s=!1,r=0;t.forEach(function(i){var l=0,c=i.target,u=c.fromRect,d=eo(c),p=c.prevFromRect,f=c.prevToRect,g=i.rect,v=yh(c,!0);v&&(d.top-=v.f,d.left-=v.e),c.toRect=d,c.thisAnimationDuration&&O_(p,d)&&!O_(u,d)&&(g.top-d.top)/(g.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=Z$e(g,p,f,a.options)),O_(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=a.options.animation),a.animate(c,g,d,l)),l&&(s=!0,r=Math.max(r,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),t=[]},animate:function(o,a,s,r){if(r){st(o,"transition",""),st(o,"transform","");var i=yh(this.el),l=i&&i.a,c=i&&i.d,u=(a.left-s.left)/(l||1),d=(a.top-s.top)/(c||1);o.animatingX=!!u,o.animatingY=!!d,st(o,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=Q$e(o),st(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),st(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){st(o,"transition",""),st(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function Q$e(t){return t.offsetWidth}function Z$e(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var vf=[],A_={initializeByDefault:!0},O0={mount:function(e){for(var n in A_)A_.hasOwnProperty(n)&&!(n in e)&&(e[n]=A_[n]);vf.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),vf.push(e)},pluginEvent:function(e,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var s=e+"Global";vf.forEach(function(r){n[r.pluginName]&&(n[r.pluginName][s]&&n[r.pluginName][s](Rc({sortable:n},o)),n.options[r.pluginName]&&n[r.pluginName][e]&&n[r.pluginName][e](Rc({sortable:n},o)))})},initializePlugins:function(e,n,o,a){vf.forEach(function(i){var l=i.pluginName;if(!(!e.options[l]&&!i.initializeByDefault)){var c=new i(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,Ei(o,c.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var r=this.modifyOption(e,s,e.options[s]);typeof r<"u"&&(e.options[s]=r)}},getEventProperties:function(e,n){var o={};return vf.forEach(function(a){typeof a.eventProperties=="function"&&Ei(o,a.eventProperties.call(n[a.pluginName],e))}),o},modifyOption:function(e,n,o){var a;return vf.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(a=s.optionListeners[n].call(e[s.pluginName],o))}),a}};function Sv(t){var e=t.sortable,n=t.rootEl,o=t.name,a=t.targetEl,s=t.cloneEl,r=t.toEl,i=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,p=t.originalEvent,f=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[es],!!e){var v,y=e.options,w="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Bu&&!R0?v=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(o,!0,!0)),v.to=r||n,v.from=i||n,v.item=a||n,v.clone=s,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=d,v.originalEvent=p,v.pullMode=f?f.lastPutMode:void 0;var b=Rc(Rc({},g),O0.getEventProperties(o,e));for(var C in b)v[C]=b[C];n&&n.dispatchEvent(v),y[w]&&y[w].call(e,v)}}var J$e=["evt"],js=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,s=D$e(o,J$e);O0.pluginEvent.bind(_t)(e,n,Rc({dragEl:Le,parentEl:yo,ghostEl:Mt,rootEl:qn,nextEl:th,lastDownEl:Cb,cloneEl:wo,cloneHidden:Cd,dragStarted:Pv,putSortable:Oa,activeSortable:_t.active,originalEvent:a,oldIndex:vm,oldDraggableIndex:Xv,newIndex:Tr,newDraggableIndex:_d,hideGhostForTarget:ED,unhideGhostForTarget:TD,cloneNowHidden:function(){Cd=!0},cloneNowShown:function(){Cd=!1},dispatchSortableEvent:function(i){$s({sortable:n,name:i,originalEvent:a})}},s))};function $s(t){Sv(Rc({putSortable:Oa,cloneEl:wo,targetEl:Le,rootEl:qn,oldIndex:vm,oldDraggableIndex:Xv,newIndex:Tr,newDraggableIndex:_d},t))}var Le,yo,Mt,qn,th,Cb,wo,Cd,vm,Tr,Xv,_d,cw,Oa,um=!1,E2=!1,T2=[],Sp,Yi,I_,M_,XE,QE,Pv,yf,Qv,Zv=!1,uw=!1,Sb,Ga,F_=[],u4=!1,R2=[],x$=typeof document<"u",dw=bD,ZE=R0||Bu?"cssFloat":"float",q$e=x$&&!z$e&&!bD&&"draggable"in document.createElement("div"),CD=function(){if(x$){if(Bu)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),SD=function(e,n){var o=st(e),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=Nm(e,0,n),r=Nm(e,1,n),i=s&&st(s),l=r&&st(r),c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+eo(s).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+eo(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&i.float&&i.float!=="none"){var d=i.float==="left"?"left":"right";return r&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||c>=a&&o[ZE]==="none"||r&&o[ZE]==="none"&&c+u>a)?"vertical":"horizontal"},e5e=function(e,n,o){var a=o?e.left:e.top,s=o?e.right:e.bottom,r=o?e.width:e.height,i=o?n.left:n.top,l=o?n.right:n.bottom,c=o?n.width:n.height;return a===i||s===l||a+r/2===i+c/2},t5e=function(e,n){var o;return T2.some(function(a){var s=a[es].options.emptyInsertThreshold;if(!(!s||NS(a))){var r=eo(a),i=e>=r.left-s&&e<=r.right+s,l=n>=r.top-s&&n<=r.bottom+s;if(i&&l)return o=a}}),o},PD=function(e){function n(s,r){return function(i,l,c,u){var d=i.options.group.name&&l.options.group.name&&i.options.group.name===l.options.group.name;if(s==null&&(r||d))return!0;if(s==null||s===!1)return!1;if(r&&s==="clone")return s;if(typeof s=="function")return n(s(i,l,c,u),r)(i,l,c,u);var p=(r?i:l).options.group.name;return s===!0||typeof s=="string"&&s===p||s.join&&s.indexOf(p)>-1}}var o={},a=e.group;(!a||Vb(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,e.group=o},ED=function(){!CD&&Mt&&st(Mt,"display","none")},TD=function(){!CD&&Mt&&st(Mt,"display","")};x$&&document.addEventListener("click",function(t){if(E2)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),E2=!1,!1},!0);var Pp=function(e){if(Le){e=e.touches?e.touches[0]:e;var n=t5e(e.clientX,e.clientY);if(n){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[es]._onDragOver(o)}}},n5e=function(e){Le&&Le.parentNode[es]._isOutsideThisEl(e.target)};function _t(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ei({},e),t[es]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return SD(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,i){r.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_t.supportPointer!==!1&&"PointerEvent"in window&&!Kv,emptyInsertThreshold:5};O0.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);PD(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:q$e,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Zt(t,"pointerdown",this._onTapStart):(Zt(t,"mousedown",this._onTapStart),Zt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Zt(t,"dragover",this),Zt(t,"dragenter",this)),T2.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ei(this,X$e())}_t.prototype={constructor:_t,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(yf=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Le):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,a=this.options,s=a.preventOnFilter,r=e.type,i=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(i||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=a.filter;if(u5e(o),!Le&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Kv&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=dl(l,a.draggable,o,!1),!(l&&l.animated)&&Cb!==l)){if(vm=$o(l),Xv=$o(l,a.draggable),typeof u=="function"){if(u.call(this,e,l,this)){$s({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:o,fromEl:o}),js("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=dl(c,d.trim(),o,!1),d)return $s({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:o,toEl:o}),js("filter",n,{evt:e}),!0}),u)){s&&e.cancelable&&e.preventDefault();return}a.handle&&!dl(c,a.handle,o,!1)||this._prepareDragStart(e,i,l)}}},_prepareDragStart:function(e,n,o){var a=this,s=a.el,r=a.options,i=s.ownerDocument,l;if(o&&!Le&&o.parentNode===s){var c=eo(o);if(qn=s,Le=o,yo=Le.parentNode,th=Le.nextSibling,Cb=o,cw=r.group,_t.dragged=Le,Sp={target:Le,clientX:(n||e).clientX,clientY:(n||e).clientY},XE=Sp.clientX-c.left,QE=Sp.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Le.style["will-change"]="all",l=function(){if(js("delayEnded",a,{evt:e}),_t.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!zE&&a.nativeDraggable&&(Le.draggable=!0),a._triggerDragStart(e,n),$s({sortable:a,name:"choose",originalEvent:e}),co(Le,r.chosenClass,!0)},r.ignore.split(",").forEach(function(u){xD(Le,u.trim(),D_)}),Zt(i,"dragover",Pp),Zt(i,"mousemove",Pp),Zt(i,"touchmove",Pp),Zt(i,"mouseup",a._onDrop),Zt(i,"touchend",a._onDrop),Zt(i,"touchcancel",a._onDrop),zE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Le.draggable=!0),js("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(R0||Bu))){if(_t.eventCanceled){this._onDrop();return}Zt(i,"mouseup",a._disableDelayedDrag),Zt(i,"touchend",a._disableDelayedDrag),Zt(i,"touchcancel",a._disableDelayedDrag),Zt(i,"mousemove",a._delayedDragTouchMoveHandler),Zt(i,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&Zt(i,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(l,r.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Le&&D_(Le),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Kt(e,"mouseup",this._disableDelayedDrag),Kt(e,"touchend",this._disableDelayedDrag),Kt(e,"touchcancel",this._disableDelayedDrag),Kt(e,"mousemove",this._delayedDragTouchMoveHandler),Kt(e,"touchmove",this._delayedDragTouchMoveHandler),Kt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Zt(document,"pointermove",this._onTouchMove):n?Zt(document,"touchmove",this._onTouchMove):Zt(document,"mousemove",this._onTouchMove):(Zt(Le,"dragend",this),Zt(qn,"dragstart",this._onDragStart));try{document.selection?Pb(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(um=!1,qn&&Le){js("dragStarted",this,{evt:n}),this.nativeDraggable&&Zt(document,"dragover",n5e);var o=this.options;!e&&co(Le,o.dragClass,!1),co(Le,o.ghostClass,!0),_t.active=this,e&&this._appendGhost(),$s({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Yi){this._lastX=Yi.clientX,this._lastY=Yi.clientY,ED();for(var e=document.elementFromPoint(Yi.clientX,Yi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Yi.clientX,Yi.clientY),e!==n);)n=e;if(Le.parentNode[es]._isOutsideThisEl(e),n)do{if(n[es]){var o=void 0;if(o=n[es]._onDragOver({clientX:Yi.clientX,clientY:Yi.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);TD()}},_onTouchMove:function(e){if(Sp){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,s=e.touches?e.touches[0]:e,r=Mt&&yh(Mt,!0),i=Mt&&r&&r.a,l=Mt&&r&&r.d,c=dw&&Ga&&KE(Ga),u=(s.clientX-Sp.clientX+a.x)/(i||1)+(c?c[0]-F_[0]:0)/(i||1),d=(s.clientY-Sp.clientY+a.y)/(l||1)+(c?c[1]-F_[1]:0)/(l||1);if(!_t.active&&!um){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(Mt){r?(r.e+=u-(I_||0),r.f+=d-(M_||0)):r={a:1,b:0,c:0,d:1,e:u,f:d};var p="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");st(Mt,"webkitTransform",p),st(Mt,"mozTransform",p),st(Mt,"msTransform",p),st(Mt,"transform",p),I_=u,M_=d,Yi=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Mt){var e=this.options.fallbackOnBody?document.body:qn,n=eo(Le,!0,dw,!0,e),o=this.options;if(dw){for(Ga=e;st(Ga,"position")==="static"&&st(Ga,"transform")==="none"&&Ga!==document;)Ga=Ga.parentNode;Ga!==document.body&&Ga!==document.documentElement?(Ga===document&&(Ga=Vc()),n.top+=Ga.scrollTop,n.left+=Ga.scrollLeft):Ga=Vc(),F_=KE(Ga)}Mt=Le.cloneNode(!0),co(Mt,o.ghostClass,!1),co(Mt,o.fallbackClass,!0),co(Mt,o.dragClass,!0),st(Mt,"transition",""),st(Mt,"transform",""),st(Mt,"box-sizing","border-box"),st(Mt,"margin",0),st(Mt,"top",n.top),st(Mt,"left",n.left),st(Mt,"width",n.width),st(Mt,"height",n.height),st(Mt,"opacity","0.8"),st(Mt,"position",dw?"absolute":"fixed"),st(Mt,"zIndex","100000"),st(Mt,"pointerEvents","none"),_t.ghost=Mt,e.appendChild(Mt),st(Mt,"transform-origin",XE/parseInt(Mt.style.width)*100+"% "+QE/parseInt(Mt.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,a=e.dataTransfer,s=o.options;if(js("dragStart",this,{evt:e}),_t.eventCanceled){this._onDrop();return}js("setupClone",this),_t.eventCanceled||(wo=HS(Le),wo.draggable=!1,wo.style["will-change"]="",this._hideClone(),co(wo,this.options.chosenClass,!1),_t.clone=wo),o.cloneId=Pb(function(){js("clone",o),!_t.eventCanceled&&(o.options.removeCloneOnHide||qn.insertBefore(wo,Le),o._hideClone(),$s({sortable:o,name:"clone"}))}),!n&&co(Le,s.dragClass,!0),n?(E2=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Kt(document,"mouseup",o._onDrop),Kt(document,"touchend",o._onDrop),Kt(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(o,a,Le)),Zt(document,"drop",o),st(Le,"transform","translateZ(0)")),um=!0,o._dragStartId=Pb(o._dragStarted.bind(o,n,e)),Zt(document,"selectstart",o),Pv=!0,Kv&&st(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,a,s,r,i=this.options,l=i.group,c=_t.active,u=cw===l,d=i.sort,p=Oa||c,f,g=this,v=!1;if(u4)return;function y(q,ye){js(q,g,Rc({evt:e,isOwner:u,axis:f?"vertical":"horizontal",revert:r,dragRect:a,targetRect:s,canSort:d,fromSortable:p,target:o,completed:b,onMove:function(oe,pe){return pw(qn,n,Le,a,oe,eo(oe),e,pe)},changed:C},ye))}function w(){y("dragOverAnimationCapture"),g.captureAnimationState(),g!==p&&p.captureAnimationState()}function b(q){return y("dragOverCompleted",{insertion:q}),q&&(u?c._hideClone():c._showClone(g),g!==p&&(co(Le,Oa?Oa.options.ghostClass:c.options.ghostClass,!1),co(Le,i.ghostClass,!0)),Oa!==g&&g!==_t.active?Oa=g:g===_t.active&&Oa&&(Oa=null),p===g&&(g._ignoreWhileAnimating=o),g.animateAll(function(){y("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(o===Le&&!Le.animated||o===n&&!o.animated)&&(yf=null),!i.dragoverBubble&&!e.rootEl&&o!==document&&(Le.parentNode[es]._isOutsideThisEl(e.target),!q&&Pp(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function C(){Tr=$o(Le),_d=$o(Le,i.draggable),$s({sortable:g,name:"change",toEl:n,newIndex:Tr,newDraggableIndex:_d,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=dl(o,i.draggable,n,!0),y("dragOver"),_t.eventCanceled)return v;if(Le.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||g._ignoreWhileAnimating===o)return b(!1);if(E2=!1,c&&!i.disabled&&(u?d||(r=yo!==qn):Oa===this||(this.lastPutMode=cw.checkPull(this,c,Le,e))&&l.checkPut(this,c,Le,e))){if(f=this._getDirection(e,o)==="vertical",a=eo(Le),y("dragOverValid"),_t.eventCanceled)return v;if(r)return yo=qn,w(),this._hideClone(),y("revert"),_t.eventCanceled||(th?qn.insertBefore(Le,th):qn.appendChild(Le)),b(!0);var V=NS(n,i.draggable);if(!V||r5e(e,f,this)&&!V.animated){if(V===Le)return b(!1);if(V&&n===e.target&&(o=V),o&&(s=eo(o)),pw(qn,n,Le,a,o,s,e,!!o)!==!1)return w(),n.appendChild(Le),yo=n,C(),b(!0)}else if(V&&s5e(e,f,this)){var _=Nm(n,0,i,!0);if(_===Le)return b(!1);if(o=_,s=eo(o),pw(qn,n,Le,a,o,s,e,!1)!==!1)return w(),n.insertBefore(Le,_),yo=n,C(),b(!0)}else if(o.parentNode===n){s=eo(o);var x=0,S,P=Le.parentNode!==n,E=!e5e(Le.animated&&Le.toRect||a,o.animated&&o.toRect||s,f),O=f?"top":"left",I=WE(o,"top","top")||WE(Le,"top","top"),F=I?I.scrollTop:void 0;yf!==o&&(S=s[O],Zv=!1,uw=!E&&i.invertSwap||P),x=i5e(e,o,s,f,E?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,uw,yf===o);var L;if(x!==0){var H=$o(Le);do H-=x,L=yo.children[H];while(L&&(st(L,"display")==="none"||L===Mt))}if(x===0||L===o)return b(!1);yf=o,Qv=x;var W=o.nextElementSibling,Y=!1;Y=x===1;var U=pw(qn,n,Le,a,o,s,e,Y);if(U!==!1)return(U===1||U===-1)&&(Y=U===1),u4=!0,setTimeout(a5e,30),w(),Y&&!W?n.appendChild(Le):o.parentNode.insertBefore(Le,Y?W:o),I&&VD(I,0,F-I.scrollTop),yo=Le.parentNode,S!==void 0&&!uw&&(Sb=Math.abs(S-eo(o)[O])),C(),b(!0)}if(n.contains(Le))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Kt(document,"mousemove",this._onTouchMove),Kt(document,"touchmove",this._onTouchMove),Kt(document,"pointermove",this._onTouchMove),Kt(document,"dragover",Pp),Kt(document,"mousemove",Pp),Kt(document,"touchmove",Pp)},_offUpEvents:function(){var e=this.el.ownerDocument;Kt(e,"mouseup",this._onDrop),Kt(e,"touchend",this._onDrop),Kt(e,"pointerup",this._onDrop),Kt(e,"touchcancel",this._onDrop),Kt(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(Tr=$o(Le),_d=$o(Le,o.draggable),js("drop",this,{evt:e}),yo=Le&&Le.parentNode,Tr=$o(Le),_d=$o(Le,o.draggable),_t.eventCanceled){this._nulling();return}um=!1,uw=!1,Zv=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),d4(this.cloneId),d4(this._dragStartId),this.nativeDraggable&&(Kt(document,"drop",this),Kt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Kv&&st(document.body,"user-select",""),st(Le,"transform",""),e&&(Pv&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),Mt&&Mt.parentNode&&Mt.parentNode.removeChild(Mt),(qn===yo||Oa&&Oa.lastPutMode!=="clone")&&wo&&wo.parentNode&&wo.parentNode.removeChild(wo),Le&&(this.nativeDraggable&&Kt(Le,"dragend",this),D_(Le),Le.style["will-change"]="",Pv&&!um&&co(Le,Oa?Oa.options.ghostClass:this.options.ghostClass,!1),co(Le,this.options.chosenClass,!1),$s({sortable:this,name:"unchoose",toEl:yo,newIndex:null,newDraggableIndex:null,originalEvent:e}),qn!==yo?(Tr>=0&&($s({rootEl:yo,name:"add",toEl:yo,fromEl:qn,originalEvent:e}),$s({sortable:this,name:"remove",toEl:yo,originalEvent:e}),$s({rootEl:yo,name:"sort",toEl:yo,fromEl:qn,originalEvent:e}),$s({sortable:this,name:"sort",toEl:yo,originalEvent:e})),Oa&&Oa.save()):Tr!==vm&&Tr>=0&&($s({sortable:this,name:"update",toEl:yo,originalEvent:e}),$s({sortable:this,name:"sort",toEl:yo,originalEvent:e})),_t.active&&((Tr==null||Tr===-1)&&(Tr=vm,_d=Xv),$s({sortable:this,name:"end",toEl:yo,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){js("nulling",this),qn=Le=yo=Mt=th=wo=Cb=Cd=Sp=Yi=Pv=Tr=_d=vm=Xv=yf=Qv=Oa=cw=_t.dragged=_t.ghost=_t.clone=_t.active=null,R2.forEach(function(e){e.checked=!0}),R2.length=I_=M_=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Le&&(this._onDragOver(e),o5e(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,a=0,s=o.length,r=this.options;a<s;a++)n=o[a],dl(n,r.draggable,this.el,!1)&&e.push(n.getAttribute(r.dataIdAttr)||c5e(n));return e},sort:function(e,n){var o={},a=this.el;this.toArray().forEach(function(s,r){var i=a.children[r];dl(i,this.options.draggable,a,!1)&&(o[s]=i)},this),n&&this.captureAnimationState(),e.forEach(function(s){o[s]&&(a.removeChild(o[s]),a.appendChild(o[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return dl(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var a=O0.modifyOption(this,e,n);typeof a<"u"?o[e]=a:o[e]=n,e==="group"&&PD(o)},destroy:function(){js("destroy",this);var e=this.el;e[es]=null,Kt(e,"mousedown",this._onTapStart),Kt(e,"touchstart",this._onTapStart),Kt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Kt(e,"dragover",this),Kt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),T2.splice(T2.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Cd){if(js("hideClone",this),_t.eventCanceled)return;st(wo,"display","none"),this.options.removeCloneOnHide&&wo.parentNode&&wo.parentNode.removeChild(wo),Cd=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Cd){if(js("showClone",this),_t.eventCanceled)return;Le.parentNode==qn&&!this.options.group.revertClone?qn.insertBefore(wo,Le):th?qn.insertBefore(wo,th):qn.appendChild(wo),this.options.group.revertClone&&this.animate(Le,wo),st(wo,"display",""),Cd=!1}}};function o5e(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function pw(t,e,n,o,a,s,r,i){var l,c=t[es],u=c.options.onMove,d;return window.CustomEvent&&!Bu&&!R0?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=a||e,l.relatedRect=s||eo(e),l.willInsertAfter=i,l.originalEvent=r,t.dispatchEvent(l),u&&(d=u.call(c,l,r)),d}function D_(t){t.draggable=!1}function a5e(){u4=!1}function s5e(t,e,n){var o=eo(Nm(n.el,0,n.options,!0)),a=10;return e?t.clientX<o.left-a||t.clientY<o.top&&t.clientX<o.right:t.clientY<o.top-a||t.clientY<o.bottom&&t.clientX<o.left}function r5e(t,e,n){var o=eo(NS(n.el,n.options.draggable)),a=10;return e?t.clientX>o.right+a||t.clientX<=o.right&&t.clientY>o.bottom&&t.clientX>=o.left:t.clientX>o.right&&t.clientY>o.top||t.clientX<=o.right&&t.clientY>o.bottom+a}function i5e(t,e,n,o,a,s,r,i){var l=o?t.clientY:t.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,p=!1;if(!r){if(i&&Sb<c*a){if(!Zv&&(Qv===1?l>u+c*s/2:l<d-c*s/2)&&(Zv=!0),Zv)p=!0;else if(Qv===1?l<u+Sb:l>d-Sb)return-Qv}else if(l>u+c*(1-a)/2&&l<d-c*(1-a)/2)return l5e(e)}return p=p||r,p&&(l<u+c*s/2||l>d-c*s/2)?l>u+c/2?1:-1:0}function l5e(t){return $o(Le)<$o(t)?1:-1}function c5e(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function u5e(t){R2.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&R2.push(o)}}function Pb(t){return setTimeout(t,0)}function d4(t){return clearTimeout(t)}x$&&Zt(document,"touchmove",function(t){(_t.active||um)&&t.cancelable&&t.preventDefault()});_t.utils={on:Zt,off:Kt,css:st,find:xD,is:function(e,n){return!!dl(e,n,e,!1)},extend:K$e,throttle:_D,closest:dl,toggleClass:co,clone:HS,index:$o,nextTick:Pb,cancelNextTick:d4,detectDirection:SD,getChild:Nm};_t.get=function(t){return t[es]};_t.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(_t.utils=Rc(Rc({},_t.utils),o.utils)),O0.mount(o)})};_t.create=function(t,e){return new _t(t,e)};_t.version=j$e;var Fo=[],Ev,p4,h4=!1,N_,H_,O2,Tv;function d5e(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Zt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Zt(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Zt(document,"touchmove",this._handleFallbackAutoScroll):Zt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Kt(document,"dragover",this._handleAutoScroll):(Kt(document,"pointermove",this._handleFallbackAutoScroll),Kt(document,"touchmove",this._handleFallbackAutoScroll),Kt(document,"mousemove",this._handleFallbackAutoScroll)),JE(),Eb(),Y$e()},nulling:function(){O2=p4=Ev=h4=Tv=N_=H_=null,Fo.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,s=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,i=document.elementFromPoint(s,r);if(O2=n,o||this.options.forceAutoScrollFallback||R0||Bu||Kv){B_(n,this.options,i,o);var l=Td(i,!0);h4&&(!Tv||s!==N_||r!==H_)&&(Tv&&JE(),Tv=setInterval(function(){var c=Td(document.elementFromPoint(s,r),!0);c!==l&&(l=c,Eb()),B_(n,a.options,c,o)},10),N_=s,H_=r)}else{if(!this.options.bubbleScroll||Td(i,!0)===Vc()){Eb();return}B_(n,this.options,Td(i,!1),!1)}}},Ei(t,{pluginName:"scroll",initializeByDefault:!0})}function Eb(){Fo.forEach(function(t){clearInterval(t.pid)}),Fo=[]}function JE(){clearInterval(Tv)}var B_=_D(function(t,e,n,o){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,r=e.scrollSensitivity,i=e.scrollSpeed,l=Vc(),c=!1,u;p4!==n&&(p4=n,Eb(),Ev=e.scroll,u=e.scrollFn,Ev===!0&&(Ev=Td(n,!0)));var d=0,p=Ev;do{var f=p,g=eo(f),v=g.top,y=g.bottom,w=g.left,b=g.right,C=g.width,V=g.height,_=void 0,x=void 0,S=f.scrollWidth,P=f.scrollHeight,E=st(f),O=f.scrollLeft,I=f.scrollTop;f===l?(_=C<S&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),x=V<P&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(_=C<S&&(E.overflowX==="auto"||E.overflowX==="scroll"),x=V<P&&(E.overflowY==="auto"||E.overflowY==="scroll"));var F=_&&(Math.abs(b-a)<=r&&O+C<S)-(Math.abs(w-a)<=r&&!!O),L=x&&(Math.abs(y-s)<=r&&I+V<P)-(Math.abs(v-s)<=r&&!!I);if(!Fo[d])for(var H=0;H<=d;H++)Fo[H]||(Fo[H]={});(Fo[d].vx!=F||Fo[d].vy!=L||Fo[d].el!==f)&&(Fo[d].el=f,Fo[d].vx=F,Fo[d].vy=L,clearInterval(Fo[d].pid),(F!=0||L!=0)&&(c=!0,Fo[d].pid=setInterval(function(){o&&this.layer===0&&_t.active._onTouchMove(O2);var W=Fo[this.layer].vy?Fo[this.layer].vy*i:0,Y=Fo[this.layer].vx?Fo[this.layer].vx*i:0;typeof u=="function"&&u.call(_t.dragged.parentNode[es],Y,W,t,O2,Fo[this.layer].el)!=="continue"||VD(Fo[this.layer].el,Y,W)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&p!==l&&(p=Td(p,!1)));h4=c}},30),RD=function(e){var n=e.originalEvent,o=e.putSortable,a=e.dragEl,s=e.activeSortable,r=e.dispatchSortableEvent,i=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=o||s;i();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(r("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function BS(){}BS.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Nm(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:RD};Ei(BS,{pluginName:"revertOnSpill"});function LS(){}LS.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:RD};Ei(LS,{pluginName:"removeOnSpill"});var li;function p5e(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var o=n.dragEl;li=o},dragOverValid:function(n){var o=n.completed,a=n.target,s=n.onMove,r=n.activeSortable,i=n.changed,l=n.cancel;if(r.options.swap){var c=this.sortable.el,u=this.options;if(a&&a!==c){var d=li;s(a)!==!1?(co(a,u.swapClass,!0),li=a):li=null,d&&d!==li&&co(d,u.swapClass,!1)}i(),o(!0),l()}},drop:function(n){var o=n.activeSortable,a=n.putSortable,s=n.dragEl,r=a||this.sortable,i=this.options;li&&co(li,i.swapClass,!1),li&&(i.swap||a&&a.options.swap)&&s!==li&&(r.captureAnimationState(),r!==o&&o.captureAnimationState(),h5e(s,li),r.animateAll(),r!==o&&o.animateAll())},nulling:function(){li=null}},Ei(t,{pluginName:"swap",eventProperties:function(){return{swapItem:li}}})}function h5e(t,e){var n=t.parentNode,o=e.parentNode,a,s;!n||!o||n.isEqualNode(e)||o.isEqualNode(t)||(a=$o(t),s=$o(e),n.isEqualNode(o)&&a<s&&s++,n.insertBefore(e,n.children[a]),o.insertBefore(t,o.children[s]))}var At=[],Pr=[],gg,Xi,vg=!1,zs=!1,wf=!1,zn,yg,hw;function f5e(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Zt(document,"pointerup",this._deselectMultiDrag):(Zt(document,"mouseup",this._deselectMultiDrag),Zt(document,"touchend",this._deselectMultiDrag)),Zt(document,"keydown",this._checkKeyDown),Zt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,s){var r="";At.length&&Xi===e?At.forEach(function(i,l){r+=(l?", ":"")+i.textContent}):r=s.textContent,a.setData("Text",r)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var o=n.dragEl;zn=o},delayEnded:function(){this.isMultiDrag=~At.indexOf(zn)},setupClone:function(n){var o=n.sortable,a=n.cancel;if(this.isMultiDrag){for(var s=0;s<At.length;s++)Pr.push(HS(At[s])),Pr[s].sortableIndex=At[s].sortableIndex,Pr[s].draggable=!1,Pr[s].style["will-change"]="",co(Pr[s],this.options.selectedClass,!1),At[s]===zn&&co(Pr[s],this.options.chosenClass,!1);o._hideClone(),a()}},clone:function(n){var o=n.sortable,a=n.rootEl,s=n.dispatchSortableEvent,r=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||At.length&&Xi===o&&(qE(!0,a),s("clone"),r()))},showClone:function(n){var o=n.cloneNowShown,a=n.rootEl,s=n.cancel;this.isMultiDrag&&(qE(!1,a),Pr.forEach(function(r){st(r,"display","")}),o(),hw=!1,s())},hideClone:function(n){var o=this;n.sortable;var a=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(Pr.forEach(function(r){st(r,"display","none"),o.options.removeCloneOnHide&&r.parentNode&&r.parentNode.removeChild(r)}),a(),hw=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Xi&&Xi.multiDrag._deselectMultiDrag(),At.forEach(function(o){o.sortableIndex=$o(o)}),At=At.sort(function(o,a){return o.sortableIndex-a.sortableIndex}),wf=!0},dragStarted:function(n){var o=this,a=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){At.forEach(function(r){r!==zn&&st(r,"position","absolute")});var s=eo(zn,!1,!0,!0);At.forEach(function(r){r!==zn&&YE(r,s)}),zs=!0,vg=!0}a.animateAll(function(){zs=!1,vg=!1,o.options.animation&&At.forEach(function(r){k_(r)}),o.options.sort&&fw()})}},dragOver:function(n){var o=n.target,a=n.completed,s=n.cancel;zs&&~At.indexOf(o)&&(a(!1),s())},revert:function(n){var o=n.fromSortable,a=n.rootEl,s=n.sortable,r=n.dragRect;At.length>1&&(At.forEach(function(i){s.addAnimationState({target:i,rect:zs?eo(i):r}),k_(i),i.fromRect=r,o.removeAnimationState(i)}),zs=!1,m5e(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(n){var o=n.sortable,a=n.isOwner,s=n.insertion,r=n.activeSortable,i=n.parentEl,l=n.putSortable,c=this.options;if(s){if(a&&r._hideClone(),vg=!1,c.animation&&At.length>1&&(zs||!a&&!r.options.sort&&!l)){var u=eo(zn,!1,!0,!0);At.forEach(function(p){p!==zn&&(YE(p,u),i.appendChild(p))}),zs=!0}if(!a)if(zs||fw(),At.length>1){var d=hw;r._showClone(o),r.options.animation&&!hw&&d&&Pr.forEach(function(p){r.addAnimationState({target:p,rect:yg}),p.fromRect=yg,p.thisAnimationDuration=null})}else r._showClone(o)}},dragOverAnimationCapture:function(n){var o=n.dragRect,a=n.isOwner,s=n.activeSortable;if(At.forEach(function(i){i.thisAnimationDuration=null}),s.options.animation&&!a&&s.multiDrag.isMultiDrag){yg=Ei({},o);var r=yh(zn,!0);yg.top-=r.f,yg.left-=r.e}},dragOverAnimationComplete:function(){zs&&(zs=!1,fw())},drop:function(n){var o=n.originalEvent,a=n.rootEl,s=n.parentEl,r=n.sortable,i=n.dispatchSortableEvent,l=n.oldIndex,c=n.putSortable,u=c||this.sortable;if(o){var d=this.options,p=s.children;if(!wf)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),co(zn,d.selectedClass,!~At.indexOf(zn)),~At.indexOf(zn))At.splice(At.indexOf(zn),1),gg=null,Sv({sortable:r,rootEl:a,name:"deselect",targetEl:zn,originalEvt:o});else{if(At.push(zn),Sv({sortable:r,rootEl:a,name:"select",targetEl:zn,originalEvt:o}),o.shiftKey&&gg&&r.el.contains(gg)){var f=$o(gg),g=$o(zn);if(~f&&~g&&f!==g){var v,y;for(g>f?(y=f,v=g):(y=g,v=f+1);y<v;y++)~At.indexOf(p[y])||(co(p[y],d.selectedClass,!0),At.push(p[y]),Sv({sortable:r,rootEl:a,name:"select",targetEl:p[y],originalEvt:o}))}}else gg=zn;Xi=u}if(wf&&this.isMultiDrag){if(zs=!1,(s[es].options.sort||s!==a)&&At.length>1){var w=eo(zn),b=$o(zn,":not(."+this.options.selectedClass+")");if(!vg&&d.animation&&(zn.thisAnimationDuration=null),u.captureAnimationState(),!vg&&(d.animation&&(zn.fromRect=w,At.forEach(function(V){if(V.thisAnimationDuration=null,V!==zn){var _=zs?eo(V):w;V.fromRect=_,u.addAnimationState({target:V,rect:_})}})),fw(),At.forEach(function(V){p[b]?s.insertBefore(V,p[b]):s.appendChild(V),b++}),l===$o(zn))){var C=!1;At.forEach(function(V){if(V.sortableIndex!==$o(V)){C=!0;return}}),C&&i("update")}At.forEach(function(V){k_(V)}),u.animateAll()}Xi=u}(a===s||c&&c.lastPutMode!=="clone")&&Pr.forEach(function(V){V.parentNode&&V.parentNode.removeChild(V)})}},nullingGlobal:function(){this.isMultiDrag=wf=!1,Pr.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Kt(document,"pointerup",this._deselectMultiDrag),Kt(document,"mouseup",this._deselectMultiDrag),Kt(document,"touchend",this._deselectMultiDrag),Kt(document,"keydown",this._checkKeyDown),Kt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof wf<"u"&&wf)&&Xi===this.sortable&&!(n&&dl(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;At.length;){var o=At[0];co(o,this.options.selectedClass,!1),At.shift(),Sv({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ei(t,{pluginName:"multiDrag",utils:{select:function(n){var o=n.parentNode[es];!o||!o.options.multiDrag||~At.indexOf(n)||(Xi&&Xi!==o&&(Xi.multiDrag._deselectMultiDrag(),Xi=o),co(n,o.options.selectedClass,!0),At.push(n))},deselect:function(n){var o=n.parentNode[es],a=At.indexOf(n);!o||!o.options.multiDrag||!~a||(co(n,o.options.selectedClass,!1),At.splice(a,1))}},eventProperties:function(){var n=this,o=[],a=[];return At.forEach(function(s){o.push({multiDragElement:s,index:s.sortableIndex});var r;zs&&s!==zn?r=-1:zs?r=$o(s,":not(."+n.options.selectedClass+")"):r=$o(s),a.push({multiDragElement:s,index:r})}),{items:N$e(At),clones:[].concat(Pr),oldIndicies:o,newIndicies:a}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function m5e(t,e){At.forEach(function(n,o){var a=e.children[n.sortableIndex+(t?Number(o):0)];a?e.insertBefore(n,a):e.appendChild(n)})}function qE(t,e){Pr.forEach(function(n,o){var a=e.children[n.sortableIndex+(t?Number(o):0)];a?e.insertBefore(n,a):e.appendChild(n)})}function fw(){At.forEach(function(t){t!==zn&&t.parentNode&&t.parentNode.removeChild(t)})}_t.mount(new d5e);_t.mount(LS,BS);const g5e=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:f5e,Sortable:_t,Swap:p5e,default:_t},Symbol.toStringTag,{value:"Module"})),v5e=rA(g5e);(function(t,e){(function(o,a){t.exports=a(window.Vue,v5e)})(typeof self<"u"?self:En,function(n,o){return function(a){var s={};function r(i){if(s[i])return s[i].exports;var l=s[i]={i,l:!1,exports:{}};return a[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=a,r.c=s,r.d=function(i,l,c){r.o(i,l)||Object.defineProperty(i,l,{enumerable:!0,get:c})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,l){if(l&1&&(i=r(i)),l&8||l&4&&typeof i=="object"&&i&&i.__esModule)return i;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:i}),l&2&&typeof i!="string")for(var u in i)r.d(c,u,function(d){return i[d]}.bind(null,u));return c},r.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(l,"a",l),l},r.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},r.p="",r(r.s="fb15")}({"00ee":function(a,s,r){var i=r("b622"),l=i("toStringTag"),c={};c[l]="z",a.exports=String(c)==="[object z]"},"0366":function(a,s,r){var i=r("1c0b");a.exports=function(l,c,u){if(i(l),c===void 0)return l;switch(u){case 0:return function(){return l.call(c)};case 1:return function(d){return l.call(c,d)};case 2:return function(d,p){return l.call(c,d,p)};case 3:return function(d,p,f){return l.call(c,d,p,f)}}return function(){return l.apply(c,arguments)}}},"057f":function(a,s,r){var i=r("fc6a"),l=r("241c").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(p){try{return l(p)}catch{return u.slice()}};a.exports.f=function(f){return u&&c.call(f)=="[object Window]"?d(f):l(i(f))}},"06cf":function(a,s,r){var i=r("83ab"),l=r("d1e7"),c=r("5c6c"),u=r("fc6a"),d=r("c04e"),p=r("5135"),f=r("0cfb"),g=Object.getOwnPropertyDescriptor;s.f=i?g:function(y,w){if(y=u(y),w=d(w,!0),f)try{return g(y,w)}catch{}if(p(y,w))return c(!l.f.call(y,w),y[w])}},"0cfb":function(a,s,r){var i=r("83ab"),l=r("d039"),c=r("cc12");a.exports=!i&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,s,r){var i=r("23e7"),l=r("d58f").left,c=r("a640"),u=r("ae40"),d=c("reduce"),p=u("reduce",{1:0});i({target:"Array",proto:!0,forced:!d||!p},{reduce:function(g){return l(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,s,r){var i=r("c6b6"),l=r("9263");a.exports=function(c,u){var d=c.exec;if(typeof d=="function"){var p=d.call(c,u);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(i(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(c,u)}},"159b":function(a,s,r){var i=r("da84"),l=r("fdbc"),c=r("17c2"),u=r("9112");for(var d in l){var p=i[d],f=p&&p.prototype;if(f&&f.forEach!==c)try{u(f,"forEach",c)}catch{f.forEach=c}}},"17c2":function(a,s,r){var i=r("b727").forEach,l=r("a640"),c=r("ae40"),u=l("forEach"),d=c("forEach");a.exports=!u||!d?function(f){return i(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,s,r){var i=r("d066");a.exports=i("document","documentElement")},"1c0b":function(a,s){a.exports=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r}},"1c7e":function(a,s,r){var i=r("b622"),l=i("iterator"),c=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){c=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}a.exports=function(p,f){if(!f&&!c)return!1;var g=!1;try{var v={};v[l]=function(){return{next:function(){return{done:g=!0}}}},p(v)}catch{}return g}},"1d80":function(a,s){a.exports=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r}},"1dde":function(a,s,r){var i=r("d039"),l=r("b622"),c=r("2d00"),u=l("species");a.exports=function(d){return c>=51||!i(function(){var p=[],f=p.constructor={};return f[u]=function(){return{foo:1}},p[d](Boolean).foo!==1})}},"23cb":function(a,s,r){var i=r("a691"),l=Math.max,c=Math.min;a.exports=function(u,d){var p=i(u);return p<0?l(p+d,0):c(p,d)}},"23e7":function(a,s,r){var i=r("da84"),l=r("06cf").f,c=r("9112"),u=r("6eeb"),d=r("ce4e"),p=r("e893"),f=r("94ca");a.exports=function(g,v){var y=g.target,w=g.global,b=g.stat,C,V,_,x,S,P;if(w?V=i:b?V=i[y]||d(y,{}):V=(i[y]||{}).prototype,V)for(_ in v){if(S=v[_],g.noTargetGet?(P=l(V,_),x=P&&P.value):x=V[_],C=f(w?_:y+(b?".":"#")+_,g.forced),!C&&x!==void 0){if(typeof S==typeof x)continue;p(S,x)}(g.sham||x&&x.sham)&&c(S,"sham",!0),u(V,_,S,g)}}},"241c":function(a,s,r){var i=r("ca84"),l=r("7839"),c=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return i(d,c)}},"25f0":function(a,s,r){var i=r("6eeb"),l=r("825a"),c=r("d039"),u=r("ad6d"),d="toString",p=RegExp.prototype,f=p[d],g=c(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),v=f.name!=d;(g||v)&&i(RegExp.prototype,d,function(){var w=l(this),b=String(w.source),C=w.flags,V=String(C===void 0&&w instanceof RegExp&&!("flags"in p)?u.call(w):C);return"/"+b+"/"+V},{unsafe:!0})},"2ca0":function(a,s,r){var i=r("23e7"),l=r("06cf").f,c=r("50c4"),u=r("5a34"),d=r("1d80"),p=r("ab13"),f=r("c430"),g="".startsWith,v=Math.min,y=p("startsWith"),w=!f&&!y&&!!function(){var b=l(String.prototype,"startsWith");return b&&!b.writable}();i({target:"String",proto:!0,forced:!w&&!y},{startsWith:function(C){var V=String(d(this));u(C);var _=c(v(arguments.length>1?arguments[1]:void 0,V.length)),x=String(C);return g?g.call(V,x,_):V.slice(_,_+x.length)===x}})},"2d00":function(a,s,r){var i=r("da84"),l=r("342f"),c=i.process,u=c&&c.versions,d=u&&u.v8,p,f;d?(p=d.split("."),f=p[0]+p[1]):l&&(p=l.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=l.match(/Chrome\/(\d+)/),p&&(f=p[1]))),a.exports=f&&+f},"342f":function(a,s,r){var i=r("d066");a.exports=i("navigator","userAgent")||""},"35a1":function(a,s,r){var i=r("f5df"),l=r("3f8c"),c=r("b622"),u=c("iterator");a.exports=function(d){if(d!=null)return d[u]||d["@@iterator"]||l[i(d)]}},"37e8":function(a,s,r){var i=r("83ab"),l=r("9bf2"),c=r("825a"),u=r("df75");a.exports=i?Object.defineProperties:function(p,f){c(p);for(var g=u(f),v=g.length,y=0,w;v>y;)l.f(p,w=g[y++],f[w]);return p}},"3bbe":function(a,s,r){var i=r("861d");a.exports=function(l){if(!i(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(a,s,r){var i=r("6547").charAt,l=r("69f3"),c=r("7dd0"),u="String Iterator",d=l.set,p=l.getterFor(u);c(String,"String",function(f){d(this,{type:u,string:String(f),index:0})},function(){var g=p(this),v=g.string,y=g.index,w;return y>=v.length?{value:void 0,done:!0}:(w=i(v,y),g.index+=w.length,{value:w,done:!1})})},"3f8c":function(a,s){a.exports={}},4160:function(a,s,r){var i=r("23e7"),l=r("17c2");i({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(a,s,r){var i=r("da84");a.exports=i},"44ad":function(a,s,r){var i=r("d039"),l=r("c6b6"),c="".split;a.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return l(u)=="String"?c.call(u,""):Object(u)}:Object},"44d2":function(a,s,r){var i=r("b622"),l=r("7c73"),c=r("9bf2"),u=i("unscopables"),d=Array.prototype;d[u]==null&&c.f(d,u,{configurable:!0,value:l(null)}),a.exports=function(p){d[u][p]=!0}},"44e7":function(a,s,r){var i=r("861d"),l=r("c6b6"),c=r("b622"),u=c("match");a.exports=function(d){var p;return i(d)&&((p=d[u])!==void 0?!!p:l(d)=="RegExp")}},4930:function(a,s,r){var i=r("d039");a.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},"4d64":function(a,s,r){var i=r("fc6a"),l=r("50c4"),c=r("23cb"),u=function(d){return function(p,f,g){var v=i(p),y=l(v.length),w=c(g,y),b;if(d&&f!=f){for(;y>w;)if(b=v[w++],b!=b)return!0}else for(;y>w;w++)if((d||w in v)&&v[w]===f)return d||w||0;return!d&&-1}};a.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(a,s,r){var i=r("23e7"),l=r("b727").filter,c=r("1dde"),u=r("ae40"),d=c("filter"),p=u("filter");i({target:"Array",proto:!0,forced:!d||!p},{filter:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,s,r){var i=r("0366"),l=r("7b0b"),c=r("9bdd"),u=r("e95a"),d=r("50c4"),p=r("8418"),f=r("35a1");a.exports=function(v){var y=l(v),w=typeof this=="function"?this:Array,b=arguments.length,C=b>1?arguments[1]:void 0,V=C!==void 0,_=f(y),x=0,S,P,E,O,I,F;if(V&&(C=i(C,b>2?arguments[2]:void 0,2)),_!=null&&!(w==Array&&u(_)))for(O=_.call(y),I=O.next,P=new w;!(E=I.call(O)).done;x++)F=V?c(O,C,[E.value,x],!0):E.value,p(P,x,F);else for(S=d(y.length),P=new w(S);S>x;x++)F=V?C(y[x],x):y[x],p(P,x,F);return P.length=x,P}},"4fad":function(a,s,r){var i=r("23e7"),l=r("6f53").entries;i({target:"Object",stat:!0},{entries:function(u){return l(u)}})},"50c4":function(a,s,r){var i=r("a691"),l=Math.min;a.exports=function(c){return c>0?l(i(c),9007199254740991):0}},5135:function(a,s){var r={}.hasOwnProperty;a.exports=function(i,l){return r.call(i,l)}},5319:function(a,s,r){var i=r("d784"),l=r("825a"),c=r("7b0b"),u=r("50c4"),d=r("a691"),p=r("1d80"),f=r("8aa5"),g=r("14c3"),v=Math.max,y=Math.min,w=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,C=/\$([$&'`]|\d\d?)/g,V=function(_){return _===void 0?_:String(_)};i("replace",2,function(_,x,S,P){var E=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=P.REPLACE_KEEPS_$0,I=E?"$":"$0";return[function(H,W){var Y=p(this),U=H==null?void 0:H[_];return U!==void 0?U.call(H,Y,W):x.call(String(Y),H,W)},function(L,H){if(!E&&O||typeof H=="string"&&H.indexOf(I)===-1){var W=S(x,L,this,H);if(W.done)return W.value}var Y=l(L),U=String(this),q=typeof H=="function";q||(H=String(H));var ye=Y.global;if(ye){var we=Y.unicode;Y.lastIndex=0}for(var oe=[];;){var pe=g(Y,U);if(pe===null||(oe.push(pe),!ye))break;var he=String(pe[0]);he===""&&(Y.lastIndex=f(U,u(Y.lastIndex),we))}for(var Ne="",Se=0,qe=0;qe<oe.length;qe++){pe=oe[qe];for(var Ke=String(pe[0]),Z=v(y(d(pe.index),U.length),0),me=[],He=1;He<pe.length;He++)me.push(V(pe[He]));var Ie=pe.groups;if(q){var Ge=[Ke].concat(me,Z,U);Ie!==void 0&&Ge.push(Ie);var Fe=String(H.apply(void 0,Ge))}else Fe=F(Ke,U,Z,me,Ie,H);Z>=Se&&(Ne+=U.slice(Se,Z)+Fe,Se=Z+Ke.length)}return Ne+U.slice(Se)}];function F(L,H,W,Y,U,q){var ye=W+L.length,we=Y.length,oe=C;return U!==void 0&&(U=c(U),oe=b),x.call(q,oe,function(pe,he){var Ne;switch(he.charAt(0)){case"$":return"$";case"&":return L;case"`":return H.slice(0,W);case"'":return H.slice(ye);case"<":Ne=U[he.slice(1,-1)];break;default:var Se=+he;if(Se===0)return pe;if(Se>we){var qe=w(Se/10);return qe===0?pe:qe<=we?Y[qe-1]===void 0?he.charAt(1):Y[qe-1]+he.charAt(1):pe}Ne=Y[Se-1]}return Ne===void 0?"":Ne})}})},5692:function(a,s,r){var i=r("c430"),l=r("c6cd");(a.exports=function(c,u){return l[c]||(l[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,s,r){var i=r("d066"),l=r("241c"),c=r("7418"),u=r("825a");a.exports=i("Reflect","ownKeys")||function(p){var f=l.f(u(p)),g=c.f;return g?f.concat(g(p)):f}},"5a34":function(a,s,r){var i=r("44e7");a.exports=function(l){if(i(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(a,s){a.exports=function(r,i){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:i}}},"5db7":function(a,s,r){var i=r("23e7"),l=r("a2bf"),c=r("7b0b"),u=r("50c4"),d=r("1c0b"),p=r("65f0");i({target:"Array",proto:!0},{flatMap:function(g){var v=c(this),y=u(v.length),w;return d(g),w=p(v,0),w.length=l(w,v,v,y,0,1,g,arguments.length>1?arguments[1]:void 0),w}})},6547:function(a,s,r){var i=r("a691"),l=r("1d80"),c=function(u){return function(d,p){var f=String(l(d)),g=i(p),v=f.length,y,w;return g<0||g>=v?u?"":void 0:(y=f.charCodeAt(g),y<55296||y>56319||g+1===v||(w=f.charCodeAt(g+1))<56320||w>57343?u?f.charAt(g):y:u?f.slice(g,g+2):(y-55296<<10)+(w-56320)+65536)}};a.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(a,s,r){var i=r("861d"),l=r("e8b5"),c=r("b622"),u=c("species");a.exports=function(d,p){var f;return l(d)&&(f=d.constructor,typeof f=="function"&&(f===Array||l(f.prototype))?f=void 0:i(f)&&(f=f[u],f===null&&(f=void 0))),new(f===void 0?Array:f)(p===0?0:p)}},"69f3":function(a,s,r){var i=r("7f9a"),l=r("da84"),c=r("861d"),u=r("9112"),d=r("5135"),p=r("f772"),f=r("d012"),g=l.WeakMap,v,y,w,b=function(E){return w(E)?y(E):v(E,{})},C=function(E){return function(O){var I;if(!c(O)||(I=y(O)).type!==E)throw TypeError("Incompatible receiver, "+E+" required");return I}};if(i){var V=new g,_=V.get,x=V.has,S=V.set;v=function(E,O){return S.call(V,E,O),O},y=function(E){return _.call(V,E)||{}},w=function(E){return x.call(V,E)}}else{var P=p("state");f[P]=!0,v=function(E,O){return u(E,P,O),O},y=function(E){return d(E,P)?E[P]:{}},w=function(E){return d(E,P)}}a.exports={set:v,get:y,has:w,enforce:b,getterFor:C}},"6eeb":function(a,s,r){var i=r("da84"),l=r("9112"),c=r("5135"),u=r("ce4e"),d=r("8925"),p=r("69f3"),f=p.get,g=p.enforce,v=String(String).split("String");(a.exports=function(y,w,b,C){var V=C?!!C.unsafe:!1,_=C?!!C.enumerable:!1,x=C?!!C.noTargetGet:!1;if(typeof b=="function"&&(typeof w=="string"&&!c(b,"name")&&l(b,"name",w),g(b).source=v.join(typeof w=="string"?w:"")),y===i){_?y[w]=b:u(w,b);return}else V?!x&&y[w]&&(_=!0):delete y[w];_?y[w]=b:l(y,w,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d(this)})},"6f53":function(a,s,r){var i=r("83ab"),l=r("df75"),c=r("fc6a"),u=r("d1e7").f,d=function(p){return function(f){for(var g=c(f),v=l(g),y=v.length,w=0,b=[],C;y>w;)C=v[w++],(!i||u.call(g,C))&&b.push(p?[C,g[C]]:g[C]);return b}};a.exports={entries:d(!0),values:d(!1)}},"73d9":function(a,s,r){var i=r("44d2");i("flatMap")},7418:function(a,s){s.f=Object.getOwnPropertySymbols},"746f":function(a,s,r){var i=r("428f"),l=r("5135"),c=r("e538"),u=r("9bf2").f;a.exports=function(d){var p=i.Symbol||(i.Symbol={});l(p,d)||u(p,d,{value:c.f(d)})}},7839:function(a,s){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,s,r){var i=r("1d80");a.exports=function(l){return Object(i(l))}},"7c73":function(a,s,r){var i=r("825a"),l=r("37e8"),c=r("7839"),u=r("d012"),d=r("1be4"),p=r("cc12"),f=r("f772"),g=">",v="<",y="prototype",w="script",b=f("IE_PROTO"),C=function(){},V=function(E){return v+w+g+E+v+"/"+w+g},_=function(E){E.write(V("")),E.close();var O=E.parentWindow.Object;return E=null,O},x=function(){var E=p("iframe"),O="java"+w+":",I;return E.style.display="none",d.appendChild(E),E.src=String(O),I=E.contentWindow.document,I.open(),I.write(V("document.F=Object")),I.close(),I.F},S,P=function(){try{S=document.domain&&new ActiveXObject("htmlfile")}catch{}P=S?_(S):x();for(var E=c.length;E--;)delete P[y][c[E]];return P()};u[b]=!0,a.exports=Object.create||function(O,I){var F;return O!==null?(C[y]=i(O),F=new C,C[y]=null,F[b]=O):F=P(),I===void 0?F:l(F,I)}},"7dd0":function(a,s,r){var i=r("23e7"),l=r("9ed3"),c=r("e163"),u=r("d2bb"),d=r("d44e"),p=r("9112"),f=r("6eeb"),g=r("b622"),v=r("c430"),y=r("3f8c"),w=r("ae93"),b=w.IteratorPrototype,C=w.BUGGY_SAFARI_ITERATORS,V=g("iterator"),_="keys",x="values",S="entries",P=function(){return this};a.exports=function(E,O,I,F,L,H,W){l(I,O,F);var Y=function(qe){if(qe===L&&oe)return oe;if(!C&&qe in ye)return ye[qe];switch(qe){case _:return function(){return new I(this,qe)};case x:return function(){return new I(this,qe)};case S:return function(){return new I(this,qe)}}return function(){return new I(this)}},U=O+" Iterator",q=!1,ye=E.prototype,we=ye[V]||ye["@@iterator"]||L&&ye[L],oe=!C&&we||Y(L),pe=O=="Array"&&ye.entries||we,he,Ne,Se;if(pe&&(he=c(pe.call(new E)),b!==Object.prototype&&he.next&&(!v&&c(he)!==b&&(u?u(he,b):typeof he[V]!="function"&&p(he,V,P)),d(he,U,!0,!0),v&&(y[U]=P))),L==x&&we&&we.name!==x&&(q=!0,oe=function(){return we.call(this)}),(!v||W)&&ye[V]!==oe&&p(ye,V,oe),y[O]=oe,L)if(Ne={values:Y(x),keys:H?oe:Y(_),entries:Y(S)},W)for(Se in Ne)(C||q||!(Se in ye))&&f(ye,Se,Ne[Se]);else i({target:O,proto:!0,forced:C||q},Ne);return Ne}},"7f9a":function(a,s,r){var i=r("da84"),l=r("8925"),c=i.WeakMap;a.exports=typeof c=="function"&&/native code/.test(l(c))},"825a":function(a,s,r){var i=r("861d");a.exports=function(l){if(!i(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(a,s,r){var i=r("d039");a.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,s,r){var i=r("c04e"),l=r("9bf2"),c=r("5c6c");a.exports=function(u,d,p){var f=i(d);f in u?l.f(u,f,c(0,p)):u[f]=p}},"861d":function(a,s){a.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},8875:function(a,s,r){var i,l,c;(function(u,d){l=[],i=d,c=typeof i=="function"?i.apply(s,l):i,c!==void 0&&(a.exports=c)})(typeof self<"u"?self:this,function(){function u(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(S){var p=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,g=p.exec(S.stack)||f.exec(S.stack),v=g&&g[1]||!1,y=g&&g[2]||!1,w=document.location.href.replace(document.location.hash,""),b,C,V,_=document.getElementsByTagName("script");v===w&&(b=document.documentElement.outerHTML,C=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),V=b.replace(C,"$1").trim());for(var x=0;x<_.length;x++)if(_[x].readyState==="interactive"||_[x].src===v||v===w&&_[x].innerHTML&&_[x].innerHTML.trim()===V)return _[x];return null}}return u})},8925:function(a,s,r){var i=r("c6cd"),l=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(c){return l.call(c)}),a.exports=i.inspectSource},"8aa5":function(a,s,r){var i=r("6547").charAt;a.exports=function(l,c,u){return c+(u?i(l,c).length:1)}},"8bbf":function(a,s){a.exports=n},"90e3":function(a,s){var r=0,i=Math.random();a.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++r+i).toString(36)}},9112:function(a,s,r){var i=r("83ab"),l=r("9bf2"),c=r("5c6c");a.exports=i?function(u,d,p){return l.f(u,d,c(1,p))}:function(u,d,p){return u[d]=p,u}},9263:function(a,s,r){var i=r("ad6d"),l=r("9f7f"),c=RegExp.prototype.exec,u=String.prototype.replace,d=c,p=function(){var y=/a/,w=/b*/g;return c.call(y,"a"),c.call(w,"a"),y.lastIndex!==0||w.lastIndex!==0}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,v=p||g||f;v&&(d=function(w){var b=this,C,V,_,x,S=f&&b.sticky,P=i.call(b),E=b.source,O=0,I=w;return S&&(P=P.replace("y",""),P.indexOf("g")===-1&&(P+="g"),I=String(w).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&w[b.lastIndex-1]!==`
`)&&(E="(?: "+E+")",I=" "+I,O++),V=new RegExp("^(?:"+E+")",P)),g&&(V=new RegExp("^"+E+"$(?!\\s)",P)),p&&(C=b.lastIndex),_=c.call(S?V:b,I),S?_?(_.input=_.input.slice(O),_[0]=_[0].slice(O),_.index=b.lastIndex,b.lastIndex+=_[0].length):b.lastIndex=0:p&&_&&(b.lastIndex=b.global?_.index+_[0].length:C),g&&_&&_.length>1&&u.call(_[0],V,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(_[x]=void 0)}),_}),a.exports=d},"94ca":function(a,s,r){var i=r("d039"),l=/#|\.prototype\./,c=function(g,v){var y=d[u(g)];return y==f?!0:y==p?!1:typeof v=="function"?i(v):!!v},u=c.normalize=function(g){return String(g).replace(l,".").toLowerCase()},d=c.data={},p=c.NATIVE="N",f=c.POLYFILL="P";a.exports=c},"99af":function(a,s,r){var i=r("23e7"),l=r("d039"),c=r("e8b5"),u=r("861d"),d=r("7b0b"),p=r("50c4"),f=r("8418"),g=r("65f0"),v=r("1dde"),y=r("b622"),w=r("2d00"),b=y("isConcatSpreadable"),C=9007199254740991,V="Maximum allowed index exceeded",_=w>=51||!l(function(){var E=[];return E[b]=!1,E.concat()[0]!==E}),x=v("concat"),S=function(E){if(!u(E))return!1;var O=E[b];return O!==void 0?!!O:c(E)},P=!_||!x;i({target:"Array",proto:!0,forced:P},{concat:function(O){var I=d(this),F=g(I,0),L=0,H,W,Y,U,q;for(H=-1,Y=arguments.length;H<Y;H++)if(q=H===-1?I:arguments[H],S(q)){if(U=p(q.length),L+U>C)throw TypeError(V);for(W=0;W<U;W++,L++)W in q&&f(F,L,q[W])}else{if(L>=C)throw TypeError(V);f(F,L++,q)}return F.length=L,F}})},"9bdd":function(a,s,r){var i=r("825a");a.exports=function(l,c,u,d){try{return d?c(i(u)[0],u[1]):c(u)}catch(f){var p=l.return;throw p!==void 0&&i(p.call(l)),f}}},"9bf2":function(a,s,r){var i=r("83ab"),l=r("0cfb"),c=r("825a"),u=r("c04e"),d=Object.defineProperty;s.f=i?d:function(f,g,v){if(c(f),g=u(g,!0),c(v),l)try{return d(f,g,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(f[g]=v.value),f}},"9ed3":function(a,s,r){var i=r("ae93").IteratorPrototype,l=r("7c73"),c=r("5c6c"),u=r("d44e"),d=r("3f8c"),p=function(){return this};a.exports=function(f,g,v){var y=g+" Iterator";return f.prototype=l(i,{next:c(1,v)}),u(f,y,!1,!0),d[y]=p,f}},"9f7f":function(a,s,r){var i=r("d039");function l(c,u){return RegExp(c,u)}s.UNSUPPORTED_Y=i(function(){var c=l("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),s.BROKEN_CARET=i(function(){var c=l("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(a,s,r){var i=r("e8b5"),l=r("50c4"),c=r("0366"),u=function(d,p,f,g,v,y,w,b){for(var C=v,V=0,_=w?c(w,b,3):!1,x;V<g;){if(V in f){if(x=_?_(f[V],V,p):f[V],y>0&&i(x))C=u(d,p,x,l(x.length),C,y-1)-1;else{if(C>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[C]=x}C++}V++}return C};a.exports=u},a352:function(a,s){a.exports=o},a434:function(a,s,r){var i=r("23e7"),l=r("23cb"),c=r("a691"),u=r("50c4"),d=r("7b0b"),p=r("65f0"),f=r("8418"),g=r("1dde"),v=r("ae40"),y=g("splice"),w=v("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,C=Math.min,V=9007199254740991,_="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!y||!w},{splice:function(S,P){var E=d(this),O=u(E.length),I=l(S,O),F=arguments.length,L,H,W,Y,U,q;if(F===0?L=H=0:F===1?(L=0,H=O-I):(L=F-2,H=C(b(c(P),0),O-I)),O+L-H>V)throw TypeError(_);for(W=p(E,H),Y=0;Y<H;Y++)U=I+Y,U in E&&f(W,Y,E[U]);if(W.length=H,L<H){for(Y=I;Y<O-H;Y++)U=Y+H,q=Y+L,U in E?E[q]=E[U]:delete E[q];for(Y=O;Y>O-H+L;Y--)delete E[Y-1]}else if(L>H)for(Y=O-H;Y>I;Y--)U=Y+H-1,q=Y+L-1,U in E?E[q]=E[U]:delete E[q];for(Y=0;Y<L;Y++)E[Y+I]=arguments[Y+2];return E.length=O-H+L,W}})},a4d3:function(a,s,r){var i=r("23e7"),l=r("da84"),c=r("d066"),u=r("c430"),d=r("83ab"),p=r("4930"),f=r("fdbf"),g=r("d039"),v=r("5135"),y=r("e8b5"),w=r("861d"),b=r("825a"),C=r("7b0b"),V=r("fc6a"),_=r("c04e"),x=r("5c6c"),S=r("7c73"),P=r("df75"),E=r("241c"),O=r("057f"),I=r("7418"),F=r("06cf"),L=r("9bf2"),H=r("d1e7"),W=r("9112"),Y=r("6eeb"),U=r("5692"),q=r("f772"),ye=r("d012"),we=r("90e3"),oe=r("b622"),pe=r("e538"),he=r("746f"),Ne=r("d44e"),Se=r("69f3"),qe=r("b727").forEach,Ke=q("hidden"),Z="Symbol",me="prototype",He=oe("toPrimitive"),Ie=Se.set,Ge=Se.getterFor(Z),Fe=Object[me],fe=l.Symbol,Ue=c("JSON","stringify"),_e=F.f,Et=L.f,dt=O.f,Ut=H.f,ft=U("symbols"),xe=U("op-symbols"),tt=U("string-to-symbol-registry"),ct=U("symbol-to-string-registry"),pn=U("wks"),Vn=l.QObject,Ce=!Vn||!Vn[me]||!Vn[me].findChild,jt=d&&g(function(){return S(Et({},"a",{get:function(){return Et(this,"a",{value:7}).a}})).a!=7})?function(je,Me,Je){var mt=_e(Fe,Me);mt&&delete Fe[Me],Et(je,Me,Je),mt&&je!==Fe&&Et(Fe,Me,mt)}:Et,Zn=function(je,Me){var Je=ft[je]=S(fe[me]);return Ie(Je,{type:Z,tag:je,description:Me}),d||(Je.description=Me),Je},ee=f?function(je){return typeof je=="symbol"}:function(je){return Object(je)instanceof fe},te=function(Me,Je,mt){Me===Fe&&te(xe,Je,mt),b(Me);var lt=_(Je,!0);return b(mt),v(ft,lt)?(mt.enumerable?(v(Me,Ke)&&Me[Ke][lt]&&(Me[Ke][lt]=!1),mt=S(mt,{enumerable:x(0,!1)})):(v(Me,Ke)||Et(Me,Ke,x(1,{})),Me[Ke][lt]=!0),jt(Me,lt,mt)):Et(Me,lt,mt)},ge=function(Me,Je){b(Me);var mt=V(Je),lt=P(mt).concat(Re(mt));return qe(lt,function(Dn){(!d||Ae.call(mt,Dn))&&te(Me,Dn,mt[Dn])}),Me},Pe=function(Me,Je){return Je===void 0?S(Me):ge(S(Me),Je)},Ae=function(Me){var Je=_(Me,!0),mt=Ut.call(this,Je);return this===Fe&&v(ft,Je)&&!v(xe,Je)?!1:mt||!v(this,Je)||!v(ft,Je)||v(this,Ke)&&this[Ke][Je]?mt:!0},Qe=function(Me,Je){var mt=V(Me),lt=_(Je,!0);if(!(mt===Fe&&v(ft,lt)&&!v(xe,lt))){var Dn=_e(mt,lt);return Dn&&v(ft,lt)&&!(v(mt,Ke)&&mt[Ke][lt])&&(Dn.enumerable=!0),Dn}},et=function(Me){var Je=dt(V(Me)),mt=[];return qe(Je,function(lt){!v(ft,lt)&&!v(ye,lt)&&mt.push(lt)}),mt},Re=function(Me){var Je=Me===Fe,mt=dt(Je?xe:V(Me)),lt=[];return qe(mt,function(Dn){v(ft,Dn)&&(!Je||v(Fe,Dn))&&lt.push(ft[Dn])}),lt};if(p||(fe=function(){if(this instanceof fe)throw TypeError("Symbol is not a constructor");var Me=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Je=we(Me),mt=function(lt){this===Fe&&mt.call(xe,lt),v(this,Ke)&&v(this[Ke],Je)&&(this[Ke][Je]=!1),jt(this,Je,x(1,lt))};return d&&Ce&&jt(Fe,Je,{configurable:!0,set:mt}),Zn(Je,Me)},Y(fe[me],"toString",function(){return Ge(this).tag}),Y(fe,"withoutSetter",function(je){return Zn(we(je),je)}),H.f=Ae,L.f=te,F.f=Qe,E.f=O.f=et,I.f=Re,pe.f=function(je){return Zn(oe(je),je)},d&&(Et(fe[me],"description",{configurable:!0,get:function(){return Ge(this).description}}),u||Y(Fe,"propertyIsEnumerable",Ae,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:fe}),qe(P(pn),function(je){he(je)}),i({target:Z,stat:!0,forced:!p},{for:function(je){var Me=String(je);if(v(tt,Me))return tt[Me];var Je=fe(Me);return tt[Me]=Je,ct[Je]=Me,Je},keyFor:function(Me){if(!ee(Me))throw TypeError(Me+" is not a symbol");if(v(ct,Me))return ct[Me]},useSetter:function(){Ce=!0},useSimple:function(){Ce=!1}}),i({target:"Object",stat:!0,forced:!p,sham:!d},{create:Pe,defineProperty:te,defineProperties:ge,getOwnPropertyDescriptor:Qe}),i({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:et,getOwnPropertySymbols:Re}),i({target:"Object",stat:!0,forced:g(function(){I.f(1)})},{getOwnPropertySymbols:function(Me){return I.f(C(Me))}}),Ue){var Vt=!p||g(function(){var je=fe();return Ue([je])!="[null]"||Ue({a:je})!="{}"||Ue(Object(je))!="{}"});i({target:"JSON",stat:!0,forced:Vt},{stringify:function(Me,Je,mt){for(var lt=[Me],Dn=1,Wn;arguments.length>Dn;)lt.push(arguments[Dn++]);if(Wn=Je,!(!w(Je)&&Me===void 0||ee(Me)))return y(Je)||(Je=function(Rs,to){if(typeof Wn=="function"&&(to=Wn.call(this,Rs,to)),!ee(to))return to}),lt[1]=Je,Ue.apply(null,lt)}})}fe[me][He]||W(fe[me],He,fe[me].valueOf),Ne(fe,Z),ye[Ke]=!0},a630:function(a,s,r){var i=r("23e7"),l=r("4df4"),c=r("1c7e"),u=!c(function(d){Array.from(d)});i({target:"Array",stat:!0,forced:u},{from:l})},a640:function(a,s,r){var i=r("d039");a.exports=function(l,c){var u=[][l];return!!u&&i(function(){u.call(null,c||function(){throw 1},1)})}},a691:function(a,s){var r=Math.ceil,i=Math.floor;a.exports=function(l){return isNaN(l=+l)?0:(l>0?i:r)(l)}},ab13:function(a,s,r){var i=r("b622"),l=i("match");a.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},ac1f:function(a,s,r){var i=r("23e7"),l=r("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(a,s,r){var i=r("825a");a.exports=function(){var l=i(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},ae40:function(a,s,r){var i=r("83ab"),l=r("d039"),c=r("5135"),u=Object.defineProperty,d={},p=function(f){throw f};a.exports=function(f,g){if(c(d,f))return d[f];g||(g={});var v=[][f],y=c(g,"ACCESSORS")?g.ACCESSORS:!1,w=c(g,0)?g[0]:p,b=c(g,1)?g[1]:void 0;return d[f]=!!v&&!l(function(){if(y&&!i)return!0;var C={length:-1};y?u(C,1,{enumerable:!0,get:p}):C[1]=1,v.call(C,w,b)})}},ae93:function(a,s,r){var i=r("e163"),l=r("9112"),c=r("5135"),u=r("b622"),d=r("c430"),p=u("iterator"),f=!1,g=function(){return this},v,y,w;[].keys&&(w=[].keys(),"next"in w?(y=i(i(w)),y!==Object.prototype&&(v=y)):f=!0),v==null&&(v={}),!d&&!c(v,p)&&l(v,p,g),a.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:f}},b041:function(a,s,r){var i=r("00ee"),l=r("f5df");a.exports=i?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(a,s,r){var i=r("83ab"),l=r("9bf2").f,c=Function.prototype,u=c.toString,d=/^\s*function ([^ (]*)/,p="name";i&&!(p in c)&&l(c,p,{configurable:!0,get:function(){try{return u.call(this).match(d)[1]}catch{return""}}})},b622:function(a,s,r){var i=r("da84"),l=r("5692"),c=r("5135"),u=r("90e3"),d=r("4930"),p=r("fdbf"),f=l("wks"),g=i.Symbol,v=p?g:g&&g.withoutSetter||u;a.exports=function(y){return c(f,y)||(d&&c(g,y)?f[y]=g[y]:f[y]=v("Symbol."+y)),f[y]}},b64b:function(a,s,r){var i=r("23e7"),l=r("7b0b"),c=r("df75"),u=r("d039"),d=u(function(){c(1)});i({target:"Object",stat:!0,forced:d},{keys:function(f){return c(l(f))}})},b727:function(a,s,r){var i=r("0366"),l=r("44ad"),c=r("7b0b"),u=r("50c4"),d=r("65f0"),p=[].push,f=function(g){var v=g==1,y=g==2,w=g==3,b=g==4,C=g==6,V=g==5||C;return function(_,x,S,P){for(var E=c(_),O=l(E),I=i(x,S,3),F=u(O.length),L=0,H=P||d,W=v?H(_,F):y?H(_,0):void 0,Y,U;F>L;L++)if((V||L in O)&&(Y=O[L],U=I(Y,L,E),g)){if(v)W[L]=U;else if(U)switch(g){case 3:return!0;case 5:return Y;case 6:return L;case 2:p.call(W,Y)}else if(b)return!1}return C?-1:w||b?b:W}};a.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(a,s,r){var i=r("861d");a.exports=function(l,c){if(!i(l))return l;var u,d;if(c&&typeof(u=l.toString)=="function"&&!i(d=u.call(l))||typeof(u=l.valueOf)=="function"&&!i(d=u.call(l))||!c&&typeof(u=l.toString)=="function"&&!i(d=u.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(a,s){a.exports=!1},c6b6:function(a,s){var r={}.toString;a.exports=function(i){return r.call(i).slice(8,-1)}},c6cd:function(a,s,r){var i=r("da84"),l=r("ce4e"),c="__core-js_shared__",u=i[c]||l(c,{});a.exports=u},c740:function(a,s,r){var i=r("23e7"),l=r("b727").findIndex,c=r("44d2"),u=r("ae40"),d="findIndex",p=!0,f=u(d);d in[]&&Array(1)[d](function(){p=!1}),i({target:"Array",proto:!0,forced:p||!f},{findIndex:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}}),c(d)},c8ba:function(a,s){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}a.exports=r},c975:function(a,s,r){var i=r("23e7"),l=r("4d64").indexOf,c=r("a640"),u=r("ae40"),d=[].indexOf,p=!!d&&1/[1].indexOf(1,-0)<0,f=c("indexOf"),g=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:p||!f||!g},{indexOf:function(y){return p?d.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,s,r){var i=r("5135"),l=r("fc6a"),c=r("4d64").indexOf,u=r("d012");a.exports=function(d,p){var f=l(d),g=0,v=[],y;for(y in f)!i(u,y)&&i(f,y)&&v.push(y);for(;p.length>g;)i(f,y=p[g++])&&(~c(v,y)||v.push(y));return v}},caad:function(a,s,r){var i=r("23e7"),l=r("4d64").includes,c=r("44d2"),u=r("ae40"),d=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!d},{includes:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(a,s,r){var i=r("da84"),l=r("861d"),c=i.document,u=l(c)&&l(c.createElement);a.exports=function(d){return u?c.createElement(d):{}}},ce4e:function(a,s,r){var i=r("da84"),l=r("9112");a.exports=function(c,u){try{l(i,c,u)}catch{i[c]=u}return u}},d012:function(a,s){a.exports={}},d039:function(a,s){a.exports=function(r){try{return!!r()}catch{return!0}}},d066:function(a,s,r){var i=r("428f"),l=r("da84"),c=function(u){return typeof u=="function"?u:void 0};a.exports=function(u,d){return arguments.length<2?c(i[u])||c(l[u]):i[u]&&i[u][d]||l[u]&&l[u][d]}},d1e7:function(a,s,r){var i={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!i.call({1:2},1);s.f=c?function(d){var p=l(this,d);return!!p&&p.enumerable}:i},d28b:function(a,s,r){var i=r("746f");i("iterator")},d2bb:function(a,s,r){var i=r("825a"),l=r("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(u,[]),c=u instanceof Array}catch{}return function(f,g){return i(f),l(g),c?d.call(f,g):f.__proto__=g,f}}():void 0)},d3b7:function(a,s,r){var i=r("00ee"),l=r("6eeb"),c=r("b041");i||l(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(a,s,r){var i=r("9bf2").f,l=r("5135"),c=r("b622"),u=c("toStringTag");a.exports=function(d,p,f){d&&!l(d=f?d:d.prototype,u)&&i(d,u,{configurable:!0,value:p})}},d58f:function(a,s,r){var i=r("1c0b"),l=r("7b0b"),c=r("44ad"),u=r("50c4"),d=function(p){return function(f,g,v,y){i(g);var w=l(f),b=c(w),C=u(w.length),V=p?C-1:0,_=p?-1:1;if(v<2)for(;;){if(V in b){y=b[V],V+=_;break}if(V+=_,p?V<0:C<=V)throw TypeError("Reduce of empty array with no initial value")}for(;p?V>=0:C>V;V+=_)V in b&&(y=g(y,b[V],V,w));return y}};a.exports={left:d(!1),right:d(!0)}},d784:function(a,s,r){r("ac1f");var i=r("6eeb"),l=r("d039"),c=r("b622"),u=r("9263"),d=r("9112"),p=c("species"),f=!l(function(){var b=/./;return b.exec=function(){var C=[];return C.groups={a:"7"},C},"".replace(b,"$<a>")!=="7"}),g=function(){return"a".replace(/./,"$0")==="$0"}(),v=c("replace"),y=function(){return/./[v]?/./[v]("a","$0")==="":!1}(),w=!l(function(){var b=/(?:)/,C=b.exec;b.exec=function(){return C.apply(this,arguments)};var V="ab".split(b);return V.length!==2||V[0]!=="a"||V[1]!=="b"});a.exports=function(b,C,V,_){var x=c(b),S=!l(function(){var L={};return L[x]=function(){return 7},""[b](L)!=7}),P=S&&!l(function(){var L=!1,H=/a/;return b==="split"&&(H={},H.constructor={},H.constructor[p]=function(){return H},H.flags="",H[x]=/./[x]),H.exec=function(){return L=!0,null},H[x](""),!L});if(!S||!P||b==="replace"&&!(f&&g&&!y)||b==="split"&&!w){var E=/./[x],O=V(x,""[b],function(L,H,W,Y,U){return H.exec===u?S&&!U?{done:!0,value:E.call(H,W,Y)}:{done:!0,value:L.call(W,H,Y)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),I=O[0],F=O[1];i(String.prototype,b,I),i(RegExp.prototype,x,C==2?function(L,H){return F.call(L,this,H)}:function(L){return F.call(L,this)})}_&&d(RegExp.prototype[x],"sham",!0)}},d81d:function(a,s,r){var i=r("23e7"),l=r("b727").map,c=r("1dde"),u=r("ae40"),d=c("map"),p=u("map");i({target:"Array",proto:!0,forced:!d||!p},{map:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,s,r){(function(i){var l=function(c){return c&&c.Math==Math&&c};a.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof i=="object"&&i)||Function("return this")()}).call(this,r("c8ba"))},dbb4:function(a,s,r){var i=r("23e7"),l=r("83ab"),c=r("56ef"),u=r("fc6a"),d=r("06cf"),p=r("8418");i({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(g){for(var v=u(g),y=d.f,w=c(v),b={},C=0,V,_;w.length>C;)_=y(v,V=w[C++]),_!==void 0&&p(b,V,_);return b}})},dbf1:function(a,s,r){(function(i){r.d(s,"a",function(){return c});function l(){return typeof window<"u"?window.console:i.console}var c=l()}).call(this,r("c8ba"))},ddb0:function(a,s,r){var i=r("da84"),l=r("fdbc"),c=r("e260"),u=r("9112"),d=r("b622"),p=d("iterator"),f=d("toStringTag"),g=c.values;for(var v in l){var y=i[v],w=y&&y.prototype;if(w){if(w[p]!==g)try{u(w,p,g)}catch{w[p]=g}if(w[f]||u(w,f,v),l[v]){for(var b in c)if(w[b]!==c[b])try{u(w,b,c[b])}catch{w[b]=c[b]}}}}},df75:function(a,s,r){var i=r("ca84"),l=r("7839");a.exports=Object.keys||function(u){return i(u,l)}},e01a:function(a,s,r){var i=r("23e7"),l=r("83ab"),c=r("da84"),u=r("5135"),d=r("861d"),p=r("9bf2").f,f=r("e893"),g=c.Symbol;if(l&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var v={},y=function(){var x=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),S=this instanceof y?new g(x):x===void 0?g():g(x);return x===""&&(v[S]=!0),S};f(y,g);var w=y.prototype=g.prototype;w.constructor=y;var b=w.toString,C=String(g("test"))=="Symbol(test)",V=/^Symbol\((.*)\)[^)]+$/;p(w,"description",{configurable:!0,get:function(){var x=d(this)?this.valueOf():this,S=b.call(x);if(u(v,x))return"";var P=C?S.slice(7,-1):S.replace(V,"$1");return P===""?void 0:P}}),i({global:!0,forced:!0},{Symbol:y})}},e163:function(a,s,r){var i=r("5135"),l=r("7b0b"),c=r("f772"),u=r("e177"),d=c("IE_PROTO"),p=Object.prototype;a.exports=u?Object.getPrototypeOf:function(f){return f=l(f),i(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?p:null}},e177:function(a,s,r){var i=r("d039");a.exports=!i(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(a,s,r){var i=r("fc6a"),l=r("44d2"),c=r("3f8c"),u=r("69f3"),d=r("7dd0"),p="Array Iterator",f=u.set,g=u.getterFor(p);a.exports=d(Array,"Array",function(v,y){f(this,{type:p,target:i(v),index:0,kind:y})},function(){var v=g(this),y=v.target,w=v.kind,b=v.index++;return!y||b>=y.length?(v.target=void 0,{value:void 0,done:!0}):w=="keys"?{value:b,done:!1}:w=="values"?{value:y[b],done:!1}:{value:[b,y[b]],done:!1}},"values"),c.Arguments=c.Array,l("keys"),l("values"),l("entries")},e439:function(a,s,r){var i=r("23e7"),l=r("d039"),c=r("fc6a"),u=r("06cf").f,d=r("83ab"),p=l(function(){u(1)}),f=!d||p;i({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(v,y){return u(c(v),y)}})},e538:function(a,s,r){var i=r("b622");s.f=i},e893:function(a,s,r){var i=r("5135"),l=r("56ef"),c=r("06cf"),u=r("9bf2");a.exports=function(d,p){for(var f=l(p),g=u.f,v=c.f,y=0;y<f.length;y++){var w=f[y];i(d,w)||g(d,w,v(p,w))}}},e8b5:function(a,s,r){var i=r("c6b6");a.exports=Array.isArray||function(c){return i(c)=="Array"}},e95a:function(a,s,r){var i=r("b622"),l=r("3f8c"),c=i("iterator"),u=Array.prototype;a.exports=function(d){return d!==void 0&&(l.Array===d||u[c]===d)}},f5df:function(a,s,r){var i=r("00ee"),l=r("c6b6"),c=r("b622"),u=c("toStringTag"),d=l(function(){return arguments}())=="Arguments",p=function(f,g){try{return f[g]}catch{}};a.exports=i?l:function(f){var g,v,y;return f===void 0?"Undefined":f===null?"Null":typeof(v=p(g=Object(f),u))=="string"?v:d?l(g):(y=l(g))=="Object"&&typeof g.callee=="function"?"Arguments":y}},f772:function(a,s,r){var i=r("5692"),l=r("90e3"),c=i("keys");a.exports=function(u){return c[u]||(c[u]=l(u))}},fb15:function(a,s,r){if(r.r(s),typeof window<"u"){var i=window.document.currentScript;{var l=r("8875");i=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var c=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(r.p=c[1])}r("99af"),r("4de4"),r("4160"),r("c975"),r("d81d"),r("a434"),r("159b"),r("a4d3"),r("e439"),r("dbb4"),r("b64b");function u(ee,te,ge){return te in ee?Object.defineProperty(ee,te,{value:ge,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ge,ee}function d(ee,te){var ge=Object.keys(ee);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(ee);te&&(Pe=Pe.filter(function(Ae){return Object.getOwnPropertyDescriptor(ee,Ae).enumerable})),ge.push.apply(ge,Pe)}return ge}function p(ee){for(var te=1;te<arguments.length;te++){var ge=arguments[te]!=null?arguments[te]:{};te%2?d(Object(ge),!0).forEach(function(Pe){u(ee,Pe,ge[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ge)):d(Object(ge)).forEach(function(Pe){Object.defineProperty(ee,Pe,Object.getOwnPropertyDescriptor(ge,Pe))})}return ee}function f(ee){if(Array.isArray(ee))return ee}r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function g(ee,te){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ee)))){var ge=[],Pe=!0,Ae=!1,Qe=void 0;try{for(var et=ee[Symbol.iterator](),Re;!(Pe=(Re=et.next()).done)&&(ge.push(Re.value),!(te&&ge.length===te));Pe=!0);}catch(Vt){Ae=!0,Qe=Vt}finally{try{!Pe&&et.return!=null&&et.return()}finally{if(Ae)throw Qe}}return ge}}r("a630"),r("fb6a"),r("b0c0"),r("25f0");function v(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ge=0,Pe=new Array(te);ge<te;ge++)Pe[ge]=ee[ge];return Pe}function y(ee,te){if(ee){if(typeof ee=="string")return v(ee,te);var ge=Object.prototype.toString.call(ee).slice(8,-1);if(ge==="Object"&&ee.constructor&&(ge=ee.constructor.name),ge==="Map"||ge==="Set")return Array.from(ee);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return v(ee,te)}}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(ee,te){return f(ee)||g(ee,te)||y(ee,te)||w()}function C(ee){if(Array.isArray(ee))return v(ee)}function V(ee){if(typeof Symbol<"u"&&Symbol.iterator in Object(ee))return Array.from(ee)}function _(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(ee){return C(ee)||V(ee)||y(ee)||_()}var S=r("a352"),P=r.n(S);function E(ee){ee.parentElement!==null&&ee.parentElement.removeChild(ee)}function O(ee,te,ge){var Pe=ge===0?ee.children[0]:ee.children[ge-1].nextSibling;ee.insertBefore(te,Pe)}var I=r("dbf1");r("13d5"),r("4fad"),r("ac1f"),r("5319");function F(ee){var te=Object.create(null);return function(Pe){var Ae=te[Pe];return Ae||(te[Pe]=ee(Pe))}}var L=/-(\w)/g,H=F(function(ee){return ee.replace(L,function(te,ge){return ge.toUpperCase()})});r("5db7"),r("73d9");var W=["Start","Add","Remove","Update","End"],Y=["Choose","Unchoose","Sort","Filter","Clone"],U=["Move"],q=[U,W,Y].flatMap(function(ee){return ee}).map(function(ee){return"on".concat(ee)}),ye={manage:U,manageAndEmit:W,emit:Y};function we(ee){return q.indexOf(ee)!==-1}r("caad"),r("2ca0");var oe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function pe(ee){return oe.includes(ee)}function he(ee){return["transition-group","TransitionGroup"].includes(ee)}function Ne(ee){return["id","class","role","style"].includes(ee)||ee.startsWith("data-")||ee.startsWith("aria-")||ee.startsWith("on")}function Se(ee){return ee.reduce(function(te,ge){var Pe=b(ge,2),Ae=Pe[0],Qe=Pe[1];return te[Ae]=Qe,te},{})}function qe(ee){var te=ee.$attrs,ge=ee.componentData,Pe=ge===void 0?{}:ge,Ae=Se(Object.entries(te).filter(function(Qe){var et=b(Qe,2),Re=et[0];return et[1],Ne(Re)}));return p(p({},Ae),Pe)}function Ke(ee){var te=ee.$attrs,ge=ee.callBackBuilder,Pe=Se(Z(te));Object.entries(ge).forEach(function(Qe){var et=b(Qe,2),Re=et[0],Vt=et[1];ye[Re].forEach(function(je){Pe["on".concat(je)]=Vt(je)})});var Ae="[data-draggable]".concat(Pe.draggable||"");return p(p({},Pe),{},{draggable:Ae})}function Z(ee){return Object.entries(ee).filter(function(te){var ge=b(te,2),Pe=ge[0];return ge[1],!Ne(Pe)}).map(function(te){var ge=b(te,2),Pe=ge[0],Ae=ge[1];return[H(Pe),Ae]}).filter(function(te){var ge=b(te,2),Pe=ge[0];return ge[1],!we(Pe)})}r("c740");function me(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function He(ee,te){for(var ge=0;ge<te.length;ge++){var Pe=te[ge];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(ee,Pe.key,Pe)}}function Ie(ee,te,ge){return te&&He(ee.prototype,te),ge&&He(ee,ge),ee}var Ge=function(te){var ge=te.el;return ge},Fe=function(te,ge){return te.__draggable_context=ge},fe=function(te){return te.__draggable_context},Ue=function(){function ee(te){var ge=te.nodes,Pe=ge.header,Ae=ge.default,Qe=ge.footer,et=te.root,Re=te.realList;me(this,ee),this.defaultNodes=Ae,this.children=[].concat(x(Pe),x(Ae),x(Qe)),this.externalComponent=et.externalComponent,this.rootTransition=et.transition,this.tag=et.tag,this.realList=Re}return Ie(ee,[{key:"render",value:function(ge,Pe){var Ae=this.tag,Qe=this.children,et=this._isRootComponent,Re=et?{default:function(){return Qe}}:Qe;return ge(Ae,Pe,Re)}},{key:"updated",value:function(){var ge=this.defaultNodes,Pe=this.realList;ge.forEach(function(Ae,Qe){Fe(Ge(Ae),{element:Pe[Qe],index:Qe})})}},{key:"getUnderlyingVm",value:function(ge){return fe(ge)}},{key:"getVmIndexFromDomIndex",value:function(ge,Pe){var Ae=this.defaultNodes,Qe=Ae.length,et=Pe.children,Re=et.item(ge);if(Re===null)return Qe;var Vt=fe(Re);if(Vt)return Vt.index;if(Qe===0)return 0;var je=Ge(Ae[0]),Me=x(et).findIndex(function(Je){return Je===je});return ge<Me?0:Qe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),ee}(),_e=r("8bbf");function Et(ee,te){var ge=ee[te];return ge?ge():[]}function dt(ee){var te=ee.$slots,ge=ee.realList,Pe=ee.getKey,Ae=ge||[],Qe=["header","footer"].map(function(Je){return Et(te,Je)}),et=b(Qe,2),Re=et[0],Vt=et[1],je=te.item;if(!je)throw new Error("draggable element must have an item slot");var Me=Ae.flatMap(function(Je,mt){return je({element:Je,index:mt}).map(function(lt){return lt.key=Pe(Je),lt.props=p(p({},lt.props||{}),{},{"data-draggable":!0}),lt})});if(Me.length!==Ae.length)throw new Error("Item slot must have only one child");return{header:Re,footer:Vt,default:Me}}function Ut(ee){var te=he(ee),ge=!pe(ee)&&!te;return{transition:te,externalComponent:ge,tag:ge?Object(_e.resolveComponent)(ee):te?_e.TransitionGroup:ee}}function ft(ee){var te=ee.$slots,ge=ee.tag,Pe=ee.realList,Ae=ee.getKey,Qe=dt({$slots:te,realList:Pe,getKey:Ae}),et=Ut(ge);return new Ue({nodes:Qe,root:et,realList:Pe})}function xe(ee,te){var ge=this;Object(_e.nextTick)(function(){return ge.$emit(ee.toLowerCase(),te)})}function tt(ee){var te=this;return function(ge,Pe){if(te.realList!==null)return te["onDrag".concat(ee)](ge,Pe)}}function ct(ee){var te=this,ge=tt.call(this,ee);return function(Pe,Ae){ge.call(te,Pe,Ae),xe.call(te,ee,Pe)}}var pn=null,Vn={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(te){return te}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Ce=["update:modelValue","change"].concat(x([].concat(x(ye.manageAndEmit),x(ye.emit)).map(function(ee){return ee.toLowerCase()}))),jt=Object(_e.defineComponent)({name:"draggable",inheritAttrs:!1,props:Vn,emits:Ce,data:function(){return{error:!1}},render:function(){try{this.error=!1;var te=this.$slots,ge=this.$attrs,Pe=this.tag,Ae=this.componentData,Qe=this.realList,et=this.getKey,Re=ft({$slots:te,tag:Pe,realList:Qe,getKey:et});this.componentStructure=Re;var Vt=qe({$attrs:ge,componentData:Ae});return Re.render(_e.h,Vt)}catch(je){return this.error=!0,Object(_e.h)("pre",{style:{color:"red"}},je.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&I.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var te=this;if(!this.error){var ge=this.$attrs,Pe=this.$el,Ae=this.componentStructure;Ae.updated();var Qe=Ke({$attrs:ge,callBackBuilder:{manageAndEmit:function(Vt){return ct.call(te,Vt)},emit:function(Vt){return xe.bind(te,Vt)},manage:function(Vt){return tt.call(te,Vt)}}}),et=Pe.nodeType===1?Pe:Pe.parentElement;this._sortable=new P.a(et,Qe),this.targetDomElement=et,et.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var te=this.list;return te||this.modelValue},getKey:function(){var te=this.itemKey;return typeof te=="function"?te:function(ge){return ge[te]}}},watch:{$attrs:{handler:function(te){var ge=this._sortable;ge&&Z(te).forEach(function(Pe){var Ae=b(Pe,2),Qe=Ae[0],et=Ae[1];ge.option(Qe,et)})},deep:!0}},methods:{getUnderlyingVm:function(te){return this.componentStructure.getUnderlyingVm(te)||null},getUnderlyingPotencialDraggableComponent:function(te){return te.__draggable_component__},emitChanges:function(te){var ge=this;Object(_e.nextTick)(function(){return ge.$emit("change",te)})},alterList:function(te){if(this.list){te(this.list);return}var ge=x(this.modelValue);te(ge),this.$emit("update:modelValue",ge)},spliceList:function(){var te=arguments,ge=function(Ae){return Ae.splice.apply(Ae,x(te))};this.alterList(ge)},updatePosition:function(te,ge){var Pe=function(Qe){return Qe.splice(ge,0,Qe.splice(te,1)[0])};this.alterList(Pe)},getRelatedContextFromMoveEvent:function(te){var ge=te.to,Pe=te.related,Ae=this.getUnderlyingPotencialDraggableComponent(ge);if(!Ae)return{component:Ae};var Qe=Ae.realList,et={list:Qe,component:Ae};if(ge!==Pe&&Qe){var Re=Ae.getUnderlyingVm(Pe)||{};return p(p({},Re),et)}return et},getVmIndexFromDomIndex:function(te){return this.componentStructure.getVmIndexFromDomIndex(te,this.targetDomElement)},onDragStart:function(te){this.context=this.getUnderlyingVm(te.item),te.item._underlying_vm_=this.clone(this.context.element),pn=te.item},onDragAdd:function(te){var ge=te.item._underlying_vm_;if(ge!==void 0){E(te.item);var Pe=this.getVmIndexFromDomIndex(te.newIndex);this.spliceList(Pe,0,ge);var Ae={element:ge,newIndex:Pe};this.emitChanges({added:Ae})}},onDragRemove:function(te){if(O(this.$el,te.item,te.oldIndex),te.pullMode==="clone"){E(te.clone);return}var ge=this.context,Pe=ge.index,Ae=ge.element;this.spliceList(Pe,1);var Qe={element:Ae,oldIndex:Pe};this.emitChanges({removed:Qe})},onDragUpdate:function(te){E(te.item),O(te.from,te.item,te.oldIndex);var ge=this.context.index,Pe=this.getVmIndexFromDomIndex(te.newIndex);this.updatePosition(ge,Pe);var Ae={element:this.context.element,oldIndex:ge,newIndex:Pe};this.emitChanges({moved:Ae})},computeFutureIndex:function(te,ge){if(!te.element)return 0;var Pe=x(ge.to.children).filter(function(Re){return Re.style.display!=="none"}),Ae=Pe.indexOf(ge.related),Qe=te.component.getVmIndexFromDomIndex(Ae),et=Pe.indexOf(pn)!==-1;return et||!ge.willInsertAfter?Qe:Qe+1},onDragMove:function(te,ge){var Pe=this.move,Ae=this.realList;if(!Pe||!Ae)return!0;var Qe=this.getRelatedContextFromMoveEvent(te),et=this.computeFutureIndex(Qe,te),Re=p(p({},this.context),{},{futureIndex:et}),Vt=p(p({},te),{},{relatedContext:Qe,draggedContext:Re});return Pe(Vt,ge)},onDragEnd:function(){pn=null}}}),Zn=jt;s.default=Zn},fb6a:function(a,s,r){var i=r("23e7"),l=r("861d"),c=r("e8b5"),u=r("23cb"),d=r("50c4"),p=r("fc6a"),f=r("8418"),g=r("b622"),v=r("1dde"),y=r("ae40"),w=v("slice"),b=y("slice",{ACCESSORS:!0,0:0,1:2}),C=g("species"),V=[].slice,_=Math.max;i({target:"Array",proto:!0,forced:!w||!b},{slice:function(S,P){var E=p(this),O=d(E.length),I=u(S,O),F=u(P===void 0?O:P,O),L,H,W;if(c(E)&&(L=E.constructor,typeof L=="function"&&(L===Array||c(L.prototype))?L=void 0:l(L)&&(L=L[C],L===null&&(L=void 0)),L===Array||L===void 0))return V.call(E,I,F);for(H=new(L===void 0?Array:L)(_(F-I,0)),W=0;I<F;I++,W++)I in E&&f(H,W,E[I]);return H.length=W,H}})},fc6a:function(a,s,r){var i=r("44ad"),l=r("1d80");a.exports=function(c){return i(l(c))}},fdbc:function(a,s){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,s,r){var i=r("4930");a.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(I$e);const OD=R4(l4),y5e=window.Vue.defineComponent,wr=window.Vue.unref,Ep=window.Vue.createVNode,L_=window.Vue.resolveDirective,bf=window.Vue.openBlock,eT=window.Vue.createElementBlock,mw=window.Vue.withDirectives,U_=window.Vue.toDisplayString,tT=window.Vue.createCommentVNode,Zl=window.Vue.withCtx,j_=window.Vue.createTextVNode,gw=window.Vue.createBlock,nT=window.Vue.createElementVNode,w5e=window.Vue.createSlots,b5e=window.Vue.resolveComponent,$5e={class:"drag-element absolute inset-y-0 left-0 hidden w-3.5 cursor-move items-center bg-gray-100 transition-all hover:bg-gray-200 group-hover:flex"},x5e=["href","title"],_5e={class:"truncate text-xs tabular-nums text-gray-500"},V5e=window.HaloComponents.IconList,oT=window.HaloComponents.VButton,C5e=window.HaloComponents.VStatusDot,S5e=window.HaloComponents.VEntity,vw=window.HaloComponents.VEntityField,P5e=window.Vue.ref,E5e=y5e({__name:"CategoryListItem",props:{categories:{default:()=>[]}},emits:["change","open-editing","delete"],setup(t,{emit:e}){const{currentUserHasPermission:n}=To(),o=P5e(!1);function a(){e("change")}function s(i){e("open-editing",i)}function r(i){e("delete",i)}return(i,l)=>{const c=b5e("CategoryListItem",!0),u=L_("permission"),d=L_("tooltip"),p=L_("close-popper");return bf(),gw(wr(OD),{list:t.categories,class:"box-border h-full w-full divide-y divide-gray-100","ghost-class":"opacity-50",group:"category-item",handle:".drag-element","item-key":"metadata.name",tag:"ul",onChange:a,onEnd:l[0]||(l[0]=f=>o.value=!1),onStart:l[1]||(l[1]=f=>o.value=!0)},{item:Zl(({element:f})=>[nT("li",null,[Ep(wr(S5e),null,w5e({prepend:Zl(()=>[mw((bf(),eT("div",$5e,[Ep(wr(V5e),{class:"h-3.5 w-3.5"})])),[[u,["system:posts:manage"]]])]),start:Zl(()=>[j_(U_(wr(hD)(f.metadata.type))+" ",1),Ep(wr(vw),{title:f.spec.displayName},{description:Zl(()=>[f.status.permalink?(bf(),eT("a",{key:0,href:f.status.permalink,title:f.status.permalink,target:"_blank",class:"truncate text-xs text-gray-500 group-hover:text-gray-900"},U_(f.status.permalink),9,x5e)):tT("",!0)]),_:2},1032,["title"])]),end:Zl(()=>{var g;return[f.metadata.deletionTimestamp?(bf(),gw(wr(vw),{key:0},{description:Zl(()=>[mw(Ep(wr(C5e),{state:"warning",animate:""},null,512),[[d,"删除中"]])]),_:1})):tT("",!0),Ep(wr(vw),{description:`${((g=f.status)==null?void 0:g.postCount)||0} 篇文章`},null,8,["description"]),Ep(wr(vw),null,{description:Zl(()=>[nT("span",_5e,U_(wr(Ma)(f.metadata.creationTimestamp)),1)]),_:2},1024)]}),_:2},[wr(n)(["system:posts:manage"])?{name:"dropdownItems",fn:Zl(()=>[mw((bf(),gw(wr(oT),{block:"",type:"secondary",onClick:g=>s(f)},{default:Zl(()=>[j_(" 修改 ")]),_:2},1032,["onClick"])),[[u,["system:posts:manage"]],[p]]),mw((bf(),gw(wr(oT),{block:"",type:"danger",onClick:g=>r(f)},{default:Zl(()=>[j_(" 删除 ")]),_:2},1032,["onClick"])),[[u,["system:posts:manage"]],[p]])]),key:"0"}:void 0]),1024),Ep(c,{categories:f.spec.children,class:"pl-10 transition-all duration-300",onChange:a,onDelete:r,onOpenEditing:s},null,8,["categories"])])]),_:1},8,["list"])}}}),T5e=window.Vue.defineComponent,Jl=window.Vue.createVNode,aa=window.Vue.unref,z_=window.Vue.createTextVNode,R5e=window.Vue.resolveDirective,br=window.Vue.withCtx,$f=window.Vue.openBlock,wg=window.Vue.createBlock,aT=window.Vue.withDirectives,O5e=window.Vue.toDisplayString,bg=window.Vue.createElementVNode;window.Vue.createCommentVNode;const sT=window.Vue.Transition,k5e=window.Vue.Fragment,A5e=window.Vue.createElementBlock,I5e={class:"m-0 md:m-4"},M5e={class:"block w-full bg-gray-50 px-4 py-3"},F5e={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},D5e={class:"flex w-full flex-1 sm:w-auto"},N5e={class:"text-base font-medium"},rT=window.Vue.ref,iT=window.HaloComponents.IconAddCircle,H5e=window.HaloComponents.IconBookRead,G_=window.HaloComponents.VButton,B5e=window.HaloComponents.VCard,L5e=window.HaloComponents.VEmpty,U5e=window.HaloComponents.VPageHeader,j5e=window.HaloComponents.VSpace,z5e=window.HaloComponents.VLoading,G5e=window.VueUse.useDebounceFn,W5e=T5e({__name:"CategoryList",setup(t){const e=rT(!1),n=rT(null),{categories:o,categoriesTree:a,loading:s,handleFetchCategories:r,handleDelete:i}=AS({fetchOnMounted:!0}),l=G5e(async()=>{const d=JF(a.value),p=s4(d);try{const f=p.map(g=>X.extension.category.updatecontentHaloRunV1alpha1Category({name:g.metadata.name,category:g}));await Promise.all(f)}catch(f){console.log("Failed to update categories",f)}finally{await r()}},500),c=d=>{n.value=Ome(d),e.value=!0},u=()=>{n.value=null,r()};return(d,p)=>{const f=R5e("permission");return $f(),A5e(k5e,null,[Jl(A$e,{visible:e.value,"onUpdate:visible":p[0]||(p[0]=g=>e.value=g),category:n.value,onClose:u},null,8,["visible","category"]),Jl(aa(U5e),{title:"文章分类"},{icon:br(()=>[Jl(aa(H5e),{class:"mr-2 self-center"})]),actions:br(()=>[aT(($f(),wg(aa(G_),{type:"secondary",onClick:p[1]||(p[1]=g=>e.value=!0)},{icon:br(()=>[Jl(aa(iT),{class:"h-full w-full"})]),default:br(()=>[z_(" 新建 ")]),_:1})),[[f,["system:posts:manage"]]])]),_:1}),bg("div",I5e,[Jl(aa(B5e),{"body-class":["!p-0"]},{header:br(()=>[bg("div",M5e,[bg("div",F5e,[bg("div",D5e,[bg("span",N5e,O5e(aa(o).length)+" 个分类 ",1)])])])]),default:br(()=>[aa(s)?($f(),wg(aa(z5e),{key:0})):aa(o).length?($f(),wg(sT,{key:2,appear:"",name:"fade"},{default:br(()=>[Jl(E5e,{categories:aa(a),onChange:aa(l),onDelete:aa(i),onOpenEditing:c},null,8,["categories","onChange","onDelete"])]),_:1})):($f(),wg(sT,{key:1,appear:"",name:"fade"},{default:br(()=>[Jl(aa(L5e),{message:"你可以尝试刷新或者新建分类",title:"当前没有分类"},{actions:br(()=>[Jl(aa(j5e),null,{default:br(()=>[Jl(aa(G_),{onClick:aa(r)},{default:br(()=>[z_("刷新")]),_:1},8,["onClick"]),aT(($f(),wg(aa(G_),{type:"primary",onClick:p[2]||(p[2]=g=>e.value=!0)},{icon:br(()=>[Jl(aa(iT),{class:"h-full w-full"})]),default:br(()=>[z_(" 新建分类 ")]),_:1})),[[f,["system:posts:manage"]]])]),_:1})]),_:1})]),_:1}))]),_:1})])],64)}}}),K5e=window.Vue.defineComponent,xf=window.Vue.unref,su=window.Vue.createVNode,Cs=window.Vue.createElementVNode,Y5e=window.Vue.resolveComponent,_f=window.Vue.withCtx,W_=window.Vue.openBlock,K_=window.Vue.createBlock,X5e=window.Vue.createCommentVNode,Q5e=window.Vue.createTextVNode,Z5e={class:"md:grid md:grid-cols-4 md:gap-6"},J5e=Cs("div",{class:"md:col-span-1"},[Cs("div",{class:"sticky top-0"},[Cs("span",{class:"text-base font-medium text-gray-900"}," 常规 ")])],-1),q5e={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},exe=Cs("div",{class:"py-5"},[Cs("div",{class:"border-t border-gray-200"})],-1),txe={class:"md:grid md:grid-cols-4 md:gap-6"},nxe=Cs("div",{class:"md:col-span-1"},[Cs("div",{class:"sticky top-0"},[Cs("span",{class:"text-base font-medium text-gray-900"}," 元数据 ")])],-1),oxe={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},lT=window.Vue.computed,axe=window.Vue.nextTick,Y_=window.Vue.ref,cT=window.Vue.watch,sxe=window.HaloComponents.IconArrowLeft,rxe=window.HaloComponents.IconArrowRight,ixe=window.HaloComponents.Toast,lxe=window.HaloComponents.VButton,cxe=window.HaloComponents.VModal,uxe=window.HaloComponents.VSpace,dxe=K5e({__name:"TagEditingModal",props:{visible:{type:Boolean,default:!1},tag:{default:null}},emits:["update:visible","close","previous","next"],setup(t,{emit:e}){const n=t,o={spec:{displayName:"",slug:"",color:"#ffffff",cover:""},apiVersion:"content.halo.run/v1alpha1",kind:"Tag",metadata:{name:"",generateName:"tag-"}},a=Y_(ot(o)),s=Y_(!1),r=lT(()=>!!a.value.metadata.creationTimestamp),i=lT(()=>r.value?"编辑文章标签":"新增文章标签"),l=Y_(),c=async()=>{var y;(y=l.value)==null||y.handleSubmit(),await axe();const{customAnnotations:p,annotations:f,customFormInvalid:g,specFormInvalid:v}=l.value||{};if(!(g||v)){a.value.metadata.annotations={...f,...p};try{s.value=!0,r.value?await X.extension.tag.updatecontentHaloRunV1alpha1Tag({name:a.value.metadata.name,tag:a.value}):await X.extension.tag.createcontentHaloRunV1alpha1Tag({tag:a.value}),u(!1),ixe.success("保存成功")}catch(w){console.error("Failed to create tag",w)}finally{s.value=!1}}},u=p=>{e("update:visible",p),p||e("close")},d=()=>{a.value=ot(o),tr("tag-form")};return cT(()=>n.visible,p=>{p?Ps("displayNameInput"):d()}),cT(()=>n.tag,p=>{p?a.value=ot(p):d()}),(p,f)=>{const g=Y5e("FormKit");return W_(),K_(xf(cxe),{title:xf(i),visible:t.visible,width:700,"onUpdate:visible":u},{actions:_f(()=>[Cs("span",{onClick:f[0]||(f[0]=v=>e("previous"))},[su(xf(sxe))]),Cs("span",{onClick:f[1]||(f[1]=v=>e("next"))},[su(xf(rxe))])]),footer:_f(()=>[su(xf(uxe),null,{default:_f(()=>[t.visible?(W_(),K_(Vl,{key:0,loading:s.value,type:"secondary",onSubmit:f[6]||(f[6]=v=>p.$formkit.submit("tag-form"))},null,8,["loading"])):X5e("",!0),su(xf(lxe),{onClick:f[7]||(f[7]=v=>u(!1))},{default:_f(()=>[Q5e("取消 Esc")]),_:1})]),_:1})]),default:_f(()=>[su(g,{id:"tag-form",type:"form",name:"tag-form",config:{validationVisibility:"submit"},onSubmit:c},{default:_f(()=>[Cs("div",null,[Cs("div",Z5e,[J5e,Cs("div",q5e,[su(g,{id:"displayNameInput",modelValue:a.value.spec.displayName,"onUpdate:modelValue":f[2]||(f[2]=v=>a.value.spec.displayName=v),name:"displayName",label:"名称",type:"text",validation:"required|length:0,50"},null,8,["modelValue"]),su(g,{modelValue:a.value.spec.slug,"onUpdate:modelValue":f[3]||(f[3]=v=>a.value.spec.slug=v),help:"通常作为标签访问地址标识",label:"别名",name:"slug",type:"text",validation:"required|length:0,50"},null,8,["modelValue"]),su(g,{modelValue:a.value.spec.color,"onUpdate:modelValue":f[4]||(f[4]=v=>a.value.spec.color=v),name:"color",help:"需要主题适配以支持",label:"颜色",type:"color",validation:"length:0,50"},null,8,["modelValue"]),su(g,{modelValue:a.value.spec.cover,"onUpdate:modelValue":f[5]||(f[5]=v=>a.value.spec.cover=v),name:"cover",help:"需要主题适配以支持",label:"封面图",type:"attachment",validation:"length:0,1024"},null,8,["modelValue"])])])])]),_:1}),exe,Cs("div",txe,[nxe,Cs("div",oxe,[(W_(),K_(Ym,{key:a.value.metadata.name,ref_key:"annotationsFormRef",ref:l,value:a.value.metadata.annotations,kind:"Tag",group:"content.halo.run"},null,8,["value"]))])])]),_:1},8,["title","visible"])}}}),pxe=window.Vue.defineComponent,Wa=window.Vue.createVNode,An=window.Vue.unref,$g=window.Vue.createTextVNode,X_=window.Vue.resolveDirective,ao=window.Vue.withCtx,Va=window.Vue.openBlock,ql=window.Vue.createBlock,yw=window.Vue.withDirectives,Q_=window.Vue.toDisplayString,ec=window.Vue.createElementVNode,Z_=window.Vue.renderList,ww=window.Vue.Fragment,Tp=window.Vue.createElementBlock,hxe=window.Vue.resolveDynamicComponent,fxe=window.Vue.normalizeClass,uT=window.Vue.createCommentVNode,J_=window.Vue.Transition,mxe=window.Vue.createSlots,gxe={class:"m-0 md:m-4"},vxe={class:"block w-full bg-gray-50 px-4 py-3"},yxe={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},wxe={class:"flex w-full flex-1 sm:w-auto"},bxe={class:"text-base font-medium"},$xe={class:"flex flex-row gap-2"},xxe=["onClick"],_xe={key:2},Vxe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},Cxe=["href","title"],Sxe={class:"truncate text-xs tabular-nums text-gray-500"},Pxe={class:"flex flex-wrap gap-3 p-4",role:"list"},Exe=window.Vue.onMounted,q_=window.Vue.ref,dT=window.HaloComponents.IconAddCircle,Txe=window.HaloComponents.IconBookRead,Rxe=window.HaloComponents.IconGrid,Oxe=window.HaloComponents.IconList,xg=window.HaloComponents.VButton,kxe=window.HaloComponents.VCard,Axe=window.HaloComponents.VEmpty,Ixe=window.HaloComponents.VPageHeader,Mxe=window.HaloComponents.VSpace,Fxe=window.HaloComponents.VStatusDot,Dxe=window.HaloComponents.VEntity,bw=window.HaloComponents.VEntityField,Nxe=window.HaloComponents.VLoading,Hxe=window.VueUse.useRouteQuery,Bxe=pxe({__name:"TagList",setup(t){const{currentUserHasPermission:e}=To(),n=[{name:"list",icon:Oxe},{name:"grid",icon:Rxe}],o=q_("list"),{tags:a,loading:s,handleFetchTags:r,handleDelete:i}=mD({fetchOnMounted:!0}),l=q_(!1),c=q_(null),u=v=>{c.value=v,l.value=!0},d=()=>{const v=a.value.findIndex(y=>{var w;return y.metadata.name===((w=c.value)==null?void 0:w.metadata.name)});if(v>0){c.value=a.value[v-1];return}v<=0&&(c.value=null)},p=()=>{if(!c.value){c.value=a.value[0];return}const v=a.value.findIndex(y=>{var w;return y.metadata.name===((w=c.value)==null?void 0:w.metadata.name)});v!==a.value.length-1&&(c.value=a.value[v+1])},f=()=>{c.value=null,g.value=null,r()},g=Hxe("name");return Exe(async()=>{if(g.value){const{data:v}=await X.extension.tag.getcontentHaloRunV1alpha1Tag({name:g.value});c.value=v,l.value=!0}}),(v,y)=>{const w=X_("permission"),b=X_("tooltip"),C=X_("close-popper");return Va(),Tp(ww,null,[Wa(dxe,{visible:l.value,"onUpdate:visible":y[0]||(y[0]=V=>l.value=V),tag:c.value,onClose:f,onNext:p,onPrevious:d},null,8,["visible","tag"]),Wa(An(Ixe),{title:"文章标签"},{icon:ao(()=>[Wa(An(Txe),{class:"mr-2 self-center"})]),actions:ao(()=>[yw((Va(),ql(An(xg),{type:"secondary",onClick:y[1]||(y[1]=V=>l.value=!0)},{icon:ao(()=>[Wa(An(dT),{class:"h-full w-full"})]),default:ao(()=>[$g(" 新建 ")]),_:1})),[[w,["system:posts:manage"]]])]),_:1}),ec("div",gxe,[Wa(An(kxe),{"body-class":["!p-0"]},{header:ao(()=>[ec("div",vxe,[ec("div",yxe,[ec("div",wxe,[ec("span",bxe,Q_(An(a).length)+" 个标签 ",1)]),ec("div",$xe,[(Va(),Tp(ww,null,Z_(n,(V,_)=>ec("div",{key:_,class:fxe([{"bg-gray-200 font-bold text-black":o.value===V.name},"cursor-pointer rounded p-1 hover:bg-gray-200"]),onClick:x=>o.value=V.name},[(Va(),ql(hxe(V.icon)))],10,xxe)),64))])])])]),default:ao(()=>[An(s)?(Va(),ql(An(Nxe),{key:0})):An(a).length?(Va(),Tp("div",_xe,[o.value==="list"?(Va(),ql(J_,{key:0,appear:"",name:"fade"},{default:ao(()=>[ec("ul",Vxe,[(Va(!0),Tp(ww,null,Z_(An(a),(V,_)=>{var x;return Va(),Tp("li",{key:_},[Wa(An(Dxe),{"is-selected":((x=c.value)==null?void 0:x.metadata.name)===V.metadata.name},mxe({start:ao(()=>[Wa(An(bw),null,{title:ao(()=>[Wa(Sh,{tag:V},null,8,["tag"])]),description:ao(()=>{var S,P,E;return[(S=V.status)!=null&&S.permalink?(Va(),Tp("a",{key:0,href:(P=V.status)==null?void 0:P.permalink,title:(E=V.status)==null?void 0:E.permalink,target:"_blank",class:"truncate text-xs text-gray-500 group-hover:text-gray-900"},Q_(V.status.permalink),9,Cxe)):uT("",!0)]}),_:2},1024)]),end:ao(()=>{var S;return[V.metadata.deletionTimestamp?(Va(),ql(An(bw),{key:0},{description:ao(()=>[yw(Wa(An(Fxe),{state:"warning",animate:""},null,512),[[b,"删除中"]])]),_:1})):uT("",!0),Wa(An(bw),{description:`${((S=V.status)==null?void 0:S.postCount)||0} 篇文章`},null,8,["description"]),Wa(An(bw),null,{description:ao(()=>[ec("span",Sxe,Q_(An(Ma)(V.metadata.creationTimestamp)),1)]),_:2},1024)]}),_:2},[An(e)(["system:posts:manage"])?{name:"dropdownItems",fn:ao(()=>[yw((Va(),ql(An(xg),{block:"",type:"secondary",onClick:S=>u(V)},{default:ao(()=>[$g(" 修改 ")]),_:2},1032,["onClick"])),[[w,["system:posts:manage"]],[C]]),yw((Va(),ql(An(xg),{block:"",type:"danger",onClick:S=>An(i)(V)},{default:ao(()=>[$g(" 删除 ")]),_:2},1032,["onClick"])),[[w,["system:posts:manage"]],[C]])]),key:"0"}:void 0]),1032,["is-selected"])])}),128))])]),_:1})):(Va(),ql(J_,{key:1,appear:"",name:"fade"},{default:ao(()=>[ec("div",Pxe,[(Va(!0),Tp(ww,null,Z_(An(a),(V,_)=>(Va(),ql(Sh,{key:_,tag:V,onClick:x=>u(V)},null,8,["tag","onClick"]))),128))])]),_:1}))])):(Va(),ql(J_,{key:1,appear:"",name:"fade"},{default:ao(()=>[Wa(An(Axe),{message:"你可以尝试刷新或者新建标签",title:"当前没有标签"},{actions:ao(()=>[Wa(An(Mxe),null,{default:ao(()=>[Wa(An(xg),{onClick:An(r)},{default:ao(()=>[$g("刷新")]),_:1},8,["onClick"]),Wa(An(xg),{type:"primary",onClick:y[2]||(y[2]=V=>l.value=!0)},{icon:ao(()=>[Wa(An(dT),{class:"h-full w-full"})]),default:ao(()=>[$g(" 新建标签 ")]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})])],64)}}}),Lxe=window.Vue.defineComponent,e3=window.Vue.unref,Uxe=window.Vue.createVNode,dm=window.Vue.createElementVNode,jxe=window.Vue.toDisplayString,zxe=window.Vue.withCtx,Gxe=window.Vue.openBlock,Wxe=window.Vue.createBlock,Kxe={class:"flex h-full"},Yxe={class:"flex items-center gap-4"},Xxe={class:"hidden rounded-full bg-gray-100 p-2.5 text-gray-600 sm:block"},Qxe=dm("span",{class:"text-sm text-gray-500"},"文章",-1),Zxe={class:"text-2xl font-medium text-gray-900"},Jxe=window.HaloComponents.VCard,qxe=window.HaloComponents.IconBookRead,e_e=window.Vue.inject,t_e=Lxe({__name:"PostStatsWidget",setup(t){const e=e_e("dashboardStats");return(n,o)=>(Gxe(),Wxe(e3(Jxe),{class:"h-full","body-class":["h-full"]},{default:zxe(()=>{var a;return[dm("div",Kxe,[dm("div",Yxe,[dm("span",Xxe,[Uxe(e3(qxe),{class:"h-5 w-5"})]),dm("div",null,[Qxe,dm("p",Zxe,jxe(((a=e3(e))==null?void 0:a.posts)||0),1)])])])]}),_:1}))}}),n_e=window.Vue.defineComponent,o_e=window.Vue.renderList,a_e=window.Vue.Fragment,$w=window.Vue.openBlock,t3=window.Vue.createElementBlock,n3=window.Vue.toDisplayString,xw=window.Vue.createElementVNode,Rp=window.Vue.unref,Op=window.Vue.withCtx,_g=window.Vue.createVNode,s_e=window.Vue.createCommentVNode,r_e=window.Vue.createBlock,i_e={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},l_e={class:"text-xs text-gray-500"},c_e={class:"text-xs text-gray-500"},u_e=["href","title"],d_e={class:"truncate text-xs tabular-nums text-gray-500"},p_e=window.HaloComponents.VCard,h_e=window.HaloComponents.VSpace,f_e=window.HaloComponents.VEntity,pT=window.HaloComponents.VEntityField,m_e=window.HaloComponents.IconExternalLinkLine,g_e=window.Vue.onMounted,v_e=window.Vue.ref,y_e=n_e({__name:"RecentPublishedWidget",setup(t){const e=v_e([]);return g_e(async()=>{try{const{data:o}=await X.post.listPosts({labelSelector:[`${bc.DELETED}=false`,`${bc.PUBLISHED}=true`],sort:"PUBLISH_TIME",sortOrder:!1,page:1,size:10});e.value=o.items}catch(o){console.error("Failed to fetch posts",o)}}),(o,a)=>($w(),r_e(Rp(p_e),{"body-class":["h-full","!p-0","overflow-y-auto"],class:"h-full",title:"最近文章"},{default:Op(()=>[xw("ul",i_e,[($w(!0),t3(a_e,null,o_e(e.value,(s,r)=>($w(),t3("li",{key:r},[_g(Rp(f_e),null,{start:Op(()=>[_g(Rp(pT),{title:s.post.spec.title,route:{name:"PostEditor",query:{name:s.post.metadata.name}}},{description:Op(()=>[_g(Rp(h_e),null,{default:Op(()=>[xw("span",l_e," 访问量 "+n3(s.stats.visit||0),1),xw("span",c_e," 评论 "+n3(s.stats.totalComment||0),1)]),_:2},1024)]),extra:Op(()=>{var i,l,c;return[(i=s.post.status)!=null&&i.permalink?($w(),t3("a",{key:0,target:"_blank",href:(l=s.post.status)==null?void 0:l.permalink,title:(c=s.post.status)==null?void 0:c.permalink,class:"hidden text-gray-600 transition-all hover:text-gray-900 group-hover:inline-block"},[_g(Rp(m_e),{class:"h-3.5 w-3.5"})],8,u_e)):s_e("",!0)]}),_:2},1032,["title","route"])]),end:Op(()=>[_g(Rp(pT),null,{description:Op(()=>[xw("span",d_e,n3(Rp(Ma)(s.post.spec.publishTime)),1)]),_:2},1024)]),_:2},1024)]))),128))])]),_:1}))}}),w_e=window.HaloComponents.IconBookRead,b_e=window.Vue.markRaw,$_e={components:{PostStatsWidget:t_e,RecentPublishedWidget:y_e},routes:[{path:"/posts",component:Es,children:[{path:"",name:"Posts",component:Lbe,meta:{title:"文章",searchable:!0,permissions:["system:posts:view"],menu:{name:"文章",group:"content",icon:b_e(w_e),priority:0,mobile:!0}}},{path:"deleted",name:"DeletedPosts",component:b2e,meta:{title:"文章回收站",searchable:!0,permissions:["system:posts:view"]}},{path:"editor",name:"PostEditor",component:g$e,meta:{title:"文章编辑",searchable:!0,permissions:["system:posts:manage"]}},{path:"categories",component:V2,children:[{path:"",name:"Categories",component:W5e,meta:{title:"文章分类",searchable:!0,permissions:["system:posts:view"]}}]},{path:"tags",component:V2,children:[{path:"",name:"Tags",component:Bxe,meta:{title:"文章标签",searchable:!0,permissions:["system:posts:view"]}}]}]}]},x_e=window.Vue.defineComponent,V_e=window.Vue.renderSlot,No=window.Vue.createElementVNode,C_e=window.Vue.resolveComponent,$r=window.Vue.createVNode,Vf=window.Vue.openBlock,Vg=window.Vue.createBlock,hT=window.Vue.createCommentVNode,ru=window.Vue.unref,iu=window.Vue.withCtx,_w=window.Vue.createTextVNode,S_e=window.Vue.Fragment,P_e=window.Vue.createElementBlock,E_e={class:"md:grid md:grid-cols-4 md:gap-6"},T_e=No("div",{class:"md:col-span-1"},[No("div",{class:"sticky top-0"},[No("span",{class:"text-base font-medium text-gray-900"}," 常规设置 ")])],-1),R_e={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},O_e=No("div",{class:"py-5"},[No("div",{class:"border-t border-gray-200"})],-1),k_e={class:"md:grid md:grid-cols-4 md:gap-6"},A_e=No("div",{class:"md:col-span-1"},[No("div",{class:"sticky top-0"},[No("span",{class:"text-base font-medium text-gray-900"}," 高级设置 ")])],-1),I_e={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},M_e=No("div",{class:"py-5"},[No("div",{class:"border-t border-gray-200"})],-1),F_e={class:"md:grid md:grid-cols-4 md:gap-6"},D_e=No("div",{class:"md:col-span-1"},[No("div",{class:"sticky top-0"},[No("span",{class:"text-base font-medium text-gray-900"}," 元数据 ")])],-1),N_e={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},o3=window.HaloComponents.Toast,Vw=window.HaloComponents.VButton,H_e=window.HaloComponents.VModal,B_e=window.HaloComponents.VSpace,fT=window.Vue.computed,Cw=window.Vue.nextTick,Cf=window.Vue.ref,L_e=window.Vue.watchEffect,kD=x_e({__name:"SinglePageSettingModal",props:{visible:{type:Boolean,default:!1},singlePage:{default:void 0},publishSupport:{type:Boolean,default:!0},onlyEmit:{type:Boolean,default:!1}},emits:["update:visible","close","saved","published"],setup(t,{emit:e}){const n=t,o={spec:{title:"",slug:"",template:"",cover:"",deleted:!1,publish:!1,publishTime:"",pinned:!1,allowComment:!0,visible:"PUBLIC",priority:0,excerpt:{autoGenerate:!0,raw:""},htmlMetas:[]},apiVersion:"content.halo.run/v1alpha1",kind:"SinglePage",metadata:{name:w0()}},a=Cf(ot(o)),s=Cf(!1),r=Cf(!1),i=Cf(!1),l=Cf(),c=fT(()=>!!a.value.metadata.creationTimestamp),u=_=>{e("update:visible",_),_||e("close")},d=Cf(),p=()=>{l.value==="publish"&&y(),l.value==="save"&&v()},f=()=>{l.value="save",Cw(()=>{Ec("singlePage-setting-form")})},g=()=>{l.value="publish",Cw(()=>{Ec("singlePage-setting-form")})},v=async()=>{var E;(E=d.value)==null||E.handleSubmit(),await Cw();const{customAnnotations:_,annotations:x,customFormInvalid:S,specFormInvalid:P}=d.value||{};if(!(S||P)){if(a.value.metadata.annotations={...x,..._},n.onlyEmit){e("saved",a.value);return}try{s.value=!0,s.value=!0;const{data:O}=c.value?await X.extension.singlePage.updatecontentHaloRunV1alpha1SinglePage({name:a.value.metadata.name,singlePage:a.value}):await X.extension.singlePage.createcontentHaloRunV1alpha1SinglePage({singlePage:a.value});a.value=O,e("saved",O),u(!1),o3.success("保存成功")}catch(O){console.error("Failed to save single page",O)}finally{s.value=!1}}},y=async()=>{var E;(E=d.value)==null||E.handleSubmit(),await Cw();const{customAnnotations:_,annotations:x,customFormInvalid:S,specFormInvalid:P}=d.value||{};if(!(S||P)){if(a.value.metadata.annotations={...x,..._},n.onlyEmit){e("published",a.value);return}try{r.value=!0;const O=ot(a.value);O.spec.releaseSnapshot=O.spec.headSnapshot,O.spec.publish=!0;const{data:I}=await X.extension.singlePage.updatecontentHaloRunV1alpha1SinglePage({name:a.value.metadata.name,singlePage:O});a.value=I,e("published",I),u(!1),o3.success("发布成功")}catch(O){console.error("Failed to publish single page",O)}finally{r.value=!1}}},w=async()=>{try{i.value=!0;const{data:_}=await X.extension.singlePage.getcontentHaloRunV1alpha1SinglePage({name:a.value.metadata.name}),x=ot(_);x.spec.publish=!1;const{data:S}=await X.extension.singlePage.updatecontentHaloRunV1alpha1SinglePage({name:a.value.metadata.name,singlePage:x});a.value=S,u(!1),o3.success("取消发布成功")}catch(_){console.error("Failed to unpublish single page",_)}finally{i.value=!1}};L_e(()=>{n.singlePage&&(a.value=ot(n.singlePage))});const{templates:b}=IS("page"),C=fT(()=>{const{publishTime:_}=a.value.spec;return _?ZC(_):""}),V=_=>{a.value.spec.publishTime=_?yF(_):void 0};return(_,x)=>{const S=C_e("FormKit");return Vf(),Vg(ru(H_e),{visible:t.visible,width:700,title:"页面设置",centered:!1,"onUpdate:visible":u},{actions:iu(()=>[V_e(_.$slots,"actions")]),footer:iu(()=>[$r(ru(B_e),null,{default:iu(()=>{var P;return[t.publishSupport?(Vf(),P_e(S_e,{key:0},[((P=a.value.metadata.labels)==null?void 0:P[ru($c).PUBLISHED])!=="true"?(Vf(),Vg(ru(Vw),{key:0,loading:r.value,type:"secondary",onClick:x[9]||(x[9]=E=>g())},{default:iu(()=>[_w(" 发布 ")]),_:1},8,["loading"])):(Vf(),Vg(ru(Vw),{key:1,loading:i.value,type:"danger",onClick:x[10]||(x[10]=E=>w())},{default:iu(()=>[_w(" 取消发布 ")]),_:1},8,["loading"]))],64)):hT("",!0),$r(ru(Vw),{loading:s.value,type:"secondary",onClick:f},{default:iu(()=>[_w(" 保存 ")]),_:1},8,["loading"]),$r(ru(Vw),{type:"default",onClick:x[11]||(x[11]=E=>u(!1))},{default:iu(()=>[_w(" 关闭 ")]),_:1})]}),_:1})]),default:iu(()=>[$r(S,{id:"singlePage-setting-form",type:"form",name:"singlePage-setting-form",config:{validationVisibility:"submit"},onSubmit:p},{default:iu(()=>[No("div",null,[No("div",E_e,[T_e,No("div",R_e,[$r(S,{modelValue:a.value.spec.title,"onUpdate:modelValue":x[0]||(x[0]=P=>a.value.spec.title=P),label:"标题",type:"text",name:"title",validation:"required|length:0,100"},null,8,["modelValue"]),$r(S,{modelValue:a.value.spec.slug,"onUpdate:modelValue":x[1]||(x[1]=P=>a.value.spec.slug=P),label:"别名",name:"slug",type:"text",validation:"required|length:0,100"},null,8,["modelValue"]),$r(S,{modelValue:a.value.spec.excerpt.autoGenerate,"onUpdate:modelValue":x[2]||(x[2]=P=>a.value.spec.excerpt.autoGenerate=P),options:[{label:"是",value:!0},{label:"否",value:!1}],name:"autoGenerate",label:"自动生成摘要",type:"radio"},null,8,["modelValue"]),a.value.spec.excerpt.autoGenerate?hT("",!0):(Vf(),Vg(S,{key:0,modelValue:a.value.spec.excerpt.raw,"onUpdate:modelValue":x[3]||(x[3]=P=>a.value.spec.excerpt.raw=P),name:"raw",label:"自定义摘要",type:"textarea",validation:"length:0,1024",rows:5},null,8,["modelValue"]))])]),O_e,No("div",k_e,[A_e,No("div",I_e,[$r(S,{modelValue:a.value.spec.allowComment,"onUpdate:modelValue":x[4]||(x[4]=P=>a.value.spec.allowComment=P),options:[{label:"是",value:!0},{label:"否",value:!1}],name:"allowComment",label:"允许评论",type:"radio"},null,8,["modelValue"]),$r(S,{modelValue:a.value.spec.pinned,"onUpdate:modelValue":x[5]||(x[5]=P=>a.value.spec.pinned=P),options:[{label:"是",value:!0},{label:"否",value:!1}],label:"是否置顶",name:"pinned",type:"radio"},null,8,["modelValue"]),$r(S,{modelValue:a.value.spec.visible,"onUpdate:modelValue":x[6]||(x[6]=P=>a.value.spec.visible=P),options:[{label:"公开",value:"PUBLIC"},{label:"私有",value:"PRIVATE"}],label:"可见性",name:"visible",type:"select"},null,8,["modelValue"]),$r(S,{"model-value":ru(C),label:"发表时间",type:"datetime-local",name:"publishTime",onInput:V},null,8,["model-value"]),$r(S,{modelValue:a.value.spec.template,"onUpdate:modelValue":x[7]||(x[7]=P=>a.value.spec.template=P),options:ru(b),label:"自定义模板",type:"select",name:"template"},null,8,["modelValue","options"]),$r(S,{modelValue:a.value.spec.cover,"onUpdate:modelValue":x[8]||(x[8]=P=>a.value.spec.cover=P),label:"封面图",type:"attachment",name:"cover",validation:"length:0,1024"},null,8,["modelValue"])])])])]),_:1}),M_e,No("div",F_e,[D_e,No("div",N_e,[(Vf(),Vg(Ym,{key:a.value.metadata.name,ref_key:"annotationsFormRef",ref:d,value:a.value.metadata.annotations,kind:"SinglePage",group:"content.halo.run"},null,8,["value"]))])])]),_:3},8,["visible"])}}}),U_e=window.Vue.defineComponent,Ct=window.Vue.unref,a3=window.Vue.resolveDirective,Wt=window.Vue.createVNode,Yo=window.Vue.withDirectives,Dt=window.Vue.createElementVNode,$t=window.Vue.withCtx,ci=window.Vue.createTextVNode,$n=window.Vue.openBlock,ko=window.Vue.createBlock,mT=window.Vue.vModelCheckbox,tc=window.Vue.createElementBlock,gT=window.Vue.resolveComponent,j_e=window.Vue.withKeys,Qi=window.Vue.toDisplayString,ui=window.Vue.createCommentVNode,Cg=window.Vue.renderList,Sf=window.Vue.Fragment,s3=window.Vue.normalizeClass,vT=window.Vue.Transition,yT=window.Vue.createSlots,z_e={class:"m-0 md:m-4"},G_e={class:"block w-full bg-gray-50 px-4 py-3"},W_e={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},K_e={class:"mr-4 hidden items-center sm:flex"},Y_e={class:"flex w-full flex-1 items-center sm:w-auto"},X_e={key:0,class:"flex items-center gap-2"},Q_e={class:"mt-4 flex sm:mt-0"},Z_e={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},J_e=Dt("span",{class:"mr-0.5"},"状态",-1),q_e={class:"w-72 p-4"},e3e={class:"space-y-1"},t3e=["onClick"],n3e={class:"truncate"},o3e={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},a3e=Dt("span",{class:"mr-0.5"}," 可见性 ",-1),s3e={class:"w-72 p-4"},r3e={class:"space-y-1"},i3e=["onClick"],l3e={class:"truncate"},c3e={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},u3e=Dt("span",{class:"mr-0.5"},"作者",-1),d3e={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},p3e=Dt("span",{class:"mr-0.5"},"排序",-1),h3e={class:"w-72 p-4"},f3e={class:"space-y-1"},m3e=["onClick"],g3e={class:"truncate"},v3e={class:"flex flex-row gap-2"},y3e={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},w3e=["value"],b3e=["href","title"],$3e={class:"flex w-full flex-col gap-1"},x3e={class:"text-xs text-gray-500"},_3e={class:"text-xs text-gray-500"},V3e={class:"truncate text-xs tabular-nums text-gray-500"},C3e={class:"bg-white sm:flex sm:items-center sm:justify-end"},Sw=window.HaloComponents.IconArrowDown,S3e=window.HaloComponents.IconArrowLeft,P3e=window.HaloComponents.IconArrowRight,E3e=window.HaloComponents.IconEye,T3e=window.HaloComponents.IconEyeOff;window.HaloComponents.IconTeam;const wT=window.HaloComponents.IconAddCircle,R3e=window.HaloComponents.IconRefreshLine,O3e=window.HaloComponents.IconExternalLinkLine,k3e=window.HaloComponents.IconPages,kp=window.HaloComponents.VButton,A3e=window.HaloComponents.VCard,I3e=window.HaloComponents.VPagination,Pf=window.HaloComponents.VSpace,bT=window.HaloComponents.Dialog,M3e=window.HaloComponents.VEmpty,F3e=window.HaloComponents.VAvatar,r3=window.HaloComponents.VStatusDot,D3e=window.HaloComponents.VEntity,Ef=window.HaloComponents.VEntityField,N3e=window.HaloComponents.VLoading,H3e=window.HaloComponents.VPageHeader,$T=window.HaloComponents.Toast,B3e=window.Vue.computed,L3e=window.Vue.onMounted,di=window.Vue.ref,U3e=window.Vue.watch,j3e=window.VueRouter.onBeforeRouteLeave,xT=window.VueRouter.RouterLink,z3e=U_e({__name:"SinglePageList",setup(t){const{currentUserHasPermission:e}=To(),n=di({page:1,size:20,total:0,items:[],first:!0,last:!1,hasNext:!1,hasPrevious:!1,totalPages:0}),o=di(!1),a=di(!1),s=di(),r=di([]),i=di(!1),l=di(),c=async oe=>{var pe,he;try{clearInterval(l.value),oe!=null&&oe.mute||(o.value=!0);let Ne;const Se=["content.halo.run/deleted=false"];P.value&&(Ne=[P.value.metadata.name]),O.value.value!==void 0&&Se.push(`${$c.PUBLISHED}=${O.value.value}`),oe!=null&&oe.page&&(n.value.page=oe.page);const{data:qe}=await X.singlePage.listSinglePages({labelSelector:Se,page:n.value.page,size:n.value.size,visible:E.value.value,sort:(pe=I.value)==null?void 0:pe.sort,sortOrder:(he=I.value)==null?void 0:he.sortOrder,keyword:F.value,contributor:Ne});n.value=qe,n.value.items.filter(Z=>{var Ge;const{spec:me,metadata:He,status:Ie}=Z.page;return me.deleted||me.publish&&((Ge=He.labels)==null?void 0:Ge[$c.PUBLISHED])!=="true"||me.releaseSnapshot===me.headSnapshot&&(Ie==null?void 0:Ie.inProgress)}).length&&(l.value=setInterval(()=>{c({mute:!0})},3e3))}catch(Ne){console.error("Failed to fetch single pages",Ne)}finally{o.value=!1}};j3e(()=>{clearInterval(l.value)});const u=({page:oe,size:pe})=>{n.value.page=oe,n.value.size=pe,c()},d=async oe=>{const{data:pe}=await X.extension.singlePage.getcontentHaloRunV1alpha1SinglePage({name:oe.metadata.name});s.value=pe,a.value=!0},p=()=>{s.value=void 0,c({mute:!0})},f=async()=>{const{items:oe,hasPrevious:pe}=n.value,he=oe.findIndex(Ne=>{var Se;return Ne.page.metadata.name===((Se=s.value)==null?void 0:Se.metadata.name)});if(he>0){const{data:Ne}=await X.extension.singlePage.getcontentHaloRunV1alpha1SinglePage({name:oe[he-1].page.metadata.name});s.value=Ne;return}he===0&&pe&&(n.value.page--,await c(),s.value=n.value.items[n.value.items.length-1].page)},g=async()=>{const{items:oe,hasNext:pe}=n.value,he=oe.findIndex(Ne=>{var Se;return Ne.page.metadata.name===((Se=s.value)==null?void 0:Se.metadata.name)});if(he<oe.length-1){const{data:Ne}=await X.extension.singlePage.getcontentHaloRunV1alpha1SinglePage({name:oe[he+1].page.metadata.name});s.value=Ne;return}he===oe.length-1&&pe&&(n.value.page++,await c(),s.value=n.value.items[0].page)},v=oe=>{var pe;return oe.metadata.name===((pe=s.value)==null?void 0:pe.metadata.name)||r.value.includes(oe.metadata.name)},y=oe=>{const{checked:pe}=oe.target;pe?r.value=n.value.items.map(he=>he.page.metadata.name)||[]:r.value=[]},w=async oe=>{bT.warning({title:"确定要删除该自定义页面吗？",description:"该操作会将自定义页面放入回收站，后续可以从回收站恢复",confirmType:"danger",onConfirm:async()=>{const pe=ot(oe);pe.spec.deleted=!0,await X.extension.singlePage.updatecontentHaloRunV1alpha1SinglePage({name:oe.metadata.name,singlePage:pe}),await c(),$T.success("删除成功")}})},b=async()=>{bT.warning({title:"确定要删除选中的自定义页面吗？",description:"该操作会将自定义页面放入回收站，后续可以从回收站恢复",confirmType:"danger",onConfirm:async()=>{await Promise.all(r.value.map(oe=>{var he;const pe=(he=n.value.items.find(Ne=>Ne.page.metadata.name===oe))==null?void 0:he.page;return pe?(pe.spec.deleted=!0,X.extension.singlePage.updatecontentHaloRunV1alpha1SinglePage({name:pe.metadata.name,singlePage:pe})):Promise.resolve()})),await c(),r.value=[],$T.success("删除成功")}})},C=oe=>{const{labels:pe}=oe.metadata;return(pe==null?void 0:pe[$c.PUBLISHED])==="true"?"已发布":"未发布"},V=oe=>{var Se;const{spec:pe,status:he,metadata:Ne}=oe;return pe.publish&&((Se=Ne.labels)==null?void 0:Se[$c.PUBLISHED])!=="true"||pe.releaseSnapshot===pe.headSnapshot&&(he==null?void 0:he.inProgress)};U3e(r,oe=>{var pe;i.value=oe.length===((pe=n.value.items)==null?void 0:pe.length)}),L3e(c);const _=[{label:"全部",value:void 0},{label:"公开",value:"PUBLIC"},{label:"私有",value:"PRIVATE"}],x=[{label:"全部",value:void 0},{label:"已发布",value:!0},{label:"未发布",value:!1}],S=[{label:"较近发布",sort:"PUBLISH_TIME",sortOrder:!1},{label:"较早发布",sort:"PUBLISH_TIME",sortOrder:!0},{label:"较近创建",sort:"CREATE_TIME",sortOrder:!1},{label:"较早创建",sort:"CREATE_TIME",sortOrder:!0}],P=di(),E=di(_[0]),O=di(x[0]),I=di(),F=di("");function L(oe){E.value=oe,c({page:1})}const H=oe=>{P.value=oe,c({page:1})};function W(oe){O.value=oe,c({page:1})}function Y(oe){I.value=oe,c({page:1})}function U(){const oe=Ti("keywordInput");oe&&(F.value=oe._value),c({page:1})}function q(){F.value="",c({page:1})}const ye=B3e(()=>P.value||E.value.value||O.value.value!==void 0||I.value||F.value);function we(){P.value=void 0,E.value=_[0],O.value=x[0],I.value=void 0,F.value="",c({page:1})}return(oe,pe)=>{const he=gT("FormKit"),Ne=gT("FloatingDropdown"),Se=a3("tooltip"),qe=a3("permission"),Ke=a3("close-popper");return $n(),tc(Sf,null,[Wt(kD,{visible:a.value,"onUpdate:visible":pe[0]||(pe[0]=Z=>a.value=Z),"single-page":s.value,onClose:p},{actions:$t(()=>[Dt("span",{onClick:f},[Yo(Wt(Ct(S3e),null,null,512),[[Se,"上一项"]])]),Dt("span",{onClick:g},[Yo(Wt(Ct(P3e),null,null,512),[[Se,"下一项"]])])]),_:1},8,["visible","single-page"]),Wt(Ct(H3e),{title:"页面"},{icon:$t(()=>[Wt(Ct(k3e),{class:"mr-2 self-center"})]),actions:$t(()=>[Wt(Ct(Pf),null,{default:$t(()=>[Yo(($n(),ko(Ct(kp),{route:{name:"DeletedSinglePages"},size:"sm"},{default:$t(()=>[ci(" 回收站 ")]),_:1})),[[qe,["system:singlepages:view"]]]),Yo(($n(),ko(Ct(kp),{route:{name:"SinglePageEditor"},type:"secondary"},{icon:$t(()=>[Wt(Ct(wT),{class:"h-full w-full"})]),default:$t(()=>[ci(" 新建 ")]),_:1})),[[qe,["system:singlepages:manage"]]])]),_:1})]),_:1}),Dt("div",z_e,[Wt(Ct(A3e),{"body-class":["!p-0"]},{header:$t(()=>[Dt("div",G_e,[Dt("div",W_e,[Yo(($n(),tc("div",K_e,[Yo(Dt("input",{"onUpdate:modelValue":pe[1]||(pe[1]=Z=>i.value=Z),class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onChange:y},null,544),[[mT,i.value]])])),[[qe,["system:singlepages:manage"]]]),Dt("div",Y_e,[r.value.length?($n(),ko(Ct(Pf),{key:1},{default:$t(()=>[Wt(Ct(kp),{type:"danger",onClick:b},{default:$t(()=>[ci("删除")]),_:1})]),_:1})):($n(),tc("div",X_e,[Wt(he,{id:"keywordInput","outer-class":"!p-0",placeholder:"输入关键词搜索",type:"text",name:"keyword","model-value":F.value,onKeyup:j_e(U,["enter"])},null,8,["model-value","onKeyup"]),F.value?($n(),ko(Gn,{key:0,onClose:pe[2]||(pe[2]=Z=>q())},{default:$t(()=>[ci(" 关键词："+Qi(F.value),1)]),_:1})):ui("",!0),O.value.value!==void 0?($n(),ko(Gn,{key:1,onClose:pe[3]||(pe[3]=Z=>W(x[0]))},{default:$t(()=>[ci(" 状态："+Qi(O.value.label),1)]),_:1})):ui("",!0),E.value.value?($n(),ko(Gn,{key:2,onClose:pe[4]||(pe[4]=Z=>L(_[0]))},{default:$t(()=>[ci(" 可见性："+Qi(E.value.label),1)]),_:1})):ui("",!0),P.value?($n(),ko(Gn,{key:3,onClose:pe[5]||(pe[5]=Z=>H())},{default:$t(()=>{var Z;return[ci(" 作者："+Qi((Z=P.value)==null?void 0:Z.spec.displayName),1)]}),_:1})):ui("",!0),I.value?($n(),ko(Gn,{key:4,onClose:pe[6]||(pe[6]=Z=>Y())},{default:$t(()=>[ci(" 排序："+Qi(I.value.label),1)]),_:1})):ui("",!0),Ct(ye)?($n(),ko(T0,{key:5,onClick:we})):ui("",!0)]))]),Dt("div",Q_e,[Wt(Ct(Pf),{spacing:"lg"},{default:$t(()=>[Wt(Ne,null,{popper:$t(()=>[Dt("div",q_e,[Dt("ul",e3e,[($n(),tc(Sf,null,Cg(x,(Z,me)=>Yo(Dt("li",{key:me,class:s3([{"bg-gray-100":O.value.value===Z.value},"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900"]),onClick:He=>W(Z)},[Dt("span",n3e,Qi(Z.label),1)],10,t3e),[[Ke]])),64))])])]),default:$t(()=>[Dt("div",Z_e,[J_e,Dt("span",null,[Wt(Ct(Sw))])])]),_:1}),Wt(Ne,null,{popper:$t(()=>[Dt("div",s3e,[Dt("ul",r3e,[($n(),tc(Sf,null,Cg(_,(Z,me)=>Yo(Dt("li",{key:me,class:s3([{"bg-gray-100":E.value.value===Z.value},"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900"]),onClick:He=>L(Z)},[Dt("span",l3e,Qi(Z.label),1)],10,i3e),[[Ke]])),64))])])]),default:$t(()=>[Dt("div",o3e,[a3e,Dt("span",null,[Wt(Ct(Sw))])])]),_:1}),Wt(b$,{selected:P.value,"onUpdate:selected":pe[7]||(pe[7]=Z=>P.value=Z),onSelect:H},{default:$t(()=>[Dt("div",c3e,[u3e,Dt("span",null,[Wt(Ct(Sw))])])]),_:1},8,["selected"]),Wt(Ne,null,{popper:$t(()=>[Dt("div",h3e,[Dt("ul",f3e,[($n(),tc(Sf,null,Cg(S,(Z,me)=>Yo(Dt("li",{key:me,class:"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:He=>Y(Z)},[Dt("span",g3e,Qi(Z.label),1)],8,m3e),[[Ke]])),64))])])]),default:$t(()=>[Dt("div",d3e,[p3e,Dt("span",null,[Wt(Ct(Sw))])])]),_:1}),Dt("div",v3e,[Dt("div",{class:"group cursor-pointer rounded p-1 hover:bg-gray-200",onClick:pe[8]||(pe[8]=Z=>c())},[Yo(Wt(Ct(R3e),{class:s3([{"animate-spin text-gray-900":o.value},"h-4 w-4 text-gray-600 group-hover:text-gray-900"])},null,8,["class"]),[[Se,"刷新"]])])])]),_:1})])])])]),footer:$t(()=>[Dt("div",C3e,[Wt(Ct(I3e),{page:n.value.page,size:n.value.size,total:n.value.total,"size-options":[20,30,50,100],onChange:u},null,8,["page","size","total"])])]),default:$t(()=>[o.value?($n(),ko(Ct(N3e),{key:0})):n.value.items.length?($n(),ko(vT,{key:2,appear:"",name:"fade"},{default:$t(()=>[Dt("ul",y3e,[($n(!0),tc(Sf,null,Cg(n.value.items,(Z,me)=>($n(),tc("li",{key:me},[Wt(Ct(D3e),{"is-selected":v(Z.page)},yT({start:$t(()=>[Wt(Ct(Ef),{title:Z.page.spec.title,route:{name:"SinglePageEditor",query:{name:Z.page.metadata.name}}},{extra:$t(()=>[Wt(Ct(Pf),null,{default:$t(()=>{var He,Ie,Ge,Fe;return[(He=Z.page.status)!=null&&He.inProgress?Yo(($n(),ko(Ct(xT),{key:0,to:{name:"SinglePageEditor",query:{name:Z.page.metadata.name}},class:"flex items-center"},{default:$t(()=>[Wt(Ct(r3),{state:"success",animate:""})]),_:2},1032,["to"])),[[Se,"当前有内容已保存，但还未发布。"]]):ui("",!0),(Ie=Z.page.status)!=null&&Ie.permalink?($n(),tc("a",{key:1,target:"_blank",href:(Ge=Z.page.status)==null?void 0:Ge.permalink,title:(Fe=Z.page.status)==null?void 0:Fe.permalink,class:"hidden text-gray-600 transition-all hover:text-gray-900 group-hover:inline-block"},[Wt(Ct(O3e),{class:"h-3.5 w-3.5"})],8,b3e)):ui("",!0)]}),_:2},1024)]),description:$t(()=>[Dt("div",$3e,[Wt(Ct(Pf),{class:"w-full"},{default:$t(()=>[Dt("span",x3e," 访问量 "+Qi(Z.stats.visit||0),1),Dt("span",_3e," 评论 "+Qi(Z.stats.totalComment||0),1)]),_:2},1024)])]),_:2},1032,["title","route"])]),end:$t(()=>{var He;return[Wt(Ct(Ef),null,{description:$t(()=>[($n(!0),tc(Sf,null,Cg(Z.contributors,(Ie,Ge)=>($n(),ko(Ct(xT),{key:Ge,to:{name:"UserDetail",params:{name:Ie.name}},class:"flex items-center"},{default:$t(()=>[Yo(Wt(Ct(F3e),{size:"xs",src:Ie.avatar,alt:Ie.displayName,circle:""},null,8,["src","alt"]),[[Se,Ie.displayName]])]),_:2},1032,["to"]))),128))]),_:2},1024),Wt(Ct(Ef),{description:C(Z.page)},yT({_:2},[V(Z.page)?{name:"description",fn:$t(()=>[Wt(Ct(r3),{text:"发布中",animate:""})]),key:"0"}:void 0]),1032,["description"]),Wt(Ct(Ef),null,{description:$t(()=>[Z.page.spec.visible==="PUBLIC"?Yo(($n(),ko(Ct(E3e),{key:0,class:"cursor-pointer text-sm transition-all hover:text-blue-600"},null,512)),[[Se,"公开访问"]]):ui("",!0),Z.page.spec.visible==="PRIVATE"?Yo(($n(),ko(Ct(T3e),{key:1,class:"cursor-pointer text-sm transition-all hover:text-blue-600"},null,512)),[[Se,"私有访问"]]):ui("",!0),ui("",!0)]),_:2},1024),(He=Z==null?void 0:Z.page)!=null&&He.spec.deleted?($n(),ko(Ct(Ef),{key:0},{description:$t(()=>[Yo(Wt(Ct(r3),{state:"warning",animate:""},null,512),[[Se,"删除中"]])]),_:1})):ui("",!0),Wt(Ct(Ef),null,{description:$t(()=>[Dt("span",V3e,Qi(Ct(Ma)(Z.page.spec.publishTime)),1)]),_:2},1024)]}),_:2},[Ct(e)(["system:singlepages:manage"])?{name:"checkbox",fn:$t(()=>[Yo(Dt("input",{"onUpdate:modelValue":pe[9]||(pe[9]=He=>r.value=He),value:Z.page.metadata.name,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"},null,8,w3e),[[mT,r.value]])]),key:"0"}:void 0,Ct(e)(["system:singlepages:manage"])?{name:"dropdownItems",fn:$t(()=>[Yo(($n(),ko(Ct(kp),{block:"",type:"secondary",onClick:He=>d(Z.page)},{default:$t(()=>[ci(" 设置 ")]),_:2},1032,["onClick"])),[[Ke]]),Yo(($n(),ko(Ct(kp),{block:"",type:"danger",onClick:He=>w(Z.page)},{default:$t(()=>[ci(" 删除 ")]),_:2},1032,["onClick"])),[[Ke]])]),key:"1"}:void 0]),1032,["is-selected"])]))),128))])]),_:1})):($n(),ko(vT,{key:1,appear:"",name:"fade"},{default:$t(()=>[Wt(Ct(M3e),{message:"你可以尝试刷新或者新建页面",title:"当前没有页面"},{actions:$t(()=>[Wt(Ct(Pf),null,{default:$t(()=>[Wt(Ct(kp),{onClick:c},{default:$t(()=>[ci("刷新")]),_:1}),Yo(($n(),ko(Ct(kp),{route:{name:"SinglePageEditor"},type:"primary"},{icon:$t(()=>[Wt(Ct(wT),{class:"h-full w-full"})]),default:$t(()=>[ci(" 新建页面 ")]),_:1})),[[qe,["system:singlepages:manage"]]])]),_:1})]),_:1})]),_:1}))]),_:1})])],64)}}}),G3e=window.Vue.defineComponent,on=window.Vue.unref,so=window.Vue.createVNode,lu=window.Vue.createTextVNode,cn=window.Vue.withCtx,i3=window.Vue.resolveDirective,sa=window.Vue.openBlock,pi=window.Vue.createBlock,nc=window.Vue.withDirectives,_T=window.Vue.vModelCheckbox,Gs=window.Vue.createElementVNode,Tf=window.Vue.createElementBlock,W3e=window.Vue.resolveComponent,K3e=window.Vue.withKeys,Pw=window.Vue.toDisplayString,l3=window.Vue.createCommentVNode,Y3e=window.Vue.normalizeClass,VT=window.Vue.Transition,CT=window.Vue.renderList,c3=window.Vue.Fragment,X3e=window.Vue.createSlots,Q3e={class:"m-0 md:m-4"},Z3e={class:"block w-full bg-gray-50 px-4 py-3"},J3e={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},q3e={class:"mr-4 hidden items-center sm:flex"},eVe={class:"flex w-full flex-1 items-center sm:w-auto"},tVe={key:0,class:"flex items-center gap-2"},nVe={class:"mt-4 flex sm:mt-0"},oVe={class:"flex flex-row gap-2"},aVe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},sVe=["value"],rVe={class:"text-xs text-gray-500"},iVe={class:"text-xs text-gray-500"},lVe={class:"truncate text-xs tabular-nums text-gray-500"},cVe={class:"bg-white sm:flex sm:items-center sm:justify-end"},uVe=window.HaloComponents.IconAddCircle,dVe=window.HaloComponents.IconRefreshLine,pVe=window.HaloComponents.IconDeleteBin,Ju=window.HaloComponents.VButton,hVe=window.HaloComponents.VCard,fVe=window.HaloComponents.VPagination,Sg=window.HaloComponents.VSpace,Ew=window.HaloComponents.Dialog,mVe=window.HaloComponents.VEmpty,gVe=window.HaloComponents.VAvatar,vVe=window.HaloComponents.VEntity,Pg=window.HaloComponents.VEntityField,yVe=window.HaloComponents.VPageHeader,ST=window.HaloComponents.VStatusDot,wVe=window.HaloComponents.VLoading,Tw=window.HaloComponents.Toast,bVe=window.Vue.onMounted,Rf=window.Vue.ref,$Ve=window.Vue.watch,xVe=window.VueRouter.onBeforeRouteLeave,_Ve=window.VueRouter.RouterLink,VVe=G3e({__name:"DeletedSinglePageList",setup(t){const{currentUserHasPermission:e}=To(),n=Rf({page:1,size:50,total:0,items:[],first:!0,last:!1,hasNext:!1,hasPrevious:!1,totalPages:0}),o=Rf(!1),a=Rf([]),s=Rf(!1),r=Rf(),i=Rf(""),l=async b=>{try{clearInterval(r.value),b!=null&&b.mute||(o.value=!0),b!=null&&b.page&&(n.value.page=b.page);const{data:C}=await X.singlePage.listSinglePages({labelSelector:["content.halo.run/deleted=true"],page:n.value.page,size:n.value.size,keyword:i.value});n.value=C,n.value.items.filter(_=>!!_.page.metadata.deletionTimestamp||!_.page.spec.deleted).length&&(r.value=setInterval(()=>{l({mute:!0})},3e3))}catch(C){console.error("Failed to fetch deleted single pages",C)}finally{o.value=!1}};xVe(()=>{clearInterval(r.value)});const c=({page:b,size:C})=>{n.value.page=b,n.value.size=C,l()},u=b=>a.value.includes(b.metadata.name),d=b=>{const{checked:C}=b.target;C?a.value=n.value.items.map(V=>V.page.metadata.name)||[]:a.value=[]},p=async b=>{Ew.warning({title:"确认要永久删除该自定义页面吗？",description:"删除之后将无法恢复",confirmType:"danger",onConfirm:async()=>{await X.extension.singlePage.deletecontentHaloRunV1alpha1SinglePage({name:b.metadata.name}),await l(),Tw.success("删除成功")}})},f=async()=>{Ew.warning({title:"确定要确认永久删除选中的自定义页面吗？",description:"删除之后将无法恢复",confirmType:"danger",onConfirm:async()=>{await Promise.all(a.value.map(b=>X.extension.singlePage.deletecontentHaloRunV1alpha1SinglePage({name:b}))),await l(),a.value=[],Tw.success("删除成功")}})},g=async b=>{Ew.warning({title:"确认要恢复该自定义页面吗？",description:"该操作会将自定义页面恢复到被删除之前的状态",onConfirm:async()=>{const C=ot(b);C.spec.deleted=!1,await X.extension.singlePage.updatecontentHaloRunV1alpha1SinglePage({name:C.metadata.name,singlePage:C}),await l(),Tw.success("恢复成功")}})},v=async()=>{Ew.warning({title:"确认要恢复选中的自定义页面吗？",description:"该操作会将自定义页面恢复到被删除之前的状态",onConfirm:async()=>{await Promise.all(a.value.map(b=>{var V;const C=(V=n.value.items.find(_=>_.page.metadata.name===b))==null?void 0:V.page;return C?(C.spec.deleted=!1,X.extension.singlePage.updatecontentHaloRunV1alpha1SinglePage({name:C.metadata.name,singlePage:C})):Promise.resolve()})),await l(),a.value=[],Tw.success("恢复成功")}})};$Ve(a,b=>{var C;s.value=b.length===((C=n.value.items)==null?void 0:C.length)}),bVe(l);function y(){const b=Ti("keywordInput");b&&(i.value=b._value),l({page:1})}function w(){i.value="",l({page:1})}return(b,C)=>{const V=W3e("FormKit"),_=i3("permission"),x=i3("tooltip"),S=i3("close-popper");return sa(),Tf(c3,null,[so(on(yVe),{title:"自定义页面回收站"},{icon:cn(()=>[so(on(pVe),{class:"mr-2 self-center text-green-600"})]),actions:cn(()=>[so(on(Sg),null,{default:cn(()=>[so(on(Ju),{route:{name:"SinglePages"},size:"sm"},{default:cn(()=>[lu("返回")]),_:1}),nc((sa(),pi(on(Ju),{route:{name:"SinglePageEditor"},type:"secondary"},{icon:cn(()=>[so(on(uVe),{class:"h-full w-full"})]),default:cn(()=>[lu(" 新建 ")]),_:1})),[[_,["system:singlepages:manage"]]])]),_:1})]),_:1}),Gs("div",Q3e,[so(on(hVe),{"body-class":["!p-0"]},{header:cn(()=>[Gs("div",Z3e,[Gs("div",J3e,[nc((sa(),Tf("div",q3e,[nc(Gs("input",{"onUpdate:modelValue":C[0]||(C[0]=P=>s.value=P),class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onChange:d},null,544),[[_T,s.value]])])),[[_,["system:singlepages:manage"]]]),Gs("div",eVe,[a.value.length?(sa(),pi(on(Sg),{key:1},{default:cn(()=>[so(on(Ju),{type:"danger",onClick:f},{default:cn(()=>[lu(" 永久删除 ")]),_:1}),so(on(Ju),{type:"default",onClick:v},{default:cn(()=>[lu(" 恢复 ")]),_:1})]),_:1})):(sa(),Tf("div",tVe,[so(V,{id:"keywordInput","outer-class":"!p-0",placeholder:"输入关键词搜索",type:"text",name:"keyword","model-value":i.value,onKeyup:K3e(y,["enter"])},null,8,["model-value","onKeyup"]),i.value?(sa(),pi(Gn,{key:0,onClose:C[1]||(C[1]=P=>w())},{default:cn(()=>[lu(" 关键词："+Pw(i.value),1)]),_:1})):l3("",!0)]))]),Gs("div",nVe,[so(on(Sg),{spacing:"lg"},{default:cn(()=>[Gs("div",oVe,[Gs("div",{class:"group cursor-pointer rounded p-1 hover:bg-gray-200",onClick:C[2]||(C[2]=P=>l())},[so(on(dVe),{class:Y3e([{"animate-spin text-gray-900":o.value},"h-4 w-4 text-gray-600 group-hover:text-gray-900"])},null,8,["class"])])])]),_:1})])])])]),footer:cn(()=>[Gs("div",cVe,[so(on(fVe),{page:n.value.page,size:n.value.size,total:n.value.total,"size-options":[20,30,50,100],onChange:c},null,8,["page","size","total"])])]),default:cn(()=>[o.value?(sa(),pi(on(wVe),{key:0})):n.value.items.length?(sa(),pi(VT,{key:2,appear:"",name:"fade"},{default:cn(()=>[Gs("ul",aVe,[(sa(!0),Tf(c3,null,CT(n.value.items,(P,E)=>(sa(),Tf("li",{key:E},[so(on(vVe),{"is-selected":u(P.page)},X3e({start:cn(()=>[so(on(Pg),{title:P.page.spec.title},{description:cn(()=>[so(on(Sg),null,{default:cn(()=>[Gs("span",rVe," 访问量 "+Pw(P.stats.visit||0),1),Gs("span",iVe," 评论 "+Pw(P.stats.totalComment||0),1)]),_:2},1024)]),_:2},1032,["title"])]),end:cn(()=>{var O,I;return[so(on(Pg),null,{description:cn(()=>[(sa(!0),Tf(c3,null,CT(P.contributors,(F,L)=>(sa(),pi(on(_Ve),{key:L,to:{name:"UserDetail",params:{name:F.name}},class:"flex items-center"},{default:cn(()=>[nc(so(on(gVe),{size:"xs",src:F.avatar,alt:F.displayName,circle:""},null,8,["src","alt"]),[[x,F.displayName]])]),_:2},1032,["to"]))),128))]),_:2},1024),(O=P==null?void 0:P.page)!=null&&O.spec.deleted?l3("",!0):(sa(),pi(on(Pg),{key:0},{description:cn(()=>[nc(so(on(ST),{state:"success",animate:""},null,512),[[x,"恢复中"]])]),_:1})),(I=P==null?void 0:P.page)!=null&&I.metadata.deletionTimestamp?(sa(),pi(on(Pg),{key:1},{description:cn(()=>[nc(so(on(ST),{state:"warning",animate:""},null,512),[[x,"删除中"]])]),_:1})):l3("",!0),so(on(Pg),null,{description:cn(()=>[Gs("span",lVe,Pw(on(Ma)(P.page.spec.publishTime)),1)]),_:2},1024)]}),_:2},[on(e)(["system:singlepages:manage"])?{name:"checkbox",fn:cn(()=>[nc(Gs("input",{"onUpdate:modelValue":C[3]||(C[3]=O=>a.value=O),value:P.page.metadata.name,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"},null,8,sVe),[[_T,a.value]])]),key:"0"}:void 0,on(e)(["system:singlepages:manage"])?{name:"dropdownItems",fn:cn(()=>[nc((sa(),pi(on(Ju),{block:"",type:"danger",onClick:O=>p(P.page)},{default:cn(()=>[lu(" 永久删除 ")]),_:2},1032,["onClick"])),[[S]]),nc((sa(),pi(on(Ju),{block:"",type:"default",onClick:O=>g(P.page)},{default:cn(()=>[lu(" 恢复 ")]),_:2},1032,["onClick"])),[[S]])]),key:"1"}:void 0]),1032,["is-selected"])]))),128))])]),_:1})):(sa(),pi(VT,{key:1,appear:"",name:"fade"},{default:cn(()=>[so(on(mVe),{message:"你可以尝试刷新或者返回自定义页面管理",title:"没有自定义页面被放入回收站"},{actions:cn(()=>[so(on(Sg),null,{default:cn(()=>[so(on(Ju),{onClick:l},{default:cn(()=>[lu("刷新")]),_:1}),nc((sa(),pi(on(Ju),{route:{name:"SinglePages"},type:"primary"},{default:cn(()=>[lu(" 返回 ")]),_:1})),[[_,["system:singlepages:view"]]])]),_:1})]),_:1})]),_:1}))]),_:1})])],64)}}}),CVe=window.Vue.defineComponent,fs=window.Vue.unref,oc=window.Vue.createVNode,Rw=window.Vue.openBlock,u3=window.Vue.createBlock,Ow=window.Vue.createCommentVNode,d3=window.Vue.createTextVNode,cu=window.Vue.withCtx,SVe=window.Vue.resolveDynamicComponent,PVe=window.Vue.createElementVNode,EVe=window.Vue.Fragment,TVe=window.Vue.createElementBlock,RVe={class:"editor border-t",style:{height:"calc(100vh - 3.5rem)"}},OVe=window.HaloComponents.VPageHeader,kVe=window.HaloComponents.IconPages,AVe=window.HaloComponents.IconSettings,IVe=window.HaloComponents.IconSendPlaneFill,MVe=window.HaloComponents.VSpace,p3=window.HaloComponents.VButton,FVe=window.HaloComponents.IconSave,kw=window.HaloComponents.Toast,DVe=window.HaloComponents.Dialog,Aw=window.Vue.computed,NVe=window.Vue.nextTick,HVe=window.Vue.onMounted,h3=window.Vue.provide,Of=window.Vue.ref,BVe=window.Vue.toRef,PT=window.VueUse.useRouteQuery,LVe=window.VueRouter.useRouter,UVe=window.VueUse.useLocalStorage,jVe=CVe({__name:"SinglePageEditor",setup(t){const e=LVe(),{editorProviders:n}=DS(),o=Of(),a=UVe("editor-provider-name",""),s=E=>{o.value=E,a.value=E.name,i.value.page.metadata.annotations={"content.halo.run/preferred-editor":E.name}},r={page:{spec:{title:"",slug:"",template:"",cover:"",deleted:!1,publish:!1,publishTime:"",pinned:!1,allowComment:!0,visible:"PUBLIC",priority:0,excerpt:{autoGenerate:!0,raw:""},htmlMetas:[]},apiVersion:"content.halo.run/v1alpha1",kind:"SinglePage",metadata:{name:w0(),annotations:{}}},content:{raw:"",content:"",rawType:"HTML"}},i=Of(ot(r)),l=Of(!1),c=Of(!1),u=Of(!1),d=Of(!1),p=Aw(()=>!!i.value.page.metadata.creationTimestamp);h3("owner",Aw(()=>i.value.page.spec.owner)),h3("publishTime",Aw(()=>i.value.page.spec.publishTime)),h3("permalink",Aw(()=>{var E;return(E=i.value.page.status)==null?void 0:E.permalink}));const f=PT("name"),g=async()=>{try{if(l.value=!0,i.value.page.spec.title||(i.value.page.spec.title="无标题页面"),i.value.page.spec.slug||(i.value.page.spec.slug=new Date().getTime().toString()),p.value){const{data:E}=await X.singlePage.updateSinglePageContent({name:i.value.page.metadata.name,content:i.value.content});i.value.page=E}else{const{data:E}=await X.singlePage.draftSinglePage({singlePageRequest:i.value});i.value.page=E,f.value=E.metadata.name}kw.success("保存成功"),P(f.value),await b()}catch(E){console.error("Failed to save single page",E),kw.error("保存失败，请重试")}finally{l.value=!1}},v=PT("returnToView"),y=async()=>{try{if(c.value=!0,p.value){const{name:E}=i.value.page.metadata,{permalink:O}=i.value.page.status||{};await X.singlePage.updateSinglePageContent({name:E,content:i.value.content}),await X.singlePage.publishSinglePage({name:E}),v.value&&O?window.location.href=O:e.push({name:"SinglePages"})}else i.value.page.spec.publish=!0,await X.singlePage.draftSinglePage({singlePageRequest:i.value}),e.push({name:"SinglePages"});kw.success("发布成功"),P(f.value)}catch(E){console.error("Failed to publish single page",E),kw.error("发布失败，请重试")}finally{c.value=!1}},w=()=>{p.value?y():u.value=!0},b=async()=>{if(!i.value.page.spec.headSnapshot)return;const{data:E}=await X.content.obtainSnapshotContent({snapshotName:i.value.page.spec.headSnapshot});if(!o.value){const I=n.value.find(F=>{var L;return F.name===((L=i.value.page.metadata.annotations)==null?void 0:L["content.halo.run/preferred-editor"])})||n.value.find(F=>F.rawType===E.rawType);if(I){o.value=I,i.value.page.metadata.annotations={...i.value.page.metadata.annotations,"content.halo.run/preferred-editor":I.name};const{data:F}=await X.extension.singlePage.updatecontentHaloRunV1alpha1SinglePage({name:i.value.page.metadata.name,singlePage:i.value.page});i.value.page=F}else DVe.warning({title:"警告",description:`未找到符合 ${E.rawType} 格式的编辑器，请检查是否已安装编辑器插件`,onConfirm:()=>{e.back()}});await NVe()}i.value.content=Object.assign(i.value.content,E)},C=async()=>{const{data:E}=await X.extension.singlePage.getcontentHaloRunV1alpha1SinglePage({name:i.value.page.metadata.name});i.value.page=E,u.value=!0},V=E=>{p.value||(f.value=E.metadata.name),i.value.page=E,u.value=!1,p.value||g()},_=E=>{i.value.page=E,u.value=!1,y()};HVe(async()=>{if(f.value){const{data:E}=await X.extension.singlePage.getcontentHaloRunV1alpha1SinglePage({name:f.value});i.value.page=E,await b()}else{const E=n.value.find(O=>O.name===a.value)||n.value[0];E&&(o.value=E,i.value.content.rawType=E.rawType),i.value.page.metadata.annotations={"content.halo.run/preferred-editor":E.name}}S()});const{handleSetContentCache:x,handleResetCache:S,handleClearCache:P}=vD("singlePage-content-cache",f.value,BVe(i.value.content,"raw"));return(E,O)=>(Rw(),TVe(EVe,null,[oc(kD,{visible:u.value,"onUpdate:visible":O[0]||(O[0]=I=>u.value=I),"single-page":i.value.page,"publish-support":!fs(p),"only-emit":!fs(p),onSaved:V,onPublished:_},null,8,["visible","single-page","publish-support","only-emit"]),oc(gD,{visible:d.value,"onUpdate:visible":O[1]||(O[1]=I=>d.value=I)},null,8,["visible"]),oc(fs(OVe),{title:"自定义页面"},{icon:cu(()=>[oc(fs(kVe),{class:"mr-2 self-center"})]),actions:cu(()=>[oc(fs(MVe),null,{default:cu(()=>[fs(n).length>1&&!fs(p)?(Rw(),u3(wD,{key:0,provider:o.value,onSelect:s},null,8,["provider"])):Ow("",!0),Ow("",!0),oc(fs(p3),{loading:l.value,size:"sm",type:"default",onClick:g},{icon:cu(()=>[oc(fs(FVe),{class:"h-full w-full"})]),default:cu(()=>[d3(" 保存 ")]),_:1},8,["loading"]),fs(p)?(Rw(),u3(fs(p3),{key:2,size:"sm",type:"default",onClick:C},{icon:cu(()=>[oc(fs(AVe),{class:"h-full w-full"})]),default:cu(()=>[d3(" 设置 ")]),_:1})):Ow("",!0),oc(fs(p3),{type:"secondary",loading:c.value,onClick:w},{icon:cu(()=>[oc(fs(IVe),{class:"h-full w-full"})]),default:cu(()=>[d3(" 发布 ")]),_:1},8,["loading"])]),_:1})]),_:1}),PVe("div",RVe,[o.value?(Rw(),u3(SVe(o.value.component),{key:0,raw:i.value.content.raw,"onUpdate:raw":O[3]||(O[3]=I=>i.value.content.raw=I),content:i.value.content.content,"onUpdate:content":O[4]||(O[4]=I=>i.value.content.content=I),class:"h-full",onUpdate:fs(x)},null,40,["raw","content","onUpdate"])):Ow("",!0)])],64))}}),zVe=window.Vue.defineComponent,ET=window.Vue.unref,GVe=window.Vue.createVNode,pm=window.Vue.createElementVNode,WVe=window.Vue.toDisplayString,KVe=window.Vue.withCtx,YVe=window.Vue.openBlock,XVe=window.Vue.createBlock,QVe={class:"flex h-full"},ZVe={class:"flex items-center gap-4"},JVe={class:"hidden rounded-full bg-gray-100 p-2.5 text-gray-600 sm:block"},qVe=pm("span",{class:"text-sm text-gray-500"},"页面",-1),eCe={class:"text-2xl font-medium text-gray-900"},tCe=window.HaloComponents.VCard,nCe=window.HaloComponents.IconPages,oCe=window.Vue.onMounted,aCe=window.Vue.ref,sCe=zVe({__name:"SinglePageStatsWidget",setup(t){const e=aCe(0);return oCe(async()=>{const{data:o}=await X.singlePage.listSinglePages({labelSelector:[`${$c.DELETED}=false`,`${$c.PUBLISHED}=true`],page:0,size:0});e.value=o.total}),(o,a)=>(YVe(),XVe(ET(tCe),{class:"h-full","body-class":["h-full"]},{default:KVe(()=>[pm("div",QVe,[pm("div",ZVe,[pm("span",JVe,[GVe(ET(nCe),{class:"h-5 w-5"})]),pm("div",null,[qVe,pm("p",eCe,WVe(e.value||0),1)])])])]),_:1}))}}),rCe=window.HaloComponents.IconPages,iCe=window.Vue.markRaw,lCe={components:{SinglePageStatsWidget:sCe},routes:[{path:"/single-pages",component:Es,children:[{path:"",name:"SinglePages",component:z3e,meta:{title:"页面",searchable:!0,permissions:["system:singlepages:view"],menu:{name:"页面",group:"content",icon:iCe(rCe),priority:1,mobile:!0}}},{path:"deleted",name:"DeletedSinglePages",component:VVe,meta:{title:"页面回收站",searchable:!0,permissions:["system:singlepages:view"]}},{path:"editor",name:"SinglePageEditor",component:jVe,meta:{title:"页面编辑",searchable:!0,permissions:["system:singlepages:manage"]}}]}]};function AD(t){return t&&t.__esModule?t.default:t}function sl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _$,gt,ID,Jv,MD,TT,k2={},FD=[],cCe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Rd(t,e){for(var n in e)t[n]=e[n];return t}function DD(t){var e=t.parentNode;e&&e.removeChild(t)}function f4(t,e,n){var o,a,s,r={};for(s in e)s=="key"?o=e[s]:s=="ref"?a=e[s]:r[s]=e[s];if(arguments.length>2&&(r.children=arguments.length>3?_$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)r[s]===void 0&&(r[s]=t.defaultProps[s]);return Tb(t,r,o,a,null)}function Tb(t,e,n,o,a){var s={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++ID};return a==null&&gt.vnode!=null&&gt.vnode(s),s}function uu(){return{current:null}}function Hm(t){return t.children}function Cc(t,e){this.props=t,this.context=e}function Bm(t,e){if(e==null)return t.__?Bm(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Bm(t):null}function ND(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ND(t)}}function RT(t){(!t.__d&&(t.__d=!0)&&Jv.push(t)&&!A2.__r++||TT!==gt.debounceRendering)&&((TT=gt.debounceRendering)||MD)(A2)}function A2(){for(var t;A2.__r=Jv.length;)t=Jv.sort(function(e,n){return e.__v.__b-n.__v.__b}),Jv=[],t.some(function(e){var n,o,a,s,r,i;e.__d&&(r=(s=(n=e).__v).__e,(i=n.__P)&&(o=[],(a=Rd({},s)).__v=s.__v+1,US(i,s,a,n.__n,i.ownerSVGElement!==void 0,s.__h!=null?[r]:null,o,r??Bm(s),s.__h),UD(o,s),s.__e!=r&&ND(s)))})}function HD(t,e,n,o,a,s,r,i,l,c){var u,d,p,f,g,v,y,w=o&&o.__k||FD,b=w.length;for(n.__k=[],u=0;u<e.length;u++)if((f=n.__k[u]=(f=e[u])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?Tb(null,f,null,null,f):Array.isArray(f)?Tb(Hm,{children:f},null,null,null):f.__b>0?Tb(f.type,f.props,f.key,null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(p=w[u])===null||p&&f.key==p.key&&f.type===p.type)w[u]=void 0;else for(d=0;d<b;d++){if((p=w[d])&&f.key==p.key&&f.type===p.type){w[d]=void 0;break}p=null}US(t,f,p=p||k2,a,s,r,i,l,c),g=f.__e,(d=f.ref)&&p.ref!=d&&(y||(y=[]),p.ref&&y.push(p.ref,null,f),y.push(d,f.__c||g,f)),g!=null?(v==null&&(v=g),typeof f.type=="function"&&f.__k===p.__k?f.__d=l=BD(f,l,t):l=LD(t,f,p,w,g,l),typeof n.type=="function"&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=t&&(l=Bm(p))}for(n.__e=v,u=b;u--;)w[u]!=null&&(typeof n.type=="function"&&w[u].__e!=null&&w[u].__e==n.__d&&(n.__d=Bm(o,u+1)),zD(w[u],w[u]));if(y)for(u=0;u<y.length;u++)jD(y[u],y[++u],y[++u])}function BD(t,e,n){for(var o,a=t.__k,s=0;a&&s<a.length;s++)(o=a[s])&&(o.__=t,e=typeof o.type=="function"?BD(o,e,n):LD(n,o,o,a,o.__e,e));return e}function I2(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){I2(n,e)}):e.push(t)),e}function LD(t,e,n,o,a,s){var r,i,l;if(e.__d!==void 0)r=e.__d,e.__d=void 0;else if(n==null||a!=s||a.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(a),r=null;else{for(i=s,l=0;(i=i.nextSibling)&&l<o.length;l+=2)if(i==a)break e;t.insertBefore(a,s),r=s}return r!==void 0?r:a.nextSibling}function uCe(t,e,n,o,a){var s;for(s in n)s==="children"||s==="key"||s in e||M2(t,s,null,n[s],o);for(s in e)a&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||M2(t,s,e[s],n[s],o)}function OT(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||cCe.test(e)?n:n+"px"}function M2(t,e,n,o,a){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||OT(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||OT(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?o||t.addEventListener(e,s?AT:kT,s):t.removeEventListener(e,s?AT:kT,s);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function kT(t){this.l[t.type+!1](gt.event?gt.event(t):t)}function AT(t){this.l[t.type+!0](gt.event?gt.event(t):t)}function US(t,e,n,o,a,s,r,i,l){var c,u,d,p,f,g,v,y,w,b,C,V=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,i=e.__e=n.__e,e.__h=null,s=[i]),(c=gt.__b)&&c(e);try{e:if(typeof V=="function"){if(y=e.props,w=(c=V.contextType)&&o[c.__c],b=c?w?w.props.value:c.__:o,n.__c?v=(u=e.__c=n.__c).__=u.__E:("prototype"in V&&V.prototype.render?e.__c=u=new V(y,b):(e.__c=u=new Cc(y,b),u.constructor=V,u.render=pCe),w&&w.sub(u),u.props=y,u.state||(u.state={}),u.context=b,u.__n=o,d=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),V.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Rd({},u.__s)),Rd(u.__s,V.getDerivedStateFromProps(y,u.__s))),p=u.props,f=u.state,d)V.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(V.getDerivedStateFromProps==null&&y!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,b),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,b)===!1||e.__v===n.__v){u.props=y,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(_){_&&(_.__=e)}),u.__h.length&&r.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,b),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,f,g)})}u.context=b,u.props=y,u.state=u.__s,(c=gt.__r)&&c(e),u.__d=!1,u.__v=e,u.__P=t,c=u.render(u.props,u.state,u.context),u.state=u.__s,u.getChildContext!=null&&(o=Rd(Rd({},o),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(p,f)),C=c!=null&&c.type===Hm&&c.key==null?c.props.children:c,HD(t,Array.isArray(C)?C:[C],e,n,o,a,s,r,i,l),u.base=e.__e,e.__h=null,u.__h.length&&r.push(u),v&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=dCe(n.__e,e,n,o,a,s,r,l);(c=gt.diffed)&&c(e)}catch(_){e.__v=null,(l||s!=null)&&(e.__e=i,e.__h=!!l,s[s.indexOf(i)]=null),gt.__e(_,e,n)}}function UD(t,e){gt.__c&&gt.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(o){o.call(n)})}catch(o){gt.__e(o,n.__v)}})}function dCe(t,e,n,o,a,s,r,i){var l,c,u,d=n.props,p=e.props,f=e.type,g=0;if(f==="svg"&&(a=!0),s!=null){for(;g<s.length;g++)if((l=s[g])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){t=l,s[g]=null;break}}if(t==null){if(f===null)return document.createTextNode(p);t=a?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),s=null,i=!1}if(f===null)d===p||i&&t.data===p||(t.data=p);else{if(s=s&&_$.call(t.childNodes),c=(d=n.props||k2).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!i){if(s!=null)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(uCe(t,p,d,a,i),u)e.__k=[];else if(g=e.props.children,HD(t,Array.isArray(g)?g:[g],e,n,o,a&&f!=="foreignObject",s,r,s?s[0]:n.__k&&Bm(n,0),i),s!=null)for(g=s.length;g--;)s[g]!=null&&DD(s[g]);i||("value"in p&&(g=p.value)!==void 0&&(g!==d.value||g!==t.value||f==="progress"&&!g)&&M2(t,"value",g,d.value,!1),"checked"in p&&(g=p.checked)!==void 0&&g!==t.checked&&M2(t,"checked",g,d.checked,!1))}return t}function jD(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(o){gt.__e(o,n)}}function zD(t,e,n){var o,a;if(gt.unmount&&gt.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||jD(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){gt.__e(s,e)}o.base=o.__P=null}if(o=t.__k)for(a=0;a<o.length;a++)o[a]&&zD(o[a],e,typeof t.type!="function");n||t.__e==null||DD(t.__e),t.__e=t.__d=void 0}function pCe(t,e,n){return this.constructor(t,n)}function GD(t,e,n){var o,a,s;gt.__&&gt.__(t,e),a=(o=typeof n=="function")?null:n&&n.__k||e.__k,s=[],US(e,t=(!o&&n||e).__k=f4(Hm,null,[t]),a||k2,k2,e.ownerSVGElement!==void 0,!o&&n?[n]:a?null:e.firstChild?_$.call(e.childNodes):null,s,!o&&n?n:a?a.__e:e.firstChild,o),UD(s,t)}_$=FD.slice,gt={__e:function(t,e){for(var n,o,a;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),a=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),a=n.__d),a)return n.__E=n}catch(s){t=s}throw t}},ID=0,Cc.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Rd({},this.state),typeof t=="function"&&(t=t(Rd({},n),this.props)),t&&Rd(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),RT(this))},Cc.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),RT(this))},Cc.prototype.render=Hm,Jv=[],MD=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,A2.__r=0;var hCe=0;function Te(t,e,n,o,a){var s,r,i={};for(r in e)r=="ref"?s=e[r]:i[r]=e[r];var l={type:t,props:i,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--hCe,__source:o,__self:a};if(typeof t=="function"&&(s=t.defaultProps))for(r in s)i[r]===void 0&&(i[r]=s[r]);return gt.vnode&&gt.vnode(l),l}function fCe(t,e){try{window.localStorage[`emoji-mart.${t}`]=JSON.stringify(e)}catch{}}function mCe(t){try{const e=window.localStorage[`emoji-mart.${t}`];if(e)return JSON.parse(e)}catch{}}var Md={set:fCe,get:mCe};const f3=new Map,gCe=[{v:14,emoji:"🫠"},{v:13.1,emoji:"😶‍🌫️"},{v:13,emoji:"🥸"},{v:12.1,emoji:"🧑‍🦰"},{v:12,emoji:"🥱"},{v:11,emoji:"🥰"},{v:5,emoji:"🤩"},{v:4,emoji:"👱‍♀️"},{v:3,emoji:"🤣"},{v:2,emoji:"👋🏻"},{v:1,emoji:"🙃"}];function vCe(){for(const{v:t,emoji:e}of gCe)if(WD(e))return t}function yCe(){return!WD("🇨🇦")}function WD(t){if(f3.has(t))return f3.get(t);const e=wCe(t);return f3.set(t,e),e}const wCe=(()=>{let t=null;try{navigator.userAgent.includes("jsdom")||(t=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!t)return()=>!1;const e=25,n=20,o=Math.floor(e/2);return t.font=o+"px Arial, Sans-Serif",t.textBaseline="top",t.canvas.width=n*2,t.canvas.height=e,a=>{t.clearRect(0,0,n*2,e),t.fillStyle="#FF0000",t.fillText(a,0,22),t.fillStyle="#0000FF",t.fillText(a,n,22);const s=t.getImageData(0,0,n,e).data,r=s.length;let i=0;for(;i<r&&!s[i+3];i+=4);if(i>=r)return!1;const l=n+i/4%n,c=Math.floor(i/4/n),u=t.getImageData(l,c,1,1).data;return!(s[i]!==u[0]||s[i+2]!==u[2]||t.measureText(a).width>=n)}})();var IT={latestVersion:vCe,noCountryFlags:yCe};const MT=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let Aa=null;function bCe(t){Aa||(Aa=Md.get("frequently")||{});const e=t.id||t;e&&(Aa[e]||(Aa[e]=0),Aa[e]+=1,Md.set("last",e),Md.set("frequently",Aa))}function $Ce({maxFrequentRows:t,perLine:e}){if(!t)return[];Aa||(Aa=Md.get("frequently"));let n=[];if(!Aa){Aa={};for(let s in MT.slice(0,e)){const r=MT[s];Aa[r]=e-s,n.push(r)}return n}const o=t*e,a=Md.get("last");for(let s in Aa)n.push(s);if(n.sort((s,r)=>{const i=Aa[r],l=Aa[s];return i==l?s.localeCompare(r):i-l}),n.length>o){const s=n.slice(o);n=n.slice(0,o);for(let r of s)r!=a&&delete Aa[r];a&&n.indexOf(a)==-1&&(delete Aa[n[n.length-1]],n.splice(-1,1,a)),Md.set("frequently",Aa)}return n}var KD={add:bCe,get:$Ce},YD={};YD=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn’t be found","pick":"Pick an emoji…","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var Eu={autoFocus:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:14,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let qa=null,Yt=null;const m3={};async function FT(t){if(m3[t])return m3[t];const n=await(await fetch(t)).json();return m3[t]=n,n}let g3=null,XD=null,QD=!1;function V$(t,{caller:e}={}){return g3||(g3=new Promise(n=>{XD=n})),t?xCe(t):e&&!QD&&console.warn(`\`${e}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),g3}async function xCe(t){QD=!0;let{emojiVersion:e,set:n,locale:o}=t;if(e||(e=Eu.emojiVersion.value),n||(n=Eu.set.value),o||(o=Eu.locale.value),Yt)Yt.categories=Yt.categories.filter(l=>!l.name);else{Yt=(typeof t.data=="function"?await t.data():t.data)||await FT(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${e}/${n}.json`),Yt.emoticons={},Yt.natives={},Yt.categories.unshift({id:"frequent",emojis:[]});for(const l in Yt.aliases){const c=Yt.aliases[l],u=Yt.emojis[c];u&&(u.aliases||(u.aliases=[]),u.aliases.push(l))}Yt.originalCategories=Yt.categories}if(qa=(typeof t.i18n=="function"?await t.i18n():t.i18n)||(o=="en"?AD(YD):await FT(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${o}.json`)),t.custom)for(let l in t.custom){l=parseInt(l);const c=t.custom[l],u=t.custom[l-1];if(!(!c.emojis||!c.emojis.length)){c.id||(c.id=`custom_${l+1}`),c.name||(c.name=qa.categories.custom),u&&!c.icon&&(c.target=u.target||u),Yt.categories.push(c);for(const d of c.emojis)Yt.emojis[d.id]=d}}t.categories&&(Yt.categories=Yt.originalCategories.filter(l=>t.categories.indexOf(l.id)!=-1).sort((l,c)=>{const u=t.categories.indexOf(l.id),d=t.categories.indexOf(c.id);return u-d}));let a=null,s=null;n=="native"&&(a=IT.latestVersion(),s=t.noCountryFlags||IT.noCountryFlags());let r=Yt.categories.length,i=!1;for(;r--;){const l=Yt.categories[r];if(l.id=="frequent"){let{maxFrequentRows:d,perLine:p}=t;d=d>=0?d:Eu.maxFrequentRows.value,p||(p=Eu.perLine.value),l.emojis=KD.get({maxFrequentRows:d,perLine:p})}if(!l.emojis||!l.emojis.length){Yt.categories.splice(r,1);continue}const{categoryIcons:c}=t;if(c){const d=c[l.id];d&&!l.icon&&(l.icon=d)}let u=l.emojis.length;for(;u--;){const d=l.emojis[u],p=d.id?d:Yt.emojis[d],f=()=>{l.emojis.splice(u,1)};if(!p){f();continue}if(a&&p.version>a){f();continue}if(s&&l.id=="flags"&&!PCe.includes(p.id)){f();continue}if(!p.search){if(i=!0,p.search=","+[[p.id,!1],[p.name,!0],[p.keywords,!1],[p.emoticons,!1]].map(([v,y])=>{if(v)return(Array.isArray(v)?v:[v]).map(w=>(y?w.split(/[-|_|\s]+/):[w]).map(b=>b.toLowerCase())).flat()}).flat().filter(v=>v&&v.trim()).join(","),p.emoticons)for(const v of p.emoticons)Yt.emoticons[v]||(Yt.emoticons[v]=p.id);let g=0;for(const v of p.skins){if(!v)continue;g++;const{native:y}=v;y&&(Yt.natives[y]=p.id,p.search+=`,${y}`);const w=g==1?"":`:skin-tone-${g}:`;v.shortcodes=`:${p.id}:${w}`}}}}i&&Cm.reset(),XD()}function ZD(t,e,n){t||(t={});const o={};for(let a in e)o[a]=JD(a,t,e,n);return o}function JD(t,e,n,o){const a=n[t];let s=o&&o.getAttribute(t)||(e[t]!=null&&e[t]!=null?e[t]:null);return a&&(s!=null&&a.value&&typeof a.value!=typeof s&&(typeof a.value=="boolean"?s=s!="false":s=a.value.constructor(s)),a.transform&&s&&(s=a.transform(s)),(s==null||a.choices&&a.choices.indexOf(s)==-1)&&(s=a.value)),s}const _Ce=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/;let m4=null;function VCe(t){return t.id?t:Yt.emojis[t]||Yt.emojis[Yt.aliases[t]]||Yt.emojis[Yt.natives[t]]}function CCe(){m4=null}async function SCe(t,{maxResults:e,caller:n}={}){if(!t||!t.trim().length)return null;e||(e=90),await V$(null,{caller:n||"SearchIndex.search"});const o=t.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((i,l,c)=>i.trim()&&c.indexOf(i)==l);if(!o.length)return;let a=m4||(m4=Object.values(Yt.emojis)),s,r;for(const i of o){if(!a.length)break;s=[],r={};for(const l of a){if(!l.search)continue;const c=l.search.indexOf(`,${i}`);c!=-1&&(s.push(l),r[l.id]||(r[l.id]=0),r[l.id]+=l.id==i?0:c+1)}a=s}return s.length<2||(s.sort((i,l)=>{const c=r[i.id],u=r[l.id];return c==u?i.id.localeCompare(l.id):c-u}),s.length>e&&(s=s.slice(0,e))),s}var Cm={search:SCe,get:VCe,reset:CCe,SHORTCODES_REGEX:_Ce};const PCe=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function ECe(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((n,o)=>n==e[o])}async function TCe(t=1){for(let e in[...Array(t).keys()])await new Promise(requestAnimationFrame)}function RCe(t,{skinIndex:e=0}={}){const n=t.skins[e]||(()=>(e=0,t.skins[e]))(),o={id:t.id,name:t.name,native:n.native,unified:n.unified,keywords:t.keywords,shortcodes:n.shortcodes||t.shortcodes};return t.skins.length>1&&(o.skin=e+1),n.src&&(o.src=n.src),t.aliases&&t.aliases.length&&(o.aliases=t.aliases),t.emoticons&&t.emoticons.length&&(o.emoticons=t.emoticons),o}const OCe={activity:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Te("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Te("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Te("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Te("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Te("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Te("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Te("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Te("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),Te("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Te("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Te("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),Te("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Te("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Te("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),Te("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:Te("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Te("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),Te("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Te("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Te("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),Te("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Te("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Te("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Te("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},kCe={loupe:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Te("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Te("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})};var F2={categories:OCe,search:kCe};function g4(t){let{id:e,skin:n,emoji:o}=t;if(t.shortcodes){const i=t.shortcodes.match(Cm.SHORTCODES_REGEX);i&&(e=i[1],i[2]&&(n=i[2]))}if(o||(o=Cm.get(e||t.native)),!o)return t.fallback;const a=o.skins[n-1]||o.skins[0],s=a.src||(t.set!="native"&&!t.spritesheet?typeof t.getImageURL=="function"?t.getImageURL(t.set,a.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${t.set}@14.0.0/img/${t.set}/64/${a.unified}.png`:void 0),r=typeof t.getSpritesheetURL=="function"?t.getSpritesheetURL(t.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${t.set}@14.0.0/img/${t.set}/sheets-256/64.png`;return Te("span",{class:"emoji-mart-emoji","data-emoji-set":t.set,children:s?Te("img",{style:{maxWidth:t.size||"1em",maxHeight:t.size||"1em",display:"inline-block"},alt:a.native||a.shortcodes,src:s}):t.set=="native"?Te("span",{style:{fontSize:t.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:a.native}):Te("span",{style:{display:"block",width:t.size,height:t.size,backgroundImage:`url(${r})`,backgroundSize:`${100*Yt.sheet.cols}% ${100*Yt.sheet.rows}%`,backgroundPosition:`${100/(Yt.sheet.cols-1)*a.x}% ${100/(Yt.sheet.rows-1)*a.y}%`}})})}const ACe=typeof window<"u"&&window.HTMLElement?window.HTMLElement:Object;class qD extends ACe{static get observedAttributes(){return Object.keys(this.Props)}update(e={}){for(let n in e)this.attributeChangedCallback(n,null,e[n])}attributeChangedCallback(e,n,o){if(!this.component)return;const a=JD(e,{[e]:o},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[e]:a}):(this.component.props[e]=a,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(e={}){if(super(),this.props=e,e.parent||e.ref){let n=null;const o=e.parent||(n=e.ref&&e.ref.current);n&&(n.innerHTML=""),o&&o.appendChild(this)}}}class ICe extends qD{setShadow(){this.attachShadow({mode:"open"})}injectStyles(e){if(!e)return;const n=document.createElement("style");n.textContent=e,this.shadowRoot.insertBefore(n,this.shadowRoot.firstChild)}constructor(e,{styles:n}={}){super(e),this.setShadow(),this.injectStyles(n)}}var eN={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:t=>/\D/.test(t)?t:`${t}px`},set:Eu.set,skin:Eu.skin};class tN extends qD{async connectedCallback(){const e=ZD(this.props,eN,this);e.element=this,e.ref=n=>{this.component=n},await V$(),!this.disconnected&&GD(Te(g4,{...e}),this)}constructor(e){super(e)}}sl(tN,"Props",eN);typeof customElements<"u"&&!customElements.get("em-emoji")&&customElements.define("em-emoji",tN);var DT,v4=[],NT=gt.__b,HT=gt.__r,BT=gt.diffed,LT=gt.__c,UT=gt.unmount;function MCe(){var t;for(v4.sort(function(e,n){return e.__v.__b-n.__v.__b});t=v4.pop();)if(t.__P)try{t.__H.__h.forEach(Rb),t.__H.__h.forEach(y4),t.__H.__h=[]}catch(e){t.__H.__h=[],gt.__e(e,t.__v)}}gt.__b=function(t){NT&&NT(t)},gt.__r=function(t){HT&&HT(t);var e=t.__c.__H;e&&(e.__h.forEach(Rb),e.__h.forEach(y4),e.__h=[])},gt.diffed=function(t){BT&&BT(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(v4.push(e)!==1&&DT===gt.requestAnimationFrame||((DT=gt.requestAnimationFrame)||function(n){var o,a=function(){clearTimeout(s),jT&&cancelAnimationFrame(o),setTimeout(n)},s=setTimeout(a,100);jT&&(o=requestAnimationFrame(a))})(MCe))},gt.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Rb),n.__h=n.__h.filter(function(o){return!o.__||y4(o)})}catch(o){e.some(function(a){a.__h&&(a.__h=[])}),e=[],gt.__e(o,n.__v)}}),LT&&LT(t,e)},gt.unmount=function(t){UT&&UT(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{Rb(o)}catch(a){e=a}}),e&&gt.__e(e,n.__v))};var jT=typeof requestAnimationFrame=="function";function Rb(t){var e=t.__c;typeof e=="function"&&(t.__c=void 0,e())}function y4(t){t.__c=t.__()}function FCe(t,e){for(var n in e)t[n]=e[n];return t}function zT(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var o in e)if(o!=="__source"&&t[o]!==e[o])return!0;return!1}function D2(t){this.props=t}(D2.prototype=new Cc).isPureReactComponent=!0,D2.prototype.shouldComponentUpdate=function(t,e){return zT(this.props,t)||zT(this.state,e)};var GT=gt.__b;gt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),GT&&GT(t)};var DCe=gt.__e;gt.__e=function(t,e,n){if(t.then){for(var o,a=e;a=a.__;)if((o=a.__c)&&o.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),o.__c(t,e)}DCe(t,e,n)};var WT=gt.unmount;function v3(){this.__u=0,this.t=null,this.__b=null}function nN(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function Iw(){this.u=null,this.o=null}gt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),WT&&WT(t)},(v3.prototype=new Cc).__c=function(t,e){var n=e.__c,o=this;o.t==null&&(o.t=[]),o.t.push(n);var a=nN(o.__v),s=!1,r=function(){s||(s=!0,n.__R=null,a?a(i):i())};n.__R=r;var i=function(){if(!--o.__u){if(o.state.__e){var c=o.state.__e;o.__v.__k[0]=function d(p,f,g){return p&&(p.__v=null,p.__k=p.__k&&p.__k.map(function(v){return d(v,f,g)}),p.__c&&p.__c.__P===f&&(p.__e&&g.insertBefore(p.__e,p.__d),p.__c.__e=!0,p.__c.__P=g)),p}(c,c.__c.__P,c.__c.__O)}var u;for(o.setState({__e:o.__b=null});u=o.t.pop();)u.forceUpdate()}},l=e.__h===!0;o.__u++||l||o.setState({__e:o.__b=o.__v.__k[0]}),t.then(r,r)},v3.prototype.componentWillUnmount=function(){this.t=[]},v3.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=function s(r,i,l){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(c){typeof c.__c=="function"&&c.__c()}),r.__c.__H=null),(r=FCe({},r)).__c!=null&&(r.__c.__P===l&&(r.__c.__P=i),r.__c=null),r.__k=r.__k&&r.__k.map(function(c){return s(c,i,l)})),r}(this.__b,n,o.__O=o.__P)}this.__b=null}var a=e.__e&&f4(Hm,null,t.fallback);return a&&(a.__h=null),[f4(Hm,null,e.__e?null:t.children),a]};var KT=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(Iw.prototype=new Cc).__e=function(t){var e=this,n=nN(e.__v),o=e.o.get(t);return o[0]++,function(a){var s=function(){e.props.revealOrder?(o.push(a),KT(e,t,o)):a()};n?n(s):s()}},Iw.prototype.render=function(t){this.u=null,this.o=new Map;var e=I2(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Iw.prototype.componentDidUpdate=Iw.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){KT(t,n,e)})};var NCe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,HCe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,BCe=typeof document<"u",LCe=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Cc.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Cc.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var YT=gt.event;function UCe(){}function jCe(){return this.cancelBubble}function zCe(){return this.defaultPrevented}gt.event=function(t){return YT&&(t=YT(t)),t.persist=UCe,t.isPropagationStopped=jCe,t.isDefaultPrevented=zCe,t.nativeEvent=t};var XT={configurable:!0,get:function(){return this.class}},QT=gt.vnode;gt.vnode=function(t){var e=t.type,n=t.props,o=n;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var s in o={},n){var r=n[s];BCe&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&r==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&r===!0?r="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!LCe(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(s)?s=s.toLowerCase():a&&HCe.test(s)?s=s.replace(/[A-Z0-9]/,"-$&").toLowerCase():r===null&&(r=void 0),o[s]=r)}e=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=I2(n.children).forEach(function(i){i.props.selected=o.value.indexOf(i.props.value)!=-1})),e=="select"&&o.defaultValue!=null&&(o.value=I2(n.children).forEach(function(i){i.props.selected=o.multiple?o.defaultValue.indexOf(i.props.value)!=-1:o.defaultValue==i.props.value})),t.props=o,n.class!=n.className&&(XT.enumerable="className"in n,n.className!=null&&(o.class=n.className),Object.defineProperty(o,"className",XT))}t.$$typeof=NCe,QT&&QT(t)};var ZT=gt.__r;gt.__r=function(t){ZT&&ZT(t),t.__c};const GCe={light:"outline",dark:"solid"};class WCe extends D2{renderIcon(e){const{icon:n}=e;if(n){if(n.svg)return Te("span",{class:"flex",dangerouslySetInnerHTML:{__html:n.svg}});if(n.src)return Te("img",{src:n.src})}const o=F2.categories[e.id]||F2.categories.custom,a=this.props.icons=="auto"?GCe[this.props.theme]:this.props.icons;return o[a]||o}render(){let e=null;return Te("nav",{id:"nav",class:"padding","data-position":this.props.position,children:Te("div",{class:"flex relative",children:[this.categories.map((n,o)=>{const a=n.name||qa.categories[n.id],s=!this.props.unfocused&&n.id==this.state.categoryId;return s&&(e=o),Te("button",{"aria-label":a,"aria-selected":s||void 0,title:a,type:"button",class:"flex flex-grow flex-center",onMouseDown:r=>r.preventDefault(),onClick:()=>{this.props.onClick({category:n,i:o})},children:this.renderIcon(n)})}),Te("div",{class:"bar",style:{width:`${100/this.categories.length}%`,opacity:e==null?0:1,transform:`translateX(${e*100}%)`}})]})})}constructor(){super(),this.categories=Yt.categories.filter(e=>!e.target),this.state={categoryId:this.categories[0].id}}}class KCe extends D2{shouldComponentUpdate(e){for(let n in e)if(n!="children"&&e[n]!=this.props[n])return!0;return!1}render(){return this.props.children}}const Mw={rowsPerRender:10};class YCe extends Cc{getInitialState(e=this.props){return{skin:Md.get("skin")||e.skin,theme:this.initTheme(e.theme)}}componentWillMount(){this.observers=[],this.dir=qa.rtl?"rtl":"ltr",this.refs={menu:uu(),navigation:uu(),scroll:uu(),search:uu(),searchInput:uu(),skinToneButton:uu(),skinToneRadio:uu()},this.initGrid(),this.props.stickySearch==!1&&this.props.searchPosition=="sticky"&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:e}=this.refs;e.current&&e.current.focus()}}componentWillReceiveProps(e){this.nextState||(this.nextState={});for(const n in e)this.nextState[n]=e[n];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(()=>{let n=!1;for(const a in this.nextState)this.props[a]=this.nextState[a],(a==="custom"||a==="categories")&&(n=!0);delete this.nextState;const o=this.getInitialState();if(n)return this.reset(o);this.setState(o)})}componentWillUnmount(){this.unregister()}async reset(e={}){await V$(this.props),this.initGrid(),this.unobserve(),this.setState(e,()=>{this.observeCategories(),this.observeRows()})}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){document.removeEventListener("click",this.handleClickOutside),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve(){for(const e of this.observers)e.disconnect()}initGrid(){const{categories:e}=Yt;this.refs.categories=new Map;const n=Yt.categories.map(a=>a.id).join(",");this.navKey&&this.navKey!=n&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=n,this.grid=[],this.grid.setsize=0;const o=(a,s)=>{const r=[];r.__categoryId=s.id,r.__index=a.length,this.grid.push(r);const i=this.grid.length-1,l=i%Mw.rowsPerRender?{}:uu();return l.index=i,l.posinset=this.grid.setsize+1,a.push(l),r};for(let a of e){const s=[];let r=o(s,a);for(let i of a.emojis)r.length==this.props.perLine&&(r=o(s,a)),this.grid.setsize+=1,r.push(i);this.refs.categories.set(a.id,{root:uu(),rows:s})}}initTheme(e){if(e!="auto")return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addListener(()=>{this.props.theme=="auto"&&this.setState({theme:this.darkMedia.matches?"dark":"light"})})}return this.darkMedia.matches?"dark":"light"}getEmojiByPos([e,n]){const o=this.state.searchResults||this.grid,a=o[e]&&o[e][n];if(a)return Cm.get(a)}observeCategories(){const e=this.refs.navigation.current;if(!e)return;const n=new Map,o=r=>{r!=e.state.categoryId&&e.setState({categoryId:r})},a={root:this.refs.scroll.current,threshold:[0,1]},s=new IntersectionObserver(r=>{for(const l of r){const c=l.target.dataset.id;n.set(c,l.intersectionRatio)}const i=[...n];for(const[l,c]of i)if(c){o(l);break}},a);for(const{root:r}of this.refs.categories.values())s.observe(r.current);this.observers.push(s)}observeRows(){const e={...this.state.visibleRows},n=new IntersectionObserver(o=>{for(const a of o){const s=parseInt(a.target.dataset.index);a.isIntersecting?e[s]=!0:delete e[s]}this.setState({visibleRows:e})},{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*(Mw.rowsPerRender+5)}px 0px ${this.props.emojiButtonSize*Mw.rowsPerRender}px`});for(const{rows:o}of this.refs.categories.values())for(const a of o)a.current&&n.observe(a.current);this.observers.push(n)}preventDefault(e){e.preventDefault()}unfocusSearch(){const e=this.refs.searchInput.current;e&&e.blur()}navigate({e,input:n,left:o,right:a,up:s,down:r}){const i=this.state.searchResults||this.grid;if(!i.length)return;let[l,c]=this.state.pos;const u=(()=>{if(l==0&&c==0&&!e.repeat&&(o||s))return null;if(l==-1)return!e.repeat&&(a||r)&&n.selectionStart==n.value.length?[0,0]:null;if(o||a){let d=i[l];const p=o?-1:1;if(c+=p,!d[c]){if(l+=p,d=i[l],!d)return l=o?0:i.length-1,c=o?0:i[l].length-1,[l,c];c=o?d.length-1:0}return[l,c]}if(s||r){l+=s?-1:1;const d=i[l];return d?(d[c]||(c=d.length-1),[l,c]):(l=s?0:i.length-1,c=s?0:i[l].length-1,[l,c])}})();if(u)e.preventDefault();else{this.state.pos[0]>-1&&this.setState({pos:[-1,-1]});return}this.setState({pos:u,keyboard:!0},()=>{this.scrollTo({row:u[0]})})}scrollTo({categoryId:e,row:n}){const o=this.state.searchResults||this.grid;if(!o.length)return;const a=this.refs.scroll.current,s=a.getBoundingClientRect();let r=0;if(n>=0&&(e=o[n].__categoryId),e&&(r=(this.refs[e]||this.refs.categories.get(e).root).current.getBoundingClientRect().top-(s.top-a.scrollTop)+1),n>=0)if(!n)r=0;else{const i=o[n].__index,l=r+i*this.props.emojiButtonSize,c=l+this.props.emojiButtonSize+this.props.emojiButtonSize*.88;if(l<a.scrollTop)r=l;else if(c>a.scrollTop+s.height)r=c-s.height;else return}this.ignoreMouse(),a.scrollTop=r}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(()=>{delete this.mouseIsIgnored},100)}handleEmojiOver(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}handleEmojiClick({e,emoji:n,pos:o}){if(this.props.onEmojiSelect&&(!n&&o&&(n=this.getEmojiByPos(o)),n)){const a=RCe(n,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&KD.add(a,this.props),this.props.onEmojiSelect(a,e)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(e){this.setState({tempSkin:e})}handleSkinClick(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),Md.set("skin",e)}renderNav(){return Te(WCe,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const e=this.getEmojiByPos(this.state.pos),n=this.state.searchResults&&!this.state.searchResults.length;return Te("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[Te("div",{class:"flex flex-middle flex-grow",children:[Te("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:Te(g4,{emoji:e,id:n?this.props.noResultsEmoji||"cry":this.props.previewEmoji||(this.props.previewPosition=="top"?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),Te("div",{class:`margin-${this.dir[0]}`,children:e?Te("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[Te("div",{class:"ellipsis",style:{fontSize:"1.1em"},children:e.name}),Te("div",{class:"ellipsis color-c",style:{fontSize:".9em"},children:e.skins[0].shortcodes})]}):n?Te("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[Te("div",{class:"ellipsis",style:{fontSize:"1.1em"},children:qa.search_no_results_1}),Te("div",{class:"ellipsis color-c",style:{fontSize:".9em"},children:qa.search_no_results_2})]}):Te("div",{class:"color-c",style:{fontSize:21},children:qa.pick})})]}),!e&&this.props.skinTonePosition=="preview"&&this.renderSkinToneButton()]})}renderEmojiButton(e,{pos:n,posinset:o,grid:a}){const s=this.props.emojiButtonSize,r=this.state.tempSkin||this.state.skin,l=(e.skins[r-1]||e.skins[0]).native,c=ECe(this.state.pos,n),u=n.concat(e.id).join("");return Te(KCe,{selected:c,skin:r,size:s,children:Te("button",{"aria-label":l,"aria-selected":c||void 0,"aria-posinset":o,"aria-setsize":a.setsize,"data-keyboard":this.state.keyboard,title:this.props.previewPosition=="none"?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:d=>this.handleEmojiClick({e:d,emoji:e}),onMouseEnter:()=>this.handleEmojiOver(n),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[Te("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(o-1)%this.props.emojiButtonColors.length]:void 0}}),Te(g4,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:r,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},u)}renderSearch(){const e=this.props.previewPosition=="none"||this.props.skinTonePosition=="search";return Te("div",{children:[Te("div",{class:"spacer"}),Te("div",{class:"flex flex-middle",children:[e&&this.dir=="rtl"&&this.renderSkinToneButton(),Te("div",{class:"search relative flex-grow",children:[Te("input",{type:"search",ref:this.refs.searchInput,placeholder:qa.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),Te("span",{class:"icon loupe flex",children:F2.search.loupe}),this.state.searchResults&&Te("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:F2.search.delete})]}),e&&this.dir=="ltr"&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:e}=this.state;return e?Te("div",{class:"category",ref:this.refs.search,children:[Te("div",{class:`sticky padding-small align-${this.dir[0]}`,children:qa.categories.search}),Te("div",{children:e.length?e.map((n,o)=>Te("div",{class:"flex",children:n.map((a,s)=>this.renderEmojiButton(a,{pos:[o,s],posinset:o*this.props.perLine+s+1,grid:e}))})):Te("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&Te("a",{onClick:this.props.onAddCustomEmoji,children:qa.add_custom})})})]}):null}renderCategories(){const{categories:e}=Yt,n=!!this.state.searchResults;return Te("div",{style:{visibility:n?"hidden":void 0,display:n?"none":void 0,height:"100%"},children:e.map(o=>{const{root:a,rows:s}=this.refs.categories.get(o.id);return Te("div",{"data-id":o.target?o.target.id:o.id,class:"category",ref:a,children:[Te("div",{class:`sticky padding-small align-${this.dir[0]}`,children:o.name||qa.categories[o.id]}),Te("div",{class:"relative",style:{height:s.length*this.props.emojiButtonSize},children:s.map((r,i)=>{const l=r.index-r.index%Mw.rowsPerRender,c=this.state.visibleRows[l],u="current"in r?r:void 0;if(!c&&!u)return null;const d=i*this.props.perLine,p=d+this.props.perLine,f=o.emojis.slice(d,p);return Te("div",{"data-index":r.index,ref:u,class:"flex row",style:{top:i*this.props.emojiButtonSize},children:c&&f.map((g,v)=>{const y=Cm.get(g);return this.renderEmojiButton(y,{pos:[r.index,v],posinset:r.posinset+v,grid:this.grid})})},r.index)})})]})})})}renderSkinToneButton(){return this.props.skinTonePosition=="none"?null:Te("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:Te("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":qa.skins.choose,title:qa.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:Te("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const e=this.getEmojiByPos(this.state.pos),n=e?e.name:"";return Te("div",{"aria-live":"polite",class:"sr-only",children:n})}renderSkins(){const n=this.refs.skinToneButton.current.getBoundingClientRect(),o=this.base.getBoundingClientRect(),a={};return this.dir=="ltr"?a.right=o.right-n.right-3:a.left=n.left-o.left-3,this.props.previewPosition=="bottom"&&this.props.skinTonePosition=="preview"?a.bottom=o.bottom-n.top+6:(a.top=n.bottom-o.top+3,a.bottom="auto"),Te("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":qa.skins.choose,class:"menu hidden","data-position":a.top?"top":"bottom",style:a,children:[...Array(6).keys()].map(s=>{const r=s+1,i=this.state.skin==r;return Te("div",{children:[Te("input",{type:"radio",name:"skin-tone",value:r,"aria-label":qa.skins[r],ref:i?this.refs.skinToneRadio:null,defaultChecked:i,onChange:()=>this.handleSkinMouseOver(r),onKeyDown:l=>{(l.code=="Enter"||l.code=="Space"||l.code=="Tab")&&(l.preventDefault(),this.handleSkinClick(r))}}),Te("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(r),onMouseEnter:()=>this.handleSkinMouseOver(r),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[Te("span",{class:`skin-tone skin-tone-${r}`}),Te("span",{class:"margin-small-lr",children:qa.skins[r]})]})]})})})}render(){return Te("section",{id:"root",class:"flex flex-column",style:{width:this.props.perLine*this.props.emojiButtonSize+28},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:[this.props.previewPosition=="top"&&this.renderPreview(),this.props.navPosition=="top"&&this.renderNav(),this.props.searchPosition=="sticky"&&Te("div",{class:"padding-lr",children:this.renderSearch()}),Te("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:Te("div",{style:{width:this.props.perLine*this.props.emojiButtonSize,height:"100%"},children:[this.props.searchPosition=="static"&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),this.props.navPosition=="bottom"&&this.renderNav(),this.props.previewPosition=="bottom"&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(e){super(),sl(this,"handleClickOutside",n=>{const{element:o}=this.props;n.target!=o&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside())}),sl(this,"handleBaseClick",n=>{this.state.showSkins&&(n.target.closest(".menu")||(n.preventDefault(),n.stopImmediatePropagation(),this.closeSkins()))}),sl(this,"handleBaseKeydown",n=>{this.state.showSkins&&n.key=="Escape"&&(n.preventDefault(),n.stopImmediatePropagation(),this.closeSkins())}),sl(this,"handleSearchClick",()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})}),sl(this,"handleSearchInput",async()=>{const n=this.refs.searchInput.current;if(!n)return;const{value:o}=n,a=await Cm.search(o),s=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!a)return this.setState({searchResults:a,pos:[-1,-1]},s);const r=n.selectionStart==n.value.length?[0,0]:[-1,-1],i=[];i.setsize=a.length;let l=null;for(let c of a)(!i.length||l.length==this.props.perLine)&&(l=[],l.__categoryId="search",l.__index=i.length,i.push(l)),l.push(c);this.ignoreMouse(),this.setState({searchResults:i,pos:r},s)}),sl(this,"handleSearchKeyDown",n=>{const o=n.currentTarget;switch(n.stopImmediatePropagation(),n.key){case"ArrowLeft":this.navigate({e:n,input:o,left:!0});break;case"ArrowRight":this.navigate({e:n,input:o,right:!0});break;case"ArrowUp":this.navigate({e:n,input:o,up:!0});break;case"ArrowDown":this.navigate({e:n,input:o,down:!0});break;case"Enter":n.preventDefault(),this.handleEmojiClick({e:n,pos:this.state.pos});break;case"Escape":n.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch();break}}),sl(this,"clearSearch",()=>{const n=this.refs.searchInput.current;n&&(n.value="",n.focus(),this.handleSearchInput())}),sl(this,"handleCategoryClick",({category:n,i:o})=>{this.scrollTo(o==0?{row:-1}:{categoryId:n.id})}),sl(this,"openSkins",n=>{const{currentTarget:o}=n,a=o.getBoundingClientRect();this.setState({showSkins:a},async()=>{await TCe(2);const s=this.refs.menu.current;s&&(s.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))})}),this.state={pos:[-1,-1],visibleRows:{0:!0},...this.getInitialState(e)}}}class jS extends ICe{async connectedCallback(){const e=ZD(this.props,Eu,this);e.element=this,e.ref=n=>{this.component=n},await V$(e),!this.disconnected&&GD(Te(YCe,{...e}),this.shadowRoot)}constructor(e){super(e,{styles:AD(oN)})}}sl(jS,"Props",Eu);typeof customElements<"u"&&!customElements.get("em-emoji-picker")&&customElements.define("em-emoji-picker",jS);var oN={};oN=`:host {
  width: min-content;
  height: 435px;
  min-height: 230px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  --border-radius: 10px;
  --category-icon-size: 18px;
  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  --font-size: 15px;
  --shadow-color: 0deg 0% 0%;
  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);
  display: flex;
}

[data-theme="light"] {
  --em-rgb-color: var(--rgb-color, 34, 36, 39);
  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);
  --em-rgb-background: var(--rgb-background, 255, 255, 255);
  --em-rgb-input: var(--rgb-input, 255, 255, 255);
  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));
  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));
}

[data-theme="dark"] {
  --em-rgb-color: var(--rgb-color, 222, 222, 221);
  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);
  --em-rgb-background: var(--rgb-background, 21, 22, 23);
  --em-rgb-input: var(--rgb-input, 0, 0, 0);
  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));
  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));
}

#root {
  --color-a: rgb(var(--em-rgb-color));
  --color-b: rgba(var(--em-rgb-color), .65);
  --color-c: rgba(var(--em-rgb-color), .45);
  --padding: 12px;
  --padding-small: calc(var(--padding) / 2);
  --sidebar-width: 16px;
  --duration: 225ms;
  --duration-fast: 125ms;
  --duration-instant: 50ms;
  --easing: cubic-bezier(.4, 0, .2, 1);
  width: 100%;
  text-align: left;
  border-radius: var(--border-radius);
  background-color: rgb(var(--em-rgb-background));
  position: relative;
}

@media (prefers-reduced-motion) {
  #root {
    --duration: 0;
    --duration-fast: 0;
    --duration-instant: 0;
  }
}

#root[data-menu] button {
  cursor: auto;
}

#root[data-menu] .menu button {
  cursor: pointer;
}

:host, #root, input, button {
  color: rgb(var(--em-rgb-color));
  font-family: var(--font-family);
  font-size: var(--font-size);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: normal;
}

*, :before, :after {
  box-sizing: border-box;
  min-width: 0;
  margin: 0;
  padding: 0;
}

.relative {
  position: relative;
}

.flex {
  display: flex;
}

.flex-auto {
  flex: none;
}

.flex-center {
  justify-content: center;
}

.flex-column {
  flex-direction: column;
}

.flex-grow {
  flex: auto;
}

.flex-middle {
  align-items: center;
}

.flex-wrap {
  flex-wrap: wrap;
}

.padding {
  padding: var(--padding);
}

.padding-t {
  padding-top: var(--padding);
}

.padding-lr {
  padding-left: var(--padding);
  padding-right: var(--padding);
}

.padding-r {
  padding-right: var(--padding);
}

.padding-small {
  padding: var(--padding-small);
}

.padding-small-b {
  padding-bottom: var(--padding-small);
}

.padding-small-lr {
  padding-left: var(--padding-small);
  padding-right: var(--padding-small);
}

.margin {
  margin: var(--padding);
}

.margin-r {
  margin-right: var(--padding);
}

.margin-l {
  margin-left: var(--padding);
}

.margin-small-l {
  margin-left: var(--padding-small);
}

.margin-small-lr {
  margin-left: var(--padding-small);
  margin-right: var(--padding-small);
}

.align-l {
  text-align: left;
}

.align-r {
  text-align: right;
}

.color-a {
  color: var(--color-a);
}

.color-b {
  color: var(--color-b);
}

.color-c {
  color: var(--color-c);
}

.ellipsis {
  white-space: nowrap;
  max-width: 100%;
  width: auto;
  text-overflow: ellipsis;
  overflow: hidden;
}

.sr-only {
  width: 1px;
  height: 1px;
  position: absolute;
  top: auto;
  left: -10000px;
  overflow: hidden;
}

a {
  cursor: pointer;
  color: rgb(var(--em-rgb-accent));
}

a:hover {
  text-decoration: underline;
}

.spacer {
  height: 10px;
}

.scroll {
  padding-right: 0;
  overflow-x: hidden;
  overflow-y: auto;
}

.scroll::-webkit-scrollbar {
  width: var(--sidebar-width);
  height: var(--sidebar-width);
}

.scroll::-webkit-scrollbar-track {
  border: 0;
}

.scroll::-webkit-scrollbar-button {
  width: 0;
  height: 0;
  display: none;
}

.scroll::-webkit-scrollbar-corner {
  background-color: rgba(0, 0, 0, 0);
}

.scroll::-webkit-scrollbar-thumb {
  min-height: 20%;
  min-height: 65px;
  border: 4px solid rgb(var(--em-rgb-background));
  border-radius: 8px;
}

.scroll::-webkit-scrollbar-thumb:hover {
  background-color: var(--em-color-border-over) !important;
}

.scroll:hover::-webkit-scrollbar-thumb {
  background-color: var(--em-color-border);
}

.sticky {
  z-index: 1;
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  font-weight: 500;
  position: sticky;
  top: -1px;
}

.search {
  z-index: 2;
  position: relative;
}

.search input, .search button {
  font-size: calc(var(--font-size)  - 1px);
}

.search input[type="search"] {
  width: 100%;
  background-color: var(--em-color-border);
  transition-duration: var(--duration);
  transition-property: background-color, box-shadow;
  transition-timing-function: var(--easing);
  border: 0;
  border-radius: 10px;
  outline: 0;
  padding: 10px 2em 10px 2.2em;
  display: block;
}

.search input[type="search"]::-ms-input-placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"]::placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
}

.search input[type="search"]:focus {
  background-color: rgb(var(--em-rgb-input));
  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);
}

.search .icon {
  z-index: 1;
  color: rgba(var(--em-rgb-color), .7);
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.search .loupe {
  pointer-events: none;
  left: .7em;
}

.search .delete {
  right: .7em;
}

svg {
  fill: currentColor;
  width: 1em;
  height: 1em;
}

button {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
  cursor: pointer;
  color: currentColor;
  background-color: rgba(0, 0, 0, 0);
  border: 0;
}

#nav {
  z-index: 2;
  padding-top: 12px;
  padding-bottom: 12px;
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav button {
  color: var(--color-b);
  transition: color var(--duration) var(--easing);
}

#nav button:hover {
  color: var(--color-a);
}

#nav svg, #nav img {
  width: var(--category-icon-size);
  height: var(--category-icon-size);
}

#nav .bar {
  width: 100%;
  height: 3px;
  background-color: rgb(var(--em-rgb-accent));
  transition: transform var(--duration) var(--easing);
  border-radius: 3px 3px 0 0;
  position: absolute;
  bottom: -12px;
  left: 0;
}

#nav button[aria-selected] {
  color: rgb(var(--em-rgb-accent));
}

#preview {
  z-index: 2;
  padding: calc(var(--padding)  + 4px) var(--padding);
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav:before, #preview:before {
  content: "";
  height: 2px;
  position: absolute;
  left: 0;
  right: 0;
}

#nav[data-position="top"]:before, #preview[data-position="top"]:before {
  background: linear-gradient(to bottom, var(--em-color-border), transparent);
  top: 100%;
}

#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {
  background: linear-gradient(to top, var(--em-color-border), transparent);
  bottom: 100%;
}

.category:last-child {
  min-height: calc(100% + 1px);
}

.category button {
  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;
  position: relative;
}

.category button > * {
  position: relative;
}

.category button .background {
  opacity: 0;
  background-color: var(--em-color-border);
  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

.category button:hover .background {
  transition-duration: var(--duration-instant);
  transition-delay: 0s;
}

.category button[aria-selected] .background {
  opacity: 1;
}

.category button[data-keyboard] .background {
  transition: none;
}

.row {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.skin-tone-button {
  border: 1px solid rgba(0, 0, 0, 0);
  border-radius: 100%;
}

.skin-tone-button:hover {
  border-color: var(--em-color-border);
}

.skin-tone-button:active .skin-tone {
  transform: scale(.85) !important;
}

.skin-tone-button .skin-tone {
  transition: transform var(--duration) var(--easing);
}

.skin-tone-button[aria-selected] {
  background-color: var(--em-color-border);
  border-top-color: rgba(0, 0, 0, .05);
  border-bottom-color: rgba(0, 0, 0, 0);
  border-left-width: 0;
  border-right-width: 0;
}

.skin-tone-button[aria-selected] .skin-tone {
  transform: scale(.9);
}

.menu {
  z-index: 2;
  white-space: nowrap;
  border: 1px solid var(--em-color-border);
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  transition-property: opacity, transform;
  transition-duration: var(--duration);
  transition-timing-function: var(--easing);
  border-radius: 10px;
  padding: 4px;
  position: absolute;
  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);
}

.menu.hidden {
  opacity: 0;
}

.menu[data-position="bottom"] {
  transform-origin: 100% 100%;
}

.menu[data-position="bottom"].hidden {
  transform: scale(.9)rotate(-3deg)translateY(5%);
}

.menu[data-position="top"] {
  transform-origin: 100% 0;
}

.menu[data-position="top"].hidden {
  transform: scale(.9)rotate(3deg)translateY(-5%);
}

.menu input[type="radio"] {
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  border: 0;
  margin: 0;
  padding: 0;
  position: absolute;
  overflow: hidden;
}

.menu input[type="radio"]:checked + .option {
  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));
}

.option {
  width: 100%;
  border-radius: 6px;
  padding: 4px 6px;
}

.option:hover {
  color: #fff;
  background-color: rgb(var(--em-rgb-accent));
}

.skin-tone {
  width: 16px;
  height: 16px;
  border-radius: 100%;
  display: inline-block;
  position: relative;
  overflow: hidden;
}

.skin-tone:after {
  content: "";
  mix-blend-mode: overlay;
  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));
  border: 1px solid rgba(0, 0, 0, .8);
  border-radius: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;
}

.skin-tone-1 {
  background-color: #ffc93a;
}

.skin-tone-2 {
  background-color: #ffdab7;
}

.skin-tone-3 {
  background-color: #e7b98f;
}

.skin-tone-4 {
  background-color: #c88c61;
}

.skin-tone-5 {
  background-color: #a46134;
}

.skin-tone-6 {
  background-color: #5d4437;
}

[data-emoji-set="twitter"] .skin-tone:after {
  box-shadow: none;
  border-color: rgba(0, 0, 0, .5);
}

[data-emoji-set="twitter"] .skin-tone-1 {
  background-color: #fade72;
}

[data-emoji-set="twitter"] .skin-tone-2 {
  background-color: #f3dfd0;
}

[data-emoji-set="twitter"] .skin-tone-3 {
  background-color: #eed3a8;
}

[data-emoji-set="twitter"] .skin-tone-4 {
  background-color: #cfad8d;
}

[data-emoji-set="twitter"] .skin-tone-5 {
  background-color: #a8805d;
}

[data-emoji-set="twitter"] .skin-tone-6 {
  background-color: #765542;
}

[data-emoji-set="google"] .skin-tone:after {
  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);
}

[data-emoji-set="google"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="google"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="google"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="google"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="google"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="google"] .skin-tone-6 {
  background-color: #61493f;
}

[data-emoji-set="facebook"] .skin-tone:after {
  border-color: rgba(0, 0, 0, .4);
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;
}

[data-emoji-set="facebook"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="facebook"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="facebook"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="facebook"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="facebook"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="facebook"] .skin-tone-6 {
  background-color: #61493f;
}

`;const XCe="搜索",QCe="哦不！",ZCe="没有找到相关表情",JCe="选择一个表情…",qCe="添加自定义表情",e4e={activity:"活动",custom:"自定义",flags:"旗帜",foods:"食物与饮品",frequent:"最近使用",nature:"动物与自然",objects:"物品",people:"表情与角色",places:"旅行与景点",search:"搜索结果",symbols:"符号"},t4e={1:"默认",2:"白色",3:"偏白",4:"中等",5:"偏黑",6:"黑色",choose:"选择默认肤色"},n4e={search:XCe,search_no_results_1:QCe,search_no_results_2:ZCe,pick:JCe,add_custom:qCe,categories:e4e,skins:t4e},o4e=window.Vue.defineComponent,qu=window.Vue.unref,JT=window.Vue.resolveComponent,kf=window.Vue.createVNode,Ap=window.Vue.withCtx,qT=window.Vue.createElementVNode,eR=window.Vue.openBlock,tR=window.Vue.createBlock,a4e=window.Vue.createCommentVNode,s4e=window.Vue.createTextVNode,r4e={class:"mt-2 flex justify-end"},i4e=window.HaloComponents.VModal,l4e=window.HaloComponents.VSpace,c4e=window.HaloComponents.VButton,u4e=window.HaloComponents.IconMotionLine,d4e=window.HaloComponents.Toast,nR=window.Vue.computed,p4e=window.Vue.nextTick,y3=window.Vue.ref,oR=window.Vue.watch,h4e=window.Vue.watchEffect,f4e=o4e({__name:"ReplyCreationModal",props:{visible:{type:Boolean,default:!1},comment:{default:void 0},reply:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o={raw:"",content:"",allowNotification:!0,quoteReply:void 0},a=y3(ot(o)),s=y3(!1);oR(()=>a.value.raw,g=>{a.value.content=g});const r=nR(()=>{var g,v;return`comment-reply-form-${[(g=n.comment)==null?void 0:g.comment.metadata.name,(v=n.reply)==null?void 0:v.reply.metadata.name].join("-")}`}),i=nR(()=>{var g,v;return`content-input-${[(g=n.comment)==null?void 0:g.comment.metadata.name,(v=n.reply)==null?void 0:v.reply.metadata.name].join("-")}`}),l=g=>{e("update:visible",g),g||e("close")},c=()=>{a.value=ot(o),tr(r.value)};oR(()=>n.visible,async g=>{g?(await p4e(),Ps(i.value)):c()});const u=async()=>{var g;try{s.value=!0,n.reply&&(a.value.quoteReply=n.reply.reply.metadata.name),await X.comment.createReply({name:(g=n.comment)==null?void 0:g.comment.metadata.name,replyRequest:a.value}),l(!1),d4e.success("回复成功")}catch(v){console.error("Failed to create comment reply",v)}finally{s.value=!1}},d=y3(null),p=()=>{var v;const g=new jS({data:async()=>{const y=await yD(()=>import("./native-edcedb22.js"),[]);return Object.assign({},y)},theme:"light",autoFocus:!0,i18n:n4e,onEmojiSelect:f});(v=d.value)==null||v.appendChild(g)},f=g=>{a.value.raw+=g.native,Ps(i.value)};return h4e(()=>{d.value&&p()}),(g,v)=>{const y=JT("FormKit"),w=JT("FloatingDropdown");return eR(),tR(qu(i4e),{title:"回复",visible:t.visible,width:500,"onUpdate:visible":l},{footer:Ap(()=>[kf(qu(l4e),null,{default:Ap(()=>[t.visible?(eR(),tR(Vl,{key:0,loading:s.value,type:"secondary",onSubmit:v[1]||(v[1]=b=>g.$formkit.submit(qu(r)))},null,8,["loading"])):a4e("",!0),kf(qu(c4e),{onClick:v[2]||(v[2]=b=>l(!1))},{default:Ap(()=>[s4e("取消 Esc")]),_:1})]),_:1})]),default:Ap(()=>[kf(y,{id:qu(r),name:qu(r),type:"form",config:{validationVisibility:"submit"},onSubmit:u},{default:Ap(()=>[kf(y,{id:qu(i),modelValue:a.value.raw,"onUpdate:modelValue":v[0]||(v[0]=b=>a.value.raw=b),type:"textarea","validation-label":"内容",rows:6,validation:"required|length:0,1024"},null,8,["id","modelValue"])]),_:1},8,["id","name"]),qT("div",r4e,[kf(w,null,{popper:Ap(()=>[qT("div",{ref_key:"emojiPickerRef",ref:d},null,512)]),default:Ap(()=>[kf(qu(u4e),{class:"h-5 w-5 cursor-pointer text-gray-500 transition-all hover:text-gray-900"})]),_:1})])]),_:1},8,["visible"])}}}),m4e=window.Vue.defineComponent,ra=window.Vue.unref,Ip=window.Vue.createVNode,Zi=window.Vue.withCtx,w3=window.Vue.toDisplayString,md=window.Vue.createElementVNode,ed=window.Vue.openBlock,aR=window.Vue.createElementBlock,Mp=window.Vue.createCommentVNode,b3=window.Vue.createTextVNode,Af=window.Vue.createBlock,$3=window.Vue.resolveDirective,x3=window.Vue.withDirectives,g4e=window.Vue.normalizeClass,v4e={class:"flex flex-col gap-2"},y4e={class:"w-96 text-sm text-gray-800"},w4e={key:1},b4e={class:"flex items-center gap-3 text-xs"},$4e=md("span",{class:"text-xs text-gray-500"},"待审核",-1),x4e={class:"truncate text-xs tabular-nums text-gray-500"},_4e=window.HaloComponents.VAvatar,sR=window.HaloComponents.VButton;window.HaloComponents.VTag;const If=window.HaloComponents.VEntityField,V4e=window.HaloComponents.VEntity,C4e=window.HaloComponents.Dialog,rR=window.HaloComponents.VStatusDot,S4e=window.HaloComponents.IconReplyLine,iR=window.HaloComponents.Toast,lR=window.Vue.computed,P4e=window.Vue.inject,E4e=m4e({__name:"ReplyListItem",props:{reply:{default:void 0},replies:{default:void 0}},emits:["reload","reply"],setup(t,{emit:e}){const n=t,o=lR(()=>{var d;const{quoteReply:u}=n.reply.reply.spec;if(u)return(d=n.replies)==null?void 0:d.find(p=>p.reply.metadata.name===u)}),a=async()=>{C4e.warning({title:"确认要删除该回复吗？",description:"该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{var u;try{await X.extension.reply.deletecontentHaloRunV1alpha1Reply({name:(u=n.reply)==null?void 0:u.reply.metadata.name}),iR.success("删除成功")}catch(d){console.log("Failed to delete comment reply",d)}finally{e("reload")}}})},s=async()=>{try{const u=ot(n.reply.reply);u.spec.approved=!0,u.spec.approvedTime=new Date().toISOString(),await X.extension.reply.updatecontentHaloRunV1alpha1Reply({name:u.metadata.name,reply:u}),iR.success("操作成功")}catch(u){console.error("Failed to approve comment reply",u)}finally{e("reload")}},r=()=>{e("reply",n.reply)},i=P4e("hoveredReply"),l=u=>{i&&(i.value=u?o.value:void 0)},c=lR(()=>{var u;return((u=i==null?void 0:i.value)==null?void 0:u.reply.metadata.name)===n.reply.reply.metadata.name});return(u,d)=>{const p=$3("tooltip"),f=$3("permission"),g=$3("close-popper");return ed(),Af(ra(V4e),{class:g4e(["!px-0 !py-2",{"animate-breath":ra(c)}])},{start:Zi(()=>{var v,y;return[Ip(ra(If),null,{description:Zi(()=>{var w,b;return[Ip(ra(_4e),{circle:"",src:(w=t.reply)==null?void 0:w.owner.avatar,alt:(b=t.reply)==null?void 0:b.owner.displayName,size:"md"},null,8,["src","alt"])]}),_:1}),Ip(ra(If),{class:"w-28 min-w-[7rem]",title:(v=t.reply)==null?void 0:v.owner.displayName,description:(y=t.reply)==null?void 0:y.owner.email},null,8,["title","description"]),Ip(ra(If),null,{description:Zi(()=>{var w;return[md("div",v4e,[md("div",y4e,[md("p",null,[ra(o)?(ed(),aR("a",{key:0,class:"mr-1 inline-flex flex-row items-center gap-1 rounded bg-gray-200 py-0.5 px-1 text-xs font-medium text-gray-600 hover:text-blue-500 hover:underline",href:"javascript:void(0)",onMouseenter:d[0]||(d[0]=b=>l(!0)),onMouseleave:d[1]||(d[1]=b=>l(!1))},[Ip(ra(S4e)),md("span",null,w3(ra(o).owner.displayName),1)],32)):Mp("",!0),ra(o)?(ed(),aR("br",w4e)):Mp("",!0),b3(" "+w3((w=t.reply)==null?void 0:w.reply.spec.content),1)])]),md("div",b4e,[md("span",{class:"select-none text-gray-700 hover:text-gray-900",onClick:r}," 回复 "),Mp("",!0)])])]}),_:1})]}),end:Zi(()=>{var v,y,w,b;return[(v=t.reply)!=null&&v.reply.spec.approved?Mp("",!0):(ed(),Af(ra(If),{key:0},{description:Zi(()=>[Ip(ra(rR),{state:"success"},{text:Zi(()=>[$4e]),_:1})]),_:1})),(y=t.reply)!=null&&y.reply.metadata.deletionTimestamp?(ed(),Af(ra(If),{key:1},{description:Zi(()=>[x3(Ip(ra(rR),{state:"warning",animate:""},null,512),[[p,"删除中"]])]),_:1})):Mp("",!0),(b=(w=t.reply)==null?void 0:w.reply)!=null&&b.spec.approvedTime?(ed(),Af(ra(If),{key:2},{description:Zi(()=>{var C,V;return[md("span",x4e,w3(ra(Ma)((V=(C=t.reply)==null?void 0:C.reply)==null?void 0:V.spec.approvedTime)),1)]}),_:1})):Mp("",!0)]}),dropdownItems:Zi(()=>{var v;return[(v=t.reply)!=null&&v.reply.spec.approved?Mp("",!0):x3((ed(),Af(ra(sR),{key:0,type:"secondary",block:"",onClick:s},{default:Zi(()=>[b3(" 审核通过 ")]),_:1})),[[f,["system:comments:manage"]],[g]]),x3((ed(),Af(ra(sR),{block:"",type:"danger",onClick:a},{default:Zi(()=>[b3(" 删除 ")]),_:1})),[[f,["system:comments:manage"]],[g]])]}),_:1},8,["class"])}}}),T4e=window.Vue.defineComponent,ms=window.Vue.openBlock,hi=window.Vue.createBlock,kr=window.Vue.createElementVNode,xn=window.Vue.unref,R4e=window.Vue.renderSlot,Ws=window.Vue.createVNode,ro=window.Vue.withCtx,_3=window.Vue.toDisplayString,cR=window.Vue.resolveDirective,Eg=window.Vue.withDirectives,Mf=window.Vue.createCommentVNode,V3=window.Vue.createElementBlock,Tg=window.Vue.createTextVNode,uR=window.Vue.Transition,O4e=window.Vue.renderList,dR=window.Vue.Fragment,pR=window.Vue.normalizeClass,k4e=window.Vue.createSlots,A4e=kr("div",{class:"absolute inset-y-0 left-0 w-[1px] bg-black/50"},null,-1),I4e=kr("div",{class:"absolute inset-y-0 right-0 w-[1px] bg-black/50"},null,-1),M4e=kr("div",{class:"absolute inset-x-0 top-0 h-[1px] bg-black/50"},null,-1),F4e=kr("div",{class:"absolute inset-x-0 bottom-0 h-[1px] bg-black/50"},null,-1),D4e={class:"flex flex-col gap-2"},N4e={class:"text-sm text-gray-900"},H4e={class:"flex items-center gap-3 text-xs"},B4e=["href"],L4e=kr("span",{class:"text-xs text-gray-500"},"待审核",-1),U4e={class:"truncate text-xs tabular-nums text-gray-500"},j4e={class:"ml-8 mt-3 divide-y divide-gray-100 rounded-base border-t border-gray-100 pt-3"},hR=window.HaloComponents.Dialog,z4e=window.HaloComponents.VAvatar,Rg=window.HaloComponents.VButton,G4e=window.HaloComponents.VEntity,Fp=window.HaloComponents.VEntityField,C3=window.HaloComponents.VStatusDot,W4e=window.HaloComponents.VSpace,K4e=window.HaloComponents.VEmpty,Y4e=window.HaloComponents.IconAddCircle,X4e=window.HaloComponents.IconExternalLinkLine,Q4e=window.HaloComponents.VLoading,S3=window.HaloComponents.Toast,Z4e=window.Vue.computed,J4e=window.Vue.onMounted,q4e=window.Vue.provide,td=window.Vue.ref,eSe=window.Vue.watch,tSe=window.VueRouter.onBeforeRouteLeave,nSe=T4e({__name:"CommentListItem",props:{comment:{default:void 0},isSelected:{type:Boolean,default:!1}},emits:["reload"],setup(t,{emit:e}){const n=t,{currentUserHasPermission:o}=To(),a=td([]),s=td(),r=td(),i=td(!1),l=td(!1),c=td(!1),u=td();q4e("hoveredReply",r);const d=async()=>{hR.warning({title:"确认要删除该评论吗？",description:"删除评论的同时会删除该评论下的所有回复，该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{var _,x;try{await X.extension.comment.deletecontentHaloRunV1alpha1Comment({name:(x=(_=n.comment)==null?void 0:_.comment)==null?void 0:x.metadata.name}),S3.success("删除成功")}catch(S){console.log("Failed to delete comment",S)}finally{e("reload")}}})},p=async()=>{hR.warning({title:"确定要审核通过该评论的所有回复吗？",onConfirm:async()=>{try{const x=a.value.filter(S=>!S.reply.spec.approved).map(S=>{const P=S.reply;return P.spec.approved=!0,P.spec.approvedTime=new Date().toISOString(),X.extension.reply.updatecontentHaloRunV1alpha1Reply({name:P.metadata.name,reply:P})});await Promise.all(x),S3.success("操作成功")}catch(_){console.error("Failed to approve comment replies in batch",_)}finally{await g()}}})},f=async()=>{try{const _=ot(n.comment.comment);_.spec.approved=!0,_.spec.approvedTime=new Date().toISOString(),await X.extension.comment.updatecontentHaloRunV1alpha1Comment({name:_.metadata.name,comment:_}),S3.success("操作成功")}catch(_){console.error("Failed to approve comment",_)}finally{e("reload")}},g=async _=>{try{clearInterval(u.value),_!=null&&_.mute||(i.value=!0);const{data:x}=await X.reply.listReplies({commentName:n.comment.comment.metadata.name,page:0,size:0});a.value=x.items,a.value.filter(P=>!!P.reply.metadata.deletionTimestamp).length&&(u.value=setInterval(()=>{g({mute:!0})},3e3))}catch(x){console.error("Failed to fetch comment replies",x)}finally{i.value=!1}};J4e(()=>{clearInterval(u.value)}),tSe(()=>{clearInterval(u.value)}),eSe(()=>l.value,_=>{_?g():a.value=[]});const v=async()=>{if(l.value=!l.value,l.value){const _=ot(n.comment.comment);_.spec.lastReadTime=new Date().toISOString(),await X.extension.comment.updatecontentHaloRunV1alpha1Comment({name:_.metadata.name,comment:_})}else e("reload")},y=()=>{c.value=!0},w=_=>{s.value=_,c.value=!0},b=()=>{s.value=void 0,g({mute:!0})},C=td([{Post:_=>{var S;const x=_;return{label:"文章",title:x.spec.title,externalUrl:(S=x.status)==null?void 0:S.permalink,route:{name:"PostEditor",query:{name:x.metadata.name}}}}},{SinglePage:_=>{var S;const x=_;return{label:"单页",title:x.spec.title,externalUrl:(S=x.status)==null?void 0:S.permalink,route:{name:"SinglePageEditor",query:{name:x.metadata.name}}}}}]),V=Z4e(()=>{const{subject:_}=n.comment;if(!_)return{label:"未知",title:"未知"};const x=C.value.find(S=>Object.keys(S).includes(_.kind));return x?x[_.kind](_):{label:"未知",title:"未知"}});return(_,x)=>{var E;const S=cR("tooltip"),P=cR("close-popper");return ms(),V3(dR,null,[(ms(),hi(f4e,{key:(E=t.comment)==null?void 0:E.comment.metadata.name,visible:c.value,"onUpdate:visible":x[0]||(x[0]=O=>c.value=O),comment:t.comment,reply:s.value,onClose:b},null,8,["visible","comment","reply"])),Ws(xn(G4e),{"is-selected":t.isSelected,class:pR({"hover:bg-white":l.value})},k4e({start:ro(()=>{var O,I,F,L;return[Ws(xn(Fp),null,{description:ro(()=>{var H,W;return[Ws(xn(z4e),{circle:"",src:(H=t.comment)==null?void 0:H.owner.avatar,alt:(W=t.comment)==null?void 0:W.owner.displayName,size:"md"},null,8,["src","alt"])]}),_:1}),Ws(xn(Fp),{class:"w-28 min-w-[7rem]",title:(I=(O=t.comment)==null?void 0:O.owner)==null?void 0:I.displayName,description:(L=(F=t.comment)==null?void 0:F.owner)==null?void 0:L.email},null,8,["title","description"]),Ws(xn(Fp),null,{description:ro(()=>{var H,W,Y,U,q,ye,we,oe;return[kr("div",D4e,[kr("div",N4e,_3((W=(H=t.comment)==null?void 0:H.comment)==null?void 0:W.spec.content),1),kr("div",H4e,[kr("span",{class:"select-none text-gray-700 hover:text-gray-900",onClick:v},_3(((q=(U=(Y=t.comment)==null?void 0:Y.comment)==null?void 0:U.status)==null?void 0:q.replyCount)||0)+" 条回复 ",1),(oe=(we=(ye=t.comment)==null?void 0:ye.comment)==null?void 0:we.status)!=null&&oe.unreadReplyCount||0>0?Eg((ms(),hi(xn(C3),{key:0,state:"success",animate:""},null,512)),[[S,"有新的回复"]]):Mf("",!0),kr("span",{class:"select-none text-gray-700 hover:text-gray-900",onClick:y}," 回复 ")])])]}),_:1})]}),end:ro(()=>{var O,I,F,L,H;return[Ws(xn(Fp),{title:xn(V).title,description:xn(V).label,route:xn(V).route},{extra:ro(()=>[xn(V).externalUrl?(ms(),V3("a",{key:0,href:xn(V).externalUrl,target:"_blank",class:"text-gray-600 hover:text-gray-900"},[Ws(xn(X4e),{class:"h-3.5 w-3.5"})],8,B4e)):Mf("",!0)]),_:1},8,["title","description","route"]),(O=t.comment)!=null&&O.comment.spec.approved?Mf("",!0):(ms(),hi(xn(Fp),{key:0},{description:ro(()=>[Ws(xn(C3),{state:"success"},{text:ro(()=>[L4e]),_:1})]),_:1})),(F=(I=t.comment)==null?void 0:I.comment)!=null&&F.metadata.deletionTimestamp?(ms(),hi(xn(Fp),{key:1},{description:ro(()=>[Eg(Ws(xn(C3),{state:"warning",animate:""},null,512),[[S,"删除中"]])]),_:1})):Mf("",!0),(H=(L=t.comment)==null?void 0:L.comment)!=null&&H.spec.approvedTime?(ms(),hi(xn(Fp),{key:2},{description:ro(()=>{var W,Y;return[kr("span",U4e,_3(xn(Ma)((Y=(W=t.comment)==null?void 0:W.comment)==null?void 0:Y.spec.approvedTime)),1)]}),_:1})):Mf("",!0)]}),_:2},[l.value?{name:"prepend",fn:ro(()=>[A4e,I4e,M4e,F4e]),key:"0"}:void 0,xn(o)(["system:comments:manage"])?{name:"checkbox",fn:ro(()=>[R4e(_.$slots,"checkbox")]),key:"1"}:void 0,xn(o)(["system:comments:manage"])?{name:"dropdownItems",fn:ro(()=>{var O;return[(O=t.comment)!=null&&O.comment.spec.approved?Mf("",!0):Eg((ms(),hi(xn(Rg),{key:0,type:"secondary",block:"",onClick:f},{default:ro(()=>[Tg(" 审核通过 ")]),_:1})),[[P]]),Eg((ms(),hi(xn(Rg),{type:"secondary",block:"",onClick:p},{default:ro(()=>[Tg(" 审核通过所有回复 ")]),_:1})),[[P]]),Eg((ms(),hi(xn(Rg),{block:"",type:"danger",onClick:d},{default:ro(()=>[Tg(" 删除 ")]),_:1})),[[P]])]}),key:"2"}:void 0,l.value?{name:"footer",fn:ro(()=>[kr("div",j4e,[i.value?(ms(),hi(xn(Q4e),{key:0})):a.value.length?(ms(),hi(uR,{key:2,appear:"",name:"fade"},{default:ro(()=>[kr("div",null,[(ms(!0),V3(dR,null,O4e(a.value,O=>(ms(),hi(E4e,{key:O.reply.metadata.name,class:pR({"hover:bg-white":l.value}),reply:O,replies:a.value,onReload:x[2]||(x[2]=I=>g({mute:!0})),onReply:w},null,8,["class","reply","replies"]))),128))])]),_:1})):(ms(),hi(uR,{key:1,appear:"",name:"fade"},{default:ro(()=>[Ws(xn(K4e),{message:"你可以尝试刷新或者创建新回复",title:"当前没有回复"},{actions:ro(()=>[Ws(xn(W4e),null,{default:ro(()=>[Ws(xn(Rg),{onClick:g},{default:ro(()=>[Tg("刷新")]),_:1}),Ws(xn(Rg),{type:"secondary",onClick:x[1]||(x[1]=O=>c.value=!0)},{icon:ro(()=>[Ws(xn(Y4e),{class:"h-full w-full"})]),default:ro(()=>[Tg(" 创建新回复 ")]),_:1})]),_:1})]),_:1})]),_:1}))])]),key:"3"}:void 0]),1032,["is-selected","class"])],64)}}}),oSe=window.Vue.defineComponent,Ca=window.Vue.unref,Xo=window.Vue.createVNode,io=window.Vue.withCtx,fR=window.Vue.vModelCheckbox,Mn=window.Vue.createElementVNode,Ff=window.Vue.withDirectives,P3=window.Vue.resolveDirective,Ka=window.Vue.openBlock,Dp=window.Vue.createElementBlock,mR=window.Vue.resolveComponent,aSe=window.Vue.withKeys,Df=window.Vue.toDisplayString,Np=window.Vue.createTextVNode,du=window.Vue.createBlock,Og=window.Vue.createCommentVNode,E3=window.Vue.renderList,Fw=window.Vue.Fragment,T3=window.Vue.normalizeClass,gR=window.Vue.Transition,sSe={class:"m-0 md:m-4"},rSe={class:"block w-full bg-gray-50 px-4 py-3"},iSe={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},lSe={class:"mr-4 hidden items-center sm:flex"},cSe={class:"flex w-full flex-1 items-center sm:w-auto"},uSe={key:0,class:"flex items-center gap-2"},dSe={class:"mt-4 flex sm:mt-0"},pSe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},hSe=Mn("span",{class:"mr-0.5"}," 状态 ",-1),fSe={class:"w-72 p-4"},mSe={class:"space-y-1"},gSe=["onClick"],vSe={class:"truncate"},ySe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},wSe=Mn("span",{class:"mr-0.5"},"评论者",-1),bSe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},$Se=Mn("span",{class:"mr-0.5"}," 排序 ",-1),xSe={class:"w-72 p-4"},_Se={class:"space-y-1"},VSe=["onClick"],CSe={class:"truncate"},SSe={class:"flex flex-row gap-2"},PSe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},ESe=["value"],TSe={class:"bg-white sm:flex sm:items-center sm:justify-end"},R3=window.HaloComponents.IconArrowDown,RSe=window.HaloComponents.IconMessage,O3=window.HaloComponents.VButton,OSe=window.HaloComponents.VCard,kSe=window.HaloComponents.VPageHeader,ASe=window.HaloComponents.VPagination,k3=window.HaloComponents.VSpace,ISe=window.HaloComponents.IconRefreshLine,MSe=window.HaloComponents.VEmpty,vR=window.HaloComponents.Dialog,FSe=window.HaloComponents.VLoading,yR=window.HaloComponents.Toast,DSe=window.Vue.computed,NSe=window.Vue.onMounted,ac=window.Vue.ref,HSe=window.Vue.watch,BSe=window.VueRouter.onBeforeRouteLeave,LSe=oSe({__name:"CommentList",setup(t){const e=ac({page:1,size:20,total:0,items:[],first:!0,last:!1,hasNext:!1,hasPrevious:!1,totalPages:0}),n=ac(!1),o=ac(!1),a=ac(),s=ac([]),r=ac(""),i=ac(),l=async O=>{var I;try{clearInterval(i.value),O!=null&&O.mute||(n.value=!0),O!=null&&O.page&&(e.value.page=O.page);const{data:F}=await X.comment.listComments({page:e.value.page,size:e.value.size,approved:y.value.value,sort:w.value.value,keyword:r.value,ownerName:(I=b.value)==null?void 0:I.metadata.name});e.value=F,e.value.items.filter(H=>!!H.comment.metadata.deletionTimestamp).length&&(i.value=setInterval(()=>{l({mute:!0})},3e3))}catch(F){console.log("Failed to fetch comments",F)}finally{n.value=!1}};BSe(()=>{clearInterval(i.value)});const c=({page:O,size:I})=>{e.value.page=O,e.value.size=I,l()},u=O=>{const{checked:I}=O.target;I?s.value=e.value.items.map(F=>F.comment.metadata.name)||[]:s.value=[]},d=O=>{var I;return O.comment.metadata.name===((I=a.value)==null?void 0:I.comment.metadata.name)||s.value.includes(O.comment.metadata.name)};HSe(()=>s.value,O=>{var I;o.value=O.length===((I=e.value.items)==null?void 0:I.length)});const p=async()=>{vR.warning({title:"确定要删除所选的评论吗？",description:"将同时删除所有评论下的回复，该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{try{const O=s.value.map(I=>X.extension.comment.deletecontentHaloRunV1alpha1Comment({name:I}));await Promise.all(O),s.value=[],yR.success("删除成功")}catch(O){console.error("Failed to delete comments",O)}finally{await l()}}})},f=async()=>{vR.warning({title:"确定要审核通过所选的评论吗？",onConfirm:async()=>{try{const I=e.value.items.filter(F=>s.value.includes(F.comment.metadata.name)&&!F.comment.spec.approved).map(F=>{const L=F.comment;return L.spec.approved=!0,L.spec.approvedTime=new Date().toISOString(),X.extension.comment.updatecontentHaloRunV1alpha1Comment({name:L.metadata.name,comment:L})});await Promise.all(I),s.value=[],yR.success("操作成功")}catch(O){console.error("Failed to approve comments in batch",O)}finally{await l()}}})};NSe(l);const g=[{label:"全部",value:void 0},{label:"已审核",value:!0},{label:"待审核",value:!1}],v=[{label:"默认",value:void 0},{label:"最后回复时间",value:"LAST_REPLY_TIME"},{label:"回复数",value:"REPLY_COUNT"},{label:"创建时间",value:"CREATE_TIME"}],y=ac(g[0]),w=ac(v[0]),b=ac(),C=O=>{y.value=O,s.value=[],l({page:1})},V=O=>{w.value=O,s.value=[],l({page:1})};function _(O){b.value=O,l({page:1})}function x(){const O=Ti("keywordInput");O&&(r.value=O._value),l({page:1})}function S(){r.value="",l({page:1})}const P=DSe(()=>y.value.value!==void 0||w.value.value!==void 0||b.value||r.value);function E(){y.value=g[0],w.value=v[0],b.value=void 0,r.value="",l({page:1})}return(O,I)=>{const F=mR("FormKit"),L=mR("FloatingDropdown"),H=P3("permission"),W=P3("close-popper"),Y=P3("tooltip");return Ka(),Dp(Fw,null,[Xo(Ca(kSe),{title:"评论"},{icon:io(()=>[Xo(Ca(RSe),{class:"mr-2 self-center"})]),_:1}),Mn("div",sSe,[Xo(Ca(OSe),{"body-class":["!p-0"]},{header:io(()=>[Mn("div",rSe,[Mn("div",iSe,[Ff((Ka(),Dp("div",lSe,[Ff(Mn("input",{"onUpdate:modelValue":I[0]||(I[0]=U=>o.value=U),class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onChange:u},null,544),[[fR,o.value]])])),[[H,["system:comments:manage"]]]),Mn("div",cSe,[s.value.length?(Ka(),du(Ca(k3),{key:1},{default:io(()=>[Xo(Ca(O3),{type:"secondary",onClick:f},{default:io(()=>[Np(" 审核通过 ")]),_:1}),Xo(Ca(O3),{type:"danger",onClick:p},{default:io(()=>[Np(" 删除 ")]),_:1})]),_:1})):(Ka(),Dp("div",uSe,[Xo(F,{id:"keywordInput","outer-class":"!p-0",placeholder:"输入关键词搜索",type:"text",name:"keyword","model-value":r.value,onKeyup:aSe(x,["enter"])},null,8,["model-value","onKeyup"]),r.value?(Ka(),du(Gn,{key:0,onClose:I[1]||(I[1]=U=>S())},{default:io(()=>[Np(" 关键词："+Df(r.value),1)]),_:1})):Og("",!0),y.value.value!=null?(Ka(),du(Gn,{key:1,onClose:I[2]||(I[2]=U=>C(g[0]))},{default:io(()=>[Np(" 状态："+Df(y.value.label),1)]),_:1})):Og("",!0),b.value?(Ka(),du(Gn,{key:2,onClose:I[3]||(I[3]=U=>_(void 0))},{default:io(()=>{var U;return[Np(" 评论者："+Df((U=b.value)==null?void 0:U.spec.displayName),1)]}),_:1})):Og("",!0),w.value.value!=null?(Ka(),du(Gn,{key:3,onClose:I[4]||(I[4]=U=>V(v[0]))},{default:io(()=>[Np(" 排序："+Df(w.value.label),1)]),_:1})):Og("",!0),Ca(P)?(Ka(),du(T0,{key:4,onClick:E})):Og("",!0)]))]),Mn("div",dSe,[Xo(Ca(k3),{spacing:"lg"},{default:io(()=>[Xo(L,null,{popper:io(()=>[Mn("div",fSe,[Mn("ul",mSe,[(Ka(),Dp(Fw,null,E3(g,(U,q)=>Ff(Mn("li",{key:q,class:T3([{"bg-gray-100":y.value.value===U.value},"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900"]),onClick:ye=>C(U)},[Mn("span",vSe,Df(U.label),1)],10,gSe),[[W]])),64))])])]),default:io(()=>[Mn("div",pSe,[hSe,Mn("span",null,[Xo(Ca(R3))])])]),_:1}),Xo(b$,{selected:b.value,"onUpdate:selected":I[5]||(I[5]=U=>b.value=U),onSelect:_},{default:io(()=>[Mn("div",ySe,[wSe,Mn("span",null,[Xo(Ca(R3))])])]),_:1},8,["selected"]),Xo(L,null,{popper:io(()=>[Mn("div",xSe,[Mn("ul",_Se,[(Ka(),Dp(Fw,null,E3(v,(U,q)=>Ff(Mn("li",{key:q,class:T3([{"bg-gray-100":w.value.value===U.value},"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900"]),onClick:ye=>V(U)},[Mn("span",CSe,Df(U.label),1)],10,VSe),[[W]])),64))])])]),default:io(()=>[Mn("div",bSe,[$Se,Mn("span",null,[Xo(Ca(R3))])])]),_:1}),Mn("div",SSe,[Mn("div",{class:"group cursor-pointer rounded p-1 hover:bg-gray-200",onClick:I[6]||(I[6]=U=>l())},[Ff(Xo(Ca(ISe),{class:T3([{"animate-spin text-gray-900":n.value},"h-4 w-4 text-gray-600 group-hover:text-gray-900"])},null,8,["class"]),[[Y,"刷新"]])])])]),_:1})])])])]),footer:io(()=>[Mn("div",TSe,[Xo(Ca(ASe),{page:e.value.page,size:e.value.size,total:e.value.total,"size-options":[20,30,50,100],onChange:c},null,8,["page","size","total"])])]),default:io(()=>[n.value?(Ka(),du(Ca(FSe),{key:0})):e.value.items.length?(Ka(),du(gR,{key:2,appear:"",name:"fade"},{default:io(()=>[Mn("ul",PSe,[(Ka(!0),Dp(Fw,null,E3(e.value.items,U=>(Ka(),Dp("li",{key:U.comment.metadata.name},[Xo(nSe,{comment:U,"is-selected":d(U),onReload:I[8]||(I[8]=q=>l({mute:!0}))},{checkbox:io(()=>{var q;return[Ff(Mn("input",{"onUpdate:modelValue":I[7]||(I[7]=ye=>s.value=ye),value:(q=U==null?void 0:U.comment)==null?void 0:q.metadata.name,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",name:"comment-checkbox",type:"checkbox"},null,8,ESe),[[fR,s.value]])]}),_:2},1032,["comment","is-selected"])]))),128))])]),_:1})):(Ka(),du(gR,{key:1,appear:"",name:"fade"},{default:io(()=>[Xo(Ca(MSe),{message:"你可以尝试刷新或者修改筛选条件",title:"当前没有评论"},{actions:io(()=>[Xo(Ca(k3),null,{default:io(()=>[Xo(Ca(O3),{onClick:l},{default:io(()=>[Np("刷新")]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})])],64)}}}),USe=window.Vue.defineComponent,A3=window.Vue.unref,jSe=window.Vue.createVNode,hm=window.Vue.createElementVNode,zSe=window.Vue.toDisplayString,GSe=window.Vue.withCtx,WSe=window.Vue.openBlock,KSe=window.Vue.createBlock,YSe={class:"flex h-full"},XSe={class:"flex items-center gap-4"},QSe={class:"hidden rounded-full bg-gray-100 p-2.5 text-gray-600 sm:block"},ZSe=hm("span",{class:"text-sm text-gray-500"},"评论",-1),JSe={class:"text-2xl font-medium text-gray-900"},qSe=window.HaloComponents.VCard,e8e=window.HaloComponents.IconMessage,t8e=window.Vue.inject,n8e=USe({__name:"CommentStatsWidget",setup(t){const e=t8e("dashboardStats");return(n,o)=>(WSe(),KSe(A3(qSe),{class:"h-full","body-class":["h-full"]},{default:GSe(()=>{var a;return[hm("div",YSe,[hm("div",XSe,[hm("span",QSe,[jSe(A3(e8e),{class:"h-5 w-5"})]),hm("div",null,[ZSe,hm("p",JSe,zSe((a=A3(e))==null?void 0:a.approvedComments),1)])])])]}),_:1}))}}),o8e=window.HaloComponents.IconMessage,a8e=window.Vue.markRaw,s8e={components:{CommentStatsWidget:n8e},routes:[{path:"/comments",component:Es,children:[{path:"",name:"Comments",component:LSe,meta:{title:"评论",searchable:!0,permissions:["system:comments:view"],menu:{name:"评论",group:"content",icon:a8e(o8e),priority:2,mobile:!0}}}]}]},r8e=window.Vue.defineComponent,mo=window.Vue.unref,xr=window.Vue.createVNode,wR=window.Vue.resolveDirective,Ks=window.Vue.openBlock,pu=window.Vue.createElementBlock,Nf=window.Vue.withDirectives,I3=window.Vue.renderList,Dw=window.Vue.Fragment,M3=window.Vue.toDisplayString,Hp=window.Vue.createElementVNode,i8e=window.Vue.resolveComponent,Ao=window.Vue.withCtx,kg=window.Vue.createTextVNode,Ag=window.Vue.createBlock,bR=window.Vue.createCommentVNode,l8e={class:"w-72 p-4"},c8e={class:"space-y-1"},u8e=["onClick"],d8e={class:"truncate"},p8e={class:"w-72 p-4"},h8e={class:"space-y-1"},f8e=["onClick"],m8e={class:"truncate"},g8e={key:1,class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},v8e={class:"truncate text-xs tabular-nums text-gray-500"},$R=window.HaloComponents.IconAddCircle,Ig=window.HaloComponents.VButton,y8e=window.HaloComponents.VModal,w8e=window.HaloComponents.VSpace,b8e=window.HaloComponents.VEmpty,xR=window.HaloComponents.Dialog,$8e=window.HaloComponents.VEntity,F3=window.HaloComponents.VEntityField,x8e=window.HaloComponents.VStatusDot,_8e=window.HaloComponents.Toast,_R=window.Vue.ref,V8e=window.Vue.watch,C8e=r8e({__name:"AttachmentPoliciesModal",props:{visible:{type:Boolean,default:!1}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,{policies:o,loading:a,handleFetchPolicies:s}=SS(),{policyTemplates:r,handleFetchPolicyTemplates:i}=fF({fetchOnMounted:!1}),l=_R(),c=_R(!1);function u(v){e("update:visible",v),v||e("close")}const d=v=>{l.value=v,c.value=!0},p=v=>{l.value={spec:{displayName:"",templateName:v.metadata.name,configMapName:""},apiVersion:"storage.halo.run/v1alpha1",kind:"Policy",metadata:{name:"",generateName:"attachment-policy-"}},c.value=!0},f=async v=>{const{data:y}=await X.attachment.searchAttachments({policy:v.metadata.name});if(y.total>0){xR.warning({title:"删除失败",description:"该策略下存在附件，无法删除。"});return}xR.warning({title:"确定要删除该策略吗？",description:"当前策略下没有已上传的附件。",onConfirm:async()=>{await X.extension.storage.policy.deletestorageHaloRunV1alpha1Policy({name:v.metadata.name}),_8e.success("删除成功"),s()}})},g=()=>{l.value=void 0,s()};return V8e(()=>n.visible,v=>{v&&(i(),s())}),(v,y)=>{const w=i8e("FloatingDropdown"),b=wR("tooltip"),C=wR("close-popper");return Ks(),pu(Dw,null,[xr(mo(y8e),{visible:t.visible,width:750,title:"存储策略","body-class":["!p-0"],"onUpdate:visible":u},{actions:Ao(()=>[xr(w,null,{popper:Ao(()=>[Hp("div",l8e,[Hp("ul",c8e,[(Ks(!0),pu(Dw,null,I3(mo(r),(V,_)=>{var x;return Nf((Ks(),pu("li",{key:_,class:"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:S=>p(V)},[Hp("span",d8e,M3((x=V.spec)==null?void 0:x.displayName),1)],8,u8e)),[[C]])}),128))])])]),default:Ao(()=>[Nf((Ks(),pu("span",null,[xr(mo($R))])),[[b,"添加存储策略"]])]),_:1})]),footer:Ao(()=>[xr(mo(Ig),{onClick:y[0]||(y[0]=V=>u(!1))},{default:Ao(()=>[kg("关闭 Esc")]),_:1})]),default:Ao(()=>[!mo(o).length&&!mo(a)?(Ks(),Ag(mo(b8e),{key:0,message:"当前没有可用的存储策略，你可以尝试刷新或者新建策略",title:"当前没有可用的存储策略"},{actions:Ao(()=>[xr(mo(w8e),null,{default:Ao(()=>[xr(mo(Ig),{onClick:mo(s)},{default:Ao(()=>[kg("刷新")]),_:1},8,["onClick"]),xr(w,null,{popper:Ao(()=>[Hp("div",p8e,[Hp("ul",h8e,[(Ks(!0),pu(Dw,null,I3(mo(r),(V,_)=>{var x;return Nf((Ks(),pu("li",{key:_,class:"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:S=>p(V)},[Hp("span",m8e,M3((x=V.spec)==null?void 0:x.displayName),1)],8,f8e)),[[C]])}),128))])])]),default:Ao(()=>[xr(mo(Ig),{type:"secondary"},{icon:Ao(()=>[xr(mo($R),{class:"h-full w-full"})]),default:Ao(()=>[kg(" 新建策略 ")]),_:1})]),_:1})]),_:1})]),_:1})):(Ks(),pu("ul",g8e,[(Ks(!0),pu(Dw,null,I3(mo(o),(V,_)=>(Ks(),pu("li",{key:_},[xr(mo($8e),null,{start:Ao(()=>[xr(mo(F3),{title:V.spec.displayName,description:V.spec.templateName},null,8,["title","description"])]),end:Ao(()=>[V.metadata.deletionTimestamp?(Ks(),Ag(mo(F3),{key:0},{description:Ao(()=>[Nf(xr(mo(x8e),{state:"warning",animate:""},null,512),[[b,"删除中"]])]),_:1})):bR("",!0),xr(mo(F3),null,{description:Ao(()=>[Hp("span",v8e,M3(mo(Ma)(V.metadata.creationTimestamp)),1)]),_:2},1024)]),dropdownItems:Ao(()=>[Nf((Ks(),Ag(mo(Ig),{block:"",type:"secondary",onClick:x=>d(V)},{default:Ao(()=>[kg(" 编辑 ")]),_:2},1032,["onClick"])),[[C]]),Nf((Ks(),Ag(mo(Ig),{block:"",type:"danger",onClick:x=>f(V)},{default:Ao(()=>[kg(" 删除 ")]),_:2},1032,["onClick"])),[[C]])]),_:2},1024)]))),128))]))]),_:1},8,["visible"]),t.visible?(Ks(),Ag(mF,{key:0,visible:c.value,"onUpdate:visible":y[1]||(y[1]=V=>c.value=V),policy:l.value,onClose:g},null,8,["visible","policy"])):bR("",!0)],64)}}}),S8e=window.Vue.defineComponent,Be=window.Vue.unref,Ft=window.Vue.createVNode,St=window.Vue.createElementVNode,vt=window.Vue.withCtx,Ys=window.Vue.createTextVNode,D3=window.Vue.resolveDirective,qt=window.Vue.openBlock,Qo=window.Vue.createBlock,Xs=window.Vue.withDirectives,P8e=window.Vue.isRef,E8e=window.Vue.vModelCheckbox,Ya=window.Vue.createElementBlock,N3=window.Vue.resolveComponent,T8e=window.Vue.withKeys,fi=window.Vue.toDisplayString,Ji=window.Vue.createCommentVNode,Hf=window.Vue.renderList,Bp=window.Vue.Fragment,Bf=window.Vue.normalizeClass,R8e=window.Vue.resolveDynamicComponent,O8e=window.Vue.normalizeStyle,H3=window.Vue.Transition,k8e=window.Vue.withModifiers,A8e=window.Vue.createSlots,I8e={class:"m-0 md:m-4"},M8e={class:"flex flex-col gap-2 sm:flex-row"},F8e={class:"w-full"},D8e={class:"block w-full bg-gray-50 px-4 py-3"},N8e={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},H8e={class:"mr-4 hidden items-center sm:flex"},B8e={class:"flex w-full flex-1 items-center sm:w-auto"},L8e={key:0,class:"flex items-center gap-2"},U8e={class:"w-72 p-4"},j8e={class:"space-y-1"},z8e=["onClick"],G8e={class:"truncate"},W8e={class:"mt-4 flex sm:mt-0"},K8e={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},Y8e=St("span",{class:"mr-0.5"},"存储策略",-1),X8e={class:"w-72 p-4"},Q8e={class:"space-y-1"},Z8e=["onClick"],J8e={class:"truncate"},q8e={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},e6e=St("span",{class:"mr-0.5"},"上传者",-1),t6e={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},n6e=St("span",{class:"mr-0.5"},"排序",-1),o6e={class:"w-72 p-4"},a6e={class:"space-y-1"},s6e=["onClick"],r6e={class:"truncate"},i6e={class:"flex flex-row gap-2"},l6e=["onClick"],c6e={class:"flex flex-row gap-2"},u6e={key:2},d6e={class:"mt-2 grid grid-cols-3 gap-x-2 gap-y-3 sm:grid-cols-3 md:grid-cols-6 xl:grid-cols-8 2xl:grid-cols-12",role:"list"},p6e={class:"group relative bg-white"},h6e={class:"aspect-w-10 aspect-h-8 block h-full w-full cursor-pointer overflow-hidden bg-gray-100"},f6e=St("div",{class:"flex h-full items-center justify-center object-cover"},[St("span",{class:"text-xs text-gray-400"},"加载中...")],-1),m6e=St("div",{class:"flex h-full items-center justify-center object-cover"},[St("span",{class:"text-xs text-red-400"},"加载异常")],-1),g6e={class:"block cursor-pointer truncate px-2 py-1 text-center text-xs font-medium text-gray-700"},v6e={key:0,class:"absolute top-1 right-1 text-xs text-red-300"},y6e={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},w6e=["checked","onClick"],b6e={class:"h-10 w-10 rounded border bg-white p-1 hover:shadow-sm"},$6e={class:"text-xs text-gray-500"},x6e={class:"text-xs text-gray-500"},_6e={class:"truncate text-xs tabular-nums text-gray-500"},V6e={class:"bg-white sm:flex sm:items-center sm:justify-end"},B3=window.HaloComponents.IconArrowDown,C6e=window.HaloComponents.IconArrowLeft,S6e=window.HaloComponents.IconArrowRight,P6e=window.HaloComponents.IconCheckboxFill,E6e=window.HaloComponents.IconDatabase2Line,T6e=window.HaloComponents.IconGrid,R6e=window.HaloComponents.IconList,VR=window.HaloComponents.IconUpload,O6e=window.HaloComponents.IconRefreshLine,nd=window.HaloComponents.VButton,CR=window.HaloComponents.VCard,k6e=window.HaloComponents.VPageHeader,A6e=window.HaloComponents.VPagination,Mg=window.HaloComponents.VSpace,I6e=window.HaloComponents.VEmpty,M6e=window.HaloComponents.IconFolder,F6e=window.HaloComponents.VStatusDot,D6e=window.HaloComponents.VEntity,Lf=window.HaloComponents.VEntityField,N6e=window.HaloComponents.VLoading,H6e=window.HaloComponents.Toast,SR=window.Vue.computed,PR=window.Vue.onMounted,hu=window.Vue.ref,B6e=window.Vue.watch,L3=window.VueUse.useRouteQuery,L6e=S8e({__name:"AttachmentList",setup(t){const{currentUserHasPermission:e}=To(),n=hu(!1),o=hu(!1),a=hu(!1),{policies:s}=SS({fetchOnMounted:!0}),{groups:r,handleFetchGroups:i}=m$({fetchOnMounted:!0}),l=hu(),c=[{label:"较近上传",value:"creationTimestamp,desc"},{label:"较晚上传",value:"creationTimestamp,asc"},{label:"文件大小降序",value:"size,desc"},{label:"文件大小升序",value:"size,asc"}],u=hu(),d=hu(),p=hu(""),f=hu(),g=SR(()=>{var Fe;return(Fe=f.value)==null?void 0:Fe.value});function v(Fe){u.value=Fe,I({page:1})}function y(Fe){d.value=Fe,I({page:1})}function w(Fe){f.value=Fe,I({page:1})}function b(){const Fe=Ti("keywordInput");Fe&&(p.value=Fe._value),I({page:1})}function C(){p.value="",I({page:1})}const V=SR(()=>u.value||d.value||f.value||p.value);function _(){u.value=void 0,d.value=void 0,f.value=void 0,p.value="",I({page:1})}const{attachments:x,selectedAttachment:S,selectedAttachments:P,checkedAll:E,loading:O,handleFetchAttachments:I,handleSelectNext:F,handleSelectPrevious:L,handlePaginationChange:H,handleDelete:W,handleDeleteInBatch:Y,handleCheckAll:U,handleSelect:q,isChecked:ye,handleReset:we}=sM({group:l,policy:u,user:d,keyword:p,sort:g}),oe=async Fe=>{try{const fe=Array.from(P.value).map(Ue=>{const _e=ot(Ue);return _e.spec.groupName=Fe.metadata.name,X.extension.storage.attachment.updatestorageHaloRunV1alpha1Attachment({name:Ue.metadata.name,attachment:_e})});await Promise.all(fe),P.value.clear(),H6e.success("移动成功")}catch(fe){console.error(fe)}finally{I()}},pe=Fe=>{if(!Fe.metadata.deletionTimestamp){if(P.value.size>0){q(Fe);return}S.value=Fe,P.value.clear(),a.value=!0}},he=Fe=>{const{checked:fe}=Fe.target;U(fe)},Ne=()=>{S.value=void 0,Ie.value=void 0,Ge.value=void 0,I({mute:!0})},Se=()=>{He.value=void 0,I({mute:!0})},qe=()=>{we(),I()},Ke=Fe=>{const fe=s.value.find(Ue=>Ue.metadata.name===Fe);return fe==null?void 0:fe.spec.displayName},Z=[{name:"list",tooltip:"列表模式",icon:R6e},{name:"grid",tooltip:"网格模式",icon:T6e}],me=L3("view","list"),He=L3("action");PR(()=>{He.value&&He.value==="upload"&&(o.value=!0)});const Ie=L3("name"),Ge=hu();return B6e(()=>S.value,()=>{S.value&&(Ie.value=S.value.metadata.name)}),PR(()=>{Ie.value&&X.extension.storage.attachment.getstorageHaloRunV1alpha1Attachment({name:Ie.value}).then(Fe=>{Ge.value=Fe.data,a.value=!0})}),(Fe,fe)=>{const Ue=N3("FormKit"),_e=N3("FloatingDropdown"),Et=N3("RouterLink"),dt=D3("permission"),Ut=D3("close-popper"),ft=D3("tooltip");return qt(),Ya(Bp,null,[Ft(wF,{visible:a.value,"onUpdate:visible":fe[2]||(fe[2]=xe=>a.value=xe),attachment:Be(S)||Ge.value,onClose:Ne},{actions:vt(()=>[St("span",{onClick:fe[0]||(fe[0]=(...xe)=>Be(L)&&Be(L)(...xe))},[Ft(Be(C6e))]),St("span",{onClick:fe[1]||(fe[1]=(...xe)=>Be(F)&&Be(F)(...xe))},[Ft(Be(S6e))])]),_:1},8,["visible","attachment"]),Ft(gF,{visible:o.value,"onUpdate:visible":fe[3]||(fe[3]=xe=>o.value=xe),onClose:Se},null,8,["visible"]),Ft(C8e,{visible:n.value,"onUpdate:visible":fe[4]||(fe[4]=xe=>n.value=xe)},null,8,["visible"]),Ft(Be(k6e),{title:"附件库"},{icon:vt(()=>[Ft(Be(M6e),{class:"mr-2 self-center"})]),actions:vt(()=>[Ft(Be(Mg),null,{default:vt(()=>[Xs((qt(),Qo(Be(nd),{size:"sm",onClick:fe[5]||(fe[5]=xe=>n.value=!0)},{icon:vt(()=>[Ft(Be(E6e),{class:"h-full w-full"})]),default:vt(()=>[Ys(" 存储策略 ")]),_:1})),[[dt,["system:attachments:manage"]]]),Xs((qt(),Qo(Be(nd),{type:"secondary",onClick:fe[6]||(fe[6]=xe=>o.value=!0)},{icon:vt(()=>[Ft(Be(VR),{class:"h-full w-full"})]),default:vt(()=>[Ys(" 上传 ")]),_:1})),[[dt,["system:attachments:manage"]]])]),_:1})]),_:1}),St("div",I8e,[St("div",M8e,[St("div",F8e,[Ft(Be(CR),{"body-class":[Be(me)==="list"?"!p-0":""]},{header:vt(()=>[St("div",D8e,[St("div",N8e,[Xs((qt(),Ya("div",H8e,[Xs(St("input",{"onUpdate:modelValue":fe[7]||(fe[7]=xe=>P8e(E)?E.value=xe:null),class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onChange:he},null,544),[[E8e,Be(E)]])])),[[dt,["system:attachments:manage"]]]),St("div",B8e,[Be(P).size?(qt(),Qo(Be(Mg),{key:1},{default:vt(()=>[Ft(Be(nd),{type:"danger",onClick:Be(Y)},{default:vt(()=>[Ys(" 删除 ")]),_:1},8,["onClick"]),Ft(Be(nd),{onClick:fe[12]||(fe[12]=xe=>Be(P).clear())},{default:vt(()=>[Ys(" 取消选择 ")]),_:1}),Ft(_e,null,{popper:vt(()=>[St("div",U8e,[St("ul",j8e,[(qt(!0),Ya(Bp,null,Hf(Be(r),(xe,tt)=>Xs((qt(),Ya("li",{key:tt,class:"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:ct=>oe(xe)},[St("span",G8e,fi(xe.spec.displayName),1)],8,z8e)),[[Ut]])),128))])])]),default:vt(()=>[Ft(Be(nd),null,{default:vt(()=>[Ys("移动")]),_:1})]),_:1})]),_:1})):(qt(),Ya("div",L8e,[Ft(Ue,{id:"keywordInput","outer-class":"!p-0",placeholder:"输入关键词搜索",type:"text",name:"keyword","model-value":p.value,onKeyup:T8e(b,["enter"])},null,8,["model-value","onKeyup"]),p.value?(qt(),Qo(Gn,{key:0,onClose:fe[8]||(fe[8]=xe=>C())},{default:vt(()=>[Ys(" 关键词："+fi(p.value),1)]),_:1})):Ji("",!0),u.value?(qt(),Qo(Gn,{key:1,onClose:fe[9]||(fe[9]=xe=>v(void 0))},{default:vt(()=>{var xe;return[Ys(" 存储策略："+fi((xe=u.value)==null?void 0:xe.spec.displayName),1)]}),_:1})):Ji("",!0),d.value?(qt(),Qo(Gn,{key:2,onClose:fe[10]||(fe[10]=xe=>y(void 0))},{default:vt(()=>{var xe;return[Ys(" 上传者："+fi((xe=d.value)==null?void 0:xe.spec.displayName),1)]}),_:1})):Ji("",!0),f.value?(qt(),Qo(Gn,{key:3,onClick:fe[11]||(fe[11]=xe=>w())},{default:vt(()=>[Ys(" 排序："+fi(f.value.label),1)]),_:1})):Ji("",!0),Be(V)?(qt(),Qo(T0,{key:4,onClick:_})):Ji("",!0)]))]),St("div",W8e,[Ft(Be(Mg),{spacing:"lg"},{default:vt(()=>[Ft(_e,null,{popper:vt(()=>[St("div",X8e,[St("ul",Q8e,[(qt(!0),Ya(Bp,null,Hf(Be(s),(xe,tt)=>{var ct;return Xs((qt(),Ya("li",{key:tt,class:Bf([{"bg-gray-100":((ct=u.value)==null?void 0:ct.metadata.name)===xe.metadata.name},"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900"]),onClick:pn=>v(xe)},[St("span",J8e,fi(xe.spec.displayName),1)],10,Z8e)),[[Ut]])}),128))])])]),default:vt(()=>[St("div",K8e,[Y8e,St("span",null,[Ft(Be(B3))])])]),_:1}),Ft(b$,{selected:d.value,"onUpdate:selected":fe[13]||(fe[13]=xe=>d.value=xe),onSelect:y},{default:vt(()=>[St("div",q8e,[e6e,St("span",null,[Ft(Be(B3))])])]),_:1},8,["selected"]),Ji("",!0),Ft(_e,null,{popper:vt(()=>[St("div",o6e,[St("ul",a6e,[(qt(),Ya(Bp,null,Hf(c,(xe,tt)=>Xs(St("li",{key:tt,class:"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:ct=>w(xe)},[St("span",r6e,fi(xe.label),1)],8,s6e),[[Ut]])),64))])])]),default:vt(()=>[St("div",t6e,[n6e,St("span",null,[Ft(Be(B3))])])]),_:1}),St("div",i6e,[(qt(),Ya(Bp,null,Hf(Z,(xe,tt)=>Xs(St("div",{key:tt,class:Bf([{"bg-gray-200 font-bold text-black":Be(me)===xe.name},"cursor-pointer rounded p-1 hover:bg-gray-200"]),onClick:ct=>me.value=xe.name},[(qt(),Qo(R8e(xe.icon),{class:"h-4 w-4"}))],10,l6e),[[ft,`${xe.tooltip}`]])),64))]),St("div",c6e,[St("div",{class:"group cursor-pointer rounded p-1 hover:bg-gray-200",onClick:fe[14]||(fe[14]=xe=>Be(I)())},[Xs(Ft(Be(O6e),{class:Bf([{"animate-spin text-gray-900":Be(O)},"h-4 w-4 text-gray-600 group-hover:text-gray-900"])},null,8,["class"]),[[ft,"刷新"]])])])]),_:1})])])])]),footer:vt(()=>[St("div",V6e,[Ft(Be(A6e),{page:Be(x).page,size:Be(x).size,total:Be(x).total,"size-options":[60,120,200],onChange:Be(H)},null,8,["page","size","total","onChange"])])]),default:vt(()=>[St("div",{style:O8e(`${Be(me)==="list"?"padding:12px 16px 0":""}`)},[Ft(bF,{"selected-group":l.value,"onUpdate:selected-group":fe[15]||(fe[15]=xe=>l.value=xe),onSelect:qe,onUpdate:Be(i),onReloadAttachments:Be(I)},null,8,["selected-group","onUpdate","onReloadAttachments"])],4),Be(O)?(qt(),Qo(Be(N6e),{key:0})):Be(x).total?(qt(),Ya("div",u6e,[Be(me)==="grid"?(qt(),Qo(H3,{key:0,appear:"",name:"fade"},{default:vt(()=>[St("div",d6e,[(qt(!0),Ya(Bp,null,Hf(Be(x).items,(xe,tt)=>(qt(),Qo(Be(CR),{key:tt,"body-class":["!p-0"],class:Bf([{"ring-1 ring-primary":Be(ye)(xe),"ring-1 ring-red-600":xe.metadata.deletionTimestamp},"hover:shadow"]),onClick:ct=>pe(xe)},{default:vt(()=>{var ct;return[St("div",p6e,[St("div",h6e,[Be(d2)(xe.spec.mediaType)?(qt(),Qo(Gm,{key:xe.metadata.name,alt:xe.spec.displayName,src:(ct=xe.status)==null?void 0:ct.permalink,classes:"pointer-events-none object-cover group-hover:opacity-75"},{loading:vt(()=>[f6e]),error:vt(()=>[m6e]),_:2},1032,["alt","src"])):(qt(),Qo(YC,{key:1,"file-name":xe.spec.displayName},null,8,["file-name"]))]),Xs((qt(),Ya("p",g6e,[Ys(fi(xe.spec.displayName),1)])),[[ft,xe.spec.displayName]]),xe.metadata.deletionTimestamp?(qt(),Ya("div",v6e," 删除中... ")):Ji("",!0),xe.metadata.deletionTimestamp?Ji("",!0):Xs((qt(),Ya("div",{key:1,class:Bf([{"!flex":Be(P).has(xe)},"absolute top-0 left-0 hidden h-1/3 w-full cursor-pointer justify-end bg-gradient-to-b from-gray-300 to-transparent ease-in-out group-hover:flex"])},[Ft(Be(P6e),{class:Bf([{"!text-primary":Be(P).has(xe)},"mt-1 mr-1 h-6 w-6 cursor-pointer text-white transition-all hover:text-primary"]),onClick:k8e(pn=>Be(q)(xe),["stop"])},null,8,["class","onClick"])],2)),[[dt,["system:attachments:manage"]]])])]}),_:2},1032,["class","onClick"]))),128))])]),_:1})):Ji("",!0),Be(me)==="list"?(qt(),Qo(H3,{key:1,appear:"",name:"fade"},{default:vt(()=>[St("ul",y6e,[(qt(!0),Ya(Bp,null,Hf(Be(x).items,(xe,tt)=>(qt(),Ya("li",{key:tt},[Ft(Be(D6e),{"is-selected":Be(ye)(xe)},A8e({start:vt(()=>[Ft(Be(Lf),null,{description:vt(()=>[St("div",b6e,[Ft(YC,{"display-ext":!1,"file-name":xe.spec.displayName,width:8,height:8},null,8,["file-name"])])]),_:2},1024),Ft(Be(Lf),{title:xe.spec.displayName,onClick:ct=>pe(xe)},{description:vt(()=>[Ft(Be(Mg),null,{default:vt(()=>[St("span",$6e,fi(xe.spec.mediaType),1),St("span",x6e,fi(Be(vF)(xe.spec.size||0)),1)]),_:2},1024)]),_:2},1032,["title","onClick"])]),end:vt(()=>[Ft(Be(Lf),{description:Ke(xe.spec.policyName)},null,8,["description"]),Ft(Be(Lf),null,{description:vt(()=>[Ft(Et,{to:{name:"UserDetail",params:{name:xe.spec.ownerName}},class:"text-xs text-gray-500"},{default:vt(()=>[Ys(fi(xe.spec.ownerName),1)]),_:2},1032,["to"])]),_:2},1024),xe.metadata.deletionTimestamp?(qt(),Qo(Be(Lf),{key:0},{description:vt(()=>[Xs(Ft(Be(F6e),{state:"warning",animate:""},null,512),[[ft,"删除中"]])]),_:1})):Ji("",!0),Ft(Be(Lf),null,{description:vt(()=>[St("span",_6e,fi(Be(Ma)(xe.metadata.creationTimestamp)),1)]),_:2},1024)]),_:2},[Be(e)(["system:attachments:manage"])?{name:"checkbox",fn:vt(()=>[St("input",{checked:Be(P).has(xe),class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onClick:ct=>Be(q)(xe)},null,8,w6e)]),key:"0"}:void 0,Be(e)(["system:attachments:manage"])?{name:"dropdownItems",fn:vt(()=>[Xs((qt(),Qo(Be(nd),{block:"",type:"danger",onClick:ct=>Be(W)(xe)},{default:vt(()=>[Ys(" 删除 ")]),_:2},1032,["onClick"])),[[Ut]])]),key:"1"}:void 0]),1032,["is-selected"])]))),128))])]),_:1})):Ji("",!0)])):(qt(),Qo(H3,{key:1,appear:"",name:"fade"},{default:vt(()=>[Ft(Be(I6e),{message:"当前分组没有附件，你可以尝试刷新或者上传附件",title:"当前分组没有附件"},{actions:vt(()=>[Ft(Be(Mg),null,{default:vt(()=>[Ft(Be(nd),{onClick:Be(I)},{default:vt(()=>[Ys("刷新")]),_:1},8,["onClick"]),Xs((qt(),Qo(Be(nd),{type:"secondary",onClick:fe[16]||(fe[16]=xe=>o.value=!0)},{icon:vt(()=>[Ft(Be(VR),{class:"h-full w-full"})]),default:vt(()=>[Ys(" 上传附件 ")]),_:1})),[[dt,["system:attachments:manage"]]])]),_:1})]),_:1})]),_:1}))]),_:1},8,["body-class"])])])])],64)}}}),U6e=window.HaloComponents.IconFolder,j6e=window.Vue.markRaw,z6e={components:{AttachmentSelectorModal:$F},routes:[{path:"/attachments",component:Es,children:[{path:"",name:"Attachments",component:L6e,meta:{title:"附件",permissions:["system:attachments:view"],menu:{name:"附件",group:"content",icon:j6e(U6e),priority:3,mobile:!0}}}]}]},G6e=window.Vue.defineComponent,U3=window.Vue.unref,ER=window.Vue.openBlock,TR=window.Vue.createBlock,W6e=window.Vue.createCommentVNode,K6e=window.Vue.withCtx,Y6e=window.HaloComponents.VModal,RR=window.Vue.computed,X6e=window.Vue.ref,Q6e=window.Vue.watch,aN=G6e({__name:"ThemeUploadModal",props:{visible:{type:Boolean,default:!1},upgradeTheme:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o=X6e(!1),a=RR(()=>n.upgradeTheme?`升级主题（${n.upgradeTheme.spec.displayName}）`:"安装主题"),s=i=>{e("update:visible",i),i||e("close")},r=RR(()=>n.upgradeTheme?`/apis/api.console.halo.run/v1alpha1/themes/${n.upgradeTheme.metadata.name}/upgrade`:"/apis/api.console.halo.run/v1alpha1/themes/install");return Q6e(()=>n.visible,i=>{if(i)o.value=!0;else{const l=setTimeout(()=>{o.value=!1,clearTimeout(l)},200)}}),(i,l)=>(ER(),TR(U3(Y6e),{visible:t.visible,width:600,title:U3(a),"onUpdate:visible":s},{default:K6e(()=>[o.value?(ER(),TR(CS,{key:0,restrictions:{maxNumberOfFiles:1,allowedFileTypes:[".zip"]},endpoint:U3(r),"auto-proceed":""},null,8,["restrictions","endpoint"])):W6e("",!0)]),_:1},8,["visible","title"]))}}),Z6e=window.Vue.defineComponent,Qt=window.Vue.unref,Tu=window.Vue.createElementVNode,go=window.Vue.withCtx,qi=window.Vue.openBlock,el=window.Vue.createBlock,sc=window.Vue.createVNode,od=window.Vue.createTextVNode,j3=window.Vue.createCommentVNode,OR=window.Vue.resolveDirective,ad=window.Vue.withDirectives,J6e=window.Vue.toDisplayString,q6e=window.Vue.withModifiers,ePe=window.Vue.resolveComponent,tPe=window.Vue.createSlots,nPe={class:"w-32"},oPe={class:"group aspect-w-4 aspect-h-3 block w-full overflow-hidden rounded border bg-gray-100"},aPe=Tu("div",{class:"flex h-full items-center justify-center object-cover"},[Tu("span",{class:"text-xs text-gray-400"},"加载中...")],-1),sPe=Tu("div",{class:"flex h-full items-center justify-center object-cover"},[Tu("span",{class:"text-xs text-red-400"},"加载异常")],-1),rPe=["href"],iPe=["href"],lPe={class:"w-52 p-2"},cPe=window.HaloComponents.IconGitHub,Lp=window.HaloComponents.VButton,uPe=window.HaloComponents.VSpace,dPe=window.HaloComponents.VTag,pPe=window.HaloComponents.VEntity,Uf=window.HaloComponents.VEntityField,kR=window.HaloComponents.VStatusDot,hPe=window.HaloComponents.Dialog,fPe=window.HaloComponents.Toast,mPe=window.Vue.toRefs,gPe=Z6e({__name:"ThemeListItem",props:{theme:null,isSelected:{type:Boolean,default:!1}},emits:["reload","upgrade","preview"],setup(t,{emit:e}){const n=t,{currentUserHasPermission:o}=To(),{theme:a}=mPe(n),{isActivated:s,getFailedMessage:r,handleActiveTheme:i,handleResetSettingConfig:l}=w$(a),c=async(u,d)=>{hPe.warning({title:`${d?"确定要卸载该主题以及对应的配置吗？":"确定要卸载该主题吗？"}`,description:"该操作不可恢复。",onConfirm:async()=>{try{if(await X.extension.theme.deletethemeHaloRunV1alpha1Theme({name:u.metadata.name}),d){const{settingName:p,configMapName:f}=u.spec;p&&await X.extension.setting.deletev1alpha1Setting({name:p},{mute:!0}),f&&await X.extension.configMap.deletev1alpha1ConfigMap({name:f},{mute:!0})}fPe.success("卸载成功")}catch(p){console.error("Failed to uninstall theme",p)}finally{e("reload")}}})};return(u,d)=>{const p=ePe("FloatingDropdown"),f=OR("tooltip"),g=OR("close-popper");return qi(),el(Qt(pPe),{"is-selected":t.isSelected},tPe({start:go(()=>[sc(Qt(Uf),null,{description:go(()=>[Tu("div",nPe,[Tu("div",oPe,[(qi(),el(Gm,{key:Qt(a).metadata.name,src:Qt(a).spec.logo,alt:Qt(a).spec.displayName,classes:"pointer-events-none object-cover group-hover:opacity-75"},{loading:go(()=>[aPe]),error:go(()=>[sPe]),_:1},8,["src","alt"]))])])]),_:1}),sc(Qt(Uf),{title:Qt(a).spec.displayName,description:Qt(a).spec.version},{extra:go(()=>[Qt(s)?(qi(),el(Qt(dPe),{key:0},{default:go(()=>[od(" 当前启用 ")]),_:1})):j3("",!0)]),_:1},8,["title","description"])]),end:go(()=>[Qt(r)()?(qi(),el(Qt(Uf),{key:0},{description:go(()=>[ad(sc(Qt(kR),{state:"warning",animate:""},null,512),[[f,Qt(r)()]])]),_:1})):j3("",!0),Qt(a).metadata.deletionTimestamp?(qi(),el(Qt(Uf),{key:1},{description:go(()=>[ad(sc(Qt(kR),{state:"warning",animate:""},null,512),[[f,"删除中"]])]),_:1})):j3("",!0),sc(Qt(Uf),null,{description:go(()=>[Tu("a",{class:"text-sm text-gray-400 hover:text-blue-600",href:Qt(a).spec.author.website,target:"_blank",onClick:d[0]||(d[0]=q6e(()=>{},["stop"]))},J6e(Qt(a).spec.author.name),9,rPe)]),_:1}),sc(Qt(Uf),null,{description:go(()=>[Tu("a",{href:Qt(a).spec.repo,class:"text-gray-900 hover:text-blue-600",target:"_blank"},[sc(Qt(cPe))],8,iPe)]),_:1})]),_:2},[Qt(o)(["system:themes:manage"])?{name:"dropdownItems",fn:go(()=>[ad((qi(),el(Qt(Lp),{block:"",type:"secondary",onClick:Qt(i)},{default:go(()=>[od(" 启用 ")]),_:1},8,["onClick"])),[[g]]),ad((qi(),el(Qt(Lp),{block:"",type:"default",onClick:d[1]||(d[1]=v=>e("upgrade"))},{default:go(()=>[od(" 升级 ")]),_:1})),[[g]]),ad((qi(),el(Qt(Lp),{block:"",type:"default",onClick:d[2]||(d[2]=v=>e("preview"))},{default:go(()=>[od(" 预览 ")]),_:1})),[[g]]),sc(p,{class:"w-full",placement:"right",triggers:["click"]},{popper:go(()=>[Tu("div",lPe,[sc(Qt(uPe),{class:"w-full",direction:"column"},{default:go(()=>[ad((qi(),el(Qt(Lp),{block:"",type:"danger",onClick:d[3]||(d[3]=v=>c(Qt(a)))},{default:go(()=>[od(" 卸载 ")]),_:1})),[[g,void 0,void 0,{all:!0}]]),ad((qi(),el(Qt(Lp),{block:"",type:"danger",onClick:d[4]||(d[4]=v=>c(Qt(a),!0))},{default:go(()=>[od(" 卸载并删除配置 ")]),_:1})),[[g,void 0,void 0,{all:!0}]])]),_:1})])]),default:go(()=>[sc(Qt(Lp),{block:"",type:"danger"},{default:go(()=>[od(" 卸载 ")]),_:1})]),_:1}),ad((qi(),el(Qt(Lp),{block:"",type:"danger",onClick:Qt(l)},{default:go(()=>[od(" 重置 ")]),_:1},8,["onClick"])),[[g]])]),key:"0"}:void 0]),1032,["is-selected"])}}}),vPe=window.Vue.defineComponent,Un=window.Vue.unref,Sa=window.Vue.openBlock,mi=window.Vue.createBlock,AR=window.Vue.createCommentVNode,jf=window.Vue.createTextVNode,Pn=window.Vue.withCtx,Po=window.Vue.createVNode,yPe=window.Vue.resolveDirective,z3=window.Vue.withDirectives,Nw=window.Vue.Transition,IR=window.Vue.renderList,G3=window.Vue.Fragment,Fg=window.Vue.createElementBlock,vc=window.Vue.createElementVNode,wPe=window.Vue.toDisplayString,bPe=window.Vue.withModifiers,$Pe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},xPe=["onClick"],_Pe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},VPe={class:"w-32"},CPe={class:"group aspect-w-4 aspect-h-3 block w-full overflow-hidden rounded border bg-gray-100"},SPe=vc("div",{class:"flex h-full items-center justify-center object-cover"},[vc("span",{class:"text-xs text-gray-400"},"加载中...")],-1),PPe=vc("div",{class:"flex h-full items-center justify-center object-cover"},[vc("span",{class:"text-xs text-red-400"},"加载异常")],-1),EPe=["href"],TPe=["href"],RPe=window.HaloComponents.IconAddCircle,OPe=window.HaloComponents.IconGitHub,zf=window.HaloComponents.VButton,MR=window.HaloComponents.VEmpty,kPe=window.HaloComponents.VModal,W3=window.HaloComponents.VSpace,APe=window.HaloComponents.VEntity,Dg=window.HaloComponents.VEntityField,FR=window.HaloComponents.VTabItem,IPe=window.HaloComponents.VTabs,DR=window.HaloComponents.VLoading,MPe=window.HaloComponents.Toast,FPe=window.Vue.computed,fu=window.Vue.ref,NR=window.Vue.watch,DPe=window.VueRouter.onBeforeRouteLeave,NPe=vPe({__name:"ThemeListModal",props:{visible:{type:Boolean,default:!1},selectedTheme:{default:void 0}},emits:["update:visible","close","update:selectedTheme","select"],setup(t,{expose:e,emit:n}){const o=t,a=fu("installed"),s=fu([]),r=fu(!1),i=fu(!1),l=fu(!1),c=fu(),u=FPe(()=>a.value==="installed"?"已安装的主题":"未安装的主题"),d=async _=>{try{clearInterval(c.value),_!=null&&_.mute||(r.value=!0);const{data:x}=await X.theme.listThemes({page:0,size:0,uninstalled:a.value!=="installed"});if(s.value=x.items,a.value!=="installed")return;s.value.filter(P=>!!P.metadata.deletionTimestamp).length&&(c.value=setInterval(()=>{d({mute:!0})},3e3))}catch(x){console.error("Failed to fetch themes",x)}finally{r.value=!1}};DPe(()=>{clearInterval(c.value)}),NR(()=>a.value,()=>{d()});const p=async _=>{try{l.value=!0;const{data:x}=await X.extension.theme.createthemeHaloRunV1alpha1Theme({theme:_});X.theme.reload({name:x.metadata.name}),a.value="installed",MPe.success("安装成功")}catch(x){console.error("Failed to create theme",x)}finally{l.value=!1,d()}},f=_=>{n("update:visible",_),_||n("close")},g=_=>{n("update:selectedTheme",_),n("select",_),f(!1)};NR(()=>o.visible,_=>{_?d():clearInterval(c.value)}),e({handleFetchThemes:d});const v=fu(!1),y=fu(),w=_=>{y.value=_,v.value=!0},b=fu(),C=_=>{b.value=_,i.value=!0},V=()=>{b.value=void 0,i.value=!0};return(_,x)=>{const S=yPe("permission");return Sa(),Fg(G3,null,[Po(Un(kPe),{"body-class":["!p-0"],visible:t.visible,width:888,height:"calc(100vh - 20px)",title:Un(u),"onUpdate:visible":f},{footer:Pn(()=>[Po(Un(W3),null,{default:Pn(()=>[z3((Sa(),mi(Un(zf),{type:"secondary",onClick:x[5]||(x[5]=P=>V())},{default:Pn(()=>[jf(" 安装主题 ")]),_:1})),[[S,["system:themes:manage"]]]),Po(Un(zf),{onClick:x[6]||(x[6]=P=>f(!1))},{default:Pn(()=>[jf("关闭")]),_:1})]),_:1})]),default:Pn(()=>[Po(Un(IPe),{"active-id":a.value,"onUpdate:active-id":x[4]||(x[4]=P=>a.value=P),type:"outline",class:"my-[12px] mx-[16px]"},{default:Pn(()=>[Po(Un(FR),{id:"installed",label:"已安装",class:"-mx-[16px]"},{default:Pn(()=>[r.value?(Sa(),mi(Un(DR),{key:0})):s.value.length?(Sa(),mi(Nw,{key:2,appear:"",name:"fade"},{default:Pn(()=>[vc("ul",$Pe,[(Sa(!0),Fg(G3,null,IR(s.value,(P,E)=>{var O,I;return Sa(),Fg("li",{key:E,onClick:F=>g(P)},[Po(gPe,{theme:P,"is-selected":P.metadata.name===((I=(O=t.selectedTheme)==null?void 0:O.metadata)==null?void 0:I.name),onReload:x[2]||(x[2]=F=>d({mute:!0})),onPreview:F=>w(P),onUpgrade:F=>C(P)},null,8,["theme","is-selected","onPreview","onUpgrade"])],8,xPe)}),128))])]),_:1})):(Sa(),mi(Nw,{key:1,appear:"",name:"fade"},{default:Pn(()=>[Po(Un(MR),{message:"当前没有已安装的主题，你可以尝试刷新或者安装新主题",title:"当前没有已安装的主题"},{actions:Pn(()=>[Po(Un(W3),null,{default:Pn(()=>[Po(Un(zf),{loading:r.value,onClick:x[0]||(x[0]=P=>d())},{default:Pn(()=>[jf(" 刷新 ")]),_:1},8,["loading"]),z3((Sa(),mi(Un(zf),{type:"primary",onClick:x[1]||(x[1]=P=>V())},{icon:Pn(()=>[Po(Un(RPe),{class:"h-full w-full"})]),default:Pn(()=>[jf(" 安装主题 ")]),_:1})),[[S,["system:themes:manage"]]])]),_:1})]),_:1})]),_:1}))]),_:1}),Po(Un(FR),{id:"uninstalled",label:"未安装",class:"-mx-[16px]"},{default:Pn(()=>[r.value?(Sa(),mi(Un(DR),{key:0})):s.value.length?(Sa(),mi(Nw,{key:2,appear:"",name:"fade"},{default:Pn(()=>[vc("ul",_Pe,[(Sa(!0),Fg(G3,null,IR(s.value,(P,E)=>(Sa(),Fg("li",{key:E},[Po(Un(APe),null,{start:Pn(()=>[Po(Un(Dg),null,{description:Pn(()=>[vc("div",VPe,[vc("div",CPe,[(Sa(),mi(Gm,{key:P.metadata.name,src:P.spec.logo,alt:P.spec.displayName,classes:"pointer-events-none object-cover group-hover:opacity-75"},{loading:Pn(()=>[SPe]),error:Pn(()=>[PPe]),_:2},1032,["src","alt"]))])])]),_:2},1024),Po(Un(Dg),{title:P.spec.displayName,description:P.spec.version},null,8,["title","description"])]),end:Pn(()=>[Po(Un(Dg),null,{description:Pn(()=>[vc("a",{class:"text-sm text-gray-400 hover:text-blue-600",href:P.spec.author.website,target:"_blank",onClick:x[3]||(x[3]=bPe(()=>{},["stop"]))},wPe(P.spec.author.name),9,EPe)]),_:2},1024),Po(Un(Dg),null,{description:Pn(()=>[vc("a",{href:P.spec.repo,class:"text-gray-900 hover:text-blue-600",target:"_blank"},[Po(Un(OPe))],8,TPe)]),_:2},1024),z3((Sa(),mi(Un(Dg),null,{description:Pn(()=>[Po(Un(zf),{size:"sm",disabled:l.value,onClick:O=>p(P)},{default:Pn(()=>[jf(" 安装 ")]),_:2},1032,["disabled","onClick"])]),_:2},1024)),[[S,["system:themes:manage"]]])]),_:2},1024)]))),128))])]),_:1})):(Sa(),mi(Nw,{key:1,appear:"",name:"fade"},{default:Pn(()=>[Po(Un(MR),{title:"当前没有未安装的主题"},{actions:Pn(()=>[Po(Un(W3),null,{default:Pn(()=>[Po(Un(zf),{loading:r.value,onClick:d},{default:Pn(()=>[jf(" 刷新 ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1},8,["active-id"])]),_:1},8,["visible","title"]),t.visible?(Sa(),mi(aN,{key:0,visible:i.value,"onUpdate:visible":x[7]||(x[7]=P=>i.value=P),"upgrade-theme":b.value,onClose:d},null,8,["visible","upgrade-theme"])):AR("",!0),t.visible?(Sa(),mi(MS,{key:1,visible:v.value,"onUpdate:visible":x[8]||(x[8]=P=>v.value=P),theme:y.value},null,8,["visible","theme"])):AR("",!0)],64)}}}),HPe=window.Vue.defineComponent,Xa=window.Vue.createVNode,Zo=window.Vue.unref,Ng=window.Vue.createTextVNode,BPe=window.Vue.resolveDirective,ia=window.Vue.withCtx,Up=window.Vue.openBlock,Gf=window.Vue.createBlock,LPe=window.Vue.withDirectives,HR=window.Vue.createCommentVNode,UPe=window.Vue.resolveDynamicComponent,jPe=window.Vue.Suspense,zPe=window.Vue.resolveComponent,BR=window.Vue.createElementVNode,GPe=window.Vue.createElementBlock,WPe={class:"m-0 md:m-4"},KPe={key:1},YPe={class:"bg-white"},XPe=window.Vue.nextTick,QPe=window.Vue.onMounted,LR=window.Vue.computed,ZPe=window.Vue.provide,Hg=window.Vue.ref,UR=window.Vue.watch,JPe=window.VueRouter.useRoute,qPe=window.VueRouter.useRouter,jR=window.HaloComponents.IconExchange,e7e=window.HaloComponents.IconEye,t7e=window.HaloComponents.IconPalette,Bg=window.HaloComponents.VButton,n7e=window.HaloComponents.VCard,o7e=window.HaloComponents.VEmpty,a7e=window.HaloComponents.VPageHeader,zR=window.HaloComponents.VSpace,s7e=window.HaloComponents.VTabbar,r7e=window.HaloComponents.VLoading,i7e=HPe({__name:"ThemeLayout",setup(t){const{currentUserHasPermission:e}=To(),n=[{id:"detail",label:"详情",route:{name:"ThemeDetail"}}],o=Hg(ot(n)),a=Hg(),s=Hg(!1),r=Hg(!1),i=Hg(""),{loading:l,isActivated:c,handleActiveTheme:u}=w$(a),d=LR(()=>{var C;return(C=a.value)==null?void 0:C.spec.settingName}),p=LR(()=>{var C;return(C=a.value)==null?void 0:C.spec.configMapName}),{setting:f,handleFetchSettings:g}=Nu(d,p);ZPe("selectedTheme",a);const v=JPe(),y=qPe(),w=C=>{const V=o.value.find(_=>_.id===C);V&&(i.value=V.id,y.push(V.route))};UR(()=>a.value,async()=>{if(a.value){if(o.value=ot(n),!e(["system:settings:view"])){b();return}if(await g(),f.value){const{forms:C}=f.value.spec;o.value=[...o.value,...C.map(V=>({id:V.group,label:V.label||"",route:{name:"ThemeSetting",params:{group:V.group}}}))]}await XPe(),b()}});const b=()=>{if(v.name==="ThemeSetting"){const V=o.value.find(_=>{var x;return _.route.name===v.name&&((x=_.route.params)==null?void 0:x.group)===v.params.group});if(V){i.value=V.id;return}w(o.value[0].id);return}const C=o.value.find(V=>V.route.name===v.name);i.value=C?C.id:o.value[0].id};return UR([()=>v.name,()=>v.params],async()=>{b()}),QPe(()=>{const C=Th(),{activatedTheme:V}=z2(C);a.value=V==null?void 0:V.value}),(C,V)=>{const _=zPe("RouterView"),x=BPe("permission");return Up(),Gf(Es,null,{default:ia(()=>{var S;return[Xa(NPe,{"selected-theme":a.value,"onUpdate:selected-theme":V[0]||(V[0]=P=>a.value=P),visible:s.value,"onUpdate:visible":V[1]||(V[1]=P=>s.value=P)},null,8,["selected-theme","visible"]),Xa(Zo(a7e),{title:(S=a.value)==null?void 0:S.spec.displayName},{icon:ia(()=>[Xa(Zo(t7e),{class:"mr-2 self-center"})]),actions:ia(()=>[Xa(Zo(zR),null,{default:ia(()=>[Zo(c)?HR("",!0):LPe((Up(),Gf(Zo(Bg),{key:0,size:"sm",type:"primary",onClick:Zo(u)},{default:ia(()=>[Ng(" 启用 ")]),_:1},8,["onClick"])),[[x,["system:themes:manage"]]]),Xa(Zo(Bg),{type:"secondary",size:"sm",onClick:V[2]||(V[2]=P=>r.value=!0)},{icon:ia(()=>[Xa(Zo(e7e),{class:"h-full w-full"})]),default:ia(()=>[Ng(" 预览 ")]),_:1}),Xa(Zo(Bg),{size:"sm",type:"default",onClick:V[3]||(V[3]=P=>s.value=!0)},{icon:ia(()=>[Xa(Zo(jR),{class:"h-full w-full"})]),default:ia(()=>[Ng(" 主题管理 ")]),_:1})]),_:1})]),_:1},8,["title"]),BR("div",WPe,[!a.value&&!Zo(l)?(Up(),Gf(Zo(o7e),{key:0,message:"当前没有已激活或者选择的主题，你可以切换主题或者安装新主题",title:"当前没有已激活或已选择的主题"},{actions:ia(()=>[Xa(Zo(zR),null,{default:ia(()=>[Xa(Zo(Bg),{onClick:V[4]||(V[4]=P=>s.value=!0)},{default:ia(()=>[Ng(" 安装主题 ")]),_:1}),Xa(Zo(Bg),{type:"primary",onClick:V[5]||(V[5]=P=>s.value=!0)},{icon:ia(()=>[Xa(Zo(jR),{class:"h-full w-full"})]),default:ia(()=>[Ng(" 切换主题 ")]),_:1})]),_:1})]),_:1})):(Up(),GPe("div",KPe,[Xa(Zo(n7e),{"body-class":["!p-0"]},{header:ia(()=>[Xa(Zo(s7e),{"active-id":i.value,"onUpdate:active-id":V[6]||(V[6]=P=>i.value=P),items:o.value,class:"w-full !rounded-none",type:"outline",onChange:w},null,8,["active-id","items"])]),_:1}),BR("div",YPe,[(Up(),Gf(_,{key:i.value},{default:ia(({Component:P})=>[P?(Up(),Gf(jPe,{key:0},{fallback:ia(()=>[Xa(Zo(r7e))]),default:ia(()=>[(Up(),Gf(UPe(P)))]),_:2},1024)):HR("",!0)]),_:1}))])]))]),Xa(MS,{visible:r.value,"onUpdate:visible":V[7]||(V[7]=P=>r.value=P),theme:a.value},null,8,["visible","theme"])]}),_:1})}}}),l7e=window.Vue.defineComponent,Hn=window.Vue.unref,jp=window.Vue.openBlock,Wf=window.Vue.createBlock,rc=window.Vue.toDisplayString,en=window.Vue.createElementVNode,Hw=window.Vue.createTextVNode,sd=window.Vue.withCtx,Lg=window.Vue.createVNode,K3=window.Vue.resolveDirective,Ug=window.Vue.withDirectives,GR=window.Vue.createCommentVNode,c7e=window.Vue.resolveComponent,u7e=window.Vue.createElementBlock,d7e=window.Vue.Transition,p7e=window.Vue.Fragment,h7e={class:"bg-white px-4 py-4 sm:px-6"},f7e={class:"group flex items-center justify-between"},m7e={class:"flex flex-row items-center gap-3"},g7e={class:"text-lg font-medium leading-6 text-gray-900"},v7e={class:"mt-1 flex max-w-2xl items-center gap-2"},y7e={class:"text-sm text-gray-500"},w7e={class:"cursor-pointer rounded p-1 transition-all hover:text-blue-600 group-hover:bg-gray-100"},b7e={class:"w-48 p-2"},$7e={class:"border-t border-gray-200"},x7e={class:"divide-y divide-gray-100"},_7e={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},V7e=en("dt",{class:"text-sm font-medium text-gray-900"},"ID",-1),C7e={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},S7e={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},P7e=en("dt",{class:"text-sm font-medium text-gray-900"},"作者",-1),E7e={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},T7e={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},R7e=en("dt",{class:"text-sm font-medium text-gray-900"},"网站",-1),O7e={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},k7e=["href"],A7e={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},I7e=en("dt",{class:"text-sm font-medium text-gray-900"},"源码仓库",-1),M7e={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},F7e=["href"],D7e={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},N7e=en("dt",{class:"text-sm font-medium text-gray-900"},"当前版本",-1),H7e={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},B7e={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},L7e=en("dt",{class:"text-sm font-medium text-gray-900"},"Halo 版本要求",-1),U7e={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},j7e={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},z7e=en("dt",{class:"text-sm font-medium text-gray-900"},"存储位置",-1),G7e={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},W7e=window.Vue.inject,WR=window.Vue.ref;window.VueRouter.RouterLink;window.HaloComponents.VAlert;const K7e=window.HaloComponents.VSpace,Y7e=window.HaloComponents.VTag,X7e=window.HaloComponents.IconMore,Y3=window.HaloComponents.VButton,Q7e=window.HaloComponents.Dialog,Z7e=window.HaloComponents.VAvatar,J7e=window.HaloComponents.Toast,q7e=window.HaloComponents.VStatusDot,e9e=l7e({__name:"ThemeDetail",setup(t){const e=W7e("selectedTheme",WR()),n=WR(!1),{isActivated:o,getFailedMessage:a,handleResetSettingConfig:s}=w$(e),r=async()=>{Q7e.warning({title:"确定要重载主题的所有配置吗？",description:"该操作仅会重载主题配置和设置表单定义，不会删除已保存的配置。",onConfirm:async()=>{try{if(!(e!=null&&e.value))return;await X.theme.reload({name:e.value.metadata.name}),J7e.success("重载配置成功"),window.location.reload()}catch(l){console.error("Failed to reload theme setting",l)}}})},i=()=>{setTimeout(()=>{window.location.reload()},200)};return(l,c)=>{const u=c7e("FloatingDropdown"),d=K3("tooltip"),p=K3("close-popper"),f=K3("permission");return jp(),u7e(p7e,null,[Lg(d7e,{mode:"out-in",name:"fade"},{default:sd(()=>{var g,v,y,w,b,C,V,_,x,S,P,E,O,I,F;return[en("div",null,[en("div",h7e,[en("div",f7e,[en("div",m7e,[(jp(),Wf(Hn(Z7e),{key:(g=Hn(e))==null?void 0:g.metadata.name,alt:(v=Hn(e))==null?void 0:v.spec.displayName,src:(y=Hn(e))==null?void 0:y.spec.logo,size:"lg"},null,8,["alt","src"])),en("div",null,[en("h3",g7e,rc((w=Hn(e))==null?void 0:w.spec.displayName),1),en("p",v7e,[en("span",y7e,rc((b=Hn(e))==null?void 0:b.spec.version),1),Lg(Hn(Y7e),null,{default:sd(()=>[Hw(rc(Hn(o)?"当前启用":"未启用"),1)]),_:1}),Hn(a)()?Ug((jp(),Wf(Hn(q7e),{key:0,state:"warning",animate:""},null,512)),[[d,Hn(a)()]]):GR("",!0)])])]),Ug((jp(),Wf(u,null,{popper:sd(()=>[en("div",b7e,[Lg(Hn(K7e),{class:"w-full",direction:"column"},{default:sd(()=>[Ug((jp(),Wf(Hn(Y3),{block:"",type:"secondary",onClick:c[0]||(c[0]=L=>n.value=!0)},{default:sd(()=>[Hw(" 升级 ")]),_:1})),[[p]]),Ug((jp(),Wf(Hn(Y3),{block:"",type:"default",onClick:r},{default:sd(()=>[Hw(" 重载主题配置 ")]),_:1})),[[p]]),Ug((jp(),Wf(Hn(Y3),{block:"",type:"danger",onClick:Hn(s)},{default:sd(()=>[Hw(" 重置 ")]),_:1},8,["onClick"])),[[p]])]),_:1})])]),default:sd(()=>[en("div",w7e,[Lg(Hn(X7e))])]),_:1})),[[f,["system:themes:manage"]]])])]),en("div",$7e,[en("dl",x7e,[en("div",_7e,[V7e,en("dd",C7e,rc((C=Hn(e))==null?void 0:C.metadata.name),1)]),en("div",S7e,[P7e,en("dd",E7e,rc((V=Hn(e))==null?void 0:V.spec.author.name),1)]),en("div",T7e,[R7e,en("dd",O7e,[en("a",{href:(_=Hn(e))==null?void 0:_.spec.website,class:"hover:text-gray-600",target:"_blank"},rc((x=Hn(e))==null?void 0:x.spec.website),9,k7e)])]),en("div",A7e,[I7e,en("dd",M7e,[en("a",{href:(S=Hn(e))==null?void 0:S.spec.repo,class:"hover:text-gray-600",target:"_blank"},rc((P=Hn(e))==null?void 0:P.spec.repo),9,F7e)])]),en("div",D7e,[N7e,en("dd",H7e,rc((E=Hn(e))==null?void 0:E.spec.version),1)]),en("div",B7e,[L7e,en("dd",U7e,rc((O=Hn(e))==null?void 0:O.spec.requires),1)]),en("div",j7e,[z7e,en("dd",G7e,rc((F=(I=Hn(e))==null?void 0:I.status)==null?void 0:F.location),1)]),GR("",!0)])])])]}),_:1}),Lg(aN,{visible:n.value,"onUpdate:visible":c[1]||(c[1]=g=>n.value=g),"upgrade-theme":Hn(e),onClose:i},null,8,["visible","upgrade-theme"])],64)}}}),KR=window.Vue.withAsyncContext,t9e=window.Vue.defineComponent,Qa=window.Vue.unref,YR=window.Vue.resolveComponent,XR=window.Vue.createVNode,X3=window.Vue.withCtx,Q3=window.Vue.openBlock,QR=window.Vue.createBlock,n9e=window.Vue.createCommentVNode,Z3=window.Vue.createElementVNode,o9e=window.Vue.createTextVNode,a9e=window.Vue.resolveDirective,s9e=window.Vue.createElementBlock,r9e=window.Vue.withDirectives,i9e=window.Vue.Transition,l9e={class:"bg-white p-4"},c9e={class:"pt-5"},u9e={class:"flex justify-start"},J3=window.Vue.computed,d9e=window.Vue.inject,p9e=window.Vue.watch,h9e=window.HaloComponents.VButton,f9e=window.VueUse.useRouteParams,m9e=t9e({__name:"ThemeSetting",async setup(t){let e,n;const o=f9e("group"),a=d9e("selectedTheme"),s=J3(()=>{var g;return(g=a==null?void 0:a.value)==null?void 0:g.spec.settingName}),r=J3(()=>{var g;return(g=a==null?void 0:a.value)==null?void 0:g.spec.configMapName}),{setting:i,configMapFormData:l,saving:c,handleFetchConfigMap:u,handleFetchSettings:d,handleSaveConfigMap:p}=Nu(s,r),f=J3(()=>{var v;if(!i.value)return;const{forms:g}=i.value.spec;return(v=g.find(y=>y.group===(o==null?void 0:o.value)))==null?void 0:v.formSchema});return[e,n]=KR(()=>d()),await e,n(),[e,n]=KR(()=>u()),await e,n(),p9e(()=>a==null?void 0:a.value,()=>{d(),u()}),(g,v)=>{const y=YR("FormKitSchema"),w=YR("FormKit"),b=a9e("permission");return Q3(),QR(i9e,{mode:"out-in",name:"fade"},{default:X3(()=>[Z3("div",l9e,[Z3("div",null,[Qa(o)&&Qa(f)&&Qa(l)?(Q3(),QR(w,{key:0,id:Qa(o),modelValue:Qa(l)[Qa(o)],"onUpdate:modelValue":v[0]||(v[0]=C=>Qa(l)[Qa(o)]=C),name:Qa(o),actions:!1,preserve:!0,type:"form",onSubmit:Qa(p)},{default:X3(()=>[XR(y,{schema:Qa(f),data:Qa(l)[Qa(o)]},null,8,["schema","data"])]),_:1},8,["id","modelValue","name","onSubmit"])):n9e("",!0)]),r9e((Q3(),s9e("div",c9e,[Z3("div",u9e,[XR(Qa(h9e),{loading:Qa(c),type:"secondary",onClick:v[1]||(v[1]=C=>g.$formkit.submit(Qa(o)||""))},{default:X3(()=>[o9e(" 保存 ")]),_:1},8,["loading"])])])),[[b,["system:configmaps:manage"]]])])]),_:1})}}}),g9e=window.HaloComponents.IconPalette,v9e=window.Vue.markRaw,y9e={components:{},routes:[{path:"/theme",component:i7e,children:[{path:"",name:"ThemeDetail",component:e9e,meta:{title:"主题",searchable:!0,permissions:["system:themes:view"],menu:{name:"主题",group:"interface",icon:v9e(g9e),priority:0}}},{path:"settings/:group",name:"ThemeSetting",component:m9e,meta:{title:"主题设置",permissions:["system:settings:view"]}}]}]},w9e=window.Vue.defineComponent,_r=window.Vue.unref,Mr=window.Vue.createElementVNode,b9e=window.Vue.resolveComponent,zp=window.Vue.openBlock,Gp=window.Vue.createBlock,jg=window.Vue.createCommentVNode,zg=window.Vue.createVNode,Gg=window.Vue.withCtx,$9e=window.Vue.createTextVNode,x9e={class:"md:grid md:grid-cols-4 md:gap-6"},_9e=Mr("div",{class:"md:col-span-1"},[Mr("div",{class:"sticky top-0"},[Mr("span",{class:"text-base font-medium text-gray-900"}," 常规 ")])],-1),V9e={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},C9e=Mr("div",{class:"py-5"},[Mr("div",{class:"border-t border-gray-200"})],-1),S9e={class:"md:grid md:grid-cols-4 md:gap-6"},P9e=Mr("div",{class:"md:col-span-1"},[Mr("div",{class:"sticky top-0"},[Mr("span",{class:"text-base font-medium text-gray-900"}," 元数据 ")])],-1),E9e={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},T9e=window.HaloComponents.Toast,R9e=window.HaloComponents.VButton,O9e=window.HaloComponents.VModal,k9e=window.HaloComponents.VSpace,q3=window.Vue.computed,A9e=window.Vue.nextTick,Kf=window.Vue.ref,ZR=window.Vue.watch,I9e=w9e({__name:"MenuItemEditingModal",props:{visible:{type:Boolean,default:!1},menu:{default:void 0},parentMenuItem:{default:void 0},menuItem:{default:void 0}},emits:["update:visible","close","saved"],setup(t,{emit:e}){const n=t,o={spec:{displayName:"",href:"",target:"_self",children:[],priority:0},apiVersion:"v1alpha1",kind:"MenuItem",metadata:{name:"",generateName:"menu-item-"}},a=Kf(""),s=Kf(ot(o)),r=Kf(!1),i=q3(()=>!!s.value.metadata.creationTimestamp),l=q3(()=>i.value?"编辑菜单项":"新增菜单项"),c=Kf(),u=async()=>{var P;(P=c.value)==null||P.handleSubmit(),await A9e();const{customAnnotations:V,annotations:_,customFormInvalid:x,specFormInvalid:S}=c.value||{};if(!(x||S)){s.value.metadata.annotations={..._,...V};try{r.value=!0;const E=g.find(O=>{var I;return((I=O.ref)==null?void 0:I.kind)===w.value});if(E!=null&&E.ref&&(s.value.spec.targetRef={...E.ref,name:b.value},s.value.spec.displayName=void 0,s.value.spec.href=void 0),i.value){const{data:O}=await X.extension.menuItem.updatev1alpha1MenuItem({name:s.value.metadata.name,menuItem:s.value});d(!1),e("saved",O)}else{const{data:O}=await X.extension.menuItem.createv1alpha1MenuItem({menuItem:s.value});if(a.value){const{data:I}=await X.extension.menuItem.getv1alpha1MenuItem({name:a.value});I.spec.children=[...I.spec.children||[],O.metadata.name],await X.extension.menuItem.updatev1alpha1MenuItem({name:I.metadata.name,menuItem:I})}d(!1),e("saved",O)}T9e.success("保存成功")}catch(E){console.error("Failed to create menu item",E)}finally{r.value=!1}}},d=V=>{e("update:visible",V),V||e("close")},p=()=>{s.value=ot(o),w.value="",b.value="",a.value="",tr("menuitem-form")};ZR(()=>n.visible,V=>{var _;V?(a.value=(_=n.parentMenuItem)==null?void 0:_.metadata.name,Ps("displayNameInput"),n.menuItem||(b.value="")):p()}),ZR(()=>n.menuItem,V=>{if(V){s.value=ot(V);const{targetRef:_}=s.value.spec;if(!_)return;b.value=_.name,w.value=_.kind}else p()});const f={group:"content.halo.run",version:"v1alpha1",name:""},g=[{label:"自定义链接"},{label:"文章",inputType:"postSelect",ref:{...f,kind:"Post"}},{label:"自定义页面",inputType:"singlePageSelect",ref:{...f,kind:"SinglePage"}},{label:"分类",inputType:"categorySelect",ref:{...f,kind:"Category"}},{label:"标签",inputType:"tagSelect",ref:{...f,kind:"Tag"}}],v=g.map(V=>{var _;return{label:V.label,value:(_=V.ref)==null?void 0:_.kind}}),y=q3(()=>g.find(V=>{var _;return((_=V.ref)==null?void 0:_.kind)===w.value})),w=Kf(""),b=Kf(""),C=()=>{b.value=""};return(V,_)=>{const x=b9e("FormKit");return zp(),Gp(_r(O9e),{visible:t.visible,width:700,title:_r(l),"onUpdate:visible":d},{footer:Gg(()=>[zg(_r(k9e),null,{default:Gg(()=>[t.visible?(zp(),Gp(Vl,{key:0,loading:r.value,type:"secondary",onSubmit:_[6]||(_[6]=S=>V.$formkit.submit("menuitem-form"))},null,8,["loading"])):jg("",!0),zg(_r(R9e),{onClick:_[7]||(_[7]=S=>d(!1))},{default:Gg(()=>[$9e("取消 Esc")]),_:1})]),_:1})]),default:Gg(()=>[zg(x,{id:"menuitem-form",name:"menuitem-form",type:"form",preserve:!0,config:{validationVisibility:"submit"},onSubmit:u},{default:Gg(()=>{var S,P;return[Mr("div",null,[Mr("div",x9e,[_9e,Mr("div",V9e,[!_r(i)&&t.menu&&t.visible?(zp(),Gp(x,{key:0,modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=E=>a.value=E),label:"上级菜单项",placeholder:"选择上级菜单项",type:"menuItemSelect","menu-items":((S=t.menu)==null?void 0:S.spec.menuItems)||[]},null,8,["modelValue","menu-items"])):jg("",!0),zg(x,{modelValue:w.value,"onUpdate:modelValue":_[1]||(_[1]=E=>w.value=E),options:_r(v),disabled:_r(i),label:"类型",type:"select",onChange:C},null,8,["modelValue","options","disabled"]),w.value?jg("",!0):(zp(),Gp(x,{key:1,id:"displayNameInput",modelValue:s.value.spec.displayName,"onUpdate:modelValue":_[2]||(_[2]=E=>s.value.spec.displayName=E),label:"名称",type:"text",name:"displayName",validation:"required|length:0,100"},null,8,["modelValue"])),w.value?jg("",!0):(zp(),Gp(x,{key:2,modelValue:s.value.spec.href,"onUpdate:modelValue":_[3]||(_[3]=E=>s.value.spec.href=E),label:"链接地址",type:"text",name:"href",validation:"required|length:0,1024"},null,8,["modelValue"])),(P=_r(y))!=null&&P.ref?(zp(),Gp(x,{id:_r(y).inputType,key:_r(y).inputType,modelValue:b.value,"onUpdate:modelValue":_[4]||(_[4]=E=>b.value=E),placeholder:`请选择${_r(y).label}`,label:_r(y).label,type:_r(y).inputType,validation:"required"},null,8,["id","modelValue","placeholder","label","type"])):jg("",!0),zg(x,{modelValue:s.value.spec.target,"onUpdate:modelValue":_[5]||(_[5]=E=>s.value.spec.target=E),label:"打开方式",type:"select",name:"target",options:[{label:"当前窗口",value:"_self"},{label:"新窗口",value:"_blank"},{label:"父窗口",value:"_parent"},{label:"顶级窗口",value:"_top"}]},null,8,["modelValue"])])])])]}),_:1}),C9e,Mr("div",S9e,[P9e,Mr("div",E9e,[(zp(),Gp(Ym,{key:s.value.metadata.name,ref_key:"annotationsFormRef",ref:c,value:s.value.metadata.annotations,kind:"MenuItem",group:""},null,8,["value"]))])])]),_:1},8,["visible","title"])}}}),M9e=window.Vue.defineComponent,tl=window.Vue.unref,Wg=window.Vue.createVNode,eV=window.Vue.resolveDirective,rd=window.Vue.openBlock,JR=window.Vue.createElementBlock,Kg=window.Vue.withDirectives,qR=window.Vue.toDisplayString,Bw=window.Vue.createTextVNode,gi=window.Vue.withCtx,Yf=window.Vue.createBlock,tV=window.Vue.createCommentVNode,F9e=window.Vue.createSlots,D9e=window.Vue.resolveComponent,N9e=window.Vue.createElementVNode,H9e={class:"drag-element absolute inset-y-0 left-0 hidden w-3.5 cursor-move items-center bg-gray-100 transition-all hover:bg-gray-200 group-hover:flex"},B9e=["href","title"],L9e=window.HaloComponents.IconList,nV=window.HaloComponents.VButton,U9e=window.HaloComponents.VTag,j9e=window.HaloComponents.VStatusDot,z9e=window.HaloComponents.VEntity,eO=window.HaloComponents.VEntityField,G9e=window.Vue.ref,W9e=M9e({__name:"MenuItemListItem",props:{menuTreeItems:{default:()=>[]}},emits:["change","open-editing","open-create-by-parent","delete"],setup(t,{emit:e}){const{currentUserHasPermission:n}=To(),o=G9e(!1);function a(){e("change")}function s(u){e("open-editing",u)}function r(u){e("open-create-by-parent",u)}function i(u){e("delete",u)}const l={Post:"文章",SinglePage:"页面",Category:"分类",Tag:"标签"};function c(u){const{kind:d}=u.spec.targetRef||{};if(d&&l[d])return l[d]}return(u,d)=>{const p=D9e("MenuItemListItem",!0),f=eV("permission"),g=eV("tooltip"),v=eV("close-popper");return rd(),Yf(tl(OD),{list:t.menuTreeItems,class:"box-border h-full w-full divide-y divide-gray-100","ghost-class":"opacity-50",group:"menu-item",handle:".drag-element","item-key":"metadata.name",tag:"ul",onChange:a,onEnd:d[0]||(d[0]=y=>o.value=!1),onStart:d[1]||(d[1]=y=>o.value=!0)},{item:gi(({element:y})=>[N9e("li",null,[Wg(tl(z9e),null,F9e({prepend:gi(()=>[Kg((rd(),JR("div",H9e,[Wg(tl(L9e),{class:"h-3.5 w-3.5"})])),[[f,["system:menus:manage"]]])]),start:gi(()=>{var w;return[Wg(tl(eO),{title:(w=y.status)==null?void 0:w.displayName},{extra:gi(()=>[c(y)?(rd(),Yf(tl(U9e),{key:0},{default:gi(()=>[Bw(qR(c(y)),1)]),_:2},1024)):tV("",!0)]),description:gi(()=>{var b,C,V;return[(b=y.status)!=null&&b.href?(rd(),JR("a",{key:0,href:(C=y.status)==null?void 0:C.href,title:(V=y.status)==null?void 0:V.href,target:"_blank",class:"truncate text-xs text-gray-500 group-hover:text-gray-900"},qR(y.status.href),9,B9e)):tV("",!0)]}),_:2},1032,["title"])]}),end:gi(()=>[y.metadata.deletionTimestamp?(rd(),Yf(tl(eO),{key:0},{description:gi(()=>[Kg(Wg(tl(j9e),{state:"warning",animate:""},null,512),[[g,"删除中"]])]),_:1})):tV("",!0)]),_:2},[tl(n)(["system:menus:manage"])?{name:"dropdownItems",fn:gi(()=>[Kg((rd(),Yf(tl(nV),{block:"",type:"secondary",onClick:w=>s(y)},{default:gi(()=>[Bw(" 修改 ")]),_:2},1032,["onClick"])),[[v]]),Kg((rd(),Yf(tl(nV),{block:"",type:"default",onClick:w=>r(y)},{default:gi(()=>[Bw(" 添加子菜单项 ")]),_:2},1032,["onClick"])),[[v]]),Kg((rd(),Yf(tl(nV),{block:"",type:"danger",onClick:w=>i(y)},{default:gi(()=>[Bw(" 删除 ")]),_:2},1032,["onClick"])),[[v]])]),key:"0"}:void 0]),1024),Wg(p,{"menu-tree-items":y.spec.children,class:"pl-10 transition-all duration-300",onChange:a,onDelete:i,onOpenEditing:s,onOpenCreateByParent:r},null,8,["menu-tree-items"])])]),_:1},8,["list"])}}}),K9e=window.Vue.defineComponent,Lw=window.Vue.unref,Y9e=window.Vue.resolveComponent,Uw=window.Vue.createVNode,Yg=window.Vue.withCtx,tO=window.Vue.openBlock,nO=window.Vue.createBlock,X9e=window.Vue.createCommentVNode,Q9e=window.Vue.createTextVNode,Z9e=window.HaloComponents.Toast,J9e=window.HaloComponents.VButton,q9e=window.HaloComponents.VModal,eEe=window.HaloComponents.VSpace,oO=window.Vue.computed,aO=window.Vue.ref,sO=window.Vue.watch,tEe=K9e({__name:"MenuEditingModal",props:{visible:{type:Boolean,default:!1},menu:{default:void 0}},emits:["update:visible","close","created"],setup(t,{emit:e}){const n=t,o={spec:{displayName:"",menuItems:[]},apiVersion:"v1alpha1",kind:"Menu",metadata:{name:"",generateName:"menu-"}},a=aO(ot(o)),s=aO(!1),r=oO(()=>!!a.value.metadata.creationTimestamp),i=oO(()=>r.value?"编辑菜单":"新增菜单"),l=async()=>{try{if(s.value=!0,r.value)await X.extension.menu.updatev1alpha1Menu({name:a.value.metadata.name,menu:a.value});else{const{data:d}=await X.extension.menu.createv1alpha1Menu({menu:a.value});e("created",d)}c(!1),Z9e.success("保存成功")}catch(d){console.error("Failed to create menu",d)}finally{s.value=!1}},c=d=>{e("update:visible",d),d||e("close")},u=()=>{a.value=ot(o),tr("menu-form")};return sO(()=>n.visible,d=>{d?Ps("menuDisplayNameInput"):u()}),sO(()=>n.menu,d=>{d?a.value=ot(d):u()}),(d,p)=>{const f=Y9e("FormKit");return tO(),nO(Lw(q9e),{visible:t.visible,width:500,title:Lw(i),"onUpdate:visible":c},{footer:Yg(()=>[Uw(Lw(eEe),null,{default:Yg(()=>[t.visible?(tO(),nO(Vl,{key:0,loading:s.value,type:"secondary",onSubmit:p[1]||(p[1]=g=>d.$formkit.submit("menu-form"))},null,8,["loading"])):X9e("",!0),Uw(Lw(J9e),{onClick:p[2]||(p[2]=g=>c(!1))},{default:Yg(()=>[Q9e("取消 Esc")]),_:1})]),_:1})]),default:Yg(()=>[Uw(f,{id:"menu-form",name:"menu-form",type:"form",config:{validationVisibility:"submit"},onSubmit:l},{default:Yg(()=>[Uw(f,{id:"menuDisplayNameInput",modelValue:a.value.spec.displayName,"onUpdate:modelValue":p[0]||(p[0]=g=>a.value.spec.displayName=g),label:"菜单名称",type:"text",name:"displayName",validation:"required|length:0,100"},null,8,["modelValue"])]),_:1})]),_:1},8,["visible","title"])}}}),nEe=window.Vue.defineComponent,ic=window.Vue.createVNode,Za=window.Vue.unref,lc=window.Vue.openBlock,Wp=window.Vue.createBlock,oEe=window.Vue.createCommentVNode,Xf=window.Vue.createTextVNode,Pa=window.Vue.withCtx,rO=window.Vue.Transition,aEe=window.Vue.renderList,iO=window.Vue.Fragment,oV=window.Vue.createElementBlock,aV=window.Vue.createSlots,lO=window.Vue.resolveDirective,jw=window.Vue.withDirectives,sEe=window.Vue.createElementVNode,rEe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},iEe=["onClick"],lEe=window.HaloComponents.Dialog,Xg=window.HaloComponents.VButton,cEe=window.HaloComponents.VCard,uEe=window.HaloComponents.VEmpty,dEe=window.HaloComponents.VSpace,pEe=window.HaloComponents.VStatusDot,hEe=window.HaloComponents.VEntity,cO=window.HaloComponents.VEntityField,fEe=window.HaloComponents.VTag,mEe=window.HaloComponents.VLoading,uO=window.HaloComponents.Toast,dO=window.Vue.onMounted,gEe=window.Vue.onUnmounted,Qf=window.Vue.ref,vEe=window.VueUse.useRouteQuery,yEe=window.VueRouter.onBeforeRouteLeave,wEe=nEe({__name:"MenuList",props:{selectedMenu:{default:null}},emits:["select","update:selectedMenu"],setup(t,{expose:e,emit:n}){const o=t,{currentUserHasPermission:a}=To(),s=Qf([]),r=Qf(!1),i=Qf(),l=Qf(!1),c=Qf(),u=async b=>{i.value=void 0;try{clearInterval(c.value),b!=null&&b.mute||(r.value=!0);const{data:C}=await X.extension.menu.listv1alpha1Menu();if(s.value=C.items,o.selectedMenu){const _=s.value.find(x=>{var S;return x.metadata.name===((S=o.selectedMenu)==null?void 0:S.metadata.name)});_&&n("update:selectedMenu",_)}s.value.filter(_=>!!_.metadata.deletionTimestamp).length&&(c.value=setInterval(()=>{u({mute:!0})},3e3))}catch(C){console.error("Failed to fetch menus",C)}finally{r.value=!1}};gEe(()=>{clearInterval(c.value)}),yEe(()=>{clearInterval(c.value)});const d=vEe("menu"),p=b=>{n("update:selectedMenu",b),n("select",b),d.value=b.metadata.name},f=async b=>{lEe.warning({title:"确定要删除该菜单吗？",description:"将同时删除该菜单下的所有菜单项，该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{try{await X.extension.menu.deletev1alpha1Menu({name:b.metadata.name});const C=Array.from(b.spec.menuItems||[]).map(V=>X.extension.menuItem.deletev1alpha1MenuItem({name:V}));await Promise.all(C),uO.success("删除成功")}catch(C){console.error("Failed to delete menu",C)}finally{await u()}}})},g=b=>{i.value=b,l.value=!0};dO(async()=>{if(await u(),d.value){const b=s.value.find(C=>C.metadata.name===d.value);b&&p(b);return}s.value.length>0&&p(s.value[0])}),e({handleFetchMenus:u});const v=Qf(),y=async()=>{var V;const{data:b}=await X.extension.configMap.getv1alpha1ConfigMap({name:"system"});if(!((V=b.data)!=null&&V.menu))return;const C=JSON.parse(b.data.menu);v.value=C.primary},w=async b=>{var V;const{data:C}=await X.extension.configMap.getv1alpha1ConfigMap({name:"system"});if(C.data){const _=JSON.parse(((V=C.data)==null?void 0:V.menu)||"{}");_.primary=b.metadata.name,C.data.menu=JSON.stringify(_),await X.extension.configMap.updatev1alpha1ConfigMap({name:"system",configMap:C})}await y(),uO.success("设置成功")};return dO(y),(b,C)=>{const V=lO("tooltip"),_=lO("close-popper");return lc(),oV(iO,null,[ic(tEe,{visible:l.value,"onUpdate:visible":C[0]||(C[0]=x=>l.value=x),menu:i.value,onClose:C[1]||(C[1]=x=>u()),onCreated:p},null,8,["visible","menu"]),ic(Za(cEe),{"body-class":["!p-0"],title:"菜单"},aV({default:Pa(()=>[r.value?(lc(),Wp(Za(mEe),{key:0})):s.value.length?(lc(),Wp(rO,{key:2,appear:"",name:"fade"},{default:Pa(()=>[sEe("ul",rEe,[(lc(!0),oV(iO,null,aEe(s.value,(x,S)=>{var P;return lc(),oV("li",{key:S,onClick:E=>p(x)},[ic(Za(hEe),{"is-selected":((P=t.selectedMenu)==null?void 0:P.metadata.name)===x.metadata.name},aV({start:Pa(()=>{var E,O;return[ic(Za(cO),{title:(E=x.spec)==null?void 0:E.displayName,description:`${((O=x.spec.menuItems)==null?void 0:O.length)||0} 个菜单项`},aV({_:2},[x.metadata.name===v.value?{name:"extra",fn:Pa(()=>[ic(Za(fEe),null,{default:Pa(()=>[Xf("主菜单")]),_:1})]),key:"0"}:void 0]),1032,["title","description"])]}),end:Pa(()=>[x.metadata.deletionTimestamp?(lc(),Wp(Za(cO),{key:0},{description:Pa(()=>[jw(ic(Za(pEe),{state:"warning",animate:""},null,512),[[V,"删除中"]])]),_:1})):oEe("",!0)]),_:2},[Za(a)(["system:menus:manage"])?{name:"dropdownItems",fn:Pa(()=>[jw((lc(),Wp(Za(Xg),{block:"",type:"secondary",onClick:E=>w(x)},{default:Pa(()=>[Xf(" 设置为主菜单 ")]),_:2},1032,["onClick"])),[[_]]),jw((lc(),Wp(Za(Xg),{block:"",type:"default",onClick:E=>g(x)},{default:Pa(()=>[Xf(" 修改 ")]),_:2},1032,["onClick"])),[[_]]),jw((lc(),Wp(Za(Xg),{block:"",type:"danger",onClick:E=>f(x)},{default:Pa(()=>[Xf(" 删除 ")]),_:2},1032,["onClick"])),[[_]])]),key:"0"}:void 0]),1032,["is-selected"])],8,iEe)}),128))])]),_:1})):(lc(),Wp(rO,{key:1,appear:"",name:"fade"},{default:Pa(()=>[ic(Za(uEe),{message:"你可以尝试刷新或者新建菜单",title:"当前没有菜单"},{actions:Pa(()=>[ic(Za(dEe),null,{default:Pa(()=>[ic(Za(Xg),{size:"sm",onClick:C[2]||(C[2]=x=>u())},{default:Pa(()=>[Xf(" 刷新")]),_:1})]),_:1})]),_:1})]),_:1}))]),_:2},[Za(a)(["system:menus:manage"])?{name:"footer",fn:Pa(()=>[ic(Za(Xg),{block:"",type:"secondary",onClick:C[3]||(C[3]=x=>g())},{default:Pa(()=>[Xf(" 新增 ")]),_:1})]),key:"0"}:void 0]),1024)],64)}}});function bEe(t){const e=ot(t),n={},o={};e.forEach(s=>{n[s.metadata.name]=s,s.spec.children.forEach(r=>{o[r]=s.metadata.name}),s.spec.children=[]}),e.forEach(s=>{const r=o[s.metadata.name];r&&n[r]&&n[r].spec.children.push(s)});const a=e.filter(s=>o[s.metadata.name]===void 0);return sN(a)}function sN(t){return t.sort((e,n)=>e.spec.priority<n.spec.priority?-1:e.spec.priority>n.spec.priority?1:0).map(e=>e.spec.children.length?{...e,spec:{...e.spec,children:sN(e.spec.children)}}:e)}function rN(t){for(let e=0;e<t.length;e++)t[e].spec.priority=e,t[e].spec.children&&rN(t[e].spec.children);return t}function $Ee(t){const e=[],n=new Map,o=a=>{if(!a)return;const s=a.spec.children||[];n.set(a.metadata.name,{...a,spec:{...a.spec,children:s.map(r=>r.metadata.name)}}),s.forEach(r=>{o(r)})};return t.forEach(a=>{o(a)}),n.forEach(a=>{e.push(a)}),e}function xEe(t){const e=[];function n(o){o.spec.children&&o.spec.children.forEach(a=>{e.push(a.metadata.name),n(a)})}return n(t),e}function _Ee(t){const e=t.spec.children.map(n=>n.metadata.name);return{...t,spec:{...t.spec,children:e}}}const VEe=window.Vue.defineComponent,nl=window.Vue.createVNode,vi=window.Vue.unref,yi=window.Vue.withCtx,mu=window.Vue.createElementVNode,CEe=window.Vue.toDisplayString,sV=window.Vue.createTextVNode,SEe=window.Vue.resolveDirective,Zf=window.Vue.openBlock,Qg=window.Vue.createBlock,pO=window.Vue.withDirectives;window.Vue.createCommentVNode;const hO=window.Vue.Transition,PEe=window.Vue.Fragment,EEe=window.Vue.createElementBlock,TEe={class:"m-0 md:m-4"},REe={class:"flex flex-col gap-4 sm:flex-row"},OEe={class:"w-96"},kEe={class:"flex-1"},AEe={class:"block w-full bg-gray-50 px-4 py-3"},IEe={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},MEe={class:"flex w-full flex-1 sm:w-auto"},FEe={class:"text-base font-medium"},DEe={class:"mt-4 flex sm:mt-0"},NEe=window.HaloComponents.IconAddCircle,HEe=window.HaloComponents.IconListSettings,BEe=window.HaloComponents.Dialog,rV=window.HaloComponents.VButton,LEe=window.HaloComponents.VCard,UEe=window.HaloComponents.VEmpty,jEe=window.HaloComponents.VPageHeader,fO=window.HaloComponents.VSpace,zEe=window.HaloComponents.VLoading,GEe=window.HaloComponents.Toast,WEe=window.Vue.onUnmounted,gu=window.Vue.ref,KEe=window.VueUse.useDebounceFn,YEe=window.VueRouter.onBeforeRouteLeave,XEe=VEe({__name:"Menus",setup(t){const e=gu([]),n=gu([]),o=gu(),a=gu(),s=gu(),r=gu(!1),i=gu(),l=gu(),c=gu(),u=async b=>{var C,V;try{if(clearInterval(c.value),b!=null&&b.mute||(r.value=!0),!((C=o.value)!=null&&C.spec.menuItems))return;const _=(V=Array.from(o.value.spec.menuItems))==null?void 0:V.map(P=>P),{data:x}=await X.extension.menuItem.listv1alpha1MenuItem({page:0,size:0,fieldSelector:[`name=(${_.join(",")})`]});e.value=x.items,n.value=bEe(x.items),e.value.filter(P=>!!P.metadata.deletionTimestamp).length&&(c.value=setInterval(()=>{u({mute:!0})},3e3)),await w()}catch(_){console.error("Failed to fetch menu items",_)}finally{r.value=!1}};WEe(()=>{clearInterval(c.value)}),YEe(()=>{clearInterval(c.value)});const d=b=>{X.extension.menuItem.getv1alpha1MenuItem({name:b.metadata.name}).then(C=>{a.value=C.data,l.value=!0})},p=b=>{s.value=_Ee(b),l.value=!0},f=()=>{s.value=void 0,a.value=void 0},g=async b=>{var V;const C=ot(o.value);C&&!((V=C.spec.menuItems)!=null&&V.includes(b.metadata.name))&&(C.spec.menuItems?C.spec.menuItems.push(b.metadata.name):C.spec.menuItems=[b.metadata.name],await X.extension.menu.updatev1alpha1Menu({name:C.metadata.name,menu:C})),await i.value.handleFetchMenus(),await u({mute:!0})},v=KEe(async()=>{const b=rN(n.value),C=$Ee(b);try{const V=C.map(_=>X.extension.menuItem.updatev1alpha1MenuItem({name:_.metadata.name,menuItem:_}));await Promise.all(V)}catch(V){console.log("Failed to update menu items",V)}finally{await i.value.handleFetchMenus(),await u({mute:!0})}},300),y=async b=>{BEe.info({title:"确定要删除该菜单项吗？",description:"将同时删除所有子菜单项，删除后将无法恢复",confirmType:"danger",onConfirm:async()=>{await X.extension.menuItem.deletev1alpha1MenuItem({name:b.metadata.name});const C=xEe(b);if(C.length){const V=C.map(_=>X.extension.menuItem.deletev1alpha1MenuItem({name:_}));await Promise.all(V)}await u(),GEe.success("删除成功")}})},w=async()=>{if(!o.value)return;const b=ot(o.value),C=e.value.map(V=>V.metadata.name);b.spec.menuItems=C,await X.extension.menu.updatev1alpha1Menu({name:b.metadata.name,menu:b}),await i.value.handleFetchMenus({mute:!0})};return(b,C)=>{const V=SEe("permission");return Zf(),EEe(PEe,null,[nl(I9e,{visible:l.value,"onUpdate:visible":C[0]||(C[0]=_=>l.value=_),"menu-item":a.value,"parent-menu-item":s.value,menu:o.value,onClose:f,onSaved:g},null,8,["visible","menu-item","parent-menu-item","menu"]),nl(vi(jEe),{title:"菜单"},{icon:yi(()=>[nl(vi(HEe),{class:"mr-2 self-center"})]),_:1}),mu("div",TEe,[mu("div",REe,[mu("div",OEe,[nl(wEe,{ref_key:"menuListRef",ref:i,"selected-menu":o.value,"onUpdate:selected-menu":C[1]||(C[1]=_=>o.value=_),onSelect:C[2]||(C[2]=_=>u())},null,8,["selected-menu"])]),mu("div",kEe,[nl(vi(LEe),{"body-class":["!p-0"]},{header:yi(()=>{var _;return[mu("div",AEe,[mu("div",IEe,[mu("div",MEe,[mu("span",FEe,CEe((_=o.value)==null?void 0:_.spec.displayName),1)]),mu("div",DEe,[nl(vi(fO),null,{default:yi(()=>[pO((Zf(),Qg(vi(rV),{size:"xs",type:"default",onClick:C[3]||(C[3]=x=>l.value=!0)},{default:yi(()=>[sV(" 新增 ")]),_:1})),[[V,["system:menus:manage"]]])]),_:1})])])])]}),default:yi(()=>[r.value?(Zf(),Qg(vi(zEe),{key:0})):e.value.length?(Zf(),Qg(hO,{key:2,appear:"",name:"fade"},{default:yi(()=>[nl(W9e,{"menu-tree-items":n.value,onChange:vi(v),onDelete:y,onOpenEditing:d,onOpenCreateByParent:p},null,8,["menu-tree-items","onChange"])]),_:1})):(Zf(),Qg(hO,{key:1,appear:"",name:"fade"},{default:yi(()=>[nl(vi(UEe),{message:"你可以尝试刷新或者新建菜单项",title:"当前没有菜单项"},{actions:yi(()=>[nl(vi(fO),null,{default:yi(()=>[nl(vi(rV),{onClick:C[4]||(C[4]=_=>u())},{default:yi(()=>[sV(" 刷新")]),_:1}),pO((Zf(),Qg(vi(rV),{type:"primary",onClick:C[5]||(C[5]=_=>l.value=!0)},{icon:yi(()=>[nl(vi(NEe),{class:"h-full w-full"})]),default:yi(()=>[sV(" 新增菜单项 ")]),_:1})),[[V,["system:menus:manage"]]])]),_:1})]),_:1})]),_:1}))]),_:1})])])])],64)}}}),QEe=window.HaloComponents.IconListSettings,ZEe=window.Vue.markRaw,JEe={components:{},routes:[{path:"/menus",component:Es,children:[{path:"",name:"Menus",component:XEe,meta:{title:"菜单",searchable:!0,permissions:["system:menus:view"],menu:{name:"菜单",group:"interface",icon:ZEe(QEe),priority:1}}}]}]},qEe=window.Vue.computed,mO=window.HaloComponents.Dialog,gO=window.HaloComponents.Toast;function zS(t){return{isStarted:qEe(()=>{var a,s,r;return((s=(a=t==null?void 0:t.value)==null?void 0:a.status)==null?void 0:s.phase)==="STARTED"&&((r=t.value)==null?void 0:r.spec.enabled)}),changeStatus:()=>{if(!(t!=null&&t.value))return;const a=ot(t.value);mO.info({title:`确定要${a.spec.enabled?"停止":"启动"}该插件吗？`,onConfirm:async()=>{try{a.spec.enabled=!a.spec.enabled,await X.extension.plugin.updatepluginHaloRunV1alpha1Plugin({name:a.metadata.name,plugin:a}),gO.success(`${a.spec.enabled?"启动":"停止"}成功`)}catch(s){console.error(s)}finally{window.location.reload()}}})},uninstall:a=>{if(!(t!=null&&t.value))return;const{enabled:s}=t.value.spec;mO.warning({title:`${a?"确定要卸载该插件以及对应的配置吗？":"确定要卸载该插件吗？"}`,description:`${s?"当前插件还在启用状态，将在停止运行后卸载，该操作不可恢复。":"该操作不可恢复。"}`,confirmType:"danger",confirmText:`${s?"停止运行并卸载":"卸载"}`,onConfirm:async()=>{if(t.value)try{if(s){const r=ot(t.value);r.spec.enabled=!1,await X.extension.plugin.updatepluginHaloRunV1alpha1Plugin({name:r.metadata.name,plugin:r})}if(await X.extension.plugin.deletepluginHaloRunV1alpha1Plugin({name:t.value.metadata.name}),a){const{settingName:r,configMapName:i}=t.value.spec;r&&await X.extension.setting.deletev1alpha1Setting({name:r},{mute:!0}),i&&await X.extension.configMap.deletev1alpha1ConfigMap({name:i},{mute:!0})}gO.success("卸载成功")}catch(r){console.error("Failed to uninstall plugin",r)}finally{window.location.reload()}}})}}}const eTe=window.Vue.defineComponent,Kp=window.Vue.unref,Zg=window.Vue.openBlock,Jg=window.Vue.createBlock,vO=window.Vue.createCommentVNode,tTe=window.Vue.createTextVNode,id=window.Vue.withCtx,qg=window.Vue.createVNode,nTe=window.Vue.resolveDynamicComponent,oTe=window.Vue.Suspense,yO=window.Vue.createElementVNode,aTe={class:"m-0 md:m-4"},sTe={class:"bg-white"},wO=window.Vue.computed,rTe=window.Vue.nextTick,iTe=window.Vue.onMounted,bO=window.Vue.provide,iV=window.Vue.ref,lTe=window.Vue.watch,cTe=window.VueRouter.RouterView,uTe=window.VueRouter.useRoute,dTe=window.VueRouter.useRouter,pTe=window.HaloComponents.VButton,hTe=window.HaloComponents.VCard,fTe=window.HaloComponents.VPageHeader,mTe=window.HaloComponents.VTabbar,gTe=window.HaloComponents.VAvatar,vTe=window.HaloComponents.VLoading,yTe=eTe({__name:"PluginLayout",setup(t){const{currentUserHasPermission:e}=To(),n=[{id:"detail",label:"详情",route:{name:"PluginDetail"}}],o=uTe(),a=dTe(),s=iV(),r=iV(ot(n)),i=iV();bO("plugin",s),bO("activeTab",i);const l=wO(()=>{var y;return(y=s.value)==null?void 0:y.spec.settingName}),c=wO(()=>{var y;return(y=s.value)==null?void 0:y.spec.configMapName}),{isStarted:u}=zS(s),{setting:d,handleFetchSettings:p}=Nu(l,c),f=async()=>{try{const y=await X.extension.plugin.getpluginHaloRunV1alpha1Plugin({name:o.params.name});s.value=y.data}catch(y){console.error(y)}},g=y=>{const w=r.value.find(b=>b.id===y);w&&(i.value=w.id,a.push(w.route))},v=()=>{if(o.name==="PluginSetting"){const w=r.value.find(b=>{var C;return b.route.name===o.name&&((C=b.route.params)==null?void 0:C.group)===o.params.group});if(w){i.value=w.id;return}g(r.value[0].id);return}const y=r.value.find(w=>w.route.name===o.name);i.value=y?y.id:r.value[0].id};return iTe(async()=>{if(await f(),!e(["system:settings:view"])){v();return}if(u.value&&await p(),r.value=ot(n),d.value){const{forms:y}=d.value.spec;r.value=[...r.value,...y.map(w=>({id:w.group,label:w.label||"",route:{name:"PluginSetting",params:{group:w.group}}}))]}await rTe(),v()}),lTe([()=>o.name,()=>o.params],()=>{v()}),(y,w)=>(Zg(),Jg(Es,null,{default:id(()=>{var b,C;return[qg(Kp(fTe),{title:(C=(b=s.value)==null?void 0:b.spec)==null?void 0:C.displayName},{icon:id(()=>{var V;return[s.value?(Zg(),Jg(Kp(gTe),{key:0,src:(V=s.value.status)==null?void 0:V.logo,alt:s.value.spec.displayName,class:"mr-2",size:"sm"},null,8,["src","alt"])):vO("",!0)]}),actions:id(()=>[qg(Kp(pTe),{class:"opacity-0",type:"secondary"},{default:id(()=>[tTe("安装")]),_:1})]),_:1},8,["title"]),yO("div",aTe,[qg(Kp(hTe),{"body-class":["!p-0"]},{header:id(()=>[qg(Kp(mTe),{"active-id":i.value,"onUpdate:active-id":w[0]||(w[0]=V=>i.value=V),items:r.value,class:"w-full !rounded-none",type:"outline",onChange:g},null,8,["active-id","items"])]),_:1}),yO("div",sTe,[(Zg(),Jg(Kp(cTe),{key:i.value},{default:id(({Component:V})=>[V?(Zg(),Jg(oTe,{key:0},{fallback:id(()=>[qg(Kp(vTe))]),default:id(()=>[(Zg(),Jg(nTe(V)))]),_:2},1024)):vO("",!0)]),_:1}))])])]}),_:1}))}}),wTe=window.Vue.defineComponent,lV=window.Vue.unref,$O=window.Vue.openBlock,xO=window.Vue.createBlock,bTe=window.Vue.createCommentVNode,$Te=window.Vue.withCtx,xTe=window.HaloComponents.VModal,_Te=window.HaloComponents.Dialog,_O=window.Vue.computed,VTe=window.Vue.ref,CTe=window.Vue.watch,iN=wTe({__name:"PluginUploadModal",props:{visible:{type:Boolean,default:!1},upgradePlugin:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o=VTe(!1),a=_O(()=>n.upgradePlugin?`升级插件（${n.upgradePlugin.spec.displayName}）`:"安装插件"),s=l=>{e("update:visible",l),l||e("close")},r=_O(()=>n.upgradePlugin?`/apis/api.console.halo.run/v1alpha1/plugins/${n.upgradePlugin.metadata.name}/upgrade`:"/apis/api.console.halo.run/v1alpha1/plugins/install"),i=async l=>{if(n.upgradePlugin){s(!1);return}const c=l.body;s(!1),_Te.success({title:"上传成功",description:"是否启动当前安装的插件？",onConfirm:async()=>{try{const{data:u}=await X.extension.plugin.getpluginHaloRunV1alpha1Plugin({name:c.metadata.name});u.spec.enabled=!0,await X.extension.plugin.updatepluginHaloRunV1alpha1Plugin({name:u.metadata.name,plugin:u}),window.location.reload()}catch(u){console.error(u)}}})};return CTe(()=>n.visible,l=>{if(l)o.value=!0;else{const c=setTimeout(()=>{o.value=!1,clearTimeout(c)},200)}}),(l,c)=>($O(),xO(lV(xTe),{visible:t.visible,width:600,title:lV(a),"onUpdate:visible":s},{default:$Te(()=>[o.value?($O(),xO(CS,{key:0,restrictions:{maxNumberOfFiles:1,allowedFileTypes:[".jar"]},endpoint:lV(r),"auto-proceed":"",onUploaded:i},null,8,["restrictions","endpoint"])):bTe("",!0)]),_:1},8,["visible","title"]))}}),STe=window.Vue.defineComponent,kt=window.Vue.unref,Qs=window.Vue.createVNode,Io=window.Vue.withCtx,cV=window.Vue.toDisplayString,Jf=window.Vue.createTextVNode,uV=window.Vue.resolveDirective,Yp=window.Vue.withDirectives,cc=window.Vue.openBlock,vu=window.Vue.createBlock,zw=window.Vue.createCommentVNode,Gw=window.Vue.createElementVNode,PTe=window.Vue.resolveComponent,ETe=window.Vue.createSlots,TTe=window.Vue.Fragment,RTe=window.Vue.createElementBlock,OTe=["href"],kTe={class:"truncate text-xs tabular-nums text-gray-500"},ATe={class:"flex items-center"},ITe={class:"w-52 p-2"},ev=window.HaloComponents.VButton,VO=window.HaloComponents.VSpace,MTe=window.HaloComponents.VSwitch,FTe=window.HaloComponents.VTag,CO=window.HaloComponents.VStatusDot,DTe=window.HaloComponents.VEntity,ld=window.HaloComponents.VEntityField,NTe=window.HaloComponents.VAvatar,HTe=window.HaloComponents.Dialog,BTe=window.HaloComponents.Toast,LTe=window.Vue.ref,UTe=window.Vue.toRefs,jTe=STe({__name:"PluginListItem",props:{plugin:{default:void 0}},emits:["reload"],setup(t,{emit:e}){const n=t,{currentUserHasPermission:o}=To(),{plugin:a}=UTe(n),s=LTe(!1),{isStarted:r,changeStatus:i,uninstall:l}=zS(a),c=()=>{e("reload")},u=async()=>{HTe.warning({title:"确定要重置插件的所有配置吗？",description:"该操作会删除已保存的配置，重置为默认配置。",confirmType:"danger",onConfirm:async()=>{try{if(!(a!=null&&a.value))return;await X.plugin.resetPluginConfig({name:a.value.metadata.name}),BTe.success("重置配置成功")}catch(d){console.error("Failed to reset plugin setting config",d)}}})};return(d,p)=>{const f=PTe("FloatingDropdown"),g=uV("tooltip"),v=uV("permission"),y=uV("close-popper");return cc(),RTe(TTe,null,[Qs(iN,{visible:s.value,"onUpdate:visible":p[0]||(p[0]=w=>s.value=w),"upgrade-plugin":kt(a),onClose:c},null,8,["visible","upgrade-plugin"]),Qs(kt(DTe),null,ETe({start:Io(()=>{var w,b,C;return[Qs(kt(ld),null,{description:Io(()=>{var V,_,x;return[Qs(kt(NTe),{alt:(V=kt(a))==null?void 0:V.spec.displayName,src:(x=(_=kt(a))==null?void 0:_.status)==null?void 0:x.logo,size:"md"},null,8,["alt","src"])]}),_:1}),Qs(kt(ld),{title:(w=kt(a))==null?void 0:w.spec.displayName,description:(b=kt(a))==null?void 0:b.spec.description,route:{name:"PluginDetail",params:{name:(C=kt(a))==null?void 0:C.metadata.name}}},{extra:Io(()=>[Qs(kt(VO),null,{default:Io(()=>[Qs(kt(FTe),null,{default:Io(()=>[Jf(cV(kt(r)?"已启用":"未启用"),1)]),_:1})]),_:1})]),_:1},8,["title","description","route"])]}),end:Io(()=>{var w,b,C,V,_,x;return[((b=(w=kt(a))==null?void 0:w.status)==null?void 0:b.phase)==="FAILED"?(cc(),vu(kt(ld),{key:0},{description:Io(()=>{var S,P,E,O;return[Yp(Qs(kt(CO),{state:"error",animate:""},null,512),[[g,`${(P=(S=kt(a))==null?void 0:S.status)==null?void 0:P.reason}:${(O=(E=kt(a))==null?void 0:E.status)==null?void 0:O.message}`]])]}),_:1})):zw("",!0),(C=kt(a))!=null&&C.metadata.deletionTimestamp?(cc(),vu(kt(ld),{key:1},{description:Io(()=>[Yp(Qs(kt(CO),{state:"warning",animate:""},null,512),[[g,"删除中"]])]),_:1})):zw("",!0),(V=kt(a))!=null&&V.spec.author?(cc(),vu(kt(ld),{key:2},{description:Io(()=>{var S,P;return[Gw("a",{href:(S=kt(a))==null?void 0:S.spec.author.website,class:"hidden text-sm text-gray-500 hover:text-gray-900 sm:block",target:"_blank"}," @"+cV((P=kt(a))==null?void 0:P.spec.author.name),9,OTe)]}),_:1})):zw("",!0),Qs(kt(ld),{description:(_=kt(a))==null?void 0:_.spec.version},null,8,["description"]),(x=kt(a))!=null&&x.metadata.creationTimestamp?(cc(),vu(kt(ld),{key:3},{description:Io(()=>{var S;return[Gw("span",kTe,cV(kt(Ma)((S=kt(a))==null?void 0:S.metadata.creationTimestamp)),1)]}),_:1})):zw("",!0),Yp((cc(),vu(kt(ld),null,{description:Io(()=>{var S;return[Gw("div",ATe,[Qs(kt(MTe),{"model-value":(S=kt(a))==null?void 0:S.spec.enabled,onClick:kt(i)},null,8,["model-value","onClick"])])]}),_:1})),[[v,["system:plugins:manage"]]])]}),_:2},[kt(o)(["system:plugins:manage"])?{name:"dropdownItems",fn:Io(()=>[Yp((cc(),vu(kt(ev),{block:"",type:"secondary",onClick:p[1]||(p[1]=w=>s.value=!0)},{default:Io(()=>[Jf(" 升级 ")]),_:1})),[[y]]),Qs(f,{class:"w-full",placement:"left",triggers:["click"]},{popper:Io(()=>[Gw("div",ITe,[Qs(kt(VO),{class:"w-full",direction:"column"},{default:Io(()=>[Yp((cc(),vu(kt(ev),{block:"",type:"danger",onClick:kt(l)},{default:Io(()=>[Jf(" 卸载 ")]),_:1},8,["onClick"])),[[y,void 0,void 0,{all:!0}]]),Yp((cc(),vu(kt(ev),{block:"",type:"danger",onClick:p[2]||(p[2]=w=>kt(l)(!0))},{default:Io(()=>[Jf(" 卸载并删除配置 ")]),_:1})),[[y,void 0,void 0,{all:!0}]])]),_:1})])]),default:Io(()=>[Qs(kt(ev),{block:"",type:"danger"},{default:Io(()=>[Jf(" 卸载 ")]),_:1})]),_:1}),Yp((cc(),vu(kt(ev),{block:"",type:"danger",onClick:u},{default:Io(()=>[Jf(" 重置 ")]),_:1})),[[y]])]),key:"0"}:void 0]),1024)],64)}}}),zTe=window.Vue.defineComponent,la=window.Vue.unref,gs=window.Vue.openBlock,uc=window.Vue.createBlock,tv=window.Vue.createCommentVNode,Ea=window.Vue.createVNode,qf=window.Vue.createTextVNode,dV=window.Vue.resolveDirective,vo=window.Vue.withCtx,nv=window.Vue.withDirectives,SO=window.Vue.resolveComponent,GTe=window.Vue.withKeys,ov=window.Vue.toDisplayString,lo=window.Vue.createElementVNode,pV=window.Vue.renderList,Ww=window.Vue.Fragment,av=window.Vue.createElementBlock,PO=window.Vue.normalizeClass,EO=window.Vue.Transition,WTe={class:"m-0 md:m-4"},KTe={class:"block w-full bg-gray-50 px-4 py-3"},YTe={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},XTe={class:"flex w-full flex-1 items-center gap-2 sm:w-auto"},QTe={class:"mt-4 flex sm:mt-0"},ZTe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},JTe=lo("span",{class:"mr-0.5"},"启用状态",-1),qTe={class:"w-52 p-4"},eRe={class:"space-y-1"},tRe=["onClick"],nRe={class:"truncate"},oRe={class:"flex cursor-pointer select-none items-center text-sm text-gray-700 hover:text-black"},aRe=lo("span",{class:"mr-0.5"},"排序",-1),sRe={class:"w-72 p-4"},rRe={class:"space-y-1"},iRe=["onClick"],lRe={class:"truncate"},cRe={class:"flex flex-row gap-2"},uRe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},dRe={class:"bg-white sm:flex sm:items-center sm:justify-end"},TO=window.HaloComponents.IconAddCircle,RO=window.HaloComponents.IconArrowDown,pRe=window.HaloComponents.IconPlug,hRe=window.HaloComponents.IconRefreshLine,hV=window.HaloComponents.VButton,fRe=window.HaloComponents.VCard,mRe=window.HaloComponents.VEmpty,gRe=window.HaloComponents.VPageHeader,vRe=window.HaloComponents.VPagination,OO=window.HaloComponents.VSpace,yRe=window.HaloComponents.VLoading,wRe=window.Vue.computed,bRe=window.Vue.onMounted,Xp=window.Vue.ref,$Re=window.VueRouter.onBeforeRouteLeave,xRe=zTe({__name:"PluginList",setup(t){const{currentUserHasPermission:e}=To(),n=Xp({page:1,size:20,total:0,items:[],first:!0,last:!1,hasNext:!1,hasPrevious:!1,totalPages:0}),o=Xp(!1),a=Xp(!1),s=Xp(""),r=Xp(),i=async C=>{var V,_;try{clearInterval(r.value),C!=null&&C.mute||(o.value=!0),C!=null&&C.page&&(n.value.page=C.page);const{data:x}=await X.plugin.listPlugins({page:n.value.page,size:n.value.size,keyword:s.value,enabled:(V=d.value)==null?void 0:V.value,sort:[(_=p.value)==null?void 0:_.value].filter(P=>!!P)});n.value=x,n.value.items.filter(P=>!!P.metadata.deletionTimestamp).length&&(r.value=setInterval(()=>{i({mute:!0})},3e3))}catch(x){console.error("Failed to fetch plugins",x)}finally{o.value=!1}};$Re(()=>{clearInterval(r.value)});const l=({page:C,size:V})=>{n.value.page=C,n.value.size=V,i()};bRe(i);const c=[{label:"全部",value:void 0},{label:"已启用",value:!0},{label:"未启用",value:!1}],u=[{label:"较近安装",value:"creationTimestamp,desc"},{label:"较早安装",value:"creationTimestamp,asc"}],d=Xp(),p=Xp();function f(C){d.value=C,i({page:1})}function g(C){p.value=C,i({page:1})}function v(){const C=Ti("keywordInput");C&&(s.value=C._value),i({page:1})}function y(){s.value="",i({page:1})}const w=wRe(()=>{var C,V;return((C=d.value)==null?void 0:C.value)!==void 0||((V=p.value)==null?void 0:V.value)||s.value});function b(){d.value=void 0,p.value=void 0,s.value="",i({page:1})}return(C,V)=>{const _=SO("FormKit"),x=SO("FloatingDropdown"),S=dV("permission"),P=dV("close-popper"),E=dV("tooltip");return gs(),av(Ww,null,[la(e)(["system:plugins:manage"])?(gs(),uc(iN,{key:0,visible:a.value,"onUpdate:visible":V[0]||(V[0]=O=>a.value=O),onClose:V[1]||(V[1]=O=>i())},null,8,["visible"])):tv("",!0),Ea(la(gRe),{title:"插件"},{icon:vo(()=>[Ea(la(pRe),{class:"mr-2 self-center"})]),actions:vo(()=>[nv((gs(),uc(la(hV),{type:"secondary",onClick:V[2]||(V[2]=O=>a.value=!0)},{icon:vo(()=>[Ea(la(TO),{class:"h-full w-full"})]),default:vo(()=>[qf(" 安装 ")]),_:1})),[[S,["system:plugins:manage"]]])]),_:1}),lo("div",WTe,[Ea(la(fRe),{"body-class":["!p-0"]},{header:vo(()=>{var O;return[lo("div",KTe,[lo("div",YTe,[lo("div",XTe,[Ea(_,{id:"keywordInput","outer-class":"!p-0",placeholder:"输入关键词搜索",type:"text",name:"keyword","model-value":s.value,onKeyup:GTe(v,["enter"])},null,8,["model-value","onKeyup"]),s.value?(gs(),uc(Gn,{key:0,onClose:V[3]||(V[3]=I=>y())},{default:vo(()=>[qf(" 关键词："+ov(s.value),1)]),_:1})):tv("",!0),((O=d.value)==null?void 0:O.value)!==void 0?(gs(),uc(Gn,{key:1,onClose:V[4]||(V[4]=I=>f(c[0]))},{default:vo(()=>[qf(" 启用状态："+ov(d.value.label),1)]),_:1})):tv("",!0),p.value?(gs(),uc(Gn,{key:2,onClose:V[5]||(V[5]=I=>g())},{default:vo(()=>[qf(" 排序："+ov(p.value.label),1)]),_:1})):tv("",!0),la(w)?(gs(),uc(T0,{key:3,onClick:b})):tv("",!0)]),lo("div",QTe,[Ea(la(OO),{spacing:"lg"},{default:vo(()=>[Ea(x,null,{popper:vo(()=>[lo("div",qTe,[lo("ul",eRe,[(gs(),av(Ww,null,pV(c,(I,F)=>{var L;return nv(lo("li",{key:F,class:PO(["flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",{"bg-gray-100":((L=d.value)==null?void 0:L.value)===I.value}]),onClick:H=>f(I)},[lo("span",nRe,ov(I.label),1)],10,tRe),[[P]])}),64))])])]),default:vo(()=>[lo("div",ZTe,[JTe,lo("span",null,[Ea(la(RO))])])]),_:1}),Ea(x,null,{popper:vo(()=>[lo("div",sRe,[lo("ul",rRe,[(gs(),av(Ww,null,pV(u,(I,F)=>nv(lo("li",{key:F,class:"flex cursor-pointer items-center rounded px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 hover:text-gray-900",onClick:L=>g(I)},[lo("span",lRe,ov(I.label),1)],8,iRe),[[P]])),64))])])]),default:vo(()=>[lo("div",oRe,[aRe,lo("span",null,[Ea(la(RO))])])]),_:1}),lo("div",cRe,[lo("div",{class:"group cursor-pointer rounded p-1 hover:bg-gray-200",onClick:V[6]||(V[6]=I=>i())},[nv(Ea(la(hRe),{class:PO([{"animate-spin text-gray-900":o.value},"h-4 w-4 text-gray-600 group-hover:text-gray-900"])},null,8,["class"]),[[E,"刷新"]])])])]),_:1})])])])]}),footer:vo(()=>[lo("div",dRe,[Ea(la(vRe),{page:n.value.page,size:n.value.size,total:n.value.total,"size-options":[20,30,50,100],onChange:l},null,8,["page","size","total"])])]),default:vo(()=>[o.value?(gs(),uc(la(yRe),{key:0})):n.value.total?(gs(),uc(EO,{key:2,appear:"",name:"fade"},{default:vo(()=>[lo("ul",uRe,[(gs(!0),av(Ww,null,pV(n.value.items,(O,I)=>(gs(),av("li",{key:I},[Ea(jTe,{plugin:O,onReload:V[9]||(V[9]=F=>i())},null,8,["plugin"])]))),128))])]),_:1})):(gs(),uc(EO,{key:1,appear:"",name:"fade"},{default:vo(()=>[Ea(la(mRe),{message:"当前没有已安装的插件，你可以尝试刷新或者安装新插件",title:"当前没有已安装的插件"},{actions:vo(()=>[Ea(la(OO),null,{default:vo(()=>[Ea(la(hV),{onClick:V[7]||(V[7]=O=>i())},{default:vo(()=>[qf("刷新")]),_:1}),nv((gs(),uc(la(hV),{type:"secondary",onClick:V[8]||(V[8]=O=>a.value=!0)},{icon:vo(()=>[Ea(la(TO),{class:"h-full w-full"})]),default:vo(()=>[qf(" 安装插件 ")]),_:1})),[[S,["system:plugins:manage"]]])]),_:1})]),_:1})]),_:1}))]),_:1})])],64)}}}),_Re=window.Vue.withAsyncContext,VRe=window.Vue.defineComponent,Ja=window.Vue.unref,kO=window.Vue.resolveComponent,AO=window.Vue.createVNode,fV=window.Vue.withCtx,mV=window.Vue.openBlock,IO=window.Vue.createBlock,CRe=window.Vue.createCommentVNode,gV=window.Vue.createElementVNode,SRe=window.Vue.createTextVNode,PRe=window.Vue.resolveDirective,ERe=window.Vue.createElementBlock,TRe=window.Vue.withDirectives,RRe=window.Vue.Transition,ORe={class:"bg-white p-4"},kRe={class:"pt-5"},ARe={class:"flex justify-start"},vV=window.Vue.computed,IRe=window.Vue.ref,MRe=window.HaloComponents.VButton,MO=window.VueUse.useRouteParams,FRe=VRe({__name:"PluginSetting",async setup(t){let e,n;const o=MO("name"),a=MO("group"),s=IRe(),r=vV(()=>{var y;return(y=s==null?void 0:s.value)==null?void 0:y.spec.settingName}),i=vV(()=>{var y;return(y=s==null?void 0:s.value)==null?void 0:y.spec.configMapName}),{setting:l,configMapFormData:c,saving:u,handleFetchSettings:d,handleFetchConfigMap:p,handleSaveConfigMap:f}=Nu(r,i),g=vV(()=>{var w;if(!l.value)return;const{forms:y}=l.value.spec;return(w=y.find(b=>b.group===a.value))==null?void 0:w.formSchema}),v=async()=>{try{const{data:y}=await X.extension.plugin.getpluginHaloRunV1alpha1Plugin({name:o.value});s.value=y,r.value&&i.value&&(await d(),await p())}catch(y){console.error("Failed to fetch plugin and settings",y)}};return[e,n]=_Re(()=>v()),await e,n(),(y,w)=>{const b=kO("FormKitSchema"),C=kO("FormKit"),V=PRe("permission");return mV(),IO(RRe,{mode:"out-in",name:"fade"},{default:fV(()=>[gV("div",ORe,[gV("div",null,[Ja(a)&&Ja(g)&&Ja(c)?(mV(),IO(C,{key:0,id:Ja(a),modelValue:Ja(c)[Ja(a)],"onUpdate:modelValue":w[0]||(w[0]=_=>Ja(c)[Ja(a)]=_),name:Ja(a),actions:!1,preserve:!0,type:"form",onSubmit:Ja(f)},{default:fV(()=>[AO(b,{schema:Ja(g),data:Ja(c)[Ja(a)]},null,8,["schema","data"])]),_:1},8,["id","modelValue","name","onSubmit"])):CRe("",!0)]),TRe((mV(),ERe("div",kRe,[gV("div",ARe,[AO(Ja(MRe),{loading:Ja(u),type:"secondary",onClick:w[1]||(w[1]=_=>y.$formkit.submit(Ja(a)||""))},{default:fV(()=>[SRe(" 保存 ")]),_:1},8,["loading"])])])),[[V,["system:configmaps:manage"]]])])]),_:1})}}});var un=(t=>(t.MODULE="rbac.authorization.halo.run/module",t.ROLE_NAMES="rbac.authorization.halo.run/role-names",t.DISPLAY_NAME="rbac.authorization.halo.run/display-name",t.DEPENDENCIES="rbac.authorization.halo.run/dependencies",t))(un||{});const DRe=window.Vue.defineComponent,Gt=window.Vue.createElementVNode,Qn=window.Vue.unref,Vr=window.Vue.toDisplayString,NRe=window.Vue.createTextVNode,FO=window.Vue.withCtx,DO=window.Vue.createVNode,HRe=window.Vue.resolveDirective,vs=window.Vue.openBlock,Zs=window.Vue.createElementBlock,BRe=window.Vue.withDirectives,Kw=window.Vue.createCommentVNode,yV=window.Vue.renderList,wV=window.Vue.Fragment,NO=window.Vue.normalizeClass,LRe=window.Vue.Transition,URe=window.Vue.createBlock,jRe={class:"flex items-center justify-between bg-white px-4 py-4 sm:px-6"},zRe=Gt("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"插件信息",-1),GRe={class:"mt-1 flex max-w-2xl items-center gap-2"},WRe={class:"text-sm text-gray-500"},KRe={class:"border-t border-gray-200"},YRe={class:"divide-y divide-gray-100"},XRe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},QRe=Gt("dt",{class:"text-sm font-medium text-gray-900"},"名称",-1),ZRe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},JRe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},qRe=Gt("dt",{class:"text-sm font-medium text-gray-900"},"描述",-1),eOe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},tOe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},nOe=Gt("dt",{class:"text-sm font-medium text-gray-900"},"版本",-1),oOe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},aOe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},sOe=Gt("dt",{class:"text-sm font-medium text-gray-900"},"Halo 版本要求",-1),rOe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},iOe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},lOe=Gt("dt",{class:"text-sm font-medium text-gray-900"},"提供方",-1),cOe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},uOe=["href"],dOe={key:1},pOe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},hOe=Gt("dt",{class:"text-sm font-medium text-gray-900"},"协议",-1),fOe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},mOe=["href"],gOe=Gt("dt",{class:"text-sm font-medium text-gray-900"},"权限模板",-1),vOe={class:"mt-1 text-sm text-gray-900 sm:col-span-5 sm:mt-0"},yOe={key:0,class:"divide-y divide-gray-100"},wOe={class:"text-sm font-medium text-gray-900"},bOe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},$Oe={class:"space-y-2"},xOe={class:"inline-flex w-72 cursor-pointer flex-row items-center gap-4 rounded border p-5 hover:border-primary"},_Oe={class:"inline-flex flex-col gap-y-3"},VOe={class:"font-medium text-gray-900"},COe={key:0,class:"text-xs text-gray-400"},SOe={key:1},POe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"},EOe=Gt("dt",{class:"text-sm font-medium text-gray-900"},"最近一次启动",-1),TOe={class:"mt-1 text-sm tabular-nums text-gray-900 sm:col-span-2 sm:mt-0"},ROe=window.HaloComponents.VSwitch,OOe=window.HaloComponents.VTag,kOe=window.Vue.computed,AOe=window.Vue.inject,IOe=window.Vue.ref,MOe=window.Vue.watchEffect,FOe=DRe({__name:"PluginDetail",setup(t){const e=AOe("plugin"),{changeStatus:n,isStarted:o}=zS(e),a=IOe([]),s=async()=>{var i;try{const{data:l}=await X.extension.role.listv1alpha1Role({page:0,size:0,labelSelector:[`${Ad.NAME}=${(i=e==null?void 0:e.value)==null?void 0:i.metadata.name}`]});a.value=l.items}catch(l){console.error(l)}},r=kOe(()=>{const i=[];return a.value.forEach(l=>{var u;const c=i.find(d=>{var p;return d.module===((p=l.metadata.annotations)==null?void 0:p[un.MODULE])});c?c.roles.push(l):i.push({module:(u=l.metadata.annotations)==null?void 0:u[un.MODULE],roles:[l]})}),i});return MOe(()=>{e!=null&&e.value&&s()}),(i,l)=>{const c=HRe("permission");return vs(),URe(LRe,{mode:"out-in",name:"fade"},{default:FO(()=>{var u,d,p,f,g,v,y,w,b,C,V,_,x;return[Gt("div",null,[Gt("div",jRe,[Gt("div",null,[zRe,Gt("p",GRe,[Gt("span",WRe,Vr((u=Qn(e))==null?void 0:u.spec.version),1),DO(Qn(OOe),null,{default:FO(()=>[NRe(Vr(Qn(o)?"已启用":"未启用"),1)]),_:1})])]),BRe((vs(),Zs("div",null,[DO(Qn(ROe),{"model-value":Qn(o),onChange:Qn(n)},null,8,["model-value","onChange"])])),[[c,["system:plugins:manage"]]])]),Gt("div",KRe,[Gt("dl",YRe,[Gt("div",XRe,[QRe,Gt("dd",ZRe,Vr((d=Qn(e))==null?void 0:d.spec.displayName),1)]),Gt("div",JRe,[qRe,Gt("dd",eOe,Vr((p=Qn(e))==null?void 0:p.spec.description),1)]),Gt("div",tOe,[nOe,Gt("dd",oOe,Vr((f=Qn(e))==null?void 0:f.spec.version),1)]),Gt("div",aOe,[sOe,Gt("dd",rOe,Vr((g=Qn(e))==null?void 0:g.spec.requires),1)]),Gt("div",iOe,[lOe,Gt("dd",cOe,[(v=Qn(e))!=null&&v.spec.author?(vs(),Zs("a",{key:0,href:(y=Qn(e))==null?void 0:y.spec.author.website,target:"_blank"},Vr((w=Qn(e))==null?void 0:w.spec.author.name),9,uOe)):(vs(),Zs("span",dOe,"无"))])]),Gt("div",pOe,[hOe,Gt("dd",fOe,[(b=Qn(e))!=null&&b.spec.license&&((C=Qn(e))!=null&&C.spec.license.length)?(vs(),Zs("ul",{key:0,class:NO(["list-inside",{"list-disc":((V=Qn(e))==null?void 0:V.spec.license.length)>1}])},[(vs(!0),Zs(wV,null,yV(Qn(e).spec.license,(S,P)=>(vs(),Zs("li",{key:P},[S.url?(vs(),Zs("a",{key:0,href:S.url,target:"_blank"},Vr(S.name),9,mOe)):Kw("",!0),Gt("span",null,Vr(S.name),1)]))),128))],2)):Kw("",!0)])]),Kw("",!0),Gt("div",{class:NO([`${Qn(r).length?"bg-gray-50":"bg-white"}`,"px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4 sm:px-6"])},[gOe,Gt("dd",vOe,[Qn(r).length?(vs(),Zs("dl",yOe,[(vs(!0),Zs(wV,null,yV(Qn(r),(S,P)=>(vs(),Zs("div",{key:P,class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[Gt("dt",wOe,Vr(S.module),1),Gt("dd",bOe,[Gt("ul",$Oe,[(vs(!0),Zs(wV,null,yV(S.roles,(E,O)=>{var I,F,L;return vs(),Zs("li",{key:O},[Gt("div",xOe,[Gt("div",_Oe,[Gt("span",VOe,Vr((I=E.metadata.annotations)==null?void 0:I[Qn(un).DISPLAY_NAME]),1),(F=E.metadata.annotations)!=null&&F[Qn(un).DEPENDENCIES]?(vs(),Zs("span",COe," 依赖于 "+Vr(JSON.parse((L=E.metadata.annotations)==null?void 0:L[Qn(un).DEPENDENCIES]).join(", ")),1)):Kw("",!0)])])])}),128))])])]))),128))])):(vs(),Zs("span",SOe,"无"))])],2),Gt("div",POe,[EOe,Gt("dd",TOe,Vr(Qn(Ma)((x=(_=Qn(e))==null?void 0:_.status)==null?void 0:x.lastStartTime)),1)])])])])]}),_:1})}}}),DOe=window.HaloComponents.IconPlug,NOe=window.Vue.markRaw,HOe={components:{},routes:[{path:"/plugins",component:V2,children:[{path:"",component:Es,children:[{path:"",name:"Plugins",component:xRe,meta:{title:"插件",searchable:!0,permissions:["system:plugins:view"],menu:{name:"插件",group:"system",icon:NOe(DOe),priority:0}}}]},{path:":name",component:yTe,children:[{path:"detail",name:"PluginDetail",component:FOe,meta:{title:"插件详情",permissions:["system:plugins:view"]}},{path:"settings/:group",name:"PluginSetting",component:FRe,meta:{title:"插件设置",permissions:["system:settings:view"]}}]}]}]},BOe=window.Vue.defineComponent,sv=window.Vue.unref,Fr=window.Vue.createElementVNode,LOe=window.Vue.resolveComponent,yu=window.Vue.createVNode,rv=window.Vue.withCtx,bV=window.Vue.openBlock,$V=window.Vue.createBlock,UOe=window.Vue.createCommentVNode,jOe=window.Vue.createTextVNode,zOe={class:"md:grid md:grid-cols-4 md:gap-6"},GOe=Fr("div",{class:"md:col-span-1"},[Fr("div",{class:"sticky top-0"},[Fr("span",{class:"text-base font-medium text-gray-900"}," 常规 ")])],-1),WOe={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},KOe=Fr("div",{class:"py-5"},[Fr("div",{class:"border-t border-gray-200"})],-1),YOe={class:"md:grid md:grid-cols-4 md:gap-6"},XOe=Fr("div",{class:"md:col-span-1"},[Fr("div",{class:"sticky top-0"},[Fr("span",{class:"text-base font-medium text-gray-900"}," 元数据 ")])],-1),QOe={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},HO=window.Vue.computed,ZOe=window.Vue.nextTick,xV=window.Vue.ref,BO=window.Vue.watch,JOe=window.HaloComponents.Toast,qOe=window.HaloComponents.VButton,eke=window.HaloComponents.VModal,tke=window.HaloComponents.VSpace,lN=BOe({__name:"UserEditingModal",props:{visible:{type:Boolean,default:!1},user:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o=xl(),a={spec:{displayName:"",avatar:"",email:"",phone:"",password:"",bio:"",disabled:!1,loginHistoryLimit:0},apiVersion:"v1alpha1",kind:"User",metadata:{name:""}},s=xV(ot(a)),r=xV(!1),i=HO(()=>!!s.value.metadata.creationTimestamp),l=HO(()=>i.value?"编辑用户":"新增用户");BO(()=>n.visible,f=>{f?Ps(i.value?"displayNameInput":"userNameInput"):u()}),BO(()=>n.user,f=>{f?s.value=ot(f):u()});const c=f=>{e("update:visible",f),f||e("close")},u=()=>{s.value=ot(a),tr("user-form")},d=xV(),p=async()=>{var w,b,C;(w=d.value)==null||w.handleSubmit(),await ZOe();const{customAnnotations:f,annotations:g,customFormInvalid:v,specFormInvalid:y}=d.value||{};if(!(v||y)){s.value.metadata.annotations={...g,...f};try{r.value=!0,i.value?((b=n.user)==null?void 0:b.metadata.name)===((C=o.currentUser)==null?void 0:C.metadata.name)?await X.user.updateCurrentUser({user:s.value}):await X.extension.user.updatev1alpha1User({name:s.value.metadata.name,user:s.value}):await X.extension.user.createv1alpha1User({user:s.value}),c(!1),JOe.success("保存成功")}catch(V){console.error("Failed to create or update user",V)}finally{r.value=!1}}};return(f,g)=>{const v=LOe("FormKit");return bV(),$V(sv(eke),{title:sv(l),visible:t.visible,width:700,"onUpdate:visible":c},{footer:rv(()=>[yu(sv(tke),null,{default:rv(()=>[t.visible?(bV(),$V(Vl,{key:0,loading:r.value,type:"secondary",onSubmit:g[6]||(g[6]=y=>f.$formkit.submit("user-form"))},null,8,["loading"])):UOe("",!0),yu(sv(qOe),{onClick:g[7]||(g[7]=y=>c(!1))},{default:rv(()=>[jOe("取消 Esc")]),_:1})]),_:1})]),default:rv(()=>[yu(v,{id:"user-form",name:"user-form",config:{validationVisibility:"submit"},type:"form",onSubmit:p},{default:rv(()=>[Fr("div",null,[Fr("div",zOe,[GOe,Fr("div",WOe,[yu(v,{id:"userNameInput",modelValue:s.value.metadata.name,"onUpdate:modelValue":g[0]||(g[0]=y=>s.value.metadata.name=y),disabled:sv(i),label:"用户名",type:"text",name:"name",validation:"required|alphanumeric|length:0,50"},null,8,["modelValue","disabled"]),yu(v,{id:"displayNameInput",modelValue:s.value.spec.displayName,"onUpdate:modelValue":g[1]||(g[1]=y=>s.value.spec.displayName=y),label:"显示名称",type:"text",name:"displayName",validation:"required|length:0,50"},null,8,["modelValue"]),yu(v,{modelValue:s.value.spec.email,"onUpdate:modelValue":g[2]||(g[2]=y=>s.value.spec.email=y),label:"电子邮箱",type:"email",name:"email",validation:"required|email|length:0,100"},null,8,["modelValue"]),yu(v,{modelValue:s.value.spec.phone,"onUpdate:modelValue":g[3]||(g[3]=y=>s.value.spec.phone=y),label:"手机号",type:"text",name:"phone",validation:"length:0,20"},null,8,["modelValue"]),yu(v,{modelValue:s.value.spec.avatar,"onUpdate:modelValue":g[4]||(g[4]=y=>s.value.spec.avatar=y),label:"头像",type:"attachment",name:"avatar",validation:"url|length:0,1024"},null,8,["modelValue"]),yu(v,{modelValue:s.value.spec.bio,"onUpdate:modelValue":g[5]||(g[5]=y=>s.value.spec.bio=y),label:"描述",type:"textarea",name:"bio",validation:"length:0,2048"},null,8,["modelValue"])])])])]),_:1}),KOe,Fr("div",YOe,[XOe,Fr("div",QOe,[(bV(),$V(Ym,{key:s.value.metadata.name,ref_key:"annotationsFormRef",ref:d,value:s.value.metadata.annotations,kind:"User",group:""},null,8,["value"]))])])]),_:1},8,["title","visible"])}}}),nke=window.Vue.defineComponent,oke=window.Vue.resolveComponent,iv=window.Vue.createVNode,lv=window.Vue.withCtx,LO=window.Vue.openBlock,UO=window.Vue.createBlock,ake=window.Vue.createCommentVNode,ske=window.Vue.createTextVNode,_V=window.Vue.unref,rke=window.HaloComponents.VButton,ike=window.HaloComponents.VModal,lke=window.HaloComponents.VSpace,jO=window.Vue.ref,cke=window.Vue.watch,cN=nke({__name:"UserPasswordChangeModal",props:{visible:{type:Boolean,default:!1},user:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o=xl(),a={password:"",password_confirm:""},s=jO(ot(a)),r=jO(!1);cke(()=>n.visible,u=>{u?Ps("passwordInput"):l()});const i=u=>{e("update:visible",u),u||e("close")},l=()=>{s.value=ot(a),tr("password-form")},c=async()=>{var u,d,p;try{r.value=!0;const f=ot(s.value);delete f.password_confirm,((u=n.user)==null?void 0:u.metadata.name)===((d=o.currentUser)==null?void 0:d.metadata.name)?await X.user.changePassword({name:"-",changePasswordRequest:f}):await X.user.changePassword({name:((p=n.user)==null?void 0:p.metadata.name)||"",changePasswordRequest:f}),i(!1)}catch(f){console.error(f)}finally{r.value=!1}};return(u,d)=>{const p=oke("FormKit");return LO(),UO(_V(ike),{visible:t.visible,width:500,title:"密码修改","onUpdate:visible":i},{footer:lv(()=>[iv(_V(lke),null,{default:lv(()=>[t.visible?(LO(),UO(Vl,{key:0,loading:r.value,type:"secondary",onSubmit:d[1]||(d[1]=f=>u.$formkit.submit("password-form"))},null,8,["loading"])):ake("",!0),iv(_V(rke),{onClick:d[2]||(d[2]=f=>i(!1))},{default:lv(()=>[ske("取消 Esc")]),_:1})]),_:1})]),default:lv(()=>[iv(p,{id:"password-form",modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=f=>s.value=f),name:"password-form",actions:!1,type:"form",config:{validationVisibility:"submit"},onSubmit:c},{default:lv(()=>[iv(p,{id:"passwordInput",label:"新密码",name:"password",type:"password",validation:"required|length:0,100"}),iv(p,{label:"确认密码",name:"password_confirm",type:"password",validation:"required|confirm|length:0,50"})]),_:1},8,["modelValue"])]),_:1},8,["visible"])}}}),uke=window.Vue.defineComponent,cd=window.Vue.createVNode,xs=window.Vue.createElementVNode,ud=window.Vue.unref,cv=window.Vue.openBlock,zO=window.Vue.createElementBlock,VV=window.Vue.createCommentVNode,GO=window.Vue.toDisplayString,CV=window.Vue.createTextVNode,Qp=window.Vue.withCtx,dke=window.Vue.resolveDirective,SV=window.Vue.createBlock,WO=window.Vue.withDirectives,KO=window.Vue.resolveComponent,pke=window.Vue.normalizeClass,hke={class:"bg-white"},fke=xs("div",{class:"h-48 bg-gradient-to-r from-gray-800 to-red-500"},null,-1),mke={class:"px-4"},gke={class:"-mt-12 flex items-end space-x-5 sm:-mt-16"},vke={key:0,class:"inline-flex items-center"},yke={class:"h-24 w-24 sm:h-32 sm:w-32"},wke={class:"mt-6 block min-w-0 flex-1"},bke={class:"truncate text-xl font-bold text-gray-900"},$ke={class:"mr-1"},xke={class:"text-gray-600"},_ke={key:0,class:"justify-stretch mt-6 hidden flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4 md:flex"},Vke={class:"w-48 p-2"},Cke={class:"absolute top-6 right-6"},Ske={class:""},Pke={class:"bg-white p-4"},Eke={class:"mt-2"};window.HaloComponents.IconUpload;const PV=window.HaloComponents.VButton,Tke=window.HaloComponents.VSpace,Rke=window.HaloComponents.VTabbar,Oke=window.HaloComponents.VAvatar,kke=window.Vue.computed,Ake=window.Vue.onMounted,Ike=window.Vue.provide,Yw=window.Vue.ref,Mke=window.Vue.watch,YO=window.VueRouter.useRoute,Fke=window.VueRouter.useRouter,Dke=uke({__name:"UserProfileLayout",setup(t){const{currentUserHasPermission:e}=To(),n=xl(),o=[{id:"detail",label:"详情",routeName:"UserDetail"}],a=Yw(),s=Yw(!1),r=Yw(!1),{params:i}=YO(),l=async()=>{try{if(i.name==="-"){const{data:g}=await X.user.getCurrentUserDetail();a.value=g}else{const{data:g}=await X.extension.user.getv1alpha1User({name:i.name});a.value=g}}catch(g){console.error(g)}},c=kke(()=>{var g,v;return i.name==="-"?!0:((g=a.value)==null?void 0:g.metadata.name)===((v=n.currentUser)==null?void 0:v.metadata.name)});Ike("user",a);const u=Yw(),d=YO(),p=Fke();Ake(()=>{l();const g=o.find(v=>v.routeName===d.name);u.value=g?g.id:o[0].id}),Mke(()=>d.name,async g=>{const v=o.find(y=>y.routeName===g);u.value=v?v.id:o[0].id});const f=g=>{const v=o.find(y=>y.id===g);v&&p.push({name:v.routeName})};return(g,v)=>{const y=KO("FloatingDropdown"),w=KO("RouterView"),b=dke("close-popper");return cv(),SV(Es,null,{default:Qp(()=>{var C,V,_,x,S,P,E,O,I,F,L;return[cd(lN,{visible:s.value,"onUpdate:visible":v[0]||(v[0]=H=>s.value=H),user:a.value,onClose:l},null,8,["visible","user"]),cd(cN,{visible:r.value,"onUpdate:visible":v[1]||(v[1]=H=>r.value=H),user:a.value,onClose:l},null,8,["visible","user"]),xs("header",hke,[fke,xs("div",mke,[xs("div",gke,[(V=(C=a.value)==null?void 0:C.spec)!=null&&V.avatar?(cv(),zO("div",vke,[xs("div",yke,[cd(ud(Oke),{src:(x=(_=a.value)==null?void 0:_.spec)==null?void 0:x.avatar,alt:(P=(S=a.value)==null?void 0:S.spec)==null?void 0:P.displayName,circle:"",width:"100%",height:"100%",class:"ring-4 ring-white drop-shadow-lg"},null,8,["src","alt"])])])):VV("",!0),xs("div",{class:pke(["mt-6 sm:flex sm:min-w-0 sm:flex-1 sm:items-center sm:justify-end sm:space-x-6 sm:pb-1",{"!mt-12":!((O=(E=a.value)==null?void 0:E.spec)!=null&&O.avatar)}])},[xs("div",wke,[xs("h1",bke,[xs("span",$ke,GO((F=(I=a.value)==null?void 0:I.spec)==null?void 0:F.displayName),1)]),xs("h2",xke,"@"+GO((L=a.value)==null?void 0:L.metadata.name),1)]),ud(e)(["system:users:manage"])||ud(c)?(cv(),zO("div",_ke,[cd(y,null,{popper:Qp(()=>[xs("div",Vke,[cd(ud(Tke),{class:"w-full",direction:"column"},{default:Qp(()=>[WO((cv(),SV(ud(PV),{block:"",type:"secondary",onClick:v[2]||(v[2]=H=>s.value=!0)},{default:Qp(()=>[CV(" 修改资料 ")]),_:1})),[[b]]),WO((cv(),SV(ud(PV),{block:"",onClick:v[3]||(v[3]=H=>r.value=!0)},{default:Qp(()=>[CV(" 修改密码 ")]),_:1})),[[b]])]),_:1})])]),default:Qp(()=>[cd(ud(PV),{type:"default"},{default:Qp(()=>[CV("编辑")]),_:1})]),_:1})])):VV("",!0)],2)])]),xs("div",Cke,[xs("div",Ske,[VV("",!0)])])]),xs("section",Pke,[cd(ud(Rke),{"active-id":u.value,"onUpdate:active-id":v[4]||(v[4]=H=>u.value=H),items:o,class:"w-full",type:"outline",onChange:f},null,8,["active-id"]),xs("div",Eke,[cd(w)])])]}),_:1})}}}),Nke=window.Vue.defineComponent,EV=window.Vue.unref,Hke=window.Vue.createVNode,fm=window.Vue.createElementVNode,Bke=window.Vue.toDisplayString,Lke=window.Vue.withCtx,Uke=window.Vue.openBlock,jke=window.Vue.createBlock,zke={class:"flex h-full"},Gke={class:"flex items-center gap-4"},Wke={class:"hidden rounded-full bg-gray-100 p-2.5 text-gray-600 sm:block"},Kke=fm("span",{class:"text-sm text-gray-500"},"用户",-1),Yke={class:"text-2xl font-medium text-gray-900"},Xke=window.HaloComponents.VCard,Qke=window.HaloComponents.IconUserSettings,Zke=window.Vue.inject,Jke=Nke({__name:"UserStatsWidget",setup(t){const e=Zke("dashboardStats");return(n,o)=>(Uke(),jke(EV(Xke),{class:"h-full","body-class":["h-full"]},{default:Lke(()=>{var a;return[fm("div",zke,[fm("div",Gke,[fm("span",Wke,[Hke(EV(Qke),{class:"h-5 w-5"})]),fm("div",null,[Kke,fm("p",Yke,Bke((a=EV(e))==null?void 0:a.users),1)])])])]}),_:1}))}}),qke=window.Vue.onUnmounted,uN=window.Vue.computed,dN=window.Vue.onMounted,wh=window.Vue.ref,eAe=window.HaloComponents.Toast,XO={apiVersion:"v1alpha1",kind:"Role",metadata:{name:"",generateName:"role-",labels:{},annotations:{[un.DEPENDENCIES]:"",[un.DISPLAY_NAME]:""}},rules:[]};function pN(){const t=wh([]),e=wh(!1),n=wh(),o=async a=>{try{clearInterval(n.value),a!=null&&a.mute||(e.value=!0);const{data:s}=await X.extension.role.listv1alpha1Role({page:0,size:0,labelSelector:[`!${vh.TEMPLATE}`]});t.value=s.items,t.value.filter(i=>!!i.metadata.deletionTimestamp).length&&(n.value=setInterval(()=>{o({mute:!0})},3e3))}catch(s){console.error("Failed to fetch roles",s)}finally{e.value=!1}};return dN(o),qke(()=>{clearInterval(n.value)}),{roles:t,loading:e,handleFetchRoles:o}}function hN(){const t=wh(XO),e=wh(!1),n=uN(()=>!!t.value.metadata.creationTimestamp);return{formState:t,initialFormState:XO,saving:e,isUpdateMode:n,handleCreateOrUpdate:async()=>{try{if(e.value=!0,n.value){const{data:a}=await X.extension.role.updatev1alpha1Role({name:t.value.metadata.name,role:t.value});t.value=a}else{const{data:a}=await X.extension.role.createv1alpha1Role({role:t.value});t.value=a}eAe.success("保存成功")}catch(a){console.error(a)}finally{e.value=!1}}}}function fN(){const t=wh([]),e=wh(new Set),n=uN(()=>{const s=[];return t.value.forEach(r=>{var l;const i=s.find(c=>{var u;return c.module===((u=r.metadata.annotations)==null?void 0:u[un.MODULE])});i?i.roles.push(r):s.push({module:(l=r.metadata.annotations)==null?void 0:l[un.MODULE],roles:[r]})}),s}),o=async()=>{try{const{data:s}=await X.extension.role.listv1alpha1Role({page:0,size:0,labelSelector:[`${vh.TEMPLATE}=true`,"!halo.run/hidden"]});t.value=s.items}catch(s){console.error(s)}},a=async s=>{var d;const{checked:r,value:i}=s.target;if(!r)return;const l=t.value.find(p=>p.metadata.name===i),c=(d=l==null?void 0:l.metadata.annotations)==null?void 0:d[un.DEPENDENCIES];if(!c)return;JSON.parse(c).forEach(p=>{e.value.add(p)})};return dN(o),{selectedRoleTemplates:e,roleTemplates:t,roleTemplateGroups:n,handleRoleTemplateSelect:a}}const tAe=window.Vue.defineComponent,Xw=window.Vue.unref,nAe=window.Vue.resolveComponent,Qw=window.Vue.createVNode,uv=window.Vue.withCtx,QO=window.Vue.openBlock,ZO=window.Vue.createBlock,oAe=window.Vue.createCommentVNode,aAe=window.Vue.createTextVNode,sAe=window.HaloComponents.VModal,rAe=window.HaloComponents.VSpace,iAe=window.HaloComponents.VButton,lAe=window.Vue.computed,JO=window.Vue.ref,cAe=tAe({__name:"GrantPermissionModal",props:{visible:{type:Boolean,default:!1},user:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,o=JO(""),a=JO(!1),{roles:s}=pN(),r=lAe(()=>[{label:"请选择角色",value:""},...s.value.map(c=>{var u,d,p;return{label:((d=(u=c.metadata)==null?void 0:u.annotations)==null?void 0:d[un.DISPLAY_NAME])||c.metadata.name,value:(p=c.metadata)==null?void 0:p.name}})]),i=async()=>{var c;try{a.value=!0,await X.user.grantPermission({name:(c=n.user)==null?void 0:c.metadata.name,grantRequest:{roles:[o.value]}}),l(!1)}catch(u){console.log("Failed to grant permission to user",u)}finally{a.value=!1}},l=c=>{e("update:visible",c),c||e("close")};return(c,u)=>{const d=nAe("FormKit");return QO(),ZO(Xw(sAe),{title:"分类角色",visible:t.visible,width:500,"onUpdate:visible":l},{footer:uv(()=>[Qw(Xw(rAe),null,{default:uv(()=>[t.visible?(QO(),ZO(Vl,{key:0,loading:a.value,type:"secondary",onSubmit:u[1]||(u[1]=p=>c.$formkit.submit("grant-permission-form"))},null,8,["loading"])):oAe("",!0),Qw(Xw(iAe),{onClick:u[2]||(u[2]=p=>l(!1))},{default:uv(()=>[aAe("取消 Esc")]),_:1})]),_:1})]),default:uv(()=>[Qw(d,{id:"grant-permission-form",name:"grant-permission-form",config:{validationVisibility:"submit"},type:"form",onSubmit:i},{default:uv(()=>[Qw(d,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=p=>o.value=p),options:Xw(r),label:"角色",type:"select"},null,8,["modelValue","options"])]),_:1})]),_:1},8,["visible"])}}}),uAe=window.Vue.defineComponent,Jo=window.Vue.createVNode,yn=window.Vue.unref,dd=window.Vue.createTextVNode,TV=window.Vue.resolveDirective,jn=window.Vue.withCtx,Ta=window.Vue.openBlock,ol=window.Vue.createBlock,dc=window.Vue.withDirectives,qO=window.Vue.vModelCheckbox,wu=window.Vue.createElementVNode,em=window.Vue.createElementBlock,ek=window.Vue.resolveComponent,Zw=window.Vue.createCommentVNode,tk=window.Vue.renderList,RV=window.Vue.Fragment,nk=window.Vue.toDisplayString,dAe=window.Vue.createSlots,pAe=window.Vue.Transition,hAe={class:"m-0 md:m-4"},fAe={class:"block w-full bg-gray-50 px-4 py-3"},mAe={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},gAe={class:"mr-4 hidden items-center sm:flex"},vAe={class:"flex w-full flex-1 sm:w-auto"},yAe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},wAe=["value"],bAe={class:"truncate text-xs tabular-nums text-gray-500"},$Ae={class:"bg-white sm:flex sm:items-center sm:justify-end"},xAe=window.HaloComponents.IconAddCircle;window.HaloComponents.IconArrowDown;const _Ae=window.HaloComponents.IconUserFollow,VAe=window.HaloComponents.IconUserSettings,Zp=window.HaloComponents.VButton,CAe=window.HaloComponents.VCard,SAe=window.HaloComponents.VPageHeader,PAe=window.HaloComponents.VPagination,ok=window.HaloComponents.VSpace,EAe=window.HaloComponents.VTag,TAe=window.HaloComponents.VAvatar,RAe=window.HaloComponents.VEntity,dv=window.HaloComponents.VEntityField,ak=window.HaloComponents.Dialog,OAe=window.HaloComponents.VStatusDot,kAe=window.HaloComponents.VLoading,sk=window.HaloComponents.Toast,AAe=window.Vue.computed,rk=window.Vue.onMounted,IAe=window.Vue.onUnmounted,pc=window.Vue.ref,MAe=window.Vue.watch,FAe=window.VueUse.useRouteQuery,DAe=uAe({__name:"UserList",setup(t){const{currentUserHasPermission:e}=To(),n=pc(!1),o=pc(!1),a=pc(!1),s=pc(!1),r=pc({page:1,size:20,total:0,items:[],first:!0,last:!1,hasNext:!1,hasPrevious:!1,totalPages:0}),i=pc(!1),l=pc([]),c=pc(),u=pc(),d=xl();let p;const f=async I=>{try{clearInterval(u.value),I!=null&&I.mute||(i.value=!0);const{data:F}=await X.extension.user.listv1alpha1User({page:r.value.page,size:r.value.size});r.value=F,p=new Wr(F.items,{keys:["spec.displayName","metadata.name","spec.email"],useExtendedSearch:!0}),r.value.items.filter(H=>!!H.metadata.deletionTimestamp).length&&(u.value=setInterval(()=>{f({mute:!0})},3e3))}catch(F){console.error("Failed to fetch users",F)}finally{c.value=void 0,i.value=!1}},g=pc(""),v=AAe(()=>!p||!g.value?r.value.items:p==null?void 0:p.search(g.value).map(I=>I.item)),y=async({page:I,size:F})=>{r.value.page=I,r.value.size=F,await f()},w=async I=>{ak.warning({title:"确定要删除该用户吗？",description:"该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{try{await X.extension.user.deletev1alpha1User({name:I.metadata.name}),sk.success("删除成功")}catch(F){console.error("Failed to delete user",F)}finally{await f()}}})},b=async()=>{ak.warning({title:"确定要删除选中的用户吗？",description:"该操作不可恢复。",confirmType:"danger",onConfirm:async()=>{const I=l.value.filter(F=>{var L;return F!=((L=d.currentUser)==null?void 0:L.metadata.name)});await Promise.all(I.map(F=>X.extension.user.deletev1alpha1User({name:F}))),await f(),l.value.length=0,sk.success("删除成功")}})};MAe(l,I=>{var F;n.value=I.length===((F=r.value.items)==null?void 0:F.length)});const C=I=>{var F;return I.metadata.name===((F=c.value)==null?void 0:F.metadata.name)||l.value.includes(I.metadata.name)},V=I=>{const{checked:F}=I.target;F?l.value=r.value.items.map(L=>L.metadata.name)||[]:l.value.length=0},_=I=>{c.value=I,o.value=!0},x=()=>{O.value=void 0,f()},S=I=>{c.value=I,a.value=!0},P=I=>{c.value=I,s.value=!0},E=I=>{var F;return JSON.parse(((F=I.metadata.annotations)==null?void 0:F[un.ROLE_NAMES])||"[]")};rk(()=>{f()}),IAe(()=>{clearInterval(u.value)});const O=FAe("action");return rk(()=>{O.value&&O.value==="create"&&(o.value=!0)}),(I,F)=>{const L=ek("FormKit");ek("FloatingDropdown");const H=TV("permission"),W=TV("close-popper"),Y=TV("tooltip");return Ta(),em(RV,null,[Jo(lN,{visible:o.value,"onUpdate:visible":F[0]||(F[0]=U=>o.value=U),user:c.value,onClose:x},null,8,["visible","user"]),Jo(cN,{visible:a.value,"onUpdate:visible":F[1]||(F[1]=U=>a.value=U),user:c.value,onClose:f},null,8,["visible","user"]),Jo(cAe,{visible:s.value,"onUpdate:visible":F[2]||(F[2]=U=>s.value=U),user:c.value,onClose:f},null,8,["visible","user"]),Jo(yn(SAe),{title:"用户"},{icon:jn(()=>[Jo(yn(VAe),{class:"mr-2 self-center"})]),actions:jn(()=>[Jo(yn(ok),null,{default:jn(()=>[dc((Ta(),ol(yn(Zp),{route:{name:"Roles"},size:"sm",type:"default"},{icon:jn(()=>[Jo(yn(_Ae),{class:"h-full w-full"})]),default:jn(()=>[dd(" 角色管理 ")]),_:1})),[[H,["system:roles:view"]]]),dc((Ta(),ol(yn(Zp),{type:"secondary",onClick:F[3]||(F[3]=U=>o.value=!0)},{icon:jn(()=>[Jo(yn(xAe),{class:"h-full w-full"})]),default:jn(()=>[dd(" 添加用户 ")]),_:1})),[[H,["system:users:manage"]]])]),_:1})]),_:1}),wu("div",hAe,[Jo(yn(CAe),{"body-class":["!p-0"]},{header:jn(()=>[wu("div",fAe,[wu("div",mAe,[dc((Ta(),em("div",gAe,[dc(wu("input",{"onUpdate:modelValue":F[4]||(F[4]=U=>n.value=U),class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onChange:V},null,544),[[qO,n.value]])])),[[H,["system:users:manage"]]]),wu("div",vAe,[l.value.length?(Ta(),ol(yn(ok),{key:1},{default:jn(()=>[Jo(yn(Zp),{type:"danger",onClick:b},{default:jn(()=>[dd(" 删除 ")]),_:1})]),_:1})):(Ta(),ol(L,{key:0,modelValue:g.value,"onUpdate:modelValue":F[5]||(F[5]=U=>g.value=U),placeholder:"输入关键词搜索",type:"text"},null,8,["modelValue"]))]),Zw("",!0)])])]),footer:jn(()=>[wu("div",$Ae,[Jo(yn(PAe),{page:r.value.page,size:r.value.size,total:r.value.total,"size-options":[20,30,50,100],onChange:y},null,8,["page","size","total"])])]),default:jn(()=>[i.value?(Ta(),ol(yn(kAe),{key:0})):(Ta(),ol(pAe,{key:1,appear:"",name:"fade"},{default:jn(()=>[wu("ul",yAe,[(Ta(!0),em(RV,null,tk(yn(v),(U,q)=>(Ta(),em("li",{key:q},[Jo(yn(RAe),{"is-selected":C(U)},dAe({start:jn(()=>[Jo(yn(dv),null,{description:jn(()=>[Jo(yn(TAe),{alt:U.spec.displayName,src:U.spec.avatar,size:"md"},null,8,["alt","src"])]),_:2},1024),Jo(yn(dv),{title:U.spec.displayName,description:U.metadata.name,route:{name:"UserDetail",params:{name:U.metadata.name}}},null,8,["title","description","route"])]),end:jn(()=>[Jo(yn(dv),null,{description:jn(()=>[(Ta(!0),em(RV,null,tk(E(U),(ye,we)=>(Ta(),em("div",{key:we,class:"flex items-center"},[Jo(yn(EAe),null,{default:jn(()=>[dd(nk(ye),1)]),_:2},1024)]))),128))]),_:2},1024),U.metadata.deletionTimestamp?(Ta(),ol(yn(dv),{key:0},{description:jn(()=>[dc(Jo(yn(OAe),{state:"warning",animate:""},null,512),[[Y,"删除中"]])]),_:1})):Zw("",!0),Jo(yn(dv),null,{description:jn(()=>[wu("span",bAe,nk(yn(Ma)(U.metadata.creationTimestamp)),1)]),_:2},1024)]),_:2},[yn(e)(["system:users:manage"])?{name:"checkbox",fn:jn(()=>[dc(wu("input",{"onUpdate:modelValue":F[6]||(F[6]=ye=>l.value=ye),value:U.metadata.name,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",name:"post-checkbox",type:"checkbox"},null,8,wAe),[[qO,l.value]])]),key:"0"}:void 0,yn(e)(["system:users:manage"])?{name:"dropdownItems",fn:jn(()=>{var ye,we;return[dc((Ta(),ol(yn(Zp),{block:"",type:"secondary",onClick:oe=>_(U)},{default:jn(()=>[dd(" 修改资料 ")]),_:2},1032,["onClick"])),[[W]]),dc((Ta(),ol(yn(Zp),{block:"",onClick:oe=>S(U)},{default:jn(()=>[dd(" 修改密码 ")]),_:2},1032,["onClick"])),[[W]]),((ye=yn(d).currentUser)==null?void 0:ye.metadata.name)!==U.metadata.name?dc((Ta(),ol(yn(Zp),{key:0,block:"",onClick:oe=>P(U)},{default:jn(()=>[dd(" 分配角色 ")]),_:2},1032,["onClick"])),[[W]]):Zw("",!0),((we=yn(d).currentUser)==null?void 0:we.metadata.name)!==U.metadata.name?dc((Ta(),ol(yn(Zp),{key:1,block:"",type:"danger",onClick:oe=>w(U)},{default:jn(()=>[dd(" 删除 ")]),_:2},1032,["onClick"])),[[W]]):Zw("",!0)]}),key:"1"}:void 0]),1032,["is-selected"])]))),128))])]),_:1}))]),_:1})])],64)}}}),NAe=window.Vue.defineComponent,qo=window.Vue.createElementVNode,hc=window.Vue.unref,tm=window.Vue.toDisplayString,HAe=window.Vue.renderList,BAe=window.Vue.Fragment,OV=window.Vue.openBlock,ik=window.Vue.createElementBlock,LAe=window.Vue.createVNode,UAe=window.Vue.createTextVNode,lk=window.Vue.withCtx,jAe=window.Vue.createBlock,zAe=window.Vue.createCommentVNode,GAe={class:"border-t border-gray-100"},WAe={class:"divide-y divide-gray-50"},KAe={class:"bg-white py-5 px-2 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4"},YAe=qo("dt",{class:"text-sm font-medium text-gray-900"},"显示名称",-1),XAe={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},QAe={class:"bg-white py-5 px-2 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4"},ZAe=qo("dt",{class:"text-sm font-medium text-gray-900"},"用户名",-1),JAe={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},qAe={class:"bg-white py-5 px-2 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4"},eIe=qo("dt",{class:"text-sm font-medium text-gray-900"},"电子邮箱",-1),tIe={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},nIe={class:"bg-white py-5 px-2 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4"},oIe=qo("dt",{class:"text-sm font-medium text-gray-900"},"角色",-1),aIe={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},sIe={class:"bg-white py-5 px-2 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4"},rIe=qo("dt",{class:"text-sm font-medium text-gray-900"},"描述",-1),iIe={class:"mt-1 text-sm text-gray-900 sm:col-span-3 sm:mt-0"},lIe={class:"bg-white py-5 px-2 hover:bg-gray-50 sm:grid sm:grid-cols-6 sm:gap-4"},cIe=qo("dt",{class:"text-sm font-medium text-gray-900"},"注册时间",-1),uIe={class:"mt-1 text-sm tabular-nums text-gray-900 sm:col-span-3 sm:mt-0"},dIe=window.HaloComponents.IconUserSettings,pIe=window.HaloComponents.VTag,hIe=window.Vue.computed,fIe=window.Vue.inject,mIe=window.VueRouter.useRouter,gIe=NAe({__name:"UserDetail",setup(t){const e=fIe("user"),n=hIe(()=>{var a,s,r;return JSON.parse(((r=(s=(a=e==null?void 0:e.value)==null?void 0:a.metadata)==null?void 0:s.annotations)==null?void 0:r[un.ROLE_NAMES])||"[]")}),o=mIe();return(a,s)=>{var r,i,l,c,u,d,p,f,g,v;return OV(),ik("div",GAe,[qo("dl",WAe,[qo("div",KAe,[YAe,qo("dd",XAe,tm((i=(r=hc(e))==null?void 0:r.spec)==null?void 0:i.displayName),1)]),qo("div",QAe,[ZAe,qo("dd",JAe,tm((c=(l=hc(e))==null?void 0:l.metadata)==null?void 0:c.name),1)]),qo("div",qAe,[eIe,qo("dd",tIe,tm(((d=(u=hc(e))==null?void 0:u.spec)==null?void 0:d.email)||"未设置"),1)]),qo("div",nIe,[oIe,qo("dd",aIe,[(OV(!0),ik(BAe,null,HAe(hc(n),(y,w)=>(OV(),jAe(hc(pIe),{key:w,onClick:b=>hc(o).push({name:"RoleDetail",params:{name:y}})},{leftIcon:lk(()=>[LAe(hc(dIe))]),default:lk(()=>[UAe(" "+tm(y),1)]),_:2},1032,["onClick"]))),128))])]),qo("div",sIe,[rIe,qo("dd",iIe,tm(((f=(p=hc(e))==null?void 0:p.spec)==null?void 0:f.bio)||"无"),1)]),qo("div",lIe,[cIe,qo("dd",uIe,tm(hc(Ma)((v=(g=hc(e))==null?void 0:g.metadata)==null?void 0:v.creationTimestamp)),1)]),zAe("",!0)])])}}}),vIe=window.Vue.defineComponent,yIe=window.Vue.resolveComponent,ys=window.Vue.createVNode,wi=window.Vue.withCtx,bi=window.Vue.unref,ze=window.Vue.createElementVNode,kV=window.Vue.createTextVNode,wIe=window.Vue.renderList,ck=window.Vue.Fragment,AV=window.Vue.openBlock,IV=window.Vue.createElementBlock,Jw=window.Vue.toDisplayString,bIe=ze("div",null,[ze("dl",{class:"divide-y divide-gray-100"},[ze("div",{class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[ze("dt",{class:"text-sm font-medium text-gray-900"}," Posts Management "),ze("dd",{class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},[ze("ul",{class:"space-y-2"},[ze("li",null,[ze("div",{class:"inline-flex w-72 cursor-pointer flex-row items-center gap-4 rounded border p-5 hover:border-primary"},[ze("input",{class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"}),ze("div",{class:"inline-flex flex-col gap-y-3"},[ze("span",{class:"font-medium text-gray-900"}," Posts Management "),ze("span",{class:"text-xs text-gray-400"}," 依赖于 Posts View ")])])]),ze("li",null,[ze("div",{class:"inline-flex w-72 cursor-pointer items-center gap-4 rounded border p-5 hover:border-primary"},[ze("input",{class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"}),ze("div",{class:"inline-flex flex-col gap-y-3"},[ze("span",{class:"font-medium text-gray-900"}," Posts View ")])])])])])]),ze("div",{class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[ze("dt",{class:"text-sm font-medium text-gray-900"}," Categories Management "),ze("dd",{class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},[ze("ul",{class:"space-y-2"},[ze("li",null,[ze("div",{class:"inline-flex w-72 cursor-pointer flex-row items-center gap-4 rounded border p-5 hover:border-primary"},[ze("input",{class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"}),ze("div",{class:"inline-flex flex-col gap-y-3"},[ze("span",{class:"font-medium text-gray-900"}," Categories Management "),ze("span",{class:"text-xs text-gray-400"}," 依赖于 Categories View ")])])]),ze("li",null,[ze("div",{class:"inline-flex w-72 cursor-pointer items-center gap-4 rounded border p-5 hover:border-primary"},[ze("input",{class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"}),ze("div",{class:"inline-flex flex-col gap-y-3"},[ze("span",{class:"font-medium text-gray-900"}," Categories View ")])])])])])]),ze("div",{class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[ze("dt",{class:"text-sm font-medium text-gray-900"},"Tags Management"),ze("dd",{class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},[ze("ul",{class:"space-y-2"},[ze("li",null,[ze("div",{class:"inline-flex w-72 cursor-pointer flex-row items-center gap-4 rounded border p-5 hover:border-primary"},[ze("input",{class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"}),ze("div",{class:"inline-flex flex-col gap-y-3"},[ze("span",{class:"font-medium text-gray-900"}," Tags Management "),ze("span",{class:"text-xs text-gray-400"}," 依赖于 Tags View ")])])]),ze("li",null,[ze("div",{class:"inline-flex w-72 cursor-pointer items-center gap-4 rounded border p-5 hover:border-primary"},[ze("input",{class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"}),ze("div",{class:"inline-flex flex-col gap-y-3"},[ze("span",{class:"font-medium text-gray-900"}," Tags View ")])])])])])]),ze("div",{class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[ze("dt",{class:"text-sm font-medium text-gray-900"}," Plugins Management "),ze("dd",{class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},[ze("ul",{class:"space-y-2"},[ze("li",null,[ze("div",{class:"inline-flex w-72 cursor-pointer flex-row items-center gap-4 rounded border p-5 hover:border-primary"},[ze("input",{class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"}),ze("div",{class:"inline-flex flex-col gap-y-3"},[ze("span",{class:"font-medium text-gray-900"}," Plugins Management "),ze("span",{class:"text-xs text-gray-400"}," 依赖于 Plugins View ")])])]),ze("li",null,[ze("div",{class:"inline-flex w-72 cursor-pointer items-center gap-4 rounded border p-5 hover:border-primary"},[ze("input",{class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox"}),ze("div",{class:"inline-flex flex-col gap-y-3"},[ze("span",{class:"font-medium text-gray-900"}," Plugins View ")])])])])])])])],-1),$Ie={class:"mt-5 flex justify-end"},xIe={class:"mt-5 box-border h-full w-full divide-y divide-gray-100",role:"list"},_Ie={class:"relative block cursor-pointer px-4 py-3 transition-all hover:bg-gray-50"},VIe={class:"relative flex flex-row items-center"},CIe={class:"flex-1"},SIe={class:"flex flex-row items-center"},PIe={class:"mr-2 truncate text-sm font-medium text-gray-900"},EIe={class:"mt-2 flex"},TIe={class:"text-xs text-gray-500"},RIe={class:"flex"},OIe={class:"inline-flex flex-col items-end gap-4 sm:flex-row sm:items-center sm:gap-6"},kIe={class:"flex flex-col gap-1"},AIe={class:"text-xs text-gray-500",datetime:"2020-01-07"},IIe={class:"text-xs text-gray-500",datetime:"2020-01-07"},MIe={class:"cursor-pointer hover:text-red-600"},FIe={class:"cursor-pointer hover:text-red-600"},DIe=window.HaloComponents.IconAddCircle,NIe=window.HaloComponents.IconDeleteBin,uk=window.HaloComponents.IconStopCircle,MV=window.HaloComponents.VButton,HIe=window.HaloComponents.VModal,BIe=window.HaloComponents.VSpace,dk=window.HaloComponents.VTabItem,LIe=window.HaloComponents.VTabs,UIe=window.Vue.onMounted,FV=window.Vue.ref,jIe=vIe({__name:"PersonalAccessTokens",setup(t){const e=FV(!1),n=FV("general"),o=FV([]),a=async()=>{try{const{data:s}=await X.extension.personalAccessToken.listv1alpha1PersonalAccessToken();o.value=s.items}catch(s){console.error(s)}};return UIe(()=>{a()}),(s,r)=>{const i=yIe("FormKit");return AV(),IV(ck,null,[ys(bi(HIe),{visible:e.value,"onUpdate:visible":r[1]||(r[1]=l=>e.value=l),width:720,title:"创建个人令牌"},{footer:wi(()=>[ys(bi(MV),{type:"secondary"},{default:wi(()=>[kV("创建")]),_:1})]),default:wi(()=>[ys(bi(LIe),{"active-id":n.value,"onUpdate:active-id":r[0]||(r[0]=l=>n.value=l),type:"outline"},{default:wi(()=>[ys(bi(dk),{id:"general",label:"基础信息"},{default:wi(()=>[ys(i,{id:"role-form",name:"role-form",actions:!1,type:"form"},{default:wi(()=>[ys(i,{label:"名称",type:"text",validation:"required"}),ys(i,{label:"失效日期",type:"text",validation:"required"})]),_:1})]),_:1}),ys(bi(dk),{id:"permissions",label:"权限"},{default:wi(()=>[bIe]),_:1})]),_:1},8,["active-id"])]),_:1},8,["visible"]),ze("div",$Ie,[ys(bi(BIe),null,{default:wi(()=>[ys(bi(MV),{size:"sm",type:"danger"},{icon:wi(()=>[ys(bi(uk),{class:"h-full w-full"})]),default:wi(()=>[kV(" 禁用所有 ")]),_:1}),ys(bi(MV),{type:"secondary",onClick:r[2]||(r[2]=l=>e.value=!0)},{icon:wi(()=>[ys(bi(DIe),{class:"h-full w-full"})]),default:wi(()=>[kV(" 创建 ")]),_:1})]),_:1})]),ze("ul",xIe,[(AV(!0),IV(ck,null,wIe(o.value,(l,c)=>{var u,d,p,f;return AV(),IV("li",{key:c},[ze("div",_Ie,[ze("div",VIe,[ze("div",CIe,[ze("div",SIe,[ze("span",PIe,Jw((u=l.spec)==null?void 0:u.displayName),1)]),ze("div",EIe,[ze("span",TIe,Jw((d=l.spec)==null?void 0:d.tokenDigest),1)])]),ze("div",RIe,[ze("div",OIe,[ze("div",kIe,[ze("time",AIe," 创建日期："+Jw((p=l.metadata)==null?void 0:p.creationTimestamp),1),ze("time",IIe," 失效日期："+Jw((f=l.spec)==null?void 0:f.expiresAt),1)]),ze("span",MIe,[ys(bi(uk))]),ze("span",FIe,[ys(bi(NIe))])])])])])])}),128))])],64)}}}),zIe=window.Vue.defineComponent,GIe=window.Vue.unref,pk=window.Vue.createVNode,WIe=window.Vue.createElementVNode,KIe=window.Vue.openBlock,YIe=window.Vue.createElementBlock,XIe={class:"flex h-screen flex-col items-center justify-center"},QIe={class:"login-form flex w-72 flex-col"},ZIe=window.Vue.onBeforeMount,JIe=zIe({__name:"Login",setup(t){const e=xl();ZIe(()=>{e.isAnonymous||Hd.push({name:"Dashboard"})});function n(){window.location.reload()}return(o,a)=>(KIe(),YIe("div",XIe,[pk(GIe(H4),{class:"mb-8"}),WIe("div",QIe,[pk(iI,{onSucceed:n})])]))}}),qIe=window.HaloComponents.IconUserSettings,eMe=window.Vue.markRaw,tMe={components:{UserStatsWidget:Jke},routes:[{path:"/login",name:"Login",component:JIe},{path:"/users",component:V2,children:[{path:"",component:Es,children:[{path:"",name:"Users",component:DAe,meta:{title:"用户",searchable:!0,permissions:["system:users:view"],menu:{name:"用户",group:"system",icon:eMe(qIe),priority:1,mobile:!0}}}]},{path:":name",component:Dke,name:"User",children:[{path:"detail",name:"UserDetail",component:gIe,meta:{title:"用户详情"}},{path:"tokens",name:"PersonalAccessTokens",component:jIe,meta:{title:"个人令牌"}}]}]}]},nMe=window.Vue.defineComponent,Mo=window.Vue.unref,bo=window.Vue.createElementVNode,hk=window.Vue.resolveComponent,qw=window.Vue.createVNode,nm=window.Vue.withCtx,bu=window.Vue.openBlock,DV=window.Vue.createBlock,eb=window.Vue.createCommentVNode,fk=window.Vue.renderList,mk=window.Vue.Fragment,om=window.Vue.createElementBlock,tb=window.Vue.toDisplayString,nb=window.Vue.createTextVNode,oMe=window.Vue.isRef,aMe=window.Vue.vModelCheckbox,sMe=window.Vue.withDirectives,rMe={class:"md:grid md:grid-cols-4 md:gap-6"},iMe=bo("div",{class:"md:col-span-1"},[bo("div",{class:"sticky top-0"},[bo("span",{class:"text-base font-medium text-gray-900"}," 基本信息 ")])],-1),lMe={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},cMe=bo("div",{class:"py-5"},[bo("div",{class:"border-t border-gray-200"})],-1),uMe={class:"md:grid md:grid-cols-4 md:gap-6"},dMe=bo("div",{class:"md:col-span-1"},[bo("div",{class:"sticky top-0"},[bo("span",{class:"text-base font-medium text-gray-900"}," 权限 ")])],-1),pMe={class:"mt-5 divide-y divide-gray-100 md:col-span-3 md:mt-0"},hMe={class:"divide-y divide-gray-100"},fMe={class:"text-sm font-medium text-gray-900"},mMe={key:0,class:"mt-3 text-xs text-gray-500"},gMe={class:"text-sm text-gray-900"},vMe={class:"space-y-2"},yMe={class:"inline-flex w-full cursor-pointer flex-row items-center gap-4 rounded-base border p-5 hover:border-primary"},wMe=["value"],bMe={class:"flex flex-1 flex-col gap-y-3"},$Me={class:"font-medium text-gray-900"},xMe={key:0,class:"text-xs text-gray-400"},_Me=window.HaloComponents.VButton,VMe=window.HaloComponents.VModal,CMe=window.HaloComponents.VSpace,SMe=window.Vue.computed,NV=window.Vue.watch,PMe=nMe({__name:"RoleEditingModal",props:{visible:{type:Boolean,default:!1},role:{default:void 0}},emits:["update:visible","close"],setup(t,{emit:e}){const n=t,{roleTemplateGroups:o,handleRoleTemplateSelect:a,selectedRoleTemplates:s}=fN(),{formState:r,isUpdateMode:i,initialFormState:l,saving:c,handleCreateOrUpdate:u}=hN();NV(()=>s.value,v=>{r.value.metadata.annotations&&(r.value.metadata.annotations[un.DEPENDENCIES]=JSON.stringify(Array.from(v)))}),NV(()=>n.visible,v=>{v?Ps("displayNameInput"):g()}),NV(()=>n.role,v=>{var y;if(v){r.value=ot(v);const w=(y=v.metadata.annotations)==null?void 0:y[un.DEPENDENCIES];w&&(s.value=new Set(JSON.parse(w)))}else g()});const d=SMe(()=>i.value?"编辑角色":"创建角色"),p=async()=>{try{await u(),f(!1)}catch(v){console.error(v)}},f=v=>{e("update:visible",v),v||e("close")},g=()=>{r.value=ot(l),s.value.clear(),tr("role-form")};return(v,y)=>{const w=hk("FormKit"),b=hk("RouterLink");return bu(),DV(Mo(VMe),{title:Mo(d),visible:t.visible,width:700,"onUpdate:visible":f},{footer:nm(()=>[qw(Mo(CMe),null,{default:nm(()=>[t.visible?(bu(),DV(Vl,{key:0,loading:Mo(c),type:"secondary",onSubmit:y[3]||(y[3]=C=>v.$formkit.submit("role-form"))},null,8,["loading"])):eb("",!0),qw(Mo(_Me),{onClick:y[4]||(y[4]=C=>f(!1))},{default:nm(()=>[nb("取消 Esc")]),_:1})]),_:1})]),default:nm(()=>[bo("div",null,[bo("div",rMe,[iMe,bo("div",lMe,[Mo(r).metadata.annotations?(bu(),DV(w,{key:0,id:"role-form",name:"role-form",actions:!1,type:"form",config:{validationVisibility:"submit"},onSubmit:p},{default:nm(()=>[qw(w,{id:"displayNameInput",modelValue:Mo(r).metadata.annotations[Mo(un).DISPLAY_NAME],"onUpdate:modelValue":y[0]||(y[0]=C=>Mo(r).metadata.annotations[Mo(un).DISPLAY_NAME]=C),label:"名称",type:"text",validation:"required|length:0,50"},null,8,["modelValue"])]),_:1})):eb("",!0)])]),cMe,bo("div",uMe,[dMe,bo("div",pMe,[bo("dl",hMe,[(bu(!0),om(mk,null,fk(Mo(o),(C,V)=>{var _,x;return bu(),om("div",{key:V,class:"flex flex-col gap-3 bg-white py-5 first:pt-0"},[bo("dt",fMe,[bo("div",null,tb(C.module),1),C.roles.length&&((_=C.roles[0].metadata.labels)!=null&&_[Mo(Ad).NAME])?(bu(),om("div",mMe,[nb(" 由 "),qw(b,{to:{name:"PluginDetail",params:{name:(x=C.roles[0].metadata.labels)==null?void 0:x[Mo(Ad).NAME]}},class:"hover:text-blue-600"},{default:nm(()=>{var S;return[nb(tb((S=C.roles[0].metadata.labels)==null?void 0:S[Mo(Ad).NAME]),1)]}),_:2},1032,["to"]),nb(" 插件提供 ")])):eb("",!0)]),bo("dd",gMe,[bo("ul",vMe,[(bu(!0),om(mk,null,fk(C.roles,(S,P)=>{var E,O,I;return bu(),om("li",{key:P},[bo("label",yMe,[sMe(bo("input",{"onUpdate:modelValue":y[1]||(y[1]=F=>oMe(s)?s.value=F:null),value:S.metadata.name,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",onChange:y[2]||(y[2]=(...F)=>Mo(a)&&Mo(a)(...F))},null,40,wMe),[[aMe,Mo(s)]]),bo("div",bMe,[bo("span",$Me,tb((E=S.metadata.annotations)==null?void 0:E[Mo(un).DISPLAY_NAME]),1),(O=S.metadata.annotations)!=null&&O[Mo(un).DEPENDENCIES]?(bu(),om("span",xMe," 依赖于 "+tb(JSON.parse((I=S.metadata.annotations)==null?void 0:I[Mo(un).DEPENDENCIES]).join(", ")),1)):eb("",!0)])])])}),128))])])])}),128))])])])])]),_:1},8,["title","visible"])}}}),N2="super-role",EMe=window.Vue.defineComponent,$i=window.Vue.createVNode,Eo=window.Vue.unref,pv=window.Vue.createTextVNode,HV=window.Vue.resolveDirective,Ra=window.Vue.withCtx,fc=window.Vue.openBlock,Jp=window.Vue.createBlock,hv=window.Vue.withDirectives,gk=window.Vue.resolveComponent,am=window.Vue.createElementVNode,BV=window.Vue.createElementBlock,fv=window.Vue.createCommentVNode,TMe=window.Vue.renderList,vk=window.Vue.Fragment,yk=window.Vue.toDisplayString,RMe=window.Vue.createSlots,OMe=window.Vue.Transition,kMe={class:"m-0 md:m-4"},AMe={class:"block w-full bg-gray-50 px-4 py-3"},IMe={class:"relative flex flex-col items-start sm:flex-row sm:items-center"},MMe={class:"flex w-full flex-1 sm:w-auto"},FMe={class:"box-border h-full w-full divide-y divide-gray-100",role:"list"},DMe={class:"truncate text-xs tabular-nums text-gray-500"},NMe=window.Vue.computed,LV=window.Vue.ref,HMe=window.Vue.watch,BMe=window.HaloComponents.IconAddCircle;window.HaloComponents.IconArrowDown;const LMe=window.HaloComponents.IconShieldUser,UMe=window.HaloComponents.Dialog,ob=window.HaloComponents.VButton,jMe=window.HaloComponents.VCard,zMe=window.HaloComponents.VPageHeader;window.HaloComponents.VSpace;const GMe=window.HaloComponents.VTag,WMe=window.HaloComponents.VStatusDot,KMe=window.HaloComponents.VEntity,ab=window.HaloComponents.VEntityField,YMe=window.HaloComponents.VLoading,XMe=window.HaloComponents.Toast,QMe=EMe({__name:"RoleList",setup(t){const{currentUserHasPermission:e}=To(),n=LV(!1),o=LV(),{roles:a,handleFetchRoles:s,loading:r}=pN();let i;HMe(()=>a.value,y=>{i=new Wr(y,{keys:["spec.displayName","metadata.name"],useExtendedSearch:!0})});const l=LV(""),c=NMe(()=>!i||!l.value?a.value:i==null?void 0:i.search(l.value).map(y=>y.item)),u=y=>{var w;return((w=y.metadata.labels)==null?void 0:w[vh.SYSTEM_RESERVED])==="true"},d=y=>{var b;return y.metadata.name===N2?"包含所有权限":`包含 ${JSON.parse(((b=y.metadata.annotations)==null?void 0:b[un.DEPENDENCIES])||"[]").length} 个权限`},p=y=>{o.value=y,n.value=!0},f=()=>{o.value=void 0,s()},g=async y=>{var b;const w=ot(y);if(w.metadata.name="",w.metadata.generateName="role-",w.metadata.creationTimestamp=void 0,(b=w.metadata.labels)==null||delete b[vh.SYSTEM_RESERVED],y.metadata.name===N2){const{data:C}=await X.extension.role.listv1alpha1Role({page:0,size:0,labelSelector:[`${vh.TEMPLATE}=true`,"!halo.run/hidden"]}),V=C.items.map(_=>_.metadata.name);w.metadata.annotations?w.metadata.annotations[un.DEPENDENCIES]=JSON.stringify(V):w.metadata.annotations={[un.DEPENDENCIES]:JSON.stringify(V)}}o.value=w,n.value=!0},v=async y=>{UMe.warning({title:"确定要删除该角色吗？",description:"该角色删除后，相关联的用户将被删除角色绑定，该操作不可恢复",confirmType:"danger",onConfirm:async()=>{try{await X.extension.role.deletev1alpha1Role({name:y.metadata.name}),XMe.success("删除成功")}catch(w){console.error("Failed to delete role",w)}finally{s()}}})};return(y,w)=>{const b=gk("FormKit");gk("FloatingDropdown");const C=HV("permission"),V=HV("close-popper"),_=HV("tooltip");return fc(),BV(vk,null,[$i(PMe,{visible:n.value,"onUpdate:visible":w[0]||(w[0]=x=>n.value=x),role:o.value,onClose:f},null,8,["visible","role"]),$i(Eo(zMe),{title:"角色"},{icon:Ra(()=>[$i(Eo(LMe),{class:"mr-2 self-center"})]),actions:Ra(()=>[hv((fc(),Jp(Eo(ob),{type:"secondary",onClick:w[1]||(w[1]=x=>n.value=!0)},{icon:Ra(()=>[$i(Eo(BMe),{class:"h-full w-full"})]),default:Ra(()=>[pv(" 新建角色 ")]),_:1})),[[C,["system:roles:manage"]]])]),_:1}),am("div",kMe,[$i(Eo(jMe),{"body-class":["!p-0"]},{header:Ra(()=>[am("div",AMe,[am("div",IMe,[am("div",MMe,[$i(b,{modelValue:l.value,"onUpdate:modelValue":w[2]||(w[2]=x=>l.value=x),placeholder:"输入关键词搜索",type:"text"},null,8,["modelValue"])]),fv("",!0)])])]),default:Ra(()=>[Eo(r)?(fc(),Jp(Eo(YMe),{key:0})):(fc(),Jp(OMe,{key:1,appear:"",name:"fade"},{default:Ra(()=>[am("ul",FMe,[(fc(!0),BV(vk,null,TMe(Eo(c),(x,S)=>(fc(),BV("li",{key:S},[$i(Eo(KMe),null,RMe({start:Ra(()=>{var P;return[$i(Eo(ab),{title:((P=x.metadata.annotations)==null?void 0:P[Eo(un).DISPLAY_NAME])||x.metadata.name,description:d(x),route:{name:"RoleDetail",params:{name:x.metadata.name}}},null,8,["title","description","route"])]}),end:Ra(()=>[fv("",!0),$i(Eo(ab),null,{description:Ra(()=>[$i(Eo(GMe),null,{default:Ra(()=>[pv(yk(u(x)?"系统保留":"自定义"),1)]),_:2},1024)]),_:2},1024),x.metadata.deletionTimestamp?(fc(),Jp(Eo(ab),{key:1},{description:Ra(()=>[hv($i(Eo(WMe),{state:"warning",animate:""},null,512),[[_,"删除中"]])]),_:1})):fv("",!0),$i(Eo(ab),null,{description:Ra(()=>[am("span",DMe,yk(Eo(Ma)(x.metadata.creationTimestamp)),1)]),_:2},1024)]),_:2},[Eo(e)(["system:roles:manage"])?{name:"dropdownItems",fn:Ra(()=>[u(x)?fv("",!0):hv((fc(),Jp(Eo(ob),{key:0,block:"",type:"secondary",onClick:P=>p(x)},{default:Ra(()=>[pv(" 编辑 ")]),_:2},1032,["onClick"])),[[V]]),u(x)?fv("",!0):hv((fc(),Jp(Eo(ob),{key:1,block:"",type:"danger",onClick:P=>v(x)},{default:Ra(()=>[pv(" 删除 ")]),_:2},1032,["onClick"])),[[V]]),hv((fc(),Jp(Eo(ob),{block:"",onClick:P=>g(x)},{default:Ra(()=>[pv(" 基于此角色创建 ")]),_:2},1032,["onClick"])),[[V]])]),key:"0"}:void 0]),1024)]))),128))])]),_:1}))]),_:1})])],64)}}}),ZMe=window.Vue.defineComponent,mn=window.Vue.unref,pd=window.Vue.createVNode,sm=window.Vue.withCtx,Fn=window.Vue.createElementVNode,$u=window.Vue.toDisplayString,mv=window.Vue.createTextVNode,Cr=window.Vue.openBlock,Sr=window.Vue.createElementBlock,qp=window.Vue.createCommentVNode,wk=window.Vue.renderList,UV=window.Vue.Fragment,JMe=window.Vue.resolveComponent;window.Vue.createBlock;const qMe=window.Vue.isRef,eFe=window.Vue.vModelCheckbox,bk=window.Vue.withDirectives,tFe=window.Vue.resolveDirective,nFe={class:"m-0 md:m-4"},oFe={key:0},aFe={class:"px-4 py-4 sm:px-6"},sFe=Fn("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"权限信息",-1),rFe={class:"mt-1 flex max-w-2xl items-center gap-2 text-sm text-gray-500"},iFe={class:"border-t border-gray-200"},lFe={class:"divide-y divide-gray-100"},cFe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},uFe=Fn("dt",{class:"text-sm font-medium text-gray-900"},"名称",-1),dFe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},pFe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},hFe=Fn("dt",{class:"text-sm font-medium text-gray-900"},"别名",-1),fFe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},mFe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},gFe=Fn("dt",{class:"text-sm font-medium text-gray-900"},"类型",-1),vFe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},yFe={class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},wFe=Fn("dt",{class:"text-sm font-medium text-gray-900"},"创建时间",-1),bFe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},$Fe={key:1},xFe={key:0,class:"px-4 py-5"},_Fe={class:"divide-y divide-gray-100"},VFe={class:"text-sm font-medium text-gray-900"},CFe={key:0,class:"mt-3 text-xs text-gray-500"},SFe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},PFe={class:"space-y-2"},EFe={class:"inline-flex w-72 cursor-pointer flex-row items-center gap-4 rounded-base border p-5 hover:border-primary"},TFe=["value","disabled"],RFe={key:1,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",checked:"",disabled:""},OFe={class:"flex flex-1 flex-col gap-y-3"},kFe={class:"font-medium text-gray-900"},AFe={key:0,class:"text-xs text-gray-400"},IFe={class:"p-4"};window.HaloComponents.IconArrowRight;const MFe=window.HaloComponents.IconShieldUser,FFe=window.HaloComponents.VButton,DFe=window.HaloComponents.VCard,NFe=window.HaloComponents.VPageHeader,HFe=window.HaloComponents.VTabbar,BFe=window.HaloComponents.VTag;window.HaloComponents.VAvatar;const LFe=window.HaloComponents.VAlert,UFe=window.VueRouter.useRoute,jV=window.Vue.computed,jFe=window.Vue.onMounted,zFe=window.Vue.ref,GFe=window.Vue.watch,WFe=ZMe({__name:"RoleDetail",setup(t){const e=UFe(),n=zFe("detail"),{roleTemplateGroups:o,handleRoleTemplateSelect:a,selectedRoleTemplates:s}=fN(),{formState:r,saving:i,handleCreateOrUpdate:l}=hN();eD({fetchOnMounted:!1});const c=jV(()=>{var g;return((g=r.value.metadata.labels)==null?void 0:g[vh.SYSTEM_RESERVED])==="true"}),u=jV(()=>r.value.metadata.name===N2),d=jV(()=>{var v;return r.value.metadata.name===N2?"包含所有权限":`包含 ${JSON.parse(((v=r.value.metadata.annotations)==null?void 0:v[un.DEPENDENCIES])||"[]").length} 个权限`});GFe(()=>s.value,g=>{r.value.metadata.annotations&&(r.value.metadata.annotations[un.DEPENDENCIES]=JSON.stringify(Array.from(g)))});const p=async()=>{var g;try{const v=await X.extension.role.getv1alpha1Role({name:e.params.name});r.value=v.data,s.value=new Set(JSON.parse(((g=v.data.metadata.annotations)==null?void 0:g[un.DEPENDENCIES])||"[]"))}catch(v){console.error(v)}},f=async()=>{await l(),await p()};return jFe(()=>{p()}),(g,v)=>{var b,C,V;const y=JMe("RouterLink"),w=tFe("permission");return Cr(),Sr(UV,null,[pd(mn(NFe),{title:`角色：${((C=(b=mn(r).metadata)==null?void 0:b.annotations)==null?void 0:C[mn(un).DISPLAY_NAME])||((V=mn(r).metadata)==null?void 0:V.name)}`},{icon:sm(()=>[pd(mn(MFe),{class:"mr-2 self-center"})]),_:1},8,["title"]),Fn("div",nFe,[pd(mn(DFe),{"body-class":["!p-0"]},{header:sm(()=>[pd(mn(HFe),{"active-id":n.value,"onUpdate:active-id":v[0]||(v[0]=_=>n.value=_),items:[{id:"detail",label:"详情"},{id:"permissions",label:"权限设置"}],class:"w-full !rounded-none",type:"outline"},null,8,["active-id"])]),default:sm(()=>{var _,x,S,P,E;return[n.value==="detail"?(Cr(),Sr("div",oFe,[Fn("div",aFe,[sFe,Fn("p",rFe,[Fn("span",null,$u(mn(d)),1)])]),Fn("div",iFe,[Fn("dl",lFe,[Fn("div",cFe,[uFe,Fn("dd",dFe,$u(((x=(_=mn(r).metadata)==null?void 0:_.annotations)==null?void 0:x[mn(un).DISPLAY_NAME])||((S=mn(r).metadata)==null?void 0:S.name)),1)]),Fn("div",pFe,[hFe,Fn("dd",fFe,$u((P=mn(r).metadata)==null?void 0:P.name),1)]),Fn("div",mFe,[gFe,Fn("dd",vFe,[pd(mn(BFe),null,{default:sm(()=>[mv($u(mn(c)?"系统保留":"自定义"),1)]),_:1})])]),qp("",!0),Fn("div",yFe,[wFe,Fn("dd",bFe,$u((E=mn(r).metadata)==null?void 0:E.creationTimestamp),1)]),qp("",!0)])])])):qp("",!0),n.value==="permissions"?(Cr(),Sr("div",$Fe,[mn(c)?(Cr(),Sr("div",xFe,[pd(mn(LFe),{title:"提示",description:"系统保留的角色不支持修改，推荐基于此角色创建一个新的角色。",class:"w-full sm:w-1/4"})])):qp("",!0),Fn("div",null,[Fn("dl",_Fe,[(Cr(!0),Sr(UV,null,wk(mn(o),(O,I)=>{var F,L;return Cr(),Sr("div",{key:I,class:"bg-white px-4 py-5 hover:bg-gray-50 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[Fn("dt",VFe,[Fn("div",null,$u(O.module),1),O.roles.length&&((F=O.roles[0].metadata.labels)!=null&&F[mn(Ad).NAME])?(Cr(),Sr("div",CFe,[mv(" 由 "),pd(y,{to:{name:"PluginDetail",params:{name:(L=O.roles[0].metadata.labels)==null?void 0:L[mn(Ad).NAME]}},class:"hover:text-blue-600"},{default:sm(()=>{var H;return[mv($u((H=O.roles[0].metadata.labels)==null?void 0:H[mn(Ad).NAME]),1)]}),_:2},1032,["to"]),mv(" 插件提供 ")])):qp("",!0)]),Fn("dd",SFe,[Fn("ul",PFe,[(Cr(!0),Sr(UV,null,wk(O.roles,(H,W)=>{var Y,U,q;return Cr(),Sr("li",{key:W},[Fn("label",EFe,[mn(u)?(Cr(),Sr("input",RFe)):bk((Cr(),Sr("input",{key:0,"onUpdate:modelValue":v[1]||(v[1]=ye=>qMe(s)?s.value=ye:null),value:H.metadata.name,class:"h-4 w-4 rounded border-gray-300 text-indigo-600",type:"checkbox",disabled:mn(c),onChange:v[2]||(v[2]=(...ye)=>mn(a)&&mn(a)(...ye))},null,40,TFe)),[[eFe,mn(s)]]),Fn("div",OFe,[Fn("span",kFe,$u((Y=H.metadata.annotations)==null?void 0:Y[mn(un).DISPLAY_NAME]),1),(U=H.metadata.annotations)!=null&&U[mn(un).DEPENDENCIES]?(Cr(),Sr("span",AFe," 依赖于 "+$u(JSON.parse((q=H.metadata.annotations)==null?void 0:q[mn(un).DEPENDENCIES]).join(", ")),1)):qp("",!0)])])])}),128))])])])}),128))]),bk((Cr(),Sr("div",IFe,[pd(mn(FFe),{loading:mn(i),type:"secondary",disabled:mn(c),onClick:f},{default:sm(()=>[mv(" 保存 ")]),_:1},8,["loading","disabled"])])),[[w,["system:roles:manage"]]])])])):qp("",!0)]}),_:1})])],64)}}}),KFe={components:{},routes:[{path:"/users",component:Es,children:[{path:"roles",name:"Roles",component:QMe,meta:{title:"角色",searchable:!0,permissions:["system:roles:view"]}},{path:"roles/:name",name:"RoleDetail",component:WFe,meta:{title:"角色详情",permissions:["system:roles:view"]}}]}]},YFe=window.Vue.defineComponent,gv=window.Vue.unref,vv=window.Vue.createVNode,rm=window.Vue.withCtx,XFe=window.Vue.resolveDynamicComponent,sb=window.Vue.openBlock,rb=window.Vue.createBlock,QFe=window.Vue.Suspense,ZFe=window.Vue.createCommentVNode,JFe=window.Vue.resolveComponent,$k=window.Vue.createElementVNode,qFe={class:"m-0 md:m-4"},eDe={class:"bg-white"},tDe=window.Vue.nextTick,nDe=window.Vue.onMounted,ib=window.Vue.ref,oDe=window.Vue.watch,aDe=window.VueRouter.useRoute,sDe=window.VueRouter.useRouter,rDe=window.HaloComponents.VCard,iDe=window.HaloComponents.VPageHeader,lDe=window.HaloComponents.VTabbar,cDe=window.HaloComponents.IconSettings,uDe=window.HaloComponents.VLoading,dDe=YFe({__name:"SystemSettingsLayout",setup(t){const e=ib([]),n=ib(""),{setting:o,handleFetchSettings:a}=Nu(ib("system"),ib("system")),s=aDe(),r=sDe(),i=c=>{const u=e.value.find(d=>d.id===c);u&&(n.value=u.id,r.push(u.route))};nDe(async()=>{if(await a(),o.value){const{forms:c}=o.value.spec;e.value=c.map(u=>({id:u.group,label:u.label||"",route:{name:"SystemSetting",params:{group:u.group}}}))}await tDe(),l()});const l=()=>{const c=e.value.find(u=>{var d;return u.route.name===s.name&&((d=u.route.params)==null?void 0:d.group)===s.params.group});if(c){n.value=c.id;return}n.value=e.value[0].id};return oDe([()=>s.name,()=>s.params],async()=>{l()}),(c,u)=>{const d=JFe("RouterView");return sb(),rb(Es,null,{default:rm(()=>[vv(gv(iDe),{title:"设置"},{icon:rm(()=>[vv(gv(cDe),{class:"mr-2 self-center"})]),_:1}),$k("div",qFe,[vv(gv(rDe),{"body-class":["!p-0"]},{header:rm(()=>[vv(gv(lDe),{"active-id":n.value,"onUpdate:active-id":u[0]||(u[0]=p=>n.value=p),items:e.value,class:"w-full !rounded-none",type:"outline",onChange:i},null,8,["active-id","items"])]),_:1}),$k("div",eDe,[(sb(),rb(d,{key:n.value},{default:rm(({Component:p})=>[p?(sb(),rb(QFe,{key:0},{fallback:rm(()=>[vv(gv(uDe))]),default:rm(()=>[(sb(),rb(XFe(p)))]),_:2},1024)):ZFe("",!0)]),_:1}))])])]),_:1})}}}),xk=window.Vue.withAsyncContext,pDe=window.Vue.defineComponent,ws=window.Vue.unref,_k=window.Vue.resolveComponent,Vk=window.Vue.createVNode,zV=window.Vue.withCtx,GV=window.Vue.openBlock,Ck=window.Vue.createBlock,hDe=window.Vue.createCommentVNode,WV=window.Vue.createElementVNode,fDe=window.Vue.createTextVNode,mDe=window.Vue.resolveDirective,gDe=window.Vue.createElementBlock,vDe=window.Vue.withDirectives,yDe=window.Vue.Transition,wDe={class:"bg-white p-4"},bDe={class:"pt-5"},$De={class:"flex justify-start"},xDe=window.Vue.computed,Sk=window.Vue.ref,_De=window.HaloComponents.VButton,VDe=window.VueUse.useRouteParams,CDe=pDe({__name:"SystemSetting",async setup(t){let e,n;const o=VDe("group"),{setting:a,configMapFormData:s,saving:r,handleFetchConfigMap:i,handleFetchSettings:l,handleSaveConfigMap:c}=Nu(Sk("system"),Sk("system")),u=xDe(()=>{var f;if(a.value)return(f=a.value.spec.forms.find(g=>g.group===(o==null?void 0:o.value)))==null?void 0:f.formSchema}),d=N4(),p=async()=>{await c(),await d.fetchSystemConfigMap()};return[e,n]=xk(()=>l()),await e,n(),[e,n]=xk(()=>i()),await e,n(),(f,g)=>{const v=_k("FormKitSchema"),y=_k("FormKit"),w=mDe("permission");return GV(),Ck(yDe,{mode:"out-in",name:"fade"},{default:zV(()=>[WV("div",wDe,[WV("div",null,[ws(o)&&ws(u)&&ws(s)?(GV(),Ck(y,{key:0,id:ws(o),modelValue:ws(s)[ws(o)],"onUpdate:modelValue":g[0]||(g[0]=b=>ws(s)[ws(o)]=b),name:ws(o),actions:!1,preserve:!0,type:"form",onSubmit:p},{default:zV(()=>[Vk(v,{schema:ws(u),data:ws(s)[ws(o)]},null,8,["schema","data"])]),_:1},8,["id","modelValue","name"])):hDe("",!0)]),vDe((GV(),gDe("div",bDe,[WV("div",$De,[Vk(ws(_De),{loading:ws(r),type:"secondary",onClick:g[1]||(g[1]=b=>f.$formkit.submit(ws(o)||""))},{default:zV(()=>[fDe(" 保存 ")]),_:1},8,["loading"])])])),[[w,["system:configmaps:manage"]]])])]),_:1})}}}),SDe=window.HaloComponents.IconSettings,PDe=window.Vue.markRaw,EDe={components:{},routes:[{path:"/settings",component:dDe,redirect:"/settings/basic",meta:{title:"系统设置",permissions:["system:settings:view"],menu:{name:"设置",group:"system",icon:PDe(SDe),priority:2}},children:[{path:":group",name:"SystemSetting",component:CDe}]}]},TDe=[$_e,HOe,EDe,Dve,JEe,s8e,z6e,lCe,y9e,tMe,KFe],RDe=window.Vue.createApp,ODe=window.HaloComponents.Toast,kDe=window.VueUse.useScriptTag,Lm=RDe(bj);W1e(Lm);Lm.use(MB());function mN(t,e){if(t.components&&Object.keys(t.components).forEach(o=>{var s;const a=(s=t.components)==null?void 0:s[o];a&&Lm.component(o,a)}),t.routes){if(!Array.isArray(t.routes))return;n(t.routes);for(const o of t.routes)"parentName"in o?Hd.addRoute(o.parentName,o.route):Hd.addRoute(o)}function n(o){var a,s;for(const r of o)"parentName"in r?((a=r.route.meta)!=null&&a.menu&&(r.route.meta={...r.route.meta,core:e}),r.route.children&&n(r.route.children)):((s=r.meta)!=null&&s.menu&&(r.meta={...r.meta,core:e}),r.children&&n(r.children))}}function ADe(){TDe.forEach(t=>{mN(t,!0)})}const IDe=PS();function MDe(t){return new Promise(function(e,n){let o=!1,a=document.querySelector('script[src="'+t+'"]');if(!a)a=document.createElement("link"),a.rel="stylesheet",a.type="text/css",a.href=t,o=!0;else if(a.hasAttribute("data-loaded")){e(a);return}a.addEventListener("error",n),a.addEventListener("abort",n),a.addEventListener("load",function(){a==null||a.setAttribute("data-loaded","true"),e(a)}),o&&document.head.prepend(a)})}const lb=[];async function FDe(){var n;const{data:t}=await X.plugin.listPlugins({enabled:!0,page:0,size:0},{mute:!0}),e=t.items.filter(o=>{var r;const{entry:a,stylesheet:s}=o.status||{};return((r=o.status)==null?void 0:r.phase)==="STARTED"&&(!!a||!!s)});for(const o of e){const{entry:a,stylesheet:s}=o.status||{entry:"",stylesheet:""};if(a)try{const{load:r}=kDe(`${(n=o.status)==null?void 0:n.entry}`);await r();const i=window[o.metadata.name];i&&(mN(i,!1),IDe.registerPluginModule({...i,extension:o}))}catch(r){const i=`${o.metadata.name}: 加载插件入口文件失败`;console.error(i,r),lb.push(i)}if(s)try{await MDe(`${s}`)}catch(r){const i=`${o.metadata.name}: 加载插件样式文件失败`;console.error(i,r),lb.push(i)}}lb.length>0&&lb.forEach(o=>{ODe.error(o)})}async function DDe(){const{data:t}=await X.user.getPermissions({name:"-"});X2().$patch({permissions:t}),Lm.directive("permission",(n,o)=>{const a=Array.from(t.uiPermissions),{value:s}=o,{any:r,enable:i}=o.modifiers;Q2(a,s,r)||(i?n.style.backgroundColor="red":n.remove())})}async function NDe(){await Th().fetchActivatedTheme()}(async function(){await HDe()})();async function HDe(){const t=localStorage.getItem("theme");t&&document.body.classList.add(t);try{ADe();const e=xl();if(await e.fetchCurrentUser(),e.isAnonymous)return;await DDe();try{await FDe()}catch(a){console.error("Failed to load plugins",a)}const n=Kb();await n.fetchSystemStates(),await N4().fetchSystemConfigMap(),n.states.isSetup&&await NDe()}catch(e){console.error(e)}finally{Lm.use(Hd),Lm.mount("#app")}}export{$F as _,Ee as a,bn as c,Ma as f,wn as o,ZDe as u};
